(()=>{var s0e=Object.create;var Sx=Object.defineProperty,l0e=Object.defineProperties,u0e=Object.getOwnPropertyDescriptor,c0e=Object.getOwnPropertyDescriptors,f0e=Object.getOwnPropertyNames,R5=Object.getOwnPropertySymbols,h0e=Object.getPrototypeOf,F5=Object.prototype.hasOwnProperty,d0e=Object.prototype.propertyIsEnumerable;var UD=(r,e,t)=>e in r?Sx(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cf=(r,e)=>{for(var t in e||(e={}))F5.call(e,t)&&UD(r,t,e[t]);if(R5)for(var t of R5(e))d0e.call(e,t)&&UD(r,t,e[t]);return r},gm=(r,e)=>l0e(r,c0e(e)),p0e=r=>Sx(r,"__esModule",{value:!0});var q5=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var He=(r,e)=>()=>(r&&(e=r(r=0)),e);var fe=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),z5=(r,e)=>{for(var t in e)Sx(r,t,{get:e[t],enumerable:!0})},m0e=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of f0e(e))!F5.call(r,i)&&(t||i!=="default")&&Sx(r,i,{get:()=>e[i],enumerable:!(n=u0e(e,i))||n.enumerable});return r},So=(r,e)=>m0e(p0e(Sx(r!=null?s0e(h0e(r)):{},"default",!e&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Tr=(r,e,t)=>(UD(r,typeof e!="symbol"?e+"":e,t),t);var Fg=(r,e,t)=>new Promise((n,i)=>{var a=b=>{try{h(t.next(b))}catch(S){i(S)}},l=b=>{try{h(t.throw(b))}catch(S){i(S)}},h=b=>b.done?n(b.value):Promise.resolve(b.value).then(a,l);h((t=t.apply(r,e)).next())});var mr=fe((Jlt,N5)=>{var NS=function(r){return r&&r.Math==Math&&r};N5.exports=NS(typeof globalThis=="object"&&globalThis)||NS(typeof window=="object"&&window)||NS(typeof self=="object"&&self)||NS(typeof global=="object"&&global)||function(){return this}()||Function("return this")()});var jr=fe((Qlt,B5)=>{B5.exports=function(r){try{return!!r()}catch{return!0}}});var pi=fe((eut,j5)=>{var g0e=jr();j5.exports=!g0e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var Py=fe((tut,U5)=>{var v0e=jr();U5.exports=!v0e(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")})});var io=fe((rut,H5)=>{var y0e=Py(),BS=Function.prototype.call;H5.exports=y0e?BS.bind(BS):function(){return BS.apply(BS,arguments)}});var kx=fe($5=>{"use strict";var W5={}.propertyIsEnumerable,V5=Object.getOwnPropertyDescriptor,b0e=V5&&!W5.call({1:2},1);$5.f=b0e?function(e){var t=V5(this,e);return!!t&&t.enumerable}:W5});var Yc=fe((iut,G5)=>{G5.exports=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}}});var Wr=fe((out,Z5)=>{var K5=Py(),Y5=Function.prototype,x0e=Y5.bind,HD=Y5.call,_0e=K5&&x0e.bind(HD,HD);Z5.exports=K5?function(r){return r&&_0e(r)}:function(r){return r&&function(){return HD.apply(r,arguments)}}});var hc=fe((aut,J5)=>{var X5=Wr(),w0e=X5({}.toString),S0e=X5("".slice);J5.exports=function(r){return S0e(w0e(r),8,-1)}});var Ly=fe((sut,Q5)=>{var k0e=mr(),C0e=Wr(),E0e=jr(),T0e=hc(),WD=k0e.Object,A0e=C0e("".split);Q5.exports=E0e(function(){return!WD("z").propertyIsEnumerable(0)})?function(r){return T0e(r)=="String"?A0e(r,""):WD(r)}:WD});var tl=fe((lut,e4)=>{var D0e=mr(),O0e=D0e.TypeError;e4.exports=function(r){if(r==null)throw O0e("Can't call method on "+r);return r}});var Bu=fe((uut,t4)=>{var I0e=Ly(),M0e=tl();t4.exports=function(r){return I0e(M0e(r))}});var Gi=fe((cut,r4)=>{r4.exports=function(r){return typeof r=="function"}});var Ei=fe((fut,n4)=>{var P0e=Gi();n4.exports=function(r){return typeof r=="object"?r!==null:P0e(r)}});var Ra=fe((hut,i4)=>{var VD=mr(),L0e=Gi(),R0e=function(r){return L0e(r)?r:void 0};i4.exports=function(r,e){return arguments.length<2?R0e(VD[r]):VD[r]&&VD[r][e]}});var dc=fe((dut,o4)=>{var F0e=Wr();o4.exports=F0e({}.isPrototypeOf)});var od=fe((put,a4)=>{var q0e=Ra();a4.exports=q0e("navigator","userAgent")||""});var lp=fe((mut,h4)=>{var f4=mr(),$D=od(),s4=f4.process,l4=f4.Deno,u4=s4&&s4.versions||l4&&l4.version,c4=u4&&u4.v8,ph,jS;c4&&(ph=c4.split("."),jS=ph[0]>0&&ph[0]<4?1:+(ph[0]+ph[1]));!jS&&$D&&(ph=$D.match(/Edge\/(\d+)/),(!ph||ph[1]>=74)&&(ph=$D.match(/Chrome\/(\d+)/),ph&&(jS=+ph[1])));h4.exports=jS});var US=fe((gut,p4)=>{var d4=lp(),z0e=jr();p4.exports=!!Object.getOwnPropertySymbols&&!z0e(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&d4&&d4<41})});var GD=fe((vut,m4)=>{var N0e=US();m4.exports=N0e&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var qg=fe((yut,g4)=>{var B0e=mr(),j0e=Ra(),U0e=Gi(),H0e=dc(),W0e=GD(),V0e=B0e.Object;g4.exports=W0e?function(r){return typeof r=="symbol"}:function(r){var e=j0e("Symbol");return U0e(e)&&H0e(e.prototype,V0e(r))}});var Ry=fe((but,v4)=>{var $0e=mr(),G0e=$0e.String;v4.exports=function(r){try{return G0e(r)}catch{return"Object"}}});var Wl=fe((xut,y4)=>{var K0e=mr(),Y0e=Gi(),Z0e=Ry(),X0e=K0e.TypeError;y4.exports=function(r){if(Y0e(r))return r;throw X0e(Z0e(r)+" is not a function")}});var ad=fe((_ut,b4)=>{var J0e=Wl();b4.exports=function(r,e){var t=r[e];return t==null?void 0:J0e(t)}});var XD=fe((wut,x4)=>{var Q0e=mr(),KD=io(),YD=Gi(),ZD=Ei(),exe=Q0e.TypeError;x4.exports=function(r,e){var t,n;if(e==="string"&&YD(t=r.toString)&&!ZD(n=KD(t,r))||YD(t=r.valueOf)&&!ZD(n=KD(t,r))||e!=="string"&&YD(t=r.toString)&&!ZD(n=KD(t,r)))return n;throw exe("Can't convert object to primitive value")}});var wl=fe((Sut,_4)=>{_4.exports=!1});var HS=fe((kut,S4)=>{var w4=mr(),txe=Object.defineProperty;S4.exports=function(r,e){try{txe(w4,r,{value:e,configurable:!0,writable:!0})}catch{w4[r]=e}return e}});var WS=fe((Cut,C4)=>{var rxe=mr(),nxe=HS(),k4="__core-js_shared__",ixe=rxe[k4]||nxe(k4,{});C4.exports=ixe});var Cx=fe((Eut,T4)=>{var oxe=wl(),E4=WS();(T4.exports=function(r,e){return E4[r]||(E4[r]=e!==void 0?e:{})})("versions",[]).push({version:"3.21.0",mode:oxe?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var zo=fe((Tut,A4)=>{var axe=mr(),sxe=tl(),lxe=axe.Object;A4.exports=function(r){return lxe(sxe(r))}});var oo=fe((Aut,D4)=>{var uxe=Wr(),cxe=zo(),fxe=uxe({}.hasOwnProperty);D4.exports=Object.hasOwn||function(e,t){return fxe(cxe(e),t)}});var zg=fe((Dut,O4)=>{var hxe=Wr(),dxe=0,pxe=Math.random(),mxe=hxe(1 .toString);O4.exports=function(r){return"Symbol("+(r===void 0?"":r)+")_"+mxe(++dxe+pxe,36)}});var Mi=fe((Out,R4)=>{var gxe=mr(),vxe=Cx(),I4=oo(),yxe=zg(),M4=US(),L4=GD(),Fy=vxe("wks"),Ng=gxe.Symbol,P4=Ng&&Ng.for,bxe=L4?Ng:Ng&&Ng.withoutSetter||yxe;R4.exports=function(r){if(!I4(Fy,r)||!(M4||typeof Fy[r]=="string")){var e="Symbol."+r;M4&&I4(Ng,r)?Fy[r]=Ng[r]:L4&&P4?Fy[r]=P4(e):Fy[r]=bxe(e)}return Fy[r]}});var VS=fe((Iut,z4)=>{var xxe=mr(),_xe=io(),F4=Ei(),q4=qg(),wxe=ad(),Sxe=XD(),kxe=Mi(),Cxe=xxe.TypeError,Exe=kxe("toPrimitive");z4.exports=function(r,e){if(!F4(r)||q4(r))return r;var t=wxe(r,Exe),n;if(t){if(e===void 0&&(e="default"),n=_xe(t,r,e),!F4(n)||q4(n))return n;throw Cxe("Can't convert object to primitive value")}return e===void 0&&(e="number"),Sxe(r,e)}});var up=fe((Mut,N4)=>{var Txe=VS(),Axe=qg();N4.exports=function(r){var e=Txe(r,"string");return Axe(e)?e:e+""}});var Ex=fe((Put,j4)=>{var Dxe=mr(),B4=Ei(),JD=Dxe.document,Oxe=B4(JD)&&B4(JD.createElement);j4.exports=function(r){return Oxe?JD.createElement(r):{}}});var QD=fe((Lut,U4)=>{var Ixe=pi(),Mxe=jr(),Pxe=Ex();U4.exports=!Ixe&&!Mxe(function(){return Object.defineProperty(Pxe("div"),"a",{get:function(){return 7}}).a!=7})});var Vl=fe(W4=>{var Lxe=pi(),Rxe=io(),Fxe=kx(),qxe=Yc(),zxe=Bu(),Nxe=up(),Bxe=oo(),jxe=QD(),H4=Object.getOwnPropertyDescriptor;W4.f=Lxe?H4:function(e,t){if(e=zxe(e),t=Nxe(t),jxe)try{return H4(e,t)}catch{}if(Bxe(e,t))return qxe(!Rxe(Fxe.f,e,t),e[t])}});var eO=fe((Fut,V4)=>{var Uxe=pi(),Hxe=jr();V4.exports=Uxe&&Hxe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var ci=fe((qut,G4)=>{var $4=mr(),Wxe=Ei(),Vxe=$4.String,$xe=$4.TypeError;G4.exports=function(r){if(Wxe(r))return r;throw $xe(Vxe(r)+" is not an object")}});var ao=fe(Y4=>{var Gxe=mr(),Kxe=pi(),Yxe=QD(),Zxe=eO(),$S=ci(),K4=up(),Xxe=Gxe.TypeError,tO=Object.defineProperty,Jxe=Object.getOwnPropertyDescriptor,rO="enumerable",nO="configurable",iO="writable";Y4.f=Kxe?Zxe?function(e,t,n){if($S(e),t=K4(t),$S(n),typeof e=="function"&&t==="prototype"&&"value"in n&&iO in n&&!n[iO]){var i=Jxe(e,t);i&&i[iO]&&(e[t]=n.value,n={configurable:nO in n?n[nO]:i[nO],enumerable:rO in n?n[rO]:i[rO],writable:!1})}return tO(e,t,n)}:tO:function(e,t,n){if($S(e),t=K4(t),$S(n),Yxe)try{return tO(e,t,n)}catch{}if("get"in n||"set"in n)throw Xxe("Accessors not supported");return"value"in n&&(e[t]=n.value),e}});var bu=fe((Nut,Z4)=>{var Qxe=pi(),e_e=ao(),t_e=Yc();Z4.exports=Qxe?function(r,e,t){return e_e.f(r,e,t_e(1,t))}:function(r,e,t){return r[e]=t,r}});var Tx=fe((But,X4)=>{var r_e=Wr(),n_e=Gi(),oO=WS(),i_e=r_e(Function.toString);n_e(oO.inspectSource)||(oO.inspectSource=function(r){return i_e(r)});X4.exports=oO.inspectSource});var aO=fe((jut,Q4)=>{var o_e=mr(),a_e=Gi(),s_e=Tx(),J4=o_e.WeakMap;Q4.exports=a_e(J4)&&/native code/.test(s_e(J4))});var Ax=fe((Uut,tj)=>{var l_e=Cx(),u_e=zg(),ej=l_e("keys");tj.exports=function(r){return ej[r]||(ej[r]=u_e(r))}});var qy=fe((Hut,rj)=>{rj.exports={}});var rl=fe((Wut,sj)=>{var c_e=aO(),aj=mr(),sO=Wr(),f_e=Ei(),h_e=bu(),lO=oo(),uO=WS(),d_e=Ax(),p_e=qy(),nj="Object already initialized",fO=aj.TypeError,m_e=aj.WeakMap,GS,Dx,KS,g_e=function(r){return KS(r)?Dx(r):GS(r,{})},v_e=function(r){return function(e){var t;if(!f_e(e)||(t=Dx(e)).type!==r)throw fO("Incompatible receiver, "+r+" required");return t}};c_e||uO.state?(vm=uO.state||(uO.state=new m_e),ij=sO(vm.get),cO=sO(vm.has),oj=sO(vm.set),GS=function(r,e){if(cO(vm,r))throw new fO(nj);return e.facade=r,oj(vm,r,e),e},Dx=function(r){return ij(vm,r)||{}},KS=function(r){return cO(vm,r)}):(Bg=d_e("state"),p_e[Bg]=!0,GS=function(r,e){if(lO(r,Bg))throw new fO(nj);return e.facade=r,h_e(r,Bg,e),e},Dx=function(r){return lO(r,Bg)?r[Bg]:{}},KS=function(r){return lO(r,Bg)});var vm,ij,cO,oj,Bg;sj.exports={set:GS,get:Dx,has:KS,enforce:g_e,getterFor:v_e}});var jg=fe((Vut,uj)=>{var hO=pi(),y_e=oo(),lj=Function.prototype,b_e=hO&&Object.getOwnPropertyDescriptor,dO=y_e(lj,"name"),x_e=dO&&function(){}.name==="something",__e=dO&&(!hO||hO&&b_e(lj,"name").configurable);uj.exports={EXISTS:dO,PROPER:x_e,CONFIGURABLE:__e}});var Qa=fe(($ut,dj)=>{var w_e=mr(),cj=Gi(),S_e=oo(),fj=bu(),k_e=HS(),C_e=Tx(),hj=rl(),E_e=jg().CONFIGURABLE,T_e=hj.get,A_e=hj.enforce,D_e=String(String).split("String");(dj.exports=function(r,e,t,n){var i=n?!!n.unsafe:!1,a=n?!!n.enumerable:!1,l=n?!!n.noTargetGet:!1,h=n&&n.name!==void 0?n.name:e,b;if(cj(t)&&(String(h).slice(0,7)==="Symbol("&&(h="["+String(h).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!S_e(t,"name")||E_e&&t.name!==h)&&fj(t,"name",h),b=A_e(t),b.source||(b.source=D_e.join(typeof h=="string"?h:""))),r===w_e){a?r[e]=t:k_e(e,t);return}else i?!l&&r[e]&&(a=!0):delete r[e];a?r[e]=t:fj(r,e,t)})(Function.prototype,"toString",function(){return cj(this)&&T_e(this).source||C_e(this)})});var nl=fe((Gut,pj)=>{var O_e=Math.ceil,I_e=Math.floor;pj.exports=function(r){var e=+r;return e!==e||e===0?0:(e>0?I_e:O_e)(e)}});var sd=fe((Kut,mj)=>{var M_e=nl(),P_e=Math.max,L_e=Math.min;mj.exports=function(r,e){var t=M_e(r);return t<0?P_e(t+e,0):L_e(t,e)}});var pc=fe((Yut,gj)=>{var R_e=nl(),F_e=Math.min;gj.exports=function(r){return r>0?F_e(R_e(r),9007199254740991):0}});var Ca=fe((Zut,vj)=>{var q_e=pc();vj.exports=function(r){return q_e(r.length)}});var zy=fe((Xut,bj)=>{var z_e=Bu(),N_e=sd(),B_e=Ca(),yj=function(r){return function(e,t,n){var i=z_e(e),a=B_e(i),l=N_e(n,a),h;if(r&&t!=t){for(;a>l;)if(h=i[l++],h!=h)return!0}else for(;a>l;l++)if((r||l in i)&&i[l]===t)return r||l||0;return!r&&-1}};bj.exports={includes:yj(!0),indexOf:yj(!1)}});var mO=fe((Jut,_j)=>{var j_e=Wr(),pO=oo(),U_e=Bu(),H_e=zy().indexOf,W_e=qy(),xj=j_e([].push);_j.exports=function(r,e){var t=U_e(r),n=0,i=[],a;for(a in t)!pO(W_e,a)&&pO(t,a)&&xj(i,a);for(;e.length>n;)pO(t,a=e[n++])&&(~H_e(i,a)||xj(i,a));return i}});var YS=fe((Qut,wj)=>{wj.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var cp=fe(Sj=>{var V_e=mO(),$_e=YS(),G_e=$_e.concat("length","prototype");Sj.f=Object.getOwnPropertyNames||function(e){return V_e(e,G_e)}});var ZS=fe(kj=>{kj.f=Object.getOwnPropertySymbols});var XS=fe((rct,Cj)=>{var K_e=Ra(),Y_e=Wr(),Z_e=cp(),X_e=ZS(),J_e=ci(),Q_e=Y_e([].concat);Cj.exports=K_e("Reflect","ownKeys")||function(e){var t=Z_e.f(J_e(e)),n=X_e.f;return n?Q_e(t,n(e)):t}});var Ox=fe((nct,Tj)=>{var Ej=oo(),e1e=XS(),t1e=Vl(),r1e=ao();Tj.exports=function(r,e,t){for(var n=e1e(e),i=r1e.f,a=t1e.f,l=0;l<n.length;l++){var h=n[l];!Ej(r,h)&&!(t&&Ej(t,h))&&i(r,h,a(e,h))}}});var Ny=fe((ict,Aj)=>{var n1e=jr(),i1e=Gi(),o1e=/#|\.prototype\./,Ix=function(r,e){var t=s1e[a1e(r)];return t==u1e?!0:t==l1e?!1:i1e(e)?n1e(e):!!e},a1e=Ix.normalize=function(r){return String(r).replace(o1e,".").toLowerCase()},s1e=Ix.data={},l1e=Ix.NATIVE="N",u1e=Ix.POLYFILL="P";Aj.exports=Ix});var Ft=fe((oct,Dj)=>{var gO=mr(),c1e=Vl().f,f1e=bu(),h1e=Qa(),d1e=HS(),p1e=Ox(),m1e=Ny();Dj.exports=function(r,e){var t=r.target,n=r.global,i=r.stat,a,l,h,b,S,E;if(n?l=gO:i?l=gO[t]||d1e(t,{}):l=(gO[t]||{}).prototype,l)for(h in e){if(S=e[h],r.noTargetGet?(E=c1e(l,h),b=E&&E.value):b=l[h],a=m1e(n?h:t+(i?".":"#")+h,r.forced),!a&&b!==void 0){if(typeof S==typeof b)continue;p1e(S,b)}(r.sham||b&&b.sham)&&f1e(S,"sham",!0),h1e(l,h,S,r)}}});var mc=fe((act,Pj)=>{var g1e=Py(),Mj=Function.prototype,Oj=Mj.apply,Ij=Mj.call;Pj.exports=typeof Reflect=="object"&&Reflect.apply||(g1e?Ij.bind(Oj):function(){return Ij.apply(Oj,arguments)})});var ym=fe((sct,Lj)=>{var v1e=hc();Lj.exports=Array.isArray||function(e){return v1e(e)=="Array"}});var JS=fe((lct,Fj)=>{var y1e=Mi(),b1e=y1e("toStringTag"),Rj={};Rj[b1e]="z";Fj.exports=String(Rj)==="[object z]"});var fp=fe((uct,qj)=>{var x1e=mr(),_1e=JS(),w1e=Gi(),QS=hc(),S1e=Mi(),k1e=S1e("toStringTag"),C1e=x1e.Object,E1e=QS(function(){return arguments}())=="Arguments",T1e=function(r,e){try{return r[e]}catch{}};qj.exports=_1e?QS:function(r){var e,t,n;return r===void 0?"Undefined":r===null?"Null":typeof(t=T1e(e=C1e(r),k1e))=="string"?t:E1e?QS(e):(n=QS(e))=="Object"&&w1e(e.callee)?"Arguments":n}});var qi=fe((cct,zj)=>{var A1e=mr(),D1e=fp(),O1e=A1e.String;zj.exports=function(r){if(D1e(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return O1e(r)}});var By=fe((fct,Nj)=>{var I1e=mO(),M1e=YS();Nj.exports=Object.keys||function(e){return I1e(e,M1e)}});var jy=fe(Bj=>{var P1e=pi(),L1e=eO(),R1e=ao(),F1e=ci(),q1e=Bu(),z1e=By();Bj.f=P1e&&!L1e?Object.defineProperties:function(e,t){F1e(e);for(var n=q1e(t),i=z1e(t),a=i.length,l=0,h;a>l;)R1e.f(e,h=i[l++],n[h]);return e}});var vO=fe((dct,jj)=>{var N1e=Ra();jj.exports=N1e("document","documentElement")});var gc=fe((pct,Kj)=>{var B1e=ci(),j1e=jy(),Uj=YS(),U1e=qy(),H1e=vO(),W1e=Ex(),V1e=Ax(),Hj=">",Wj="<",bO="prototype",xO="script",$j=V1e("IE_PROTO"),yO=function(){},Gj=function(r){return Wj+xO+Hj+r+Wj+"/"+xO+Hj},Vj=function(r){r.write(Gj("")),r.close();var e=r.parentWindow.Object;return r=null,e},$1e=function(){var r=W1e("iframe"),e="java"+xO+":",t;return r.style.display="none",H1e.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(Gj("document.F=Object")),t.close(),t.F},ek,tk=function(){try{ek=new ActiveXObject("htmlfile")}catch{}tk=typeof document<"u"?document.domain&&ek?Vj(ek):$1e():Vj(ek);for(var r=Uj.length;r--;)delete tk[bO][Uj[r]];return tk()};U1e[$j]=!0;Kj.exports=Object.create||function(e,t){var n;return e!==null?(yO[bO]=B1e(e),n=new yO,yO[bO]=null,n[$j]=e):n=tk(),t===void 0?n:j1e.f(n,t)}});var ld=fe((mct,Yj)=>{"use strict";var G1e=up(),K1e=ao(),Y1e=Yc();Yj.exports=function(r,e,t){var n=G1e(e);n in r?K1e.f(r,n,Y1e(0,t)):r[n]=t}});var Uy=fe((gct,Xj)=>{var Z1e=mr(),Zj=sd(),X1e=Ca(),J1e=ld(),Q1e=Z1e.Array,ewe=Math.max;Xj.exports=function(r,e,t){for(var n=X1e(r),i=Zj(e,n),a=Zj(t===void 0?n:t,n),l=Q1e(ewe(a-i,0)),h=0;i<a;i++,h++)J1e(l,h,r[i]);return l.length=h,l}});var rk=fe((vct,e6)=>{var twe=hc(),rwe=Bu(),Jj=cp().f,nwe=Uy(),Qj=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],iwe=function(r){try{return Jj(r)}catch{return nwe(Qj)}};e6.exports.f=function(e){return Qj&&twe(e)=="Window"?iwe(e):Jj(rwe(e))}});var bm=fe((yct,t6)=>{var owe=Wr();t6.exports=owe([].slice)});var _O=fe(r6=>{var awe=Mi();r6.f=awe});var wO=fe((xct,n6)=>{var swe=mr();n6.exports=swe});var ju=fe((_ct,o6)=>{var i6=wO(),lwe=oo(),uwe=_O(),cwe=ao().f;o6.exports=function(r){var e=i6.Symbol||(i6.Symbol={});lwe(e,r)||cwe(e,r,{value:uwe.f(r)})}});var Zc=fe((wct,s6)=>{var fwe=ao().f,hwe=oo(),dwe=Mi(),a6=dwe("toStringTag");s6.exports=function(r,e,t){r&&!t&&(r=r.prototype),r&&!hwe(r,a6)&&fwe(r,a6,{configurable:!0,value:e})}});var mh=fe((Sct,u6)=>{var l6=Wr(),pwe=Wl(),mwe=Py(),gwe=l6(l6.bind);u6.exports=function(r,e){return pwe(r),e===void 0?r:mwe?gwe(r,e):function(){return r.apply(e,arguments)}}});var Ug=fe((kct,p6)=>{var vwe=Wr(),ywe=jr(),c6=Gi(),bwe=fp(),xwe=Ra(),_we=Tx(),f6=function(){},wwe=[],h6=xwe("Reflect","construct"),SO=/^\s*(?:class|function)\b/,Swe=vwe(SO.exec),kwe=!SO.exec(f6),Mx=function(e){if(!c6(e))return!1;try{return h6(f6,wwe,e),!0}catch{return!1}},d6=function(e){if(!c6(e))return!1;switch(bwe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return kwe||!!Swe(SO,_we(e))}catch{return!0}};d6.sham=!0;p6.exports=!h6||ywe(function(){var r;return Mx(Mx.call)||!Mx(Object)||!Mx(function(){r=!0})||r})?d6:Mx});var y6=fe((Cct,v6)=>{var Cwe=mr(),m6=ym(),Ewe=Ug(),Twe=Ei(),Awe=Mi(),Dwe=Awe("species"),g6=Cwe.Array;v6.exports=function(r){var e;return m6(r)&&(e=r.constructor,Ewe(e)&&(e===g6||m6(e.prototype))?e=void 0:Twe(e)&&(e=e[Dwe],e===null&&(e=void 0))),e===void 0?g6:e}});var Hy=fe((Ect,b6)=>{var Owe=y6();b6.exports=function(r,e){return new(Owe(r))(e===0?0:e)}});var Sl=fe((Tct,_6)=>{var Iwe=mh(),Mwe=Wr(),Pwe=Ly(),Lwe=zo(),Rwe=Ca(),Fwe=Hy(),x6=Mwe([].push),xm=function(r){var e=r==1,t=r==2,n=r==3,i=r==4,a=r==6,l=r==7,h=r==5||a;return function(b,S,E,O){for(var P=Lwe(b),q=Pwe(P),z=Iwe(S,E),N=Rwe(q),V=0,Y=O||Fwe,J=e?Y(b,N):t||l?Y(b,0):void 0,se,_;N>V;V++)if((h||V in q)&&(se=q[V],_=z(se,V,P),r))if(e)J[V]=_;else if(_)switch(r){case 3:return!0;case 5:return se;case 6:return V;case 2:x6(J,se)}else switch(r){case 4:return!1;case 7:x6(J,se)}return a?-1:n||i?i:J}};_6.exports={forEach:xm(0),map:xm(1),filter:xm(2),some:xm(3),every:xm(4),find:xm(5),findIndex:xm(6),filterReject:xm(7)}});var U6=fe(()=>{"use strict";var Vy=Ft(),RO=mr(),qwe=Ra(),zwe=mc(),Fx=io(),Nwe=Wr(),Bwe=wl(),Wy=pi(),Hg=US(),FO=jr(),Is=oo(),jwe=ym(),Uwe=Gi(),Hwe=Ei(),Wwe=dc(),AO=qg(),DO=ci(),Vwe=zo(),ik=Bu(),qO=up(),T6=qi(),OO=Yc(),Lx=gc(),A6=By(),$we=cp(),D6=rk(),IO=ZS(),O6=Vl(),I6=ao(),Gwe=jy(),M6=kx(),Kwe=bm(),nk=Qa(),qx=Cx(),Ywe=Ax(),P6=qy(),w6=zg(),L6=Mi(),Zwe=_O(),Xwe=ju(),Jwe=Zc(),R6=rl(),ok=Sl().forEach,vc=Ywe("hidden"),ak="Symbol",Rx="prototype",S6=L6("toPrimitive"),Qwe=R6.set,k6=R6.getterFor(ak),Ef=Object[Rx],hp=RO.Symbol,wm=hp&&hp[Rx],F6=RO.TypeError,kO=RO.QObject,Px=qwe("JSON","stringify"),q6=O6.f,_m=I6.f,z6=D6.f,eSe=M6.f,N6=Nwe([].push),dp=qx("symbols"),zx=qx("op-symbols"),CO=qx("string-to-symbol-registry"),EO=qx("symbol-to-string-registry"),tSe=qx("wks"),MO=!kO||!kO[Rx]||!kO[Rx].findChild,PO=Wy&&FO(function(){return Lx(_m({},"a",{get:function(){return _m(this,"a",{value:7}).a}})).a!=7})?function(r,e,t){var n=q6(Ef,e);n&&delete Ef[e],_m(r,e,t),n&&r!==Ef&&_m(Ef,e,n)}:_m,TO=function(r,e){var t=dp[r]=Lx(wm);return Qwe(t,{type:ak,tag:r,description:e}),Wy||(t.description=e),t},sk=function(e,t,n){e===Ef&&sk(zx,t,n),DO(e);var i=qO(t);return DO(n),Is(dp,i)?(n.enumerable?(Is(e,vc)&&e[vc][i]&&(e[vc][i]=!1),n=Lx(n,{enumerable:OO(0,!1)})):(Is(e,vc)||_m(e,vc,OO(1,{})),e[vc][i]=!0),PO(e,i,n)):_m(e,i,n)},zO=function(e,t){DO(e);var n=ik(t),i=A6(n).concat(NO(n));return ok(i,function(a){(!Wy||Fx(LO,n,a))&&sk(e,a,n[a])}),e},rSe=function(e,t){return t===void 0?Lx(e):zO(Lx(e),t)},LO=function(e){var t=qO(e),n=Fx(eSe,this,t);return this===Ef&&Is(dp,t)&&!Is(zx,t)?!1:n||!Is(this,t)||!Is(dp,t)||Is(this,vc)&&this[vc][t]?n:!0},B6=function(e,t){var n=ik(e),i=qO(t);if(!(n===Ef&&Is(dp,i)&&!Is(zx,i))){var a=q6(n,i);return a&&Is(dp,i)&&!(Is(n,vc)&&n[vc][i])&&(a.enumerable=!0),a}},j6=function(e){var t=z6(ik(e)),n=[];return ok(t,function(i){!Is(dp,i)&&!Is(P6,i)&&N6(n,i)}),n},NO=function(e){var t=e===Ef,n=z6(t?zx:ik(e)),i=[];return ok(n,function(a){Is(dp,a)&&(!t||Is(Ef,a))&&N6(i,dp[a])}),i};Hg||(hp=function(){if(Wwe(wm,this))throw F6("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:T6(arguments[0]),t=w6(e),n=function(i){this===Ef&&Fx(n,zx,i),Is(this,vc)&&Is(this[vc],t)&&(this[vc][t]=!1),PO(this,t,OO(1,i))};return Wy&&MO&&PO(Ef,t,{configurable:!0,set:n}),TO(t,e)},wm=hp[Rx],nk(wm,"toString",function(){return k6(this).tag}),nk(hp,"withoutSetter",function(r){return TO(w6(r),r)}),M6.f=LO,I6.f=sk,Gwe.f=zO,O6.f=B6,$we.f=D6.f=j6,IO.f=NO,Zwe.f=function(r){return TO(L6(r),r)},Wy&&(_m(wm,"description",{configurable:!0,get:function(){return k6(this).description}}),Bwe||nk(Ef,"propertyIsEnumerable",LO,{unsafe:!0})));Vy({global:!0,wrap:!0,forced:!Hg,sham:!Hg},{Symbol:hp});ok(A6(tSe),function(r){Xwe(r)});Vy({target:ak,stat:!0,forced:!Hg},{for:function(r){var e=T6(r);if(Is(CO,e))return CO[e];var t=hp(e);return CO[e]=t,EO[t]=e,t},keyFor:function(e){if(!AO(e))throw F6(e+" is not a symbol");if(Is(EO,e))return EO[e]},useSetter:function(){MO=!0},useSimple:function(){MO=!1}});Vy({target:"Object",stat:!0,forced:!Hg,sham:!Wy},{create:rSe,defineProperty:sk,defineProperties:zO,getOwnPropertyDescriptor:B6});Vy({target:"Object",stat:!0,forced:!Hg},{getOwnPropertyNames:j6,getOwnPropertySymbols:NO});Vy({target:"Object",stat:!0,forced:FO(function(){IO.f(1)})},{getOwnPropertySymbols:function(e){return IO.f(Vwe(e))}});Px&&(C6=!Hg||FO(function(){var r=hp();return Px([r])!="[null]"||Px({a:r})!="{}"||Px(Object(r))!="{}"}),Vy({target:"JSON",stat:!0,forced:C6},{stringify:function(e,t,n){var i=Kwe(arguments),a=t;if(!(!Hwe(t)&&e===void 0||AO(e)))return jwe(t)||(t=function(l,h){if(Uwe(a)&&(h=Fx(a,this,l,h)),!AO(h))return h}),i[1]=t,zwe(Px,null,i)}}));var C6;wm[S6]||(E6=wm.valueOf,nk(wm,S6,function(r){return Fx(E6,this)}));var E6;Jwe(hp,ak);P6[vc]=!0});var Y6=fe(()=>{"use strict";var nSe=Ft(),iSe=pi(),oSe=mr(),lk=Wr(),aSe=oo(),sSe=Gi(),lSe=dc(),uSe=qi(),cSe=ao().f,fSe=Ox(),pp=oSe.Symbol,Wg=pp&&pp.prototype;iSe&&sSe(pp)&&(!("description"in Wg)||pp().description!==void 0)&&(BO={},Nx=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:uSe(arguments[0]),t=lSe(Wg,this)?new pp(e):e===void 0?pp():pp(e);return e===""&&(BO[t]=!0),t},fSe(Nx,pp),Nx.prototype=Wg,Wg.constructor=Nx,H6=String(pp("test"))=="Symbol(test)",W6=lk(Wg.toString),V6=lk(Wg.valueOf),$6=/^Symbol\((.*)\)[^)]+$/,G6=lk("".replace),K6=lk("".slice),cSe(Wg,"description",{configurable:!0,get:function(){var e=V6(this),t=W6(e);if(aSe(BO,e))return"";var n=H6?K6(t,7,-1):G6(t,$6,"$1");return n===""?void 0:n}}),nSe({global:!0,forced:!0},{Symbol:Nx}));var BO,Nx,H6,W6,V6,$6,G6,K6});var Z6=fe(()=>{var hSe=ju();hSe("asyncIterator")});var X6=fe(()=>{var dSe=ju();dSe("hasInstance")});var J6=fe(()=>{var pSe=ju();pSe("isConcatSpreadable")});var Q6=fe(()=>{var mSe=ju();mSe("iterator")});var eU=fe(()=>{var gSe=ju();gSe("match")});var tU=fe(()=>{var vSe=ju();vSe("matchAll")});var rU=fe(()=>{var ySe=ju();ySe("replace")});var nU=fe(()=>{var bSe=ju();bSe("search")});var iU=fe(()=>{var xSe=ju();xSe("species")});var oU=fe(()=>{var _Se=ju();_Se("split")});var aU=fe(()=>{var wSe=ju();wSe("toPrimitive")});var sU=fe(()=>{var SSe=ju();SSe("toStringTag")});var lU=fe(()=>{var kSe=ju();kSe("unscopables")});var jO=fe((ift,cU)=>{var uU=mr(),CSe=Gi(),ESe=uU.String,TSe=uU.TypeError;cU.exports=function(r){if(typeof r=="object"||CSe(r))return r;throw TSe("Can't set "+ESe(r)+" as a prototype")}});var gh=fe((oft,fU)=>{var ASe=Wr(),DSe=ci(),OSe=jO();fU.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,e={},t;try{t=ASe(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(e,[]),r=e instanceof Array}catch{}return function(i,a){return DSe(i),OSe(a),r?t(i,a):i.__proto__=a,i}}():void 0)});var Vg=fe((aft,dU)=>{var ISe=Gi(),MSe=Ei(),hU=gh();dU.exports=function(r,e,t){var n,i;return hU&&ISe(n=e.constructor)&&n!==t&&MSe(i=n.prototype)&&i!==t.prototype&&hU(r,i),r}});var $y=fe((sft,pU)=>{var PSe=qi();pU.exports=function(r,e){return r===void 0?arguments.length<2?"":e:PSe(r)}});var UO=fe((lft,mU)=>{var LSe=Ei(),RSe=bu();mU.exports=function(r,e){LSe(e)&&"cause"in e&&RSe(r,"cause",e.cause)}});var Bx=fe((uft,vU)=>{var FSe=Wr(),qSe=FSe("".replace),zSe=function(r){return String(Error(r).stack)}("zxcasd"),gU=/\n\s*at [^:]*:[^\n]*/,NSe=gU.test(zSe);vU.exports=function(r,e){if(NSe&&typeof r=="string")for(;e--;)r=qSe(r,gU,"");return r}});var uk=fe((cft,yU)=>{var BSe=jr(),jSe=Yc();yU.exports=!BSe(function(){var r=Error("a");return"stack"in r?(Object.defineProperty(r,"stack",jSe(1,7)),r.stack!==7):!0})});var WO=fe((fft,SU)=>{"use strict";var bU=Ra(),USe=oo(),HO=bu(),HSe=dc(),xU=gh(),_U=Ox(),WSe=Vg(),VSe=$y(),$Se=UO(),GSe=Bx(),KSe=uk(),wU=wl();SU.exports=function(r,e,t,n){var i=n?2:1,a=r.split("."),l=a[a.length-1],h=bU.apply(null,a);if(!!h){var b=h.prototype;if(!wU&&USe(b,"cause")&&delete b.cause,!t)return h;var S=bU("Error"),E=e(function(O,P){var q=VSe(n?P:O,void 0),z=n?new h(O):new h;return q!==void 0&&HO(z,"message",q),KSe&&HO(z,"stack",GSe(z.stack,2)),this&&HSe(b,this)&&WSe(z,this,E),arguments.length>i&&$Se(z,arguments[i]),z});if(E.prototype=b,l!=="Error"&&(xU?xU(E,S):_U(E,S,{name:!0})),_U(E,h),!wU)try{b.name!==l&&HO(b,"name",l),b.constructor=E}catch{}return E}}});var TU=fe(()=>{var CU=Ft(),YSe=mr(),ud=mc(),EU=WO(),VO="WebAssembly",kU=YSe[VO],ck=Error("e",{cause:7}).cause!==7,$g=function(r,e){var t={};t[r]=EU(r,e,ck),CU({global:!0,forced:ck},t)},$O=function(r,e){if(kU&&kU[r]){var t={};t[r]=EU(VO+"."+r,e,ck),CU({target:VO,stat:!0,forced:ck},t)}};$g("Error",function(r){return function(t){return ud(r,this,arguments)}});$g("EvalError",function(r){return function(t){return ud(r,this,arguments)}});$g("RangeError",function(r){return function(t){return ud(r,this,arguments)}});$g("ReferenceError",function(r){return function(t){return ud(r,this,arguments)}});$g("SyntaxError",function(r){return function(t){return ud(r,this,arguments)}});$g("TypeError",function(r){return function(t){return ud(r,this,arguments)}});$g("URIError",function(r){return function(t){return ud(r,this,arguments)}});$O("CompileError",function(r){return function(t){return ud(r,this,arguments)}});$O("LinkError",function(r){return function(t){return ud(r,this,arguments)}});$O("RuntimeError",function(r){return function(t){return ud(r,this,arguments)}})});var GO=fe((pft,DU)=>{"use strict";var ZSe=pi(),XSe=jr(),JSe=ci(),QSe=gc(),AU=$y(),fk=Error.prototype.toString,eke=XSe(function(){if(ZSe){var r=QSe(Object.defineProperty({},"name",{get:function(){return this===r}}));if(fk.call(r)!=="true")return!0}return fk.call({message:1,name:2})!=="2: 1"||fk.call({})!=="Error"});DU.exports=eke?function(){var e=JSe(this),t=AU(e.name,"Error"),n=AU(e.message);return t?n?t+": "+n:t:n}:fk});var MU=fe(()=>{var tke=Qa(),OU=GO(),IU=Error.prototype;IU.toString!==OU&&tke(IU,"toString",OU)});var hk=fe((vft,PU)=>{var rke=jr();PU.exports=!rke(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})});var Xc=fe((yft,RU)=>{var nke=mr(),ike=oo(),oke=Gi(),ake=zo(),ske=Ax(),lke=hk(),LU=ske("IE_PROTO"),KO=nke.Object,uke=KO.prototype;RU.exports=lke?KO.getPrototypeOf:function(r){var e=ake(r);if(ike(e,LU))return e[LU];var t=e.constructor;return oke(t)&&e instanceof t?t.prototype:e instanceof KO?uke:null}});var Gy=fe((bft,FU)=>{FU.exports={}});var dk=fe((xft,qU)=>{var cke=Mi(),fke=Gy(),hke=cke("iterator"),dke=Array.prototype;qU.exports=function(r){return r!==void 0&&(fke.Array===r||dke[hke]===r)}});var Ky=fe((_ft,NU)=>{var pke=fp(),zU=ad(),mke=Gy(),gke=Mi(),vke=gke("iterator");NU.exports=function(r){if(r!=null)return zU(r,vke)||zU(r,"@@iterator")||mke[pke(r)]}});var jx=fe((wft,BU)=>{var yke=mr(),bke=io(),xke=Wl(),_ke=ci(),wke=Ry(),Ske=Ky(),kke=yke.TypeError;BU.exports=function(r,e){var t=arguments.length<2?Ske(r):e;if(xke(t))return _ke(bke(t,r));throw kke(wke(r)+" is not iterable")}});var YO=fe((Sft,UU)=>{var Cke=io(),jU=ci(),Eke=ad();UU.exports=function(r,e,t){var n,i;jU(r);try{if(n=Eke(r,"return"),!n){if(e==="throw")throw t;return t}n=Cke(n,r)}catch(a){i=!0,n=a}if(e==="throw")throw t;if(i)throw n;return jU(n),t}});var cd=fe((kft,$U)=>{var Tke=mr(),Ake=mh(),Dke=io(),Oke=ci(),Ike=Ry(),Mke=dk(),Pke=Ca(),HU=dc(),Lke=jx(),Rke=Ky(),WU=YO(),Fke=Tke.TypeError,pk=function(r,e){this.stopped=r,this.result=e},VU=pk.prototype;$U.exports=function(r,e,t){var n=t&&t.that,i=!!(t&&t.AS_ENTRIES),a=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),h=Ake(e,n),b,S,E,O,P,q,z,N=function(Y){return b&&WU(b,"normal",Y),new pk(!0,Y)},V=function(Y){return i?(Oke(Y),l?h(Y[0],Y[1],N):h(Y[0],Y[1])):l?h(Y,N):h(Y)};if(a)b=r;else{if(S=Rke(r),!S)throw Fke(Ike(r)+" is not iterable");if(Mke(S)){for(E=0,O=Pke(r);O>E;E++)if(P=V(r[E]),P&&HU(VU,P))return P;return new pk(!1)}b=Lke(r,S)}for(q=b.next;!(z=Dke(q,b)).done;){try{P=V(z.value)}catch(Y){WU(b,"throw",Y)}if(typeof P=="object"&&P&&HU(VU,P))return P}return new pk(!1)}});var KU=fe(()=>{"use strict";var qke=Ft(),zke=mr(),Nke=dc(),Bke=Xc(),gk=gh(),jke=Ox(),GU=gc(),mk=bu(),ZO=Yc(),Uke=Bx(),Hke=UO(),Wke=cd(),Vke=$y(),$ke=Mi(),Gke=uk(),Kke=$ke("toStringTag"),vk=zke.Error,Yke=[].push,Ux=function(e,t){var n=arguments.length>2?arguments[2]:void 0,i=Nke(XO,this),a;gk?a=gk(new vk,i?Bke(this):XO):(a=i?this:GU(XO),mk(a,Kke,"Error")),t!==void 0&&mk(a,"message",Vke(t)),Gke&&mk(a,"stack",Uke(a.stack,1)),Hke(a,n);var l=[];return Wke(e,Yke,{that:l}),mk(a,"errors",l),a};gk?gk(Ux,vk):jke(Ux,vk,{name:!0});var XO=Ux.prototype=GU(vk.prototype,{constructor:ZO(1,Ux),message:ZO(1,""),name:ZO(1,"AggregateError")});qke({global:!0},{AggregateError:Ux})});var JU=fe(()=>{var Zke=Ft(),Xke=Ra(),Jke=mc(),YU=jr(),Qke=WO(),JO="AggregateError",ZU=Xke(JO),XU=!YU(function(){return ZU([1]).errors[0]!==1})&&YU(function(){return ZU([1],JO,{cause:7}).cause!==7});Zke({global:!0,forced:XU},{AggregateError:Qke(JO,function(r){return function(t,n){return Jke(r,this,arguments)}},XU,!0)})});var fd=fe((Dft,QU)=>{var eCe=Mi(),tCe=gc(),rCe=ao(),QO=eCe("unscopables"),eI=Array.prototype;eI[QO]==null&&rCe.f(eI,QO,{configurable:!0,value:tCe(null)});QU.exports=function(r){eI[QO][r]=!0}});var e9=fe(()=>{"use strict";var nCe=Ft(),iCe=zo(),oCe=Ca(),aCe=nl(),sCe=fd();nCe({target:"Array",proto:!0},{at:function(e){var t=iCe(this),n=oCe(t),i=aCe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:t[a]}});sCe("at")});var Yy=fe((Mft,t9)=>{var lCe=jr(),uCe=Mi(),cCe=lp(),fCe=uCe("species");t9.exports=function(r){return cCe>=51||!lCe(function(){var e=[],t=e.constructor={};return t[fCe]=function(){return{foo:1}},e[r](Boolean).foo!==1})}});var s9=fe(()=>{"use strict";var hCe=Ft(),dCe=mr(),pCe=jr(),mCe=ym(),gCe=Ei(),vCe=zo(),yCe=Ca(),r9=ld(),bCe=Hy(),xCe=Yy(),_Ce=Mi(),wCe=lp(),a9=_Ce("isConcatSpreadable"),n9=9007199254740991,i9="Maximum allowed index exceeded",o9=dCe.TypeError,SCe=wCe>=51||!pCe(function(){var r=[];return r[a9]=!1,r.concat()[0]!==r}),kCe=xCe("concat"),CCe=function(r){if(!gCe(r))return!1;var e=r[a9];return e!==void 0?!!e:mCe(r)},ECe=!SCe||!kCe;hCe({target:"Array",proto:!0,forced:ECe},{concat:function(e){var t=vCe(this),n=bCe(t,0),i=0,a,l,h,b,S;for(a=-1,h=arguments.length;a<h;a++)if(S=a===-1?t:arguments[a],CCe(S)){if(b=yCe(S),i+b>n9)throw o9(i9);for(l=0;l<b;l++,i++)l in S&&r9(n,i,S[l])}else{if(i>=n9)throw o9(i9);r9(n,i++,S)}return n.length=i,n}})});var rI=fe((Rft,l9)=>{"use strict";var TCe=zo(),tI=sd(),ACe=Ca(),DCe=Math.min;l9.exports=[].copyWithin||function(e,t){var n=TCe(this),i=ACe(n),a=tI(e,i),l=tI(t,i),h=arguments.length>2?arguments[2]:void 0,b=DCe((h===void 0?i:tI(h,i))-l,i-a),S=1;for(l<a&&a<l+b&&(S=-1,l+=b-1,a+=b-1);b-- >0;)l in n?n[a]=n[l]:delete n[a],a+=S,l+=S;return n}});var u9=fe(()=>{var OCe=Ft(),ICe=rI(),MCe=fd();OCe({target:"Array",proto:!0},{copyWithin:ICe});MCe("copyWithin")});var hd=fe((zft,c9)=>{"use strict";var PCe=jr();c9.exports=function(r,e){var t=[][r];return!!t&&PCe(function(){t.call(null,e||function(){throw 1},1)})}});var f9=fe(()=>{"use strict";var LCe=Ft(),RCe=Sl().every,FCe=hd(),qCe=FCe("every");LCe({target:"Array",proto:!0,forced:!qCe},{every:function(e){return RCe(this,e,arguments.length>1?arguments[1]:void 0)}})});var yk=fe((jft,d9)=>{"use strict";var zCe=zo(),h9=sd(),NCe=Ca();d9.exports=function(e){for(var t=zCe(this),n=NCe(t),i=arguments.length,a=h9(i>1?arguments[1]:void 0,n),l=i>2?arguments[2]:void 0,h=l===void 0?n:h9(l,n);h>a;)t[a++]=e;return t}});var p9=fe(()=>{var BCe=Ft(),jCe=yk(),UCe=fd();BCe({target:"Array",proto:!0},{fill:jCe});UCe("fill")});var m9=fe(()=>{"use strict";var HCe=Ft(),WCe=Sl().filter,VCe=Yy(),$Ce=VCe("filter");HCe({target:"Array",proto:!0,forced:!$Ce},{filter:function(e){return WCe(this,e,arguments.length>1?arguments[1]:void 0)}})});var v9=fe(()=>{"use strict";var GCe=Ft(),KCe=Sl().find,YCe=fd(),nI="find",g9=!0;nI in[]&&Array(1)[nI](function(){g9=!1});GCe({target:"Array",proto:!0,forced:g9},{find:function(e){return KCe(this,e,arguments.length>1?arguments[1]:void 0)}});YCe(nI)});var b9=fe(()=>{"use strict";var ZCe=Ft(),XCe=Sl().findIndex,JCe=fd(),iI="findIndex",y9=!0;iI in[]&&Array(1)[iI](function(){y9=!1});ZCe({target:"Array",proto:!0,forced:y9},{findIndex:function(e){return XCe(this,e,arguments.length>1?arguments[1]:void 0)}});JCe(iI)});var oI=fe((Zft,_9)=>{"use strict";var QCe=mr(),eEe=ym(),tEe=Ca(),rEe=mh(),nEe=QCe.TypeError,x9=function(r,e,t,n,i,a,l,h){for(var b=i,S=0,E=l?rEe(l,h):!1,O,P;S<n;){if(S in t){if(O=E?E(t[S],S,e):t[S],a>0&&eEe(O))P=tEe(O),b=x9(r,e,O,P,b,a-1)-1;else{if(b>=9007199254740991)throw nEe("Exceed the acceptable array length");r[b]=O}b++}S++}return b};_9.exports=x9});var w9=fe(()=>{"use strict";var iEe=Ft(),oEe=oI(),aEe=zo(),sEe=Ca(),lEe=nl(),uEe=Hy();iEe({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=aEe(this),n=sEe(t),i=uEe(t,0);return i.length=oEe(i,t,t,n,0,e===void 0?1:lEe(e)),i}})});var S9=fe(()=>{"use strict";var cEe=Ft(),fEe=oI(),hEe=Wl(),dEe=zo(),pEe=Ca(),mEe=Hy();cEe({target:"Array",proto:!0},{flatMap:function(e){var t=dEe(this),n=pEe(t),i;return hEe(e),i=mEe(t,0),i.length=fEe(i,t,t,n,0,1,e,arguments.length>1?arguments[1]:void 0),i}})});var aI=fe((tht,k9)=>{"use strict";var gEe=Sl().forEach,vEe=hd(),yEe=vEe("forEach");k9.exports=yEe?[].forEach:function(e){return gEe(this,e,arguments.length>1?arguments[1]:void 0)}});var E9=fe(()=>{"use strict";var bEe=Ft(),C9=aI();bEe({target:"Array",proto:!0,forced:[].forEach!=C9},{forEach:C9})});var A9=fe((iht,T9)=>{var xEe=ci(),_Ee=YO();T9.exports=function(r,e,t,n){try{return n?e(xEe(t)[0],t[1]):e(t)}catch(i){_Ee(r,"throw",i)}}});var sI=fe((oht,I9)=>{"use strict";var wEe=mr(),SEe=mh(),kEe=io(),CEe=zo(),EEe=A9(),TEe=dk(),AEe=Ug(),DEe=Ca(),D9=ld(),OEe=jx(),IEe=Ky(),O9=wEe.Array;I9.exports=function(e){var t=CEe(e),n=AEe(this),i=arguments.length,a=i>1?arguments[1]:void 0,l=a!==void 0;l&&(a=SEe(a,i>2?arguments[2]:void 0));var h=IEe(t),b=0,S,E,O,P,q,z;if(h&&!(this==O9&&TEe(h)))for(P=OEe(t,h),q=P.next,E=n?new this:[];!(O=kEe(q,P)).done;b++)z=l?EEe(P,a,[O.value,b],!0):O.value,D9(E,b,z);else for(S=DEe(t),E=n?new this(S):O9(S);S>b;b++)z=l?a(t[b],b):t[b],D9(E,b,z);return E.length=b,E}});var Hx=fe((aht,R9)=>{var MEe=Mi(),P9=MEe("iterator"),L9=!1;try{M9=0,lI={next:function(){return{done:!!M9++}},return:function(){L9=!0}},lI[P9]=function(){return this},Array.from(lI,function(){throw 2})}catch{}var M9,lI;R9.exports=function(r,e){if(!e&&!L9)return!1;var t=!1;try{var n={};n[P9]=function(){return{next:function(){return{done:t=!0}}}},r(n)}catch{}return t}});var F9=fe(()=>{var PEe=Ft(),LEe=sI(),REe=Hx(),FEe=!REe(function(r){Array.from(r)});PEe({target:"Array",stat:!0,forced:FEe},{from:LEe})});var q9=fe(()=>{"use strict";var qEe=Ft(),zEe=zy().includes,NEe=fd();qEe({target:"Array",proto:!0},{includes:function(e){return zEe(this,e,arguments.length>1?arguments[1]:void 0)}});NEe("includes")});var N9=fe(()=>{"use strict";var BEe=Ft(),jEe=Wr(),UEe=zy().indexOf,HEe=hd(),uI=jEe([].indexOf),z9=!!uI&&1/uI([1],1,-0)<0,WEe=HEe("indexOf");BEe({target:"Array",proto:!0,forced:z9||!WEe},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return z9?uI(this,e,t)||0:UEe(this,e,t)}})});var B9=fe(()=>{var VEe=Ft(),$Ee=ym();VEe({target:"Array",stat:!0},{isArray:$Ee})});var dI=fe((mht,H9)=>{"use strict";var GEe=jr(),KEe=Gi(),YEe=gc(),j9=Xc(),ZEe=Qa(),XEe=Mi(),JEe=wl(),hI=XEe("iterator"),U9=!1,mp,cI,fI;[].keys&&(fI=[].keys(),"next"in fI?(cI=j9(j9(fI)),cI!==Object.prototype&&(mp=cI)):U9=!0);var QEe=mp==null||GEe(function(){var r={};return mp[hI].call(r)!==r});QEe?mp={}:JEe&&(mp=YEe(mp));KEe(mp[hI])||ZEe(mp,hI,function(){return this});H9.exports={IteratorPrototype:mp,BUGGY_SAFARI_ITERATORS:U9}});var bk=fe((ght,W9)=>{"use strict";var eTe=dI().IteratorPrototype,tTe=gc(),rTe=Yc(),nTe=Zc(),iTe=Gy(),oTe=function(){return this};W9.exports=function(r,e,t,n){var i=e+" Iterator";return r.prototype=tTe(eTe,{next:rTe(+!n,t)}),nTe(r,i,!1,!0),iTe[i]=oTe,r}});var wk=fe((vht,e8)=>{"use strict";var aTe=Ft(),sTe=io(),xk=wl(),J9=jg(),lTe=Gi(),uTe=bk(),V9=Xc(),$9=gh(),cTe=Zc(),fTe=bu(),pI=Qa(),hTe=Mi(),G9=Gy(),Q9=dI(),dTe=J9.PROPER,pTe=J9.CONFIGURABLE,K9=Q9.IteratorPrototype,_k=Q9.BUGGY_SAFARI_ITERATORS,Wx=hTe("iterator"),Y9="keys",Vx="values",Z9="entries",X9=function(){return this};e8.exports=function(r,e,t,n,i,a,l){uTe(t,e,n);var h=function(Y){if(Y===i&&P)return P;if(!_k&&Y in E)return E[Y];switch(Y){case Y9:return function(){return new t(this,Y)};case Vx:return function(){return new t(this,Y)};case Z9:return function(){return new t(this,Y)}}return function(){return new t(this)}},b=e+" Iterator",S=!1,E=r.prototype,O=E[Wx]||E["@@iterator"]||i&&E[i],P=!_k&&O||h(i),q=e=="Array"&&E.entries||O,z,N,V;if(q&&(z=V9(q.call(new r)),z!==Object.prototype&&z.next&&(!xk&&V9(z)!==K9&&($9?$9(z,K9):lTe(z[Wx])||pI(z,Wx,X9)),cTe(z,b,!0,!0),xk&&(G9[b]=X9))),dTe&&i==Vx&&O&&O.name!==Vx&&(!xk&&pTe?fTe(E,"name",Vx):(S=!0,P=function(){return sTe(O,this)})),i)if(N={values:h(Vx),keys:a?P:h(Y9),entries:h(Z9)},l)for(V in N)(_k||S||!(V in E))&&pI(E,V,N[V]);else aTe({target:e,proto:!0,forced:_k||S},N);return(!xk||l)&&E[Wx]!==P&&pI(E,Wx,P,{name:i}),G9[e]=P,N}});var $x=fe((yht,o8)=>{"use strict";var mTe=Bu(),mI=fd(),t8=Gy(),n8=rl(),gTe=ao().f,vTe=wk(),yTe=wl(),bTe=pi(),i8="Array Iterator",xTe=n8.set,_Te=n8.getterFor(i8);o8.exports=vTe(Array,"Array",function(r,e){xTe(this,{type:i8,target:mTe(r),index:0,kind:e})},function(){var r=_Te(this),e=r.target,t=r.kind,n=r.index++;return!e||n>=e.length?(r.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:n,done:!1}:t=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");var r8=t8.Arguments=t8.Array;mI("keys");mI("values");mI("entries");if(!yTe&&bTe&&r8.name!=="values")try{gTe(r8,"name",{value:"values"})}catch{}});var a8=fe(()=>{"use strict";var wTe=Ft(),STe=Wr(),kTe=Ly(),CTe=Bu(),ETe=hd(),TTe=STe([].join),ATe=kTe!=Object,DTe=ETe("join",",");wTe({target:"Array",proto:!0,forced:ATe||!DTe},{join:function(e){return TTe(CTe(this),e===void 0?",":e)}})});var vI=fe((_ht,l8)=>{"use strict";var OTe=mc(),ITe=Bu(),MTe=nl(),PTe=Ca(),LTe=hd(),RTe=Math.min,gI=[].lastIndexOf,s8=!!gI&&1/[1].lastIndexOf(1,-0)<0,FTe=LTe("lastIndexOf"),qTe=s8||!FTe;l8.exports=qTe?function(e){if(s8)return OTe(gI,this,arguments)||0;var t=ITe(this),n=PTe(t),i=n-1;for(arguments.length>1&&(i=RTe(i,MTe(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}:gI});var c8=fe(()=>{var zTe=Ft(),u8=vI();zTe({target:"Array",proto:!0,forced:u8!==[].lastIndexOf},{lastIndexOf:u8})});var f8=fe(()=>{"use strict";var NTe=Ft(),BTe=Sl().map,jTe=Yy(),UTe=jTe("map");NTe({target:"Array",proto:!0,forced:!UTe},{map:function(e){return BTe(this,e,arguments.length>1?arguments[1]:void 0)}})});var d8=fe(()=>{"use strict";var HTe=Ft(),WTe=mr(),VTe=jr(),$Te=Ug(),GTe=ld(),h8=WTe.Array,KTe=VTe(function(){function r(){}return!(h8.of.call(r)instanceof r)});HTe({target:"Array",stat:!0,forced:KTe},{of:function(){for(var e=0,t=arguments.length,n=new($Te(this)?this:h8)(t);t>e;)GTe(n,e,arguments[e++]);return n.length=t,n}})});var Gx=fe((Aht,m8)=>{var YTe=mr(),ZTe=Wl(),XTe=zo(),JTe=Ly(),QTe=Ca(),eAe=YTe.TypeError,p8=function(r){return function(e,t,n,i){ZTe(t);var a=XTe(e),l=JTe(a),h=QTe(a),b=r?h-1:0,S=r?-1:1;if(n<2)for(;;){if(b in l){i=l[b],b+=S;break}if(b+=S,r?b<0:h<=b)throw eAe("Reduce of empty array with no initial value")}for(;r?b>=0:h>b;b+=S)b in l&&(i=t(i,l[b],b,a));return i}};m8.exports={left:p8(!1),right:p8(!0)}});var Sm=fe((Dht,g8)=>{var tAe=hc(),rAe=mr();g8.exports=tAe(rAe.process)=="process"});var y8=fe(()=>{"use strict";var nAe=Ft(),iAe=Gx().left,oAe=hd(),v8=lp(),aAe=Sm(),sAe=oAe("reduce"),lAe=!aAe&&v8>79&&v8<83;nAe({target:"Array",proto:!0,forced:!sAe||lAe},{reduce:function(e){var t=arguments.length;return iAe(this,e,t,t>1?arguments[1]:void 0)}})});var x8=fe(()=>{"use strict";var uAe=Ft(),cAe=Gx().right,fAe=hd(),b8=lp(),hAe=Sm(),dAe=fAe("reduceRight"),pAe=!hAe&&b8>79&&b8<83;uAe({target:"Array",proto:!0,forced:!dAe||pAe},{reduceRight:function(e){return cAe(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var w8=fe(()=>{"use strict";var mAe=Ft(),gAe=Wr(),vAe=ym(),yAe=gAe([].reverse),_8=[1,2];mAe({target:"Array",proto:!0,forced:String(_8)===String(_8.reverse())},{reverse:function(){return vAe(this)&&(this.length=this.length),yAe(this)}})});var C8=fe(()=>{"use strict";var bAe=Ft(),xAe=mr(),S8=ym(),_Ae=Ug(),wAe=Ei(),k8=sd(),SAe=Ca(),kAe=Bu(),CAe=ld(),EAe=Mi(),TAe=Yy(),AAe=bm(),DAe=TAe("slice"),OAe=EAe("species"),yI=xAe.Array,IAe=Math.max;bAe({target:"Array",proto:!0,forced:!DAe},{slice:function(e,t){var n=kAe(this),i=SAe(n),a=k8(e,i),l=k8(t===void 0?i:t,i),h,b,S;if(S8(n)&&(h=n.constructor,_Ae(h)&&(h===yI||S8(h.prototype))?h=void 0:wAe(h)&&(h=h[OAe],h===null&&(h=void 0)),h===yI||h===void 0))return AAe(n,a,l);for(b=new(h===void 0?yI:h)(IAe(l-a,0)),S=0;a<l;a++,S++)a in n&&CAe(b,S,n[a]);return b.length=S,b}})});var E8=fe(()=>{"use strict";var MAe=Ft(),PAe=Sl().some,LAe=hd(),RAe=LAe("some");MAe({target:"Array",proto:!0,forced:!RAe},{some:function(e){return PAe(this,e,arguments.length>1?arguments[1]:void 0)}})});var Sk=fe((Bht,A8)=>{var T8=Uy(),FAe=Math.floor,bI=function(r,e){var t=r.length,n=FAe(t/2);return t<8?qAe(r,e):zAe(r,bI(T8(r,0,n),e),bI(T8(r,n),e),e)},qAe=function(r,e){for(var t=r.length,n=1,i,a;n<t;){for(a=n,i=r[n];a&&e(r[a-1],i)>0;)r[a]=r[--a];a!==n++&&(r[a]=i)}return r},zAe=function(r,e,t,n){for(var i=e.length,a=t.length,l=0,h=0;l<i||h<a;)r[l+h]=l<i&&h<a?n(e[l],t[h])<=0?e[l++]:t[h++]:l<i?e[l++]:t[h++];return r};A8.exports=bI});var xI=fe((jht,O8)=>{var NAe=od(),D8=NAe.match(/firefox\/(\d+)/i);O8.exports=!!D8&&+D8[1]});var _I=fe((Uht,I8)=>{var BAe=od();I8.exports=/MSIE|Trident/.test(BAe)});var kk=fe((Hht,P8)=>{var jAe=od(),M8=jAe.match(/AppleWebKit\/(\d+)\./);P8.exports=!!M8&&+M8[1]});var j8=fe(()=>{"use strict";var UAe=Ft(),N8=Wr(),HAe=Wl(),WAe=zo(),VAe=Ca(),L8=qi(),wI=jr(),$Ae=Sk(),GAe=hd(),R8=xI(),KAe=_I(),F8=lp(),q8=kk(),km=[],z8=N8(km.sort),YAe=N8(km.push),ZAe=wI(function(){km.sort(void 0)}),XAe=wI(function(){km.sort(null)}),JAe=GAe("sort"),B8=!wI(function(){if(F8)return F8<70;if(!(R8&&R8>3)){if(KAe)return!0;if(q8)return q8<603;var r="",e,t,n,i;for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)km.push({k:t+i,v:n})}for(km.sort(function(a,l){return l.v-a.v}),i=0;i<km.length;i++)t=km[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return r!=="DGBEFHACIJK"}}),QAe=ZAe||!XAe||!JAe||!B8,e2e=function(r){return function(e,t){return t===void 0?-1:e===void 0?1:r!==void 0?+r(e,t)||0:L8(e)>L8(t)?1:-1}};UAe({target:"Array",proto:!0,forced:QAe},{sort:function(e){e!==void 0&&HAe(e);var t=WAe(this);if(B8)return e===void 0?z8(t):z8(t,e);var n=[],i=VAe(t),a,l;for(l=0;l<i;l++)l in t&&YAe(n,t[l]);for($Ae(n,e2e(e)),a=n.length,l=0;l<a;)t[l]=n[l++];for(;l<i;)delete t[l++];return t}})});var Gg=fe(($ht,H8)=>{"use strict";var t2e=Ra(),r2e=ao(),n2e=Mi(),i2e=pi(),U8=n2e("species");H8.exports=function(r){var e=t2e(r),t=r2e.f;i2e&&e&&!e[U8]&&t(e,U8,{configurable:!0,get:function(){return this}})}});var W8=fe(()=>{var o2e=Gg();o2e("Array")});var V8=fe(()=>{"use strict";var a2e=Ft(),s2e=mr(),l2e=sd(),u2e=nl(),c2e=Ca(),f2e=zo(),h2e=Hy(),d2e=ld(),p2e=Yy(),m2e=p2e("splice"),g2e=s2e.TypeError,v2e=Math.max,y2e=Math.min,b2e=9007199254740991,x2e="Maximum allowed length exceeded";a2e({target:"Array",proto:!0,forced:!m2e},{splice:function(e,t){var n=f2e(this),i=c2e(n),a=l2e(e,i),l=arguments.length,h,b,S,E,O,P;if(l===0?h=b=0:l===1?(h=0,b=i-a):(h=l-2,b=y2e(v2e(u2e(t),0),i-a)),i+h-b>b2e)throw g2e(x2e);for(S=h2e(n,b),E=0;E<b;E++)O=a+E,O in n&&d2e(S,E,n[O]);if(S.length=b,h<b){for(E=a;E<i-b;E++)O=E+b,P=E+h,O in n?n[P]=n[O]:delete n[P];for(E=i;E>i-b+h;E--)delete n[E-1]}else if(h>b)for(E=i-b;E>a;E--)O=E+b-1,P=E+h-1,O in n?n[P]=n[O]:delete n[P];for(E=0;E<h;E++)n[E+a]=arguments[E+2];return n.length=i-b+h,S}})});var $8=fe(()=>{var _2e=fd();_2e("flat")});var G8=fe(()=>{var w2e=fd();w2e("flatMap")});var Ck=fe((tdt,K8)=>{K8.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"});var Kg=fe((rdt,Y8)=>{var S2e=Qa();Y8.exports=function(r,e,t){for(var n in e)S2e(r,n,e[n],t);return r}});var vh=fe((ndt,Z8)=>{var k2e=mr(),C2e=dc(),E2e=k2e.TypeError;Z8.exports=function(r,e){if(C2e(e,r))return r;throw E2e("Incorrect invocation")}});var SI=fe((idt,X8)=>{var T2e=mr(),A2e=nl(),D2e=pc(),O2e=T2e.RangeError;X8.exports=function(r){if(r===void 0)return 0;var e=A2e(r),t=D2e(e);if(e!==t)throw O2e("Wrong length or index");return t}});var Q8=fe((odt,J8)=>{var I2e=mr(),M2e=I2e.Array,P2e=Math.abs,gp=Math.pow,L2e=Math.floor,R2e=Math.log,F2e=Math.LN2,q2e=function(r,e,t){var n=M2e(t),i=t*8-e-1,a=(1<<i)-1,l=a>>1,h=e===23?gp(2,-24)-gp(2,-77):0,b=r<0||r===0&&1/r<0?1:0,S=0,E,O,P;for(r=P2e(r),r!=r||r===1/0?(O=r!=r?1:0,E=a):(E=L2e(R2e(r)/F2e),P=gp(2,-E),r*P<1&&(E--,P*=2),E+l>=1?r+=h/P:r+=h*gp(2,1-l),r*P>=2&&(E++,P/=2),E+l>=a?(O=0,E=a):E+l>=1?(O=(r*P-1)*gp(2,e),E=E+l):(O=r*gp(2,l-1)*gp(2,e),E=0));e>=8;)n[S++]=O&255,O/=256,e-=8;for(E=E<<e|O,i+=e;i>0;)n[S++]=E&255,E/=256,i-=8;return n[--S]|=b*128,n},z2e=function(r,e){var t=r.length,n=t*8-e-1,i=(1<<n)-1,a=i>>1,l=n-7,h=t-1,b=r[h--],S=b&127,E;for(b>>=7;l>0;)S=S*256+r[h--],l-=8;for(E=S&(1<<-l)-1,S>>=-l,l+=e;l>0;)E=E*256+r[h--],l-=8;if(S===0)S=1-a;else{if(S===i)return E?NaN:b?-1/0:1/0;E=E+gp(2,e),S=S-a}return(b?-1:1)*E*gp(2,S-e)};J8.exports={pack:q2e,unpack:z2e}});var Yx=fe((adt,yH)=>{"use strict";var Mk=mr(),OI=Wr(),kI=pi(),N2e=Ck(),fH=jg(),eH=bu(),tH=Kg(),CI=jr(),Ek=vh(),B2e=nl(),j2e=pc(),Dk=SI(),hH=Q8(),U2e=Xc(),rH=gh(),H2e=cp().f,W2e=ao().f,V2e=yk(),$2e=Uy(),dH=Zc(),pH=rl(),G2e=fH.PROPER,nH=fH.CONFIGURABLE,Jy=pH.get,iH=pH.set,Ok="ArrayBuffer",mH="DataView",Xy="prototype",K2e="Wrong length",gH="Wrong index",yh=Mk[Ok],Jc=yh,Zy=Jc&&Jc[Xy],dd=Mk[mH],Yg=dd&&dd[Xy],oH=Object.prototype,Y2e=Mk.Array,Ik=Mk.RangeError,Z2e=OI(V2e),X2e=OI([].reverse),vH=hH.pack,aH=hH.unpack,sH=function(r){return[r&255]},lH=function(r){return[r&255,r>>8&255]},uH=function(r){return[r&255,r>>8&255,r>>16&255,r>>24&255]},cH=function(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]},J2e=function(r){return vH(r,23,4)},Q2e=function(r){return vH(r,52,8)},Tk=function(r,e){W2e(r[Xy],e,{get:function(){return Jy(this)[e]}})},Cm=function(r,e,t,n){var i=Dk(t),a=Jy(r);if(i+e>a.byteLength)throw Ik(gH);var l=Jy(a.buffer).bytes,h=i+a.byteOffset,b=$2e(l,h,h+e);return n?b:X2e(b)},Em=function(r,e,t,n,i,a){var l=Dk(t),h=Jy(r);if(l+e>h.byteLength)throw Ik(gH);for(var b=Jy(h.buffer).bytes,S=l+h.byteOffset,E=n(+i),O=0;O<e;O++)b[S+O]=E[a?O:e-O-1]};if(!N2e)Jc=function(e){Ek(this,Zy);var t=Dk(e);iH(this,{bytes:Z2e(Y2e(t),0),byteLength:t}),kI||(this.byteLength=t)},Zy=Jc[Xy],dd=function(e,t,n){Ek(this,Yg),Ek(e,Zy);var i=Jy(e).byteLength,a=B2e(t);if(a<0||a>i)throw Ik("Wrong offset");if(n=n===void 0?i-a:j2e(n),a+n>i)throw Ik(K2e);iH(this,{buffer:e,byteLength:n,byteOffset:a}),kI||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},Yg=dd[Xy],kI&&(Tk(Jc,"byteLength"),Tk(dd,"buffer"),Tk(dd,"byteLength"),Tk(dd,"byteOffset")),tH(Yg,{getInt8:function(e){return Cm(this,1,e)[0]<<24>>24},getUint8:function(e){return Cm(this,1,e)[0]},getInt16:function(e){var t=Cm(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Cm(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return cH(Cm(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return cH(Cm(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return aH(Cm(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return aH(Cm(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Em(this,1,e,sH,t)},setUint8:function(e,t){Em(this,1,e,sH,t)},setInt16:function(e,t){Em(this,2,e,lH,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Em(this,2,e,lH,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Em(this,4,e,uH,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Em(this,4,e,uH,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Em(this,4,e,J2e,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Em(this,8,e,Q2e,t,arguments.length>2?arguments[2]:void 0)}});else{if(EI=G2e&&yh.name!==Ok,!CI(function(){yh(1)})||!CI(function(){new yh(-1)})||CI(function(){return new yh,new yh(1.5),new yh(NaN),EI&&!nH})){for(Jc=function(e){return Ek(this,Zy),new yh(Dk(e))},Jc[Xy]=Zy,TI=H2e(yh),AI=0;TI.length>AI;)(Ak=TI[AI++])in Jc||eH(Jc,Ak,yh[Ak]);Zy.constructor=Jc}else EI&&nH&&eH(yh,"name",Ok);rH&&U2e(Yg)!==oH&&rH(Yg,oH),Kx=new dd(new Jc(2)),DI=OI(Yg.setInt8),Kx.setInt8(0,2147483648),Kx.setInt8(1,2147483649),(Kx.getInt8(0)||!Kx.getInt8(1))&&tH(Yg,{setInt8:function(e,t){DI(this,e,t<<24>>24)},setUint8:function(e,t){DI(this,e,t<<24>>24)}},{unsafe:!0})}var EI,TI,AI,Ak,Kx,DI;dH(Jc,Ok);dH(dd,mH);yH.exports={ArrayBuffer:Jc,DataView:dd}});var xH=fe(()=>{"use strict";var eDe=Ft(),tDe=mr(),rDe=Yx(),nDe=Gg(),II="ArrayBuffer",bH=rDe[II],iDe=tDe[II];eDe({global:!0,forced:iDe!==bH},{ArrayBuffer:bH});nDe(II)});var Ki=fe((udt,AH)=>{"use strict";var oDe=Ck(),RI=pi(),Uu=mr(),kH=Gi(),FI=Ei(),Zg=oo(),qI=fp(),aDe=Ry(),zI=bu(),MI=Qa(),sDe=ao().f,lDe=dc(),NI=Xc(),eb=gh(),uDe=Mi(),CH=zg(),Pk=Uu.Int8Array,PI=Pk&&Pk.prototype,_H=Uu.Uint8ClampedArray,wH=_H&&_H.prototype,pd=Pk&&NI(Pk),bh=PI&&NI(PI),cDe=Object.prototype,BI=Uu.TypeError,SH=uDe("toStringTag"),LI=CH("TYPED_ARRAY_TAG"),jI=CH("TYPED_ARRAY_CONSTRUCTOR"),vp=oDe&&!!eb&&qI(Uu.opera)!=="Opera",EH=!1,yc,Tm,Qy,yp={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},UI={BigInt64Array:8,BigUint64Array:8},fDe=function(e){if(!FI(e))return!1;var t=qI(e);return t==="DataView"||Zg(yp,t)||Zg(UI,t)},TH=function(r){if(!FI(r))return!1;var e=qI(r);return Zg(yp,e)||Zg(UI,e)},hDe=function(r){if(TH(r))return r;throw BI("Target is not a typed array")},dDe=function(r){if(kH(r)&&(!eb||lDe(pd,r)))return r;throw BI(aDe(r)+" is not a typed array constructor")},pDe=function(r,e,t,n){if(!!RI){if(t)for(var i in yp){var a=Uu[i];if(a&&Zg(a.prototype,r))try{delete a.prototype[r]}catch{try{a.prototype[r]=e}catch{}}}(!bh[r]||t)&&MI(bh,r,t?e:vp&&PI[r]||e,n)}},mDe=function(r,e,t){var n,i;if(!!RI){if(eb){if(t){for(n in yp)if(i=Uu[n],i&&Zg(i,r))try{delete i[r]}catch{}}if(!pd[r]||t)try{return MI(pd,r,t?e:vp&&pd[r]||e)}catch{}else return}for(n in yp)i=Uu[n],i&&(!i[r]||t)&&MI(i,r,e)}};for(yc in yp)Tm=Uu[yc],Qy=Tm&&Tm.prototype,Qy?zI(Qy,jI,Tm):vp=!1;for(yc in UI)Tm=Uu[yc],Qy=Tm&&Tm.prototype,Qy&&zI(Qy,jI,Tm);if((!vp||!kH(pd)||pd===Function.prototype)&&(pd=function(){throw BI("Incorrect invocation")},vp))for(yc in yp)Uu[yc]&&eb(Uu[yc],pd);if((!vp||!bh||bh===cDe)&&(bh=pd.prototype,vp))for(yc in yp)Uu[yc]&&eb(Uu[yc].prototype,bh);vp&&NI(wH)!==bh&&eb(wH,bh);if(RI&&!Zg(bh,SH)){EH=!0,sDe(bh,SH,{get:function(){return FI(this)?this[LI]:void 0}});for(yc in yp)Uu[yc]&&zI(Uu[yc],LI,yc)}AH.exports={NATIVE_ARRAY_BUFFER_VIEWS:vp,TYPED_ARRAY_CONSTRUCTOR:jI,TYPED_ARRAY_TAG:EH&&LI,aTypedArray:hDe,aTypedArrayConstructor:dDe,exportTypedArrayMethod:pDe,exportTypedArrayStaticMethod:mDe,isView:fDe,isTypedArray:TH,TypedArray:pd,TypedArrayPrototype:bh}});var OH=fe(()=>{var gDe=Ft(),DH=Ki(),vDe=DH.NATIVE_ARRAY_BUFFER_VIEWS;gDe({target:"ArrayBuffer",stat:!0,forced:!vDe},{isView:DH.isView})});var Lk=fe((hdt,IH)=>{var yDe=mr(),bDe=Ug(),xDe=Ry(),_De=yDe.TypeError;IH.exports=function(r){if(bDe(r))return r;throw _De(xDe(r)+" is not a constructor")}});var Xg=fe((ddt,PH)=>{var MH=ci(),wDe=Lk(),SDe=Mi(),kDe=SDe("species");PH.exports=function(r,e){var t=MH(r).constructor,n;return t===void 0||(n=MH(t)[kDe])==null?e:wDe(n)}});var NH=fe(()=>{"use strict";var CDe=Ft(),WI=Wr(),EDe=jr(),qH=Yx(),LH=ci(),RH=sd(),TDe=pc(),ADe=Xg(),VI=qH.ArrayBuffer,HI=qH.DataView,zH=HI.prototype,FH=WI(VI.prototype.slice),DDe=WI(zH.getUint8),ODe=WI(zH.setUint8),IDe=EDe(function(){return!new VI(2).slice(1,void 0).byteLength});CDe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:IDe},{slice:function(e,t){if(FH&&t===void 0)return FH(LH(this),e);for(var n=LH(this).byteLength,i=RH(e,n),a=RH(t===void 0?n:t,n),l=new(ADe(this,VI))(TDe(a-i)),h=new HI(this),b=new HI(l),S=0;i<a;)ODe(b,S++,DDe(h,i++));return l}})});var BH=fe(()=>{var MDe=Ft(),PDe=Yx(),LDe=Ck();MDe({global:!0,forced:!LDe},{DataView:PDe.DataView})});var jH=fe(()=>{"use strict";var RDe=Ft(),FDe=Wr(),qDe=jr(),zDe=qDe(function(){return new Date(16e11).getYear()!==120}),NDe=FDe(Date.prototype.getFullYear);RDe({target:"Date",proto:!0,forced:zDe},{getYear:function(){return NDe(this)-1900}})});var HH=fe(()=>{var BDe=Ft(),jDe=mr(),UDe=Wr(),UH=jDe.Date,HDe=UDe(UH.prototype.getTime);BDe({target:"Date",stat:!0},{now:function(){return HDe(new UH)}})});var $H=fe(()=>{"use strict";var WDe=Ft(),WH=Wr(),VDe=nl(),VH=Date.prototype,$De=WH(VH.getTime),GDe=WH(VH.setFullYear);WDe({target:"Date",proto:!0},{setYear:function(e){$De(this);var t=VDe(e),n=0<=t&&t<=99?t+1900:t;return GDe(this,n)}})});var GH=fe(()=>{var KDe=Ft();KDe({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var Zx=fe((Edt,KH)=>{"use strict";var YDe=mr(),ZDe=nl(),XDe=qi(),JDe=tl(),QDe=YDe.RangeError;KH.exports=function(e){var t=XDe(JDe(this)),n="",i=ZDe(e);if(i<0||i==1/0)throw QDe("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))i&1&&(n+=t);return n}});var Rk=fe((Tdt,JH)=>{var XH=Wr(),eOe=pc(),YH=qi(),tOe=Zx(),rOe=tl(),nOe=XH(tOe),iOe=XH("".slice),oOe=Math.ceil,ZH=function(r){return function(e,t,n){var i=YH(rOe(e)),a=eOe(t),l=i.length,h=n===void 0?" ":YH(n),b,S;return a<=l||h==""?i:(b=a-l,S=nOe(h,oOe(b/h.length)),S.length>b&&(S=iOe(S,0,b)),r?i+S:S+i)}};JH.exports={start:ZH(!1),end:ZH(!0)}});var tW=fe((Adt,eW)=>{"use strict";var aOe=mr(),Am=Wr(),QH=jr(),Jg=Rk().start,sOe=aOe.RangeError,lOe=Math.abs,bp=Date.prototype,$I=bp.toISOString,uOe=Am(bp.getTime),cOe=Am(bp.getUTCDate),fOe=Am(bp.getUTCFullYear),hOe=Am(bp.getUTCHours),dOe=Am(bp.getUTCMilliseconds),pOe=Am(bp.getUTCMinutes),mOe=Am(bp.getUTCMonth),gOe=Am(bp.getUTCSeconds);eW.exports=QH(function(){return $I.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!QH(function(){$I.call(new Date(NaN))})?function(){if(!isFinite(uOe(this)))throw sOe("Invalid time value");var e=this,t=fOe(e),n=dOe(e),i=t<0?"-":t>9999?"+":"";return i+Jg(lOe(t),i?6:4,0)+"-"+Jg(mOe(e)+1,2,0)+"-"+Jg(cOe(e),2,0)+"T"+Jg(hOe(e),2,0)+":"+Jg(pOe(e),2,0)+":"+Jg(gOe(e),2,0)+"."+Jg(n,3,0)+"Z"}:$I});var nW=fe(()=>{var vOe=Ft(),rW=tW();vOe({target:"Date",proto:!0,forced:Date.prototype.toISOString!==rW},{toISOString:rW})});var iW=fe(()=>{"use strict";var yOe=Ft(),bOe=jr(),xOe=zo(),_Oe=VS(),wOe=bOe(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});yOe({target:"Date",proto:!0,forced:wOe},{toJSON:function(e){var t=xOe(this),n=_Oe(t,"number");return typeof n=="number"&&!isFinite(n)?null:t.toISOString()}})});var aW=fe((Pdt,oW)=>{"use strict";var SOe=mr(),kOe=ci(),COe=XD(),EOe=SOe.TypeError;oW.exports=function(r){if(kOe(this),r==="string"||r==="default")r="string";else if(r!=="number")throw EOe("Incorrect hint");return COe(this,r)}});var uW=fe(()=>{var TOe=oo(),AOe=Qa(),DOe=aW(),OOe=Mi(),sW=OOe("toPrimitive"),lW=Date.prototype;TOe(lW,sW)||AOe(lW,sW,DOe)});var dW=fe(()=>{var fW=Wr(),IOe=Qa(),GI=Date.prototype,cW="Invalid Date",hW="toString",MOe=fW(GI[hW]),POe=fW(GI.getTime);String(new Date(NaN))!=cW&&IOe(GI,hW,function(){var e=POe(this);return e===e?MOe(this):cW})});var mW=fe(()=>{"use strict";var LOe=Ft(),Xx=Wr(),ROe=qi(),FOe=Xx("".charAt),qOe=Xx("".charCodeAt),zOe=Xx(/./.exec),NOe=Xx(1 .toString),BOe=Xx("".toUpperCase),jOe=/[\w*+\-./@]/,pW=function(r,e){for(var t=NOe(r,16);t.length<e;)t="0"+t;return t};LOe({global:!0},{escape:function(e){for(var t=ROe(e),n="",i=t.length,a=0,l,h;a<i;)l=FOe(t,a++),zOe(jOe,l)?n+=l:(h=qOe(l,0),h<256?n+="%"+pW(h,2):n+="%u"+BOe(pW(h,4)));return n}})});var YI=fe((Bdt,bW)=>{"use strict";var UOe=mr(),vW=Wr(),HOe=Wl(),WOe=Ei(),VOe=oo(),gW=bm(),$Oe=Py(),yW=UOe.Function,GOe=vW([].concat),KOe=vW([].join),KI={},YOe=function(r,e,t){if(!VOe(KI,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";KI[e]=yW("C,a","return new C("+KOe(n,",")+")")}return KI[e](r,t)};bW.exports=$Oe?yW.bind:function(e){var t=HOe(this),n=t.prototype,i=gW(arguments,1),a=function(){var h=GOe(i,gW(arguments));return this instanceof a?YOe(t,h.length,h):t.apply(e,h)};return WOe(n)&&(a.prototype=n),a}});var _W=fe(()=>{var ZOe=Ft(),xW=YI();ZOe({target:"Function",proto:!0,forced:Function.bind!==xW},{bind:xW})});var CW=fe(()=>{"use strict";var XOe=Gi(),wW=Ei(),JOe=ao(),QOe=Xc(),eIe=Mi(),SW=eIe("hasInstance"),kW=Function.prototype;SW in kW||JOe.f(kW,SW,{value:function(r){if(!XOe(this)||!wW(r))return!1;var e=this.prototype;if(!wW(e))return r instanceof this;for(;r=QOe(r);)if(e===r)return!0;return!1}})});var DW=fe(()=>{var tIe=pi(),rIe=jg().EXISTS,EW=Wr(),nIe=ao().f,TW=Function.prototype,iIe=EW(TW.toString),AW=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,oIe=EW(AW.exec),aIe="name";tIe&&!rIe&&nIe(TW,aIe,{configurable:!0,get:function(){try{return oIe(AW,iIe(this))[1]}catch{return""}}})});var OW=fe(()=>{var sIe=Ft(),lIe=mr();sIe({global:!0},{globalThis:lIe})});var LW=fe(()=>{var uIe=Ft(),cIe=mr(),fIe=Ra(),hIe=mc(),Jx=Wr(),dIe=jr(),pIe=cIe.Array,qk=fIe("JSON","stringify"),Fk=Jx(/./.exec),IW=Jx("".charAt),mIe=Jx("".charCodeAt),gIe=Jx("".replace),vIe=Jx(1 .toString),yIe=/[\uD800-\uDFFF]/g,MW=/^[\uD800-\uDBFF]$/,PW=/^[\uDC00-\uDFFF]$/,bIe=function(r,e,t){var n=IW(t,e-1),i=IW(t,e+1);return Fk(MW,r)&&!Fk(PW,i)||Fk(PW,r)&&!Fk(MW,n)?"\\u"+vIe(mIe(r,0),16):r},xIe=dIe(function(){return qk("\uDF06\uD834")!=='"\\udf06\\ud834"'||qk("\uDEAD")!=='"\\udead"'});qk&&uIe({target:"JSON",stat:!0,forced:xIe},{stringify:function(e,t,n){for(var i=0,a=arguments.length,l=pIe(a);i<a;i++)l[i]=arguments[i];var h=hIe(qk,null,l);return typeof h=="string"?gIe(h,yIe,bIe):h}})});var RW=fe(()=>{var _Ie=mr(),wIe=Zc();wIe(_Ie.JSON,"JSON",!0)});var zk=fe((Qdt,FW)=>{var SIe=jr();FW.exports=SIe(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}})});var Qx=fe((ept,zW)=>{var kIe=jr(),CIe=Ei(),EIe=hc(),qW=zk(),Nk=Object.isExtensible,TIe=kIe(function(){Nk(1)});zW.exports=TIe||qW?function(e){return!CIe(e)||qW&&EIe(e)=="ArrayBuffer"?!1:Nk?Nk(e):!0}:Nk});var tb=fe((tpt,NW)=>{var AIe=jr();NW.exports=!AIe(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Dm=fe((rpt,UW)=>{var DIe=Ft(),OIe=Wr(),IIe=qy(),MIe=Ei(),ZI=oo(),PIe=ao().f,BW=cp(),LIe=rk(),XI=Qx(),RIe=zg(),FIe=tb(),jW=!1,xp=RIe("meta"),qIe=0,JI=function(r){PIe(r,xp,{value:{objectID:"O"+qIe++,weakData:{}}})},zIe=function(r,e){if(!MIe(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!ZI(r,xp)){if(!XI(r))return"F";if(!e)return"E";JI(r)}return r[xp].objectID},NIe=function(r,e){if(!ZI(r,xp)){if(!XI(r))return!0;if(!e)return!1;JI(r)}return r[xp].weakData},BIe=function(r){return FIe&&jW&&XI(r)&&!ZI(r,xp)&&JI(r),r},jIe=function(){UIe.enable=function(){},jW=!0;var r=BW.f,e=OIe([].splice),t={};t[xp]=1,r(t).length&&(BW.f=function(n){for(var i=r(n),a=0,l=i.length;a<l;a++)if(i[a]===xp){e(i,a,1);break}return i},DIe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:LIe.f}))},UIe=UW.exports={enable:jIe,fastKey:zIe,getWeakData:NIe,onFreeze:BIe};IIe[xp]=!0});var e_=fe((npt,WW)=>{"use strict";var HIe=Ft(),WIe=mr(),VIe=Wr(),HW=Ny(),$Ie=Qa(),GIe=Dm(),KIe=cd(),YIe=vh(),ZIe=Gi(),QI=Ei(),eM=jr(),XIe=Hx(),JIe=Zc(),QIe=Vg();WW.exports=function(r,e,t){var n=r.indexOf("Map")!==-1,i=r.indexOf("Weak")!==-1,a=n?"set":"add",l=WIe[r],h=l&&l.prototype,b=l,S={},E=function(Y){var J=VIe(h[Y]);$Ie(h,Y,Y=="add"?function(_){return J(this,_===0?0:_),this}:Y=="delete"?function(se){return i&&!QI(se)?!1:J(this,se===0?0:se)}:Y=="get"?function(_){return i&&!QI(_)?void 0:J(this,_===0?0:_)}:Y=="has"?function(_){return i&&!QI(_)?!1:J(this,_===0?0:_)}:function(_,me){return J(this,_===0?0:_,me),this})},O=HW(r,!ZIe(l)||!(i||h.forEach&&!eM(function(){new l().entries().next()})));if(O)b=t.getConstructor(e,r,n,a),GIe.enable();else if(HW(r,!0)){var P=new b,q=P[a](i?{}:-0,1)!=P,z=eM(function(){P.has(1)}),N=XIe(function(Y){new l(Y)}),V=!i&&eM(function(){for(var Y=new l,J=5;J--;)Y[a](J,J);return!Y.has(-0)});N||(b=e(function(Y,J){YIe(Y,h);var se=QIe(new l,Y,b);return J!=null&&KIe(J,se[a],{that:se,AS_ENTRIES:n}),se}),b.prototype=h,h.constructor=b),(z||V)&&(E("delete"),E("has"),n&&E("get")),(V||q)&&E(a),i&&h.clear&&delete h.clear}return S[r]=b,HIe({global:!0,forced:b!=l},S),JIe(b,r),i||t.setStrong(b,r,n),b}});var rM=fe((ipt,YW)=>{"use strict";var eMe=ao().f,tMe=gc(),VW=Kg(),rMe=mh(),nMe=vh(),iMe=cd(),oMe=wk(),aMe=Gg(),t_=pi(),$W=Dm().fastKey,KW=rl(),GW=KW.set,tM=KW.getterFor;YW.exports={getConstructor:function(r,e,t,n){var i=r(function(S,E){nMe(S,a),GW(S,{type:e,index:tMe(null),first:void 0,last:void 0,size:0}),t_||(S.size=0),E!=null&&iMe(E,S[n],{that:S,AS_ENTRIES:t})}),a=i.prototype,l=tM(e),h=function(S,E,O){var P=l(S),q=b(S,E),z,N;return q?q.value=O:(P.last=q={index:N=$W(E,!0),key:E,value:O,previous:z=P.last,next:void 0,removed:!1},P.first||(P.first=q),z&&(z.next=q),t_?P.size++:S.size++,N!=="F"&&(P.index[N]=q)),S},b=function(S,E){var O=l(S),P=$W(E),q;if(P!=="F")return O.index[P];for(q=O.first;q;q=q.next)if(q.key==E)return q};return VW(a,{clear:function(){for(var E=this,O=l(E),P=O.index,q=O.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete P[q.index],q=q.next;O.first=O.last=void 0,t_?O.size=0:E.size=0},delete:function(S){var E=this,O=l(E),P=b(E,S);if(P){var q=P.next,z=P.previous;delete O.index[P.index],P.removed=!0,z&&(z.next=q),q&&(q.previous=z),O.first==P&&(O.first=q),O.last==P&&(O.last=z),t_?O.size--:E.size--}return!!P},forEach:function(E){for(var O=l(this),P=rMe(E,arguments.length>1?arguments[1]:void 0),q;q=q?q.next:O.first;)for(P(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(E){return!!b(this,E)}}),VW(a,t?{get:function(E){var O=b(this,E);return O&&O.value},set:function(E,O){return h(this,E===0?0:E,O)}}:{add:function(E){return h(this,E=E===0?0:E,E)}}),t_&&eMe(a,"size",{get:function(){return l(this).size}}),i},setStrong:function(r,e,t){var n=e+" Iterator",i=tM(e),a=tM(n);oMe(r,e,function(l,h){GW(this,{type:n,target:l,state:i(l),kind:h,last:void 0})},function(){for(var l=a(this),h=l.kind,b=l.last;b&&b.removed;)b=b.previous;return!l.target||!(l.last=b=b?b.next:l.state.first)?(l.target=void 0,{value:void 0,done:!0}):h=="keys"?{value:b.key,done:!1}:h=="values"?{value:b.value,done:!1}:{value:[b.key,b.value],done:!1}},t?"entries":"values",!t,!0),aMe(e)}}});var ZW=fe(()=>{"use strict";var sMe=e_(),lMe=rM();sMe("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},lMe)});var nM=fe((spt,XW)=>{var uMe=Math.log;XW.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:uMe(1+e)}});var QW=fe(()=>{var cMe=Ft(),fMe=nM(),iM=Math.acosh,hMe=Math.log,JW=Math.sqrt,dMe=Math.LN2,pMe=!iM||Math.floor(iM(Number.MAX_VALUE))!=710||iM(1/0)!=1/0;cMe({target:"Math",stat:!0,forced:pMe},{acosh:function(e){return(e=+e)<1?NaN:e>9490626562425156e-8?hMe(e)+dMe:fMe(e-1+JW(e-1)*JW(e+1))}})});var rV=fe(()=>{var mMe=Ft(),eV=Math.asinh,gMe=Math.log,vMe=Math.sqrt;function tV(r){return!isFinite(r=+r)||r==0?r:r<0?-tV(-r):gMe(r+vMe(r*r+1))}mMe({target:"Math",stat:!0,forced:!(eV&&1/eV(0)>0)},{asinh:tV})});var iV=fe(()=>{var yMe=Ft(),nV=Math.atanh,bMe=Math.log;yMe({target:"Math",stat:!0,forced:!(nV&&1/nV(-0)<0)},{atanh:function(e){return(e=+e)==0?e:bMe((1+e)/(1-e))/2}})});var Bk=fe((ppt,oV)=>{oV.exports=Math.sign||function(e){return(e=+e)==0||e!=e?e:e<0?-1:1}});var aV=fe(()=>{var xMe=Ft(),_Me=Bk(),wMe=Math.abs,SMe=Math.pow;xMe({target:"Math",stat:!0},{cbrt:function(e){return _Me(e=+e)*SMe(wMe(e),1/3)}})});var sV=fe(()=>{var kMe=Ft(),CMe=Math.floor,EMe=Math.log,TMe=Math.LOG2E;kMe({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-CMe(EMe(e+.5)*TMe):32}})});var n_=fe((bpt,lV)=>{var r_=Math.expm1,AMe=Math.exp;lV.exports=!r_||r_(10)>22025.465794806718||r_(10)<22025.465794806718||r_(-2e-17)!=-2e-17?function(e){return(e=+e)==0?e:e>-1e-6&&e<1e-6?e+e*e/2:AMe(e)-1}:r_});var cV=fe(()=>{var DMe=Ft(),OMe=n_(),uV=Math.cosh,IMe=Math.abs,oM=Math.E;DMe({target:"Math",stat:!0,forced:!uV||uV(710)===1/0},{cosh:function(e){var t=OMe(IMe(e)-1)+1;return(t+1/(t*oM*oM))*(oM/2)}})});var hV=fe(()=>{var MMe=Ft(),fV=n_();MMe({target:"Math",stat:!0,forced:fV!=Math.expm1},{expm1:fV})});var pV=fe((kpt,dV)=>{var PMe=Bk(),LMe=Math.abs,Uk=Math.pow,sM=Uk(2,-52),jk=Uk(2,-23),RMe=Uk(2,127)*(2-jk),aM=Uk(2,-126),FMe=function(r){return r+1/sM-1/sM};dV.exports=Math.fround||function(e){var t=LMe(e),n=PMe(e),i,a;return t<aM?n*FMe(t/aM/jk)*aM*jk:(i=(1+jk/sM)*t,a=i-(i-t),a>RMe||a!=a?n*(1/0):n*a)}});var mV=fe(()=>{var qMe=Ft(),zMe=pV();qMe({target:"Math",stat:!0},{fround:zMe})});var vV=fe(()=>{var NMe=Ft(),gV=Math.hypot,BMe=Math.abs,jMe=Math.sqrt,UMe=!!gV&&gV(1/0,NaN)!==1/0;NMe({target:"Math",stat:!0,forced:UMe},{hypot:function(e,t){for(var n=0,i=0,a=arguments.length,l=0,h,b;i<a;)h=BMe(arguments[i++]),l<h?(b=l/h,n=n*b*b+1,l=h):h>0?(b=h/l,n+=b*b):n+=h;return l===1/0?1/0:l*jMe(n)}})});var bV=fe(()=>{var HMe=Ft(),WMe=jr(),yV=Math.imul,VMe=WMe(function(){return yV(4294967295,5)!=-5||yV.length!=2});HMe({target:"Math",stat:!0,forced:VMe},{imul:function(e,t){var n=65535,i=+e,a=+t,l=n&i,h=n&a;return 0|l*h+((n&i>>>16)*h+l*(n&a>>>16)<<16>>>0)}})});var lM=fe((Ipt,xV)=>{var $Me=Math.log,GMe=Math.LOG10E;xV.exports=Math.log10||function(e){return $Me(e)*GMe}});var _V=fe(()=>{var KMe=Ft(),YMe=lM();KMe({target:"Math",stat:!0},{log10:YMe})});var wV=fe(()=>{var ZMe=Ft(),XMe=nM();ZMe({target:"Math",stat:!0},{log1p:XMe})});var SV=fe(()=>{var JMe=Ft(),QMe=Math.log,ePe=Math.LN2;JMe({target:"Math",stat:!0},{log2:function(e){return QMe(e)/ePe}})});var kV=fe(()=>{var tPe=Ft(),rPe=Bk();tPe({target:"Math",stat:!0},{sign:rPe})});var TV=fe(()=>{var nPe=Ft(),iPe=jr(),CV=n_(),oPe=Math.abs,EV=Math.exp,aPe=Math.E,sPe=iPe(function(){return Math.sinh(-2e-17)!=-2e-17});nPe({target:"Math",stat:!0,forced:sPe},{sinh:function(e){return oPe(e=+e)<1?(CV(e)-CV(-e))/2:(EV(e-1)-EV(-e-1))*(aPe/2)}})});var OV=fe(()=>{var lPe=Ft(),AV=n_(),DV=Math.exp;lPe({target:"Math",stat:!0},{tanh:function(e){var t=AV(e=+e),n=AV(-e);return t==1/0?1:n==1/0?-1:(t-n)/(DV(e)+DV(-e))}})});var IV=fe(()=>{var uPe=Zc();uPe(Math,"Math",!0)});var MV=fe(()=>{var cPe=Ft(),fPe=Math.ceil,hPe=Math.floor;cPe({target:"Math",stat:!0},{trunc:function(e){return(e>0?hPe:fPe)(e)}})});var i_=fe((Kpt,PV)=>{var dPe=Wr();PV.exports=dPe(1 .valueOf)});var o_=fe((Ypt,LV)=>{LV.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var Qg=fe((Zpt,FV)=>{var pPe=Wr(),mPe=tl(),gPe=qi(),vPe=o_(),RV=pPe("".replace),Hk="["+vPe+"]",yPe=RegExp("^"+Hk+Hk+"*"),bPe=RegExp(Hk+Hk+"*$"),uM=function(r){return function(e){var t=gPe(mPe(e));return r&1&&(t=RV(t,yPe,"")),r&2&&(t=RV(t,bPe,"")),t}};FV.exports={start:uM(1),end:uM(2),trim:uM(3)}});var BV=fe(()=>{"use strict";var xPe=pi(),dM=mr(),zV=Wr(),_Pe=Ny(),wPe=Qa(),qV=oo(),SPe=Vg(),kPe=dc(),CPe=qg(),NV=VS(),EPe=jr(),TPe=cp().f,APe=Vl().f,DPe=ao().f,OPe=i_(),IPe=Qg().trim,hM="Number",Om=dM[hM],cM=Om.prototype,MPe=dM.TypeError,PPe=zV("".slice),Wk=zV("".charCodeAt),LPe=function(r){var e=NV(r,"number");return typeof e=="bigint"?e:RPe(e)},RPe=function(r){var e=NV(r,"number"),t,n,i,a,l,h,b,S;if(CPe(e))throw MPe("Cannot convert a Symbol value to a number");if(typeof e=="string"&&e.length>2){if(e=IPe(e),t=Wk(e,0),t===43||t===45){if(n=Wk(e,2),n===88||n===120)return NaN}else if(t===48){switch(Wk(e,1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(l=PPe(e,2),h=l.length,b=0;b<h;b++)if(S=Wk(l,b),S<48||S>a)return NaN;return parseInt(l,i)}}return+e};if(_Pe(hM,!Om(" 0o1")||!Om("0b1")||Om("+0x1"))){for(ev=function(e){var t=arguments.length<1?0:Om(LPe(e)),n=this;return kPe(cM,n)&&EPe(function(){OPe(n)})?SPe(Object(t),n,ev):t},fM=xPe?TPe(Om):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Vk=0;fM.length>Vk;Vk++)qV(Om,a_=fM[Vk])&&!qV(ev,a_)&&DPe(ev,a_,APe(Om,a_));ev.prototype=cM,cM.constructor=ev,wPe(dM,hM,ev)}var ev,fM,Vk,a_});var jV=fe(()=>{var FPe=Ft();FPe({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})});var HV=fe((tmt,UV)=>{var qPe=mr(),zPe=qPe.isFinite;UV.exports=Number.isFinite||function(e){return typeof e=="number"&&zPe(e)}});var WV=fe(()=>{var NPe=Ft(),BPe=HV();NPe({target:"Number",stat:!0},{isFinite:BPe})});var $k=fe((imt,VV)=>{var jPe=Ei(),UPe=Math.floor;VV.exports=Number.isInteger||function(e){return!jPe(e)&&isFinite(e)&&UPe(e)===e}});var $V=fe(()=>{var HPe=Ft(),WPe=$k();HPe({target:"Number",stat:!0},{isInteger:WPe})});var GV=fe(()=>{var VPe=Ft();VPe({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})});var KV=fe(()=>{var $Pe=Ft(),GPe=$k(),KPe=Math.abs;$Pe({target:"Number",stat:!0},{isSafeInteger:function(e){return GPe(e)&&KPe(e)<=9007199254740991}})});var YV=fe(()=>{var YPe=Ft();YPe({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})});var ZV=fe(()=>{var ZPe=Ft();ZPe({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var pM=fe((mmt,e7)=>{var QV=mr(),XPe=jr(),JPe=Wr(),QPe=qi(),eLe=Qg().trim,tLe=o_(),rLe=JPe("".charAt),Gk=QV.parseFloat,XV=QV.Symbol,JV=XV&&XV.iterator,nLe=1/Gk(tLe+"-0")!==-1/0||JV&&!XPe(function(){Gk(Object(JV))});e7.exports=nLe?function(e){var t=eLe(QPe(e)),n=Gk(t);return n===0&&rLe(t,0)=="-"?-0:n}:Gk});var r7=fe(()=>{var iLe=Ft(),t7=pM();iLe({target:"Number",stat:!0,forced:Number.parseFloat!=t7},{parseFloat:t7})});var mM=fe((ymt,l7)=>{var a7=mr(),oLe=jr(),aLe=Wr(),sLe=qi(),lLe=Qg().trim,n7=o_(),s_=a7.parseInt,i7=a7.Symbol,o7=i7&&i7.iterator,s7=/^[+-]?0x/i,uLe=aLe(s7.exec),cLe=s_(n7+"08")!==8||s_(n7+"0x16")!==22||o7&&!oLe(function(){s_(Object(o7))});l7.exports=cLe?function(e,t){var n=lLe(sLe(e));return s_(n,t>>>0||(uLe(s7,n)?16:10))}:s_});var c7=fe(()=>{var fLe=Ft(),u7=mM();fLe({target:"Number",stat:!0,forced:Number.parseInt!=u7},{parseInt:u7})});var p7=fe(()=>{"use strict";var hLe=Ft(),vM=mr(),yM=Wr(),dLe=nl(),pLe=i_(),mLe=Zx(),gLe=lM(),Kk=jr(),vLe=vM.RangeError,gM=vM.String,yLe=vM.isFinite,bLe=Math.abs,xLe=Math.floor,f7=Math.pow,_Le=Math.round,md=yM(1 .toExponential),wLe=yM(mLe),h7=yM("".slice),d7=md(-69e-12,4)==="-6.9000e-11"&&md(1.255,2)==="1.25e+0"&&md(12345,3)==="1.235e+4"&&md(25,0)==="3e+1",SLe=Kk(function(){md(1,1/0)})&&Kk(function(){md(1,-1/0)}),kLe=!Kk(function(){md(1/0,1/0)})&&!Kk(function(){md(NaN,1/0)}),CLe=!d7||!SLe||!kLe;hLe({target:"Number",proto:!0,forced:CLe},{toExponential:function(e){var t=pLe(this);if(e===void 0)return md(t);var n=dLe(e);if(!yLe(t))return gM(t);if(n<0||n>20)throw vLe("Incorrect fraction digits");if(d7)return md(t,n);var i="",a="",l=0,h="",b="";if(t<0&&(i="-",t=-t),t===0)l=0,a=wLe("0",n+1);else{var S=gLe(t);l=xLe(S);var E=0,O=f7(10,l-n);E=_Le(t/O),2*t>=(2*E+1)*O&&(E+=1),E>=f7(10,n+1)&&(E/=10,l+=1),a=gM(E)}return n!==0&&(a=h7(a,0,1)+"."+h7(a,1)),l===0?(h="+",b="0"):(h=l>0?"+":"-",b=gM(bLe(l))),a+="e"+h+b,i+a}})});var _7=fe(()=>{"use strict";var ELe=Ft(),y7=mr(),_M=Wr(),TLe=nl(),ALe=i_(),DLe=Zx(),m7=jr(),OLe=y7.RangeError,b7=y7.String,x7=Math.floor,xM=_M(DLe),g7=_M("".slice),l_=_M(1 .toFixed),nb=function(r,e,t){return e===0?t:e%2===1?nb(r,e-1,t*r):nb(r*r,e/2,t)},ILe=function(r){for(var e=0,t=r;t>=4096;)e+=12,t/=4096;for(;t>=2;)e+=1,t/=2;return e},rb=function(r,e,t){for(var n=-1,i=t;++n<6;)i+=e*r[n],r[n]=i%1e7,i=x7(i/1e7)},bM=function(r,e){for(var t=6,n=0;--t>=0;)n+=r[t],r[t]=x7(n/e),n=n%e*1e7},v7=function(r){for(var e=6,t="";--e>=0;)if(t!==""||e===0||r[e]!==0){var n=b7(r[e]);t=t===""?n:t+xM("0",7-n.length)+n}return t},MLe=m7(function(){return l_(8e-5,3)!=="0.000"||l_(.9,0)!=="1"||l_(1.255,2)!=="1.25"||l_(1000000000000000100,0)!=="1000000000000000128"})||!m7(function(){l_({})});ELe({target:"Number",proto:!0,forced:MLe},{toFixed:function(e){var t=ALe(this),n=TLe(e),i=[0,0,0,0,0,0],a="",l="0",h,b,S,E;if(n<0||n>20)throw OLe("Incorrect fraction digits");if(t!=t)return"NaN";if(t<=-1e21||t>=1e21)return b7(t);if(t<0&&(a="-",t=-t),t>1e-21)if(h=ILe(t*nb(2,69,1))-69,b=h<0?t*nb(2,-h,1):t/nb(2,h,1),b*=4503599627370496,h=52-h,h>0){for(rb(i,0,b),S=n;S>=7;)rb(i,1e7,0),S-=7;for(rb(i,nb(10,S,1),0),S=h-1;S>=23;)bM(i,1<<23),S-=23;bM(i,1<<S),rb(i,1,1),bM(i,2),l=v7(i)}else rb(i,0,b),rb(i,1<<-h,0),l=v7(i)+xM("0",n);return n>0?(E=l.length,l=a+(E<=n?"0."+xM("0",n-E)+l:g7(l,0,E-n)+"."+g7(l,E-n))):l=a+l,l}})});var k7=fe(()=>{"use strict";var PLe=Ft(),LLe=Wr(),w7=jr(),S7=i_(),Yk=LLe(1 .toPrecision),RLe=w7(function(){return Yk(1,void 0)!=="1"})||!w7(function(){Yk({})});PLe({target:"Number",proto:!0,forced:RLe},{toPrecision:function(e){return e===void 0?Yk(S7(this)):Yk(S7(this),e)}})});var SM=fe((Tmt,T7)=>{"use strict";var C7=pi(),FLe=Wr(),qLe=io(),zLe=jr(),wM=By(),NLe=ZS(),BLe=kx(),jLe=zo(),ULe=Ly(),ib=Object.assign,E7=Object.defineProperty,HLe=FLe([].concat);T7.exports=!ib||zLe(function(){if(C7&&ib({b:1},ib(E7({},"a",{enumerable:!0,get:function(){E7(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},e={},t=Symbol(),n="abcdefghijklmnopqrst";return r[t]=7,n.split("").forEach(function(i){e[i]=i}),ib({},r)[t]!=7||wM(ib({},e)).join("")!=n})?function(e,t){for(var n=jLe(e),i=arguments.length,a=1,l=NLe.f,h=BLe.f;i>a;)for(var b=ULe(arguments[a++]),S=l?HLe(wM(b),l(b)):wM(b),E=S.length,O=0,P;E>O;)P=S[O++],(!C7||qLe(h,b,P))&&(n[P]=b[P]);return n}:ib});var D7=fe(()=>{var WLe=Ft(),A7=SM();WLe({target:"Object",stat:!0,forced:Object.assign!==A7},{assign:A7})});var O7=fe(()=>{var VLe=Ft(),$Le=pi(),GLe=gc();VLe({target:"Object",stat:!0,sham:!$Le},{create:GLe})});var u_=fe((Mmt,M7)=>{"use strict";var KLe=wl(),YLe=mr(),ZLe=jr(),I7=kk();M7.exports=KLe||!ZLe(function(){if(!(I7&&I7<535)){var r=Math.random();__defineSetter__.call(null,r,function(){}),delete YLe[r]}})});var P7=fe(()=>{"use strict";var XLe=Ft(),JLe=pi(),QLe=u_(),eRe=Wl(),tRe=zo(),rRe=ao();JLe&&XLe({target:"Object",proto:!0,forced:QLe},{__defineGetter__:function(e,t){rRe.f(tRe(this),e,{get:eRe(t),enumerable:!0,configurable:!0})}})});var R7=fe(()=>{var nRe=Ft(),iRe=pi(),L7=jy().f;nRe({target:"Object",stat:!0,forced:Object.defineProperties!==L7,sham:!iRe},{defineProperties:L7})});var q7=fe(()=>{var oRe=Ft(),aRe=pi(),F7=ao().f;oRe({target:"Object",stat:!0,forced:Object.defineProperty!==F7,sham:!aRe},{defineProperty:F7})});var z7=fe(()=>{"use strict";var sRe=Ft(),lRe=pi(),uRe=u_(),cRe=Wl(),fRe=zo(),hRe=ao();lRe&&sRe({target:"Object",proto:!0,forced:uRe},{__defineSetter__:function(e,t){hRe.f(fRe(this),e,{set:cRe(t),enumerable:!0,configurable:!0})}})});var kM=fe((jmt,j7)=>{var dRe=pi(),B7=Wr(),pRe=By(),mRe=Bu(),gRe=kx().f,vRe=B7(gRe),yRe=B7([].push),N7=function(r){return function(e){for(var t=mRe(e),n=pRe(t),i=n.length,a=0,l=[],h;i>a;)h=n[a++],(!dRe||vRe(t,h))&&yRe(l,r?[h,t[h]]:t[h]);return l}};j7.exports={entries:N7(!0),values:N7(!1)}});var U7=fe(()=>{var bRe=Ft(),xRe=kM().entries;bRe({target:"Object",stat:!0},{entries:function(e){return xRe(e)}})});var H7=fe(()=>{var _Re=Ft(),wRe=tb(),SRe=jr(),kRe=Ei(),CRe=Dm().onFreeze,CM=Object.freeze,ERe=SRe(function(){CM(1)});_Re({target:"Object",stat:!0,forced:ERe,sham:!wRe},{freeze:function(e){return CM&&kRe(e)?CM(CRe(e)):e}})});var W7=fe(()=>{var TRe=Ft(),ARe=cd(),DRe=ld();TRe({target:"Object",stat:!0},{fromEntries:function(e){var t={};return ARe(e,function(n,i){DRe(t,n,i)},{AS_ENTRIES:!0}),t}})});var G7=fe(()=>{var ORe=Ft(),IRe=jr(),MRe=Bu(),V7=Vl().f,$7=pi(),PRe=IRe(function(){V7(1)}),LRe=!$7||PRe;ORe({target:"Object",stat:!0,forced:LRe,sham:!$7},{getOwnPropertyDescriptor:function(e,t){return V7(MRe(e),t)}})});var K7=fe(()=>{var RRe=Ft(),FRe=pi(),qRe=XS(),zRe=Bu(),NRe=Vl(),BRe=ld();RRe({target:"Object",stat:!0,sham:!FRe},{getOwnPropertyDescriptors:function(e){for(var t=zRe(e),n=NRe.f,i=qRe(t),a={},l=0,h,b;i.length>l;)b=n(t,h=i[l++]),b!==void 0&&BRe(a,h,b);return a}})});var Y7=fe(()=>{var jRe=Ft(),URe=jr(),HRe=rk().f,WRe=URe(function(){return!Object.getOwnPropertyNames(1)});jRe({target:"Object",stat:!0,forced:WRe},{getOwnPropertyNames:HRe})});var X7=fe(()=>{var VRe=Ft(),$Re=jr(),GRe=zo(),Z7=Xc(),KRe=hk(),YRe=$Re(function(){Z7(1)});VRe({target:"Object",stat:!0,forced:YRe,sham:!KRe},{getPrototypeOf:function(e){return Z7(GRe(e))}})});var J7=fe(()=>{var ZRe=Ft(),XRe=oo();ZRe({target:"Object",stat:!0},{hasOwn:XRe})});var EM=fe((igt,Q7)=>{Q7.exports=Object.is||function(e,t){return e===t?e!==0||1/e===1/t:e!=e&&t!=t}});var e$=fe(()=>{var JRe=Ft(),QRe=EM();JRe({target:"Object",stat:!0},{is:QRe})});var r$=fe(()=>{var eFe=Ft(),t$=Qx();eFe({target:"Object",stat:!0,forced:Object.isExtensible!==t$},{isExtensible:t$})});var i$=fe(()=>{var tFe=Ft(),rFe=jr(),nFe=Ei(),iFe=hc(),n$=zk(),TM=Object.isFrozen,oFe=rFe(function(){TM(1)});tFe({target:"Object",stat:!0,forced:oFe||n$},{isFrozen:function(e){return!nFe(e)||n$&&iFe(e)=="ArrayBuffer"?!0:TM?TM(e):!1}})});var a$=fe(()=>{var aFe=Ft(),sFe=jr(),lFe=Ei(),uFe=hc(),o$=zk(),AM=Object.isSealed,cFe=sFe(function(){AM(1)});aFe({target:"Object",stat:!0,forced:cFe||o$},{isSealed:function(e){return!lFe(e)||o$&&uFe(e)=="ArrayBuffer"?!0:AM?AM(e):!1}})});var l$=fe(()=>{var fFe=Ft(),hFe=zo(),s$=By(),dFe=jr(),pFe=dFe(function(){s$(1)});fFe({target:"Object",stat:!0,forced:pFe},{keys:function(e){return s$(hFe(e))}})});var u$=fe(()=>{"use strict";var mFe=Ft(),gFe=pi(),vFe=u_(),yFe=zo(),bFe=up(),xFe=Xc(),_Fe=Vl().f;gFe&&mFe({target:"Object",proto:!0,forced:vFe},{__lookupGetter__:function(e){var t=yFe(this),n=bFe(e),i;do if(i=_Fe(t,n))return i.get;while(t=xFe(t))}})});var c$=fe(()=>{"use strict";var wFe=Ft(),SFe=pi(),kFe=u_(),CFe=zo(),EFe=up(),TFe=Xc(),AFe=Vl().f;SFe&&wFe({target:"Object",proto:!0,forced:kFe},{__lookupSetter__:function(e){var t=CFe(this),n=EFe(e),i;do if(i=AFe(t,n))return i.set;while(t=TFe(t))}})});var f$=fe(()=>{var DFe=Ft(),OFe=Ei(),IFe=Dm().onFreeze,MFe=tb(),PFe=jr(),DM=Object.preventExtensions,LFe=PFe(function(){DM(1)});DFe({target:"Object",stat:!0,forced:LFe,sham:!MFe},{preventExtensions:function(e){return DM&&OFe(e)?DM(IFe(e)):e}})});var h$=fe(()=>{var RFe=Ft(),FFe=Ei(),qFe=Dm().onFreeze,zFe=tb(),NFe=jr(),OM=Object.seal,BFe=NFe(function(){OM(1)});RFe({target:"Object",stat:!0,forced:BFe,sham:!zFe},{seal:function(e){return OM&&FFe(e)?OM(qFe(e)):e}})});var d$=fe(()=>{var jFe=Ft(),UFe=gh();jFe({target:"Object",stat:!0},{setPrototypeOf:UFe})});var m$=fe((Cgt,p$)=>{"use strict";var HFe=JS(),WFe=fp();p$.exports=HFe?{}.toString:function(){return"[object "+WFe(this)+"]"}});var g$=fe(()=>{var VFe=JS(),$Fe=Qa(),GFe=m$();VFe||$Fe(Object.prototype,"toString",GFe,{unsafe:!0})});var v$=fe(()=>{var KFe=Ft(),YFe=kM().values;KFe({target:"Object",stat:!0},{values:function(e){return YFe(e)}})});var b$=fe(()=>{var ZFe=Ft(),y$=pM();ZFe({global:!0,forced:parseFloat!=y$},{parseFloat:y$})});var _$=fe(()=>{var XFe=Ft(),x$=mM();XFe({global:!0,forced:parseInt!=x$},{parseInt:x$})});var IM=fe((Lgt,w$)=>{var JFe=mr();w$.exports=JFe.Promise});var _p=fe((Rgt,S$)=>{var QFe=mr(),eqe=QFe.TypeError;S$.exports=function(r,e){if(r<e)throw eqe("Not enough arguments");return r}});var MM=fe((Fgt,k$)=>{var tqe=od();k$.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(tqe)});var Zk=fe((qgt,M$)=>{var Qc=mr(),rqe=mc(),nqe=mh(),C$=Gi(),iqe=oo(),oqe=jr(),E$=vO(),aqe=bm(),T$=Ex(),sqe=_p(),lqe=MM(),uqe=Sm(),zM=Qc.setImmediate,NM=Qc.clearImmediate,cqe=Qc.process,PM=Qc.Dispatch,fqe=Qc.Function,A$=Qc.MessageChannel,hqe=Qc.String,LM=0,c_={},D$="onreadystatechange",f_,tv,RM,FM;try{f_=Qc.location}catch{}var BM=function(r){if(iqe(c_,r)){var e=c_[r];delete c_[r],e()}},qM=function(r){return function(){BM(r)}},O$=function(r){BM(r.data)},I$=function(r){Qc.postMessage(hqe(r),f_.protocol+"//"+f_.host)};(!zM||!NM)&&(zM=function(e){sqe(arguments.length,1);var t=C$(e)?e:fqe(e),n=aqe(arguments,1);return c_[++LM]=function(){rqe(t,void 0,n)},tv(LM),LM},NM=function(e){delete c_[e]},uqe?tv=function(r){cqe.nextTick(qM(r))}:PM&&PM.now?tv=function(r){PM.now(qM(r))}:A$&&!lqe?(RM=new A$,FM=RM.port2,RM.port1.onmessage=O$,tv=nqe(FM.postMessage,FM)):Qc.addEventListener&&C$(Qc.postMessage)&&!Qc.importScripts&&f_&&f_.protocol!=="file:"&&!oqe(I$)?(tv=I$,Qc.addEventListener("message",O$,!1)):D$ in T$("script")?tv=function(r){E$.appendChild(T$("script"))[D$]=function(){E$.removeChild(this),BM(r)}}:tv=function(r){setTimeout(qM(r),0)});M$.exports={set:zM,clear:NM}});var L$=fe((zgt,P$)=>{var dqe=od(),pqe=mr();P$.exports=/ipad|iphone|ipod/i.test(dqe)&&pqe.Pebble!==void 0});var F$=fe((Ngt,R$)=>{var mqe=od();R$.exports=/web0s(?!.*chrome)/i.test(mqe)});var VM=fe((Bgt,W$)=>{var nv=mr(),q$=mh(),gqe=Vl().f,jM=Zk().set,vqe=MM(),yqe=L$(),bqe=F$(),UM=Sm(),z$=nv.MutationObserver||nv.WebKitMutationObserver,N$=nv.document,B$=nv.process,Xk=nv.Promise,j$=gqe(nv,"queueMicrotask"),H$=j$&&j$.value,h_,rv,d_,ob,HM,WM,Jk,U$;H$||(h_=function(){var r,e;for(UM&&(r=B$.domain)&&r.exit();rv;){e=rv.fn,rv=rv.next;try{e()}catch(t){throw rv?ob():d_=void 0,t}}d_=void 0,r&&r.enter()},!vqe&&!UM&&!bqe&&z$&&N$?(HM=!0,WM=N$.createTextNode(""),new z$(h_).observe(WM,{characterData:!0}),ob=function(){WM.data=HM=!HM}):!yqe&&Xk&&Xk.resolve?(Jk=Xk.resolve(void 0),Jk.constructor=Xk,U$=q$(Jk.then,Jk),ob=function(){U$(h_)}):UM?ob=function(){B$.nextTick(h_)}:(jM=q$(jM,nv),ob=function(){jM(h_)}));W$.exports=H$||function(r){var e={fn:r,next:void 0};d_&&(d_.next=e),rv||(rv=e,ob()),d_=e}});var p_=fe((jgt,$$)=>{"use strict";var V$=Wl(),xqe=function(r){var e,t;this.promise=new r(function(n,i){if(e!==void 0||t!==void 0)throw TypeError("Bad Promise constructor");e=n,t=i}),this.resolve=V$(e),this.reject=V$(t)};$$.exports.f=function(r){return new xqe(r)}});var $M=fe((Ugt,G$)=>{var _qe=ci(),wqe=Ei(),Sqe=p_();G$.exports=function(r,e){if(_qe(r),wqe(e)&&e.constructor===r)return e;var t=Sqe.f(r),n=t.resolve;return n(e),t.promise}});var Y$=fe((Hgt,K$)=>{var kqe=mr();K$.exports=function(r,e){var t=kqe.console;t&&t.error&&(arguments.length==1?t.error(r):t.error(r,e))}});var Qk=fe((Wgt,Z$)=>{Z$.exports=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}}});var Q$=fe((Vgt,J$)=>{var X$=function(){this.head=null,this.tail=null};X$.prototype={add:function(r){var e={item:r,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var r=this.head;if(r)return this.head=r.next,this.tail===r&&(this.tail=null),r.item}};J$.exports=X$});var tG=fe(($gt,eG)=>{eG.exports=typeof window=="object"});var wG=fe(()=>{"use strict";var iC=Ft(),tC=wl(),wp=mr(),Cqe=Ra(),Sp=io(),rC=IM(),rG=Qa(),Eqe=Kg(),nG=gh(),Tqe=Zc(),Aqe=Gg(),GM=Wl(),m_=Gi(),Dqe=Ei(),Oqe=vh(),Iqe=Tx(),iG=cd(),Mqe=Hx(),Pqe=Xg(),fG=Zk().set,JM=VM(),Lqe=$M(),Rqe=Y$(),hG=p_(),KM=Qk(),Fqe=Q$(),QM=rl(),qqe=Ny(),zqe=Mi(),Nqe=tG(),nC=Sm(),oG=lp(),Bqe=zqe("species"),gd="Promise",aG=QM.getterFor(gd),jqe=QM.set,Uqe=QM.getterFor(gd),iv=rC&&rC.prototype,Tf=rC,ab=iv,dG=wp.TypeError,YM=wp.document,eP=wp.process,ub=hG.f,Hqe=ub,Wqe=!!(YM&&YM.createEvent&&wp.dispatchEvent),pG=m_(wp.PromiseRejectionEvent),mG="unhandledrejection",Vqe="rejectionhandled",sG=0,gG=1,$qe=2,tP=1,vG=2,ZM=!1,eC,lG,rP,uG,g_=qqe(gd,function(){var r=Iqe(Tf),e=r!==String(Tf);if(!e&&oG===66||tC&&!ab.finally)return!0;if(oG>=51&&/native code/.test(r))return!1;var t=new Tf(function(a){a(1)}),n=function(a){a(function(){},function(){})},i=t.constructor={};return i[Bqe]=n,ZM=t.then(function(){})instanceof n,ZM?!e&&Nqe&&!pG:!0}),Gqe=g_||!Mqe(function(r){Tf.all(r).catch(function(){})}),yG=function(r){var e;return Dqe(r)&&m_(e=r.then)?e:!1},bG=function(r,e){var t=e.value,n=e.state==gG,i=n?r.ok:r.fail,a=r.resolve,l=r.reject,h=r.domain,b,S,E;try{i?(n||(e.rejection===vG&&Yqe(e),e.rejection=tP),i===!0?b=t:(h&&h.enter(),b=i(t),h&&(h.exit(),E=!0)),b===r.promise?l(dG("Promise-chain cycle")):(S=yG(b))?Sp(S,b,a,l):a(b)):l(t)}catch(O){h&&!E&&h.exit(),l(O)}},xG=function(r,e){r.notified||(r.notified=!0,JM(function(){for(var t=r.reactions,n;n=t.get();)bG(n,r);r.notified=!1,e&&!r.rejection&&Kqe(r)}))},_G=function(r,e,t){var n,i;Wqe?(n=YM.createEvent("Event"),n.promise=e,n.reason=t,n.initEvent(r,!1,!0),wp.dispatchEvent(n)):n={promise:e,reason:t},!pG&&(i=wp["on"+r])?i(n):r===mG&&Rqe("Unhandled promise rejection",t)},Kqe=function(r){Sp(fG,wp,function(){var e=r.facade,t=r.value,n=cG(r),i;if(n&&(i=KM(function(){nC?eP.emit("unhandledRejection",t,e):_G(mG,e,t)}),r.rejection=nC||cG(r)?vG:tP,i.error))throw i.value})},cG=function(r){return r.rejection!==tP&&!r.parent},Yqe=function(r){Sp(fG,wp,function(){var e=r.facade;nC?eP.emit("rejectionHandled",e):_G(Vqe,e,r.value)})},sb=function(r,e,t){return function(n){r(e,n,t)}},lb=function(r,e,t){r.done||(r.done=!0,t&&(r=t),r.value=e,r.state=$qe,xG(r,!0))},XM=function(r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(r.facade===e)throw dG("Promise can't be resolved itself");var n=yG(e);n?JM(function(){var i={done:!1};try{Sp(n,e,sb(XM,i,r),sb(lb,i,r))}catch(a){lb(i,a,r)}}):(r.value=e,r.state=gG,xG(r,!1))}catch(i){lb({done:!1},i,r)}}};if(g_&&(Tf=function(e){Oqe(this,ab),GM(e),Sp(eC,this);var t=aG(this);try{e(sb(XM,t),sb(lb,t))}catch(n){lb(t,n)}},ab=Tf.prototype,eC=function(e){jqe(this,{type:gd,done:!1,notified:!1,parent:!1,reactions:new Fqe,rejection:!1,state:sG,value:void 0})},eC.prototype=Eqe(ab,{then:function(e,t){var n=Uqe(this),i=ub(Pqe(this,Tf));return n.parent=!0,i.ok=m_(e)?e:!0,i.fail=m_(t)&&t,i.domain=nC?eP.domain:void 0,n.state==sG?n.reactions.add(i):JM(function(){bG(i,n)}),i.promise},catch:function(r){return this.then(void 0,r)}}),lG=function(){var r=new eC,e=aG(r);this.promise=r,this.resolve=sb(XM,e),this.reject=sb(lb,e)},hG.f=ub=function(r){return r===Tf||r===rP?new lG(r):Hqe(r)},!tC&&m_(rC)&&iv!==Object.prototype)){uG=iv.then,ZM||(rG(iv,"then",function(e,t){var n=this;return new Tf(function(i,a){Sp(uG,n,i,a)}).then(e,t)},{unsafe:!0}),rG(iv,"catch",ab.catch,{unsafe:!0}));try{delete iv.constructor}catch{}nG&&nG(iv,ab)}iC({global:!0,wrap:!0,forced:g_},{Promise:Tf});Tqe(Tf,gd,!1,!0);Aqe(gd);rP=Cqe(gd);iC({target:gd,stat:!0,forced:g_},{reject:function(e){var t=ub(this);return Sp(t.reject,void 0,e),t.promise}});iC({target:gd,stat:!0,forced:tC||g_},{resolve:function(e){return Lqe(tC&&this===rP?Tf:this,e)}});iC({target:gd,stat:!0,forced:Gqe},{all:function(e){var t=this,n=ub(t),i=n.resolve,a=n.reject,l=KM(function(){var h=GM(t.resolve),b=[],S=0,E=1;iG(e,function(O){var P=S++,q=!1;E++,Sp(h,t,O).then(function(z){q||(q=!0,b[P]=z,--E||i(b))},a)}),--E||i(b)});return l.error&&a(l.value),n.promise},race:function(e){var t=this,n=ub(t),i=n.reject,a=KM(function(){var l=GM(t.resolve);iG(e,function(h){Sp(l,t,h).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}})});var SG=fe(()=>{"use strict";var Zqe=Ft(),Xqe=io(),Jqe=Wl(),Qqe=p_(),e3e=Qk(),t3e=cd();Zqe({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Qqe.f(t),i=n.resolve,a=n.reject,l=e3e(function(){var h=Jqe(t.resolve),b=[],S=0,E=1;t3e(e,function(O){var P=S++,q=!1;E++,Xqe(h,t,O).then(function(z){q||(q=!0,b[P]={status:"fulfilled",value:z},--E||i(b))},function(z){q||(q=!0,b[P]={status:"rejected",reason:z},--E||i(b))})}),--E||i(b)});return l.error&&a(l.value),n.promise}})});var CG=fe(()=>{"use strict";var r3e=Ft(),n3e=Wl(),i3e=Ra(),o3e=io(),a3e=p_(),s3e=Qk(),l3e=cd(),kG="No one promise resolved";r3e({target:"Promise",stat:!0},{any:function(e){var t=this,n=i3e("AggregateError"),i=a3e.f(t),a=i.resolve,l=i.reject,h=s3e(function(){var b=n3e(t.resolve),S=[],E=0,O=1,P=!1;l3e(e,function(q){var z=E++,N=!1;O++,o3e(b,t,q).then(function(V){N||P||(P=!0,a(V))},function(V){N||P||(N=!0,S[z]=V,--O||l(new n(S,kG)))})}),--O||l(new n(S,kG))});return h.error&&l(h.value),i.promise}})});var DG=fe(()=>{"use strict";var u3e=Ft(),c3e=wl(),v_=IM(),f3e=jr(),TG=Ra(),AG=Gi(),h3e=Xg(),EG=$M(),d3e=Qa(),p3e=!!v_&&f3e(function(){v_.prototype.finally.call({then:function(){}},function(){})});u3e({target:"Promise",proto:!0,real:!0,forced:p3e},{finally:function(r){var e=h3e(this,TG("Promise")),t=AG(r);return this.then(t?function(n){return EG(e,r()).then(function(){return n})}:r,t?function(n){return EG(e,r()).then(function(){throw n})}:r)}});!c3e&&AG(v_)&&(nP=TG("Promise").prototype.finally,v_.prototype.finally!==nP&&d3e(v_.prototype,"finally",nP,{unsafe:!0}));var nP});var OG=fe(()=>{var m3e=Ft(),g3e=mc(),v3e=Wl(),y3e=ci(),b3e=jr(),x3e=!b3e(function(){Reflect.apply(function(){})});m3e({target:"Reflect",stat:!0,forced:x3e},{apply:function(e,t,n){return g3e(v3e(e),t,y3e(n))}})});var qG=fe(()=>{var _3e=Ft(),w3e=Ra(),iP=mc(),S3e=YI(),IG=Lk(),k3e=ci(),MG=Ei(),C3e=gc(),LG=jr(),oP=w3e("Reflect","construct"),E3e=Object.prototype,T3e=[].push,RG=LG(function(){function r(){}return!(oP(function(){},[],r)instanceof r)}),FG=!LG(function(){oP(function(){})}),PG=RG||FG;_3e({target:"Reflect",stat:!0,forced:PG,sham:PG},{construct:function(e,t){IG(e),k3e(t);var n=arguments.length<3?e:IG(arguments[2]);if(FG&&!RG)return oP(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return iP(T3e,i,t),new(iP(S3e,e,i))}var a=n.prototype,l=C3e(MG(a)?a:E3e),h=iP(e,l,t);return MG(h)?h:l}})});var BG=fe(()=>{var A3e=Ft(),D3e=pi(),zG=ci(),O3e=up(),NG=ao(),I3e=jr(),M3e=I3e(function(){Reflect.defineProperty(NG.f({},1,{value:1}),1,{value:2})});A3e({target:"Reflect",stat:!0,forced:M3e,sham:!D3e},{defineProperty:function(e,t,n){zG(e);var i=O3e(t);zG(n);try{return NG.f(e,i,n),!0}catch{return!1}}})});var jG=fe(()=>{var P3e=Ft(),L3e=ci(),R3e=Vl().f;P3e({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=R3e(L3e(e),t);return n&&!n.configurable?!1:delete e[t]}})});var aP=fe((uvt,HG)=>{var UG=oo();HG.exports=function(r){return r!==void 0&&(UG(r,"value")||UG(r,"writable"))}});var VG=fe(()=>{var F3e=Ft(),q3e=io(),z3e=Ei(),N3e=ci(),B3e=aP(),j3e=Vl(),U3e=Xc();function WG(r,e){var t=arguments.length<3?r:arguments[2],n,i;if(N3e(r)===t)return r[e];if(n=j3e.f(r,e),n)return B3e(n)?n.value:n.get===void 0?void 0:q3e(n.get,t);if(z3e(i=U3e(r)))return WG(i,e,t)}F3e({target:"Reflect",stat:!0},{get:WG})});var $G=fe(()=>{var H3e=Ft(),W3e=pi(),V3e=ci(),$3e=Vl();H3e({target:"Reflect",stat:!0,sham:!W3e},{getOwnPropertyDescriptor:function(e,t){return $3e.f(V3e(e),t)}})});var GG=fe(()=>{var G3e=Ft(),K3e=ci(),Y3e=Xc(),Z3e=hk();G3e({target:"Reflect",stat:!0,sham:!Z3e},{getPrototypeOf:function(e){return Y3e(K3e(e))}})});var KG=fe(()=>{var X3e=Ft();X3e({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})});var YG=fe(()=>{var J3e=Ft(),Q3e=ci(),eze=Qx();J3e({target:"Reflect",stat:!0},{isExtensible:function(e){return Q3e(e),eze(e)}})});var ZG=fe(()=>{var tze=Ft(),rze=XS();tze({target:"Reflect",stat:!0},{ownKeys:rze})});var XG=fe(()=>{var nze=Ft(),ize=Ra(),oze=ci(),aze=tb();nze({target:"Reflect",stat:!0,sham:!aze},{preventExtensions:function(e){oze(e);try{var t=ize("Object","preventExtensions");return t&&t(e),!0}catch{return!1}}})});var rK=fe(()=>{var sze=Ft(),lze=io(),uze=ci(),JG=Ei(),cze=aP(),fze=jr(),sP=ao(),QG=Vl(),hze=Xc(),eK=Yc();function tK(r,e,t){var n=arguments.length<4?r:arguments[3],i=QG.f(uze(r),e),a,l,h;if(!i){if(JG(l=hze(r)))return tK(l,e,t,n);i=eK(0)}if(cze(i)){if(i.writable===!1||!JG(n))return!1;if(a=QG.f(n,e)){if(a.get||a.set||a.writable===!1)return!1;a.value=t,sP.f(n,e,a)}else sP.f(n,e,eK(0,t))}else{if(h=i.set,h===void 0)return!1;lze(h,n,t)}return!0}var dze=fze(function(){var r=function(){},e=sP.f(new r,"a",{configurable:!0});return Reflect.set(r.prototype,"a",1,e)!==!1});sze({target:"Reflect",stat:!0,forced:dze},{set:tK})});var iK=fe(()=>{var pze=Ft(),mze=ci(),gze=jO(),nK=gh();nK&&pze({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){mze(e),gze(t);try{return nK(e,t),!0}catch{return!1}}})});var oK=fe(()=>{var vze=Ft(),yze=mr(),bze=Zc();vze({global:!0},{Reflect:{}});bze(yze.Reflect,"Reflect",!0)});var cb=fe((Ovt,aK)=>{var xze=Ei(),_ze=hc(),wze=Mi(),Sze=wze("match");aK.exports=function(r){var e;return xze(r)&&((e=r[Sze])!==void 0?!!e:_ze(r)=="RegExp")}});var Im=fe((Ivt,sK)=>{"use strict";var kze=ci();sK.exports=function(){var r=kze(this),e="";return r.global&&(e+="g"),r.ignoreCase&&(e+="i"),r.multiline&&(e+="m"),r.dotAll&&(e+="s"),r.unicode&&(e+="u"),r.sticky&&(e+="y"),e}});var y_=fe((Mvt,lK)=>{var lP=jr(),Cze=mr(),uP=Cze.RegExp,cP=lP(function(){var r=uP("a","y");return r.lastIndex=2,r.exec("abcd")!=null}),Eze=cP||lP(function(){return!uP("a","y").sticky}),Tze=cP||lP(function(){var r=uP("^r","gy");return r.lastIndex=2,r.exec("str")!=null});lK.exports={BROKEN_CARET:Tze,MISSED_STICKY:Eze,UNSUPPORTED_Y:cP}});var oC=fe((Pvt,uK)=>{var Aze=jr(),Dze=mr(),Oze=Dze.RegExp;uK.exports=Aze(function(){var r=Oze(".","s");return!(r.dotAll&&r.exec(`
`)&&r.flags==="s")})});var fP=fe((Lvt,cK)=>{var Ize=jr(),Mze=mr(),Pze=Mze.RegExp;cK.exports=Ize(function(){var r=Pze("(?<a>b)","g");return r.exec("b").groups.a!=="b"||"b".replace(r,"$<a>c")!=="bc"})});var xK=fe(()=>{var Lze=pi(),mP=mr(),hb=Wr(),Rze=Ny(),Fze=Vg(),qze=bu(),zze=ao().f,Nze=cp().f,fK=dc(),Bze=cb(),hK=qi(),jze=Im(),gK=y_(),Uze=Qa(),Hze=jr(),Wze=oo(),Vze=rl().enforce,$ze=Gg(),Gze=Mi(),vK=oC(),yK=fP(),Kze=Gze("match"),Cp=mP.RegExp,fb=Cp.prototype,Yze=mP.SyntaxError,Zze=hb(jze),Xze=hb(fb.exec),aC=hb("".charAt),dK=hb("".replace),pK=hb("".indexOf),Jze=hb("".slice),Qze=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,ov=/a/g,hP=/a/g,eNe=new Cp(ov)!==ov,bK=gK.MISSED_STICKY,tNe=gK.UNSUPPORTED_Y,rNe=Lze&&(!eNe||bK||vK||yK||Hze(function(){return hP[Kze]=!1,Cp(ov)!=ov||Cp(hP)==hP||Cp(ov,"i")!="/a/i"})),nNe=function(r){for(var e=r.length,t=0,n="",i=!1,a;t<=e;t++){if(a=aC(r,t),a==="\\"){n+=a+aC(r,++t);continue}!i&&a==="."?n+="[\\s\\S]":(a==="["?i=!0:a==="]"&&(i=!1),n+=a)}return n},iNe=function(r){for(var e=r.length,t=0,n="",i=[],a={},l=!1,h=!1,b=0,S="",E;t<=e;t++){if(E=aC(r,t),E==="\\")E=E+aC(r,++t);else if(E==="]")l=!1;else if(!l)switch(!0){case E==="[":l=!0;break;case E==="(":Xze(Qze,Jze(r,t+1))&&(t+=2,h=!0),n+=E,b++;continue;case(E===">"&&h):if(S===""||Wze(a,S))throw new Yze("Invalid capture group name");a[S]=!0,i[i.length]=[S,b],h=!1,S="";continue}h?S+=E:n+=E}return[n,i]};if(Rze("RegExp",rNe)){for(kp=function(e,t){var n=fK(fb,this),i=Bze(e),a=t===void 0,l=[],h=e,b,S,E,O,P,q;if(!n&&i&&a&&e.constructor===kp)return e;if((i||fK(fb,e))&&(e=e.source,a&&(t="flags"in h?h.flags:Zze(h))),e=e===void 0?"":hK(e),t=t===void 0?"":hK(t),h=e,vK&&"dotAll"in ov&&(S=!!t&&pK(t,"s")>-1,S&&(t=dK(t,/s/g,""))),b=t,bK&&"sticky"in ov&&(E=!!t&&pK(t,"y")>-1,E&&tNe&&(t=dK(t,/y/g,""))),yK&&(O=iNe(e),e=O[0],l=O[1]),P=Fze(Cp(e,t),n?this:fb,kp),(S||E||l.length)&&(q=Vze(P),S&&(q.dotAll=!0,q.raw=kp(nNe(e),b)),E&&(q.sticky=!0),l.length&&(q.groups=l)),e!==h)try{qze(P,"source",h===""?"(?:)":h)}catch{}return P},mK=function(r){r in kp||zze(kp,r,{configurable:!0,get:function(){return Cp[r]},set:function(e){Cp[r]=e}})},dP=Nze(Cp),pP=0;dP.length>pP;)mK(dP[pP++]);fb.constructor=kp,kp.prototype=fb,Uze(mP,"RegExp",kp)}var kp,mK,dP,pP;$ze("RegExp")});var wK=fe(()=>{var oNe=mr(),aNe=pi(),sNe=oC(),lNe=hc(),uNe=ao().f,cNe=rl().get,_K=RegExp.prototype,fNe=oNe.TypeError;aNe&&sNe&&uNe(_K,"dotAll",{configurable:!0,get:function(){if(this!==_K){if(lNe(this)==="RegExp")return!!cNe(this).dotAll;throw fNe("Incompatible receiver, RegExp required")}}})});var b_=fe((Nvt,kK)=>{"use strict";var db=io(),lC=Wr(),hNe=qi(),dNe=Im(),pNe=y_(),mNe=Cx(),gNe=gc(),vNe=rl().get,yNe=oC(),bNe=fP(),xNe=mNe("native-string-replace",String.prototype.replace),sC=RegExp.prototype.exec,vP=sC,_Ne=lC("".charAt),wNe=lC("".indexOf),SNe=lC("".replace),gP=lC("".slice),yP=function(){var r=/a/,e=/b*/g;return db(sC,r,"a"),db(sC,e,"a"),r.lastIndex!==0||e.lastIndex!==0}(),SK=pNe.BROKEN_CARET,bP=/()??/.exec("")[1]!==void 0,kNe=yP||bP||SK||yNe||bNe;kNe&&(vP=function(e){var t=this,n=vNe(t),i=hNe(e),a=n.raw,l,h,b,S,E,O,P;if(a)return a.lastIndex=t.lastIndex,l=db(vP,a,i),t.lastIndex=a.lastIndex,l;var q=n.groups,z=SK&&t.sticky,N=db(dNe,t),V=t.source,Y=0,J=i;if(z&&(N=SNe(N,"y",""),wNe(N,"g")===-1&&(N+="g"),J=gP(i,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&_Ne(i,t.lastIndex-1)!==`
`)&&(V="(?: "+V+")",J=" "+J,Y++),h=new RegExp("^(?:"+V+")",N)),bP&&(h=new RegExp("^"+V+"$(?!\\s)",N)),yP&&(b=t.lastIndex),S=db(sC,z?h:t,J),z?S?(S.input=gP(S.input,Y),S[0]=gP(S[0],Y),S.index=t.lastIndex,t.lastIndex+=S[0].length):t.lastIndex=0:yP&&S&&(t.lastIndex=t.global?S.index+S[0].length:b),bP&&S&&S.length>1&&db(xNe,S[0],h,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(S[E]=void 0)}),S&&q)for(S.groups=O=gNe(null),E=0;E<q.length;E++)P=q[E],O[P[0]]=S[P[1]];return S});kK.exports=vP});var uC=fe(()=>{"use strict";var CNe=Ft(),CK=b_();CNe({target:"RegExp",proto:!0,forced:/./.exec!==CK},{exec:CK})});var TK=fe(()=>{var ENe=pi(),TNe=ao(),ANe=Im(),DNe=jr(),EK=RegExp.prototype,ONe=ENe&&DNe(function(){return Object.getOwnPropertyDescriptor(EK,"flags").get.call({dotAll:!0,sticky:!0})!=="sy"});ONe&&TNe.f(EK,"flags",{configurable:!0,get:ANe})});var DK=fe(()=>{var INe=mr(),MNe=pi(),PNe=y_().MISSED_STICKY,LNe=hc(),RNe=ao().f,FNe=rl().get,AK=RegExp.prototype,qNe=INe.TypeError;MNe&&PNe&&RNe(AK,"sticky",{configurable:!0,get:function(){if(this!==AK){if(LNe(this)==="RegExp")return!!FNe(this).sticky;throw qNe("Incompatible receiver, RegExp required")}}})});var OK=fe(()=>{"use strict";uC();var zNe=Ft(),NNe=mr(),BNe=io(),jNe=Wr(),UNe=Gi(),HNe=Ei(),WNe=function(){var r=!1,e=/[ac]/;return e.exec=function(){return r=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&r}(),VNe=NNe.Error,$Ne=jNe(/./.test);zNe({target:"RegExp",proto:!0,forced:!WNe},{test:function(r){var e=this.exec;if(!UNe(e))return $Ne(this,r);var t=BNe(e,this,r);if(t!==null&&!HNe(t))throw new VNe("RegExp exec method returned something other than an Object or null");return!!t}})});var PK=fe(()=>{"use strict";var GNe=Wr(),KNe=jg().PROPER,YNe=Qa(),ZNe=ci(),XNe=dc(),IK=qi(),JNe=jr(),QNe=Im(),_P="toString",xP=RegExp.prototype,MK=xP[_P],eBe=GNe(QNe),tBe=JNe(function(){return MK.call({source:"a",flags:"b"})!="/a/b"}),rBe=KNe&&MK.name!=_P;(tBe||rBe)&&YNe(RegExp.prototype,_P,function(){var e=ZNe(this),t=IK(e.source),n=e.flags,i=IK(n===void 0&&XNe(xP,e)&&!("flags"in xP)?eBe(e):n);return"/"+t+"/"+i},{unsafe:!0})});var LK=fe(()=>{"use strict";var nBe=e_(),iBe=rM();nBe("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},iBe)});var RK=fe(()=>{"use strict";var oBe=Ft(),aBe=Wr(),sBe=tl(),lBe=nl(),uBe=qi(),cBe=jr(),fBe=aBe("".charAt),hBe=cBe(function(){return"\u{20BB7}".at(-2)!=="\uD842"});oBe({target:"String",proto:!0,forced:hBe},{at:function(e){var t=uBe(sBe(this)),n=t.length,i=lBe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:fBe(t,a)}})});var x_=fe((eyt,zK)=>{var wP=Wr(),dBe=nl(),pBe=qi(),mBe=tl(),gBe=wP("".charAt),FK=wP("".charCodeAt),vBe=wP("".slice),qK=function(r){return function(e,t){var n=pBe(mBe(e)),i=dBe(t),a=n.length,l,h;return i<0||i>=a?r?"":void 0:(l=FK(n,i),l<55296||l>56319||i+1===a||(h=FK(n,i+1))<56320||h>57343?r?gBe(n,i):l:r?vBe(n,i,i+2):(l-55296<<10)+(h-56320)+65536)}};zK.exports={codeAt:qK(!1),charAt:qK(!0)}});var NK=fe(()=>{"use strict";var yBe=Ft(),bBe=x_().codeAt;yBe({target:"String",proto:!0},{codePointAt:function(e){return bBe(this,e)}})});var cC=fe((nyt,BK)=>{var xBe=mr(),_Be=cb(),wBe=xBe.TypeError;BK.exports=function(r){if(_Be(r))throw wBe("The method doesn't accept regular expressions");return r}});var fC=fe((iyt,jK)=>{var SBe=Mi(),kBe=SBe("match");jK.exports=function(r){var e=/./;try{"/./"[r](e)}catch{try{return e[kBe]=!1,"/./"[r](e)}catch{}}return!1}});var $K=fe(()=>{"use strict";var CBe=Ft(),WK=Wr(),EBe=Vl().f,TBe=pc(),UK=qi(),ABe=cC(),DBe=tl(),OBe=fC(),IBe=wl(),HK=WK("".endsWith),MBe=WK("".slice),PBe=Math.min,VK=OBe("endsWith"),LBe=!IBe&&!VK&&!!function(){var r=EBe(String.prototype,"endsWith");return r&&!r.writable}();CBe({target:"String",proto:!0,forced:!LBe&&!VK},{endsWith:function(e){var t=UK(DBe(this));ABe(e);var n=arguments.length>1?arguments[1]:void 0,i=t.length,a=n===void 0?i:PBe(TBe(n),i),l=UK(e);return HK?HK(t,l,a):MBe(t,a-l.length,a)===l}})});var YK=fe(()=>{var RBe=Ft(),FBe=mr(),qBe=Wr(),zBe=sd(),NBe=FBe.RangeError,GK=String.fromCharCode,KK=String.fromCodePoint,BBe=qBe([].join),jBe=!!KK&&KK.length!=1;RBe({target:"String",stat:!0,forced:jBe},{fromCodePoint:function(e){for(var t=[],n=arguments.length,i=0,a;n>i;){if(a=+arguments[i++],zBe(a,1114111)!==a)throw NBe(a+" is not a valid code point");t[i]=a<65536?GK(a):GK(((a-=65536)>>10)+55296,a%1024+56320)}return BBe(t,"")}})});var XK=fe(()=>{"use strict";var UBe=Ft(),HBe=Wr(),WBe=cC(),VBe=tl(),ZK=qi(),$Be=fC(),GBe=HBe("".indexOf);UBe({target:"String",proto:!0,forced:!$Be("includes")},{includes:function(e){return!!~GBe(ZK(VBe(this)),ZK(WBe(e)),arguments.length>1?arguments[1]:void 0)}})});var SP=fe(()=>{"use strict";var KBe=x_().charAt,YBe=qi(),JK=rl(),ZBe=wk(),QK="String Iterator",XBe=JK.set,JBe=JK.getterFor(QK);ZBe(String,"String",function(r){XBe(this,{type:QK,string:YBe(r),index:0})},function(){var e=JBe(this),t=e.string,n=e.index,i;return n>=t.length?{value:void 0,done:!0}:(i=KBe(t,n),e.index+=i.length,{value:i,done:!1})})});var __=fe((dyt,iY)=>{"use strict";uC();var eY=Wr(),tY=Qa(),QBe=b_(),rY=jr(),nY=Mi(),e5e=bu(),t5e=nY("species"),kP=RegExp.prototype;iY.exports=function(r,e,t,n){var i=nY(r),a=!rY(function(){var S={};return S[i]=function(){return 7},""[r](S)!=7}),l=a&&!rY(function(){var S=!1,E=/a/;return r==="split"&&(E={},E.constructor={},E.constructor[t5e]=function(){return E},E.flags="",E[i]=/./[i]),E.exec=function(){return S=!0,null},E[i](""),!S});if(!a||!l||t){var h=eY(/./[i]),b=e(i,""[r],function(S,E,O,P,q){var z=eY(S),N=E.exec;return N===QBe||N===kP.exec?a&&!q?{done:!0,value:h(E,O,P)}:{done:!0,value:z(O,E,P)}:{done:!1}});tY(String.prototype,r,b[0]),tY(kP,i,b[1])}n&&e5e(kP[i],"sham",!0)}});var w_=fe((pyt,oY)=>{"use strict";var r5e=x_().charAt;oY.exports=function(r,e,t){return e+(t?r5e(r,e).length:1)}});var pb=fe((myt,sY)=>{var n5e=mr(),aY=io(),i5e=ci(),o5e=Gi(),a5e=hc(),s5e=b_(),l5e=n5e.TypeError;sY.exports=function(r,e){var t=r.exec;if(o5e(t)){var n=aY(t,r,e);return n!==null&&i5e(n),n}if(a5e(r)==="RegExp")return aY(s5e,r,e);throw l5e("RegExp#exec called on incompatible receiver")}});var uY=fe(()=>{"use strict";var u5e=io(),c5e=__(),f5e=ci(),h5e=pc(),CP=qi(),d5e=tl(),p5e=ad(),m5e=w_(),lY=pb();c5e("match",function(r,e,t){return[function(i){var a=d5e(this),l=i==null?void 0:p5e(i,r);return l?u5e(l,i,a):new RegExp(i)[r](CP(a))},function(n){var i=f5e(this),a=CP(n),l=t(e,i,a);if(l.done)return l.value;if(!i.global)return lY(i,a);var h=i.unicode;i.lastIndex=0;for(var b=[],S=0,E;(E=lY(i,a))!==null;){var O=CP(E[0]);b[S]=O,O===""&&(i.lastIndex=m5e(a,h5e(i.lastIndex),h)),S++}return S===0?null:b}]})});var vY=fe(()=>{"use strict";var g5e=Ft(),v5e=mr(),cY=io(),OP=Wr(),y5e=bk(),fY=tl(),hY=pc(),S_=qi(),b5e=ci(),x5e=hc(),_5e=dc(),w5e=cb(),S5e=Im(),k5e=ad(),C5e=Qa(),E5e=jr(),T5e=Mi(),A5e=Xg(),D5e=w_(),O5e=pb(),dY=rl(),TP=wl(),hC=T5e("matchAll"),pY="RegExp String",mY=pY+" Iterator",I5e=dY.set,M5e=dY.getterFor(mY),k_=RegExp.prototype,P5e=v5e.TypeError,gY=OP(S5e),AP=OP("".indexOf),dC=OP("".matchAll),EP=!!dC&&!E5e(function(){dC("a",/./)}),L5e=y5e(function(e,t,n,i){I5e(this,{type:mY,regexp:e,string:t,global:n,unicode:i,done:!1})},pY,function(){var e=M5e(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,i=O5e(t,n);return i===null?{value:void 0,done:e.done=!0}:e.global?(S_(i[0])===""&&(t.lastIndex=D5e(n,hY(t.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})}),DP=function(r){var e=b5e(this),t=S_(r),n,i,a,l,h,b;return n=A5e(e,RegExp),i=e.flags,i===void 0&&_5e(k_,e)&&!("flags"in k_)&&(i=gY(e)),a=i===void 0?"":S_(i),l=new n(n===RegExp?e.source:e,a),h=!!~AP(a,"g"),b=!!~AP(a,"u"),l.lastIndex=hY(e.lastIndex),new L5e(l,t,h,b)};g5e({target:"String",proto:!0,forced:EP},{matchAll:function(e){var t=fY(this),n,i,a,l;if(e!=null){if(w5e(e)&&(n=S_(fY("flags"in k_?e.flags:gY(e))),!~AP(n,"g")))throw P5e("`.matchAll` does not allow non-global regexes");if(EP)return dC(t,e);if(a=k5e(e,hC),a===void 0&&TP&&x5e(e)=="RegExp"&&(a=DP),a)return cY(a,e,t)}else if(EP)return dC(t,e);return i=S_(t),l=new RegExp(e,"g"),TP?cY(DP,l,i):l[hC](i)}});TP||hC in k_||C5e(k_,hC,DP)});var IP=fe((xyt,yY)=>{var R5e=od();yY.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(R5e)});var bY=fe(()=>{"use strict";var F5e=Ft(),q5e=Rk().end,z5e=IP();F5e({target:"String",proto:!0,forced:z5e},{padEnd:function(e){return q5e(this,e,arguments.length>1?arguments[1]:void 0)}})});var xY=fe(()=>{"use strict";var N5e=Ft(),B5e=Rk().start,j5e=IP();N5e({target:"String",proto:!0,forced:j5e},{padStart:function(e){return B5e(this,e,arguments.length>1?arguments[1]:void 0)}})});var kY=fe(()=>{var U5e=Ft(),SY=Wr(),H5e=Bu(),W5e=zo(),_Y=qi(),V5e=Ca(),wY=SY([].push),$5e=SY([].join);U5e({target:"String",stat:!0},{raw:function(e){for(var t=H5e(W5e(e).raw),n=V5e(t),i=arguments.length,a=[],l=0;n>l;){if(wY(a,_Y(t[l++])),l===n)return $5e(a,"");l<i&&wY(a,_Y(arguments[l]))}}})});var CY=fe(()=>{var G5e=Ft(),K5e=Zx();G5e({target:"String",proto:!0},{repeat:K5e})});var RP=fe((Dyt,EY)=>{var LP=Wr(),Y5e=zo(),Z5e=Math.floor,MP=LP("".charAt),X5e=LP("".replace),PP=LP("".slice),J5e=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Q5e=/\$([$&'`]|\d{1,2})/g;EY.exports=function(r,e,t,n,i,a){var l=t+r.length,h=n.length,b=Q5e;return i!==void 0&&(i=Y5e(i),b=J5e),X5e(a,b,function(S,E){var O;switch(MP(E,0)){case"$":return"$";case"&":return r;case"`":return PP(e,0,t);case"'":return PP(e,l);case"<":O=i[PP(E,1,-1)];break;default:var P=+E;if(P===0)return S;if(P>h){var q=Z5e(P/10);return q===0?S:q<=h?n[q-1]===void 0?MP(E,1):n[q-1]+MP(E,1):S}O=n[P-1]}return O===void 0?"":O})}});var IY=fe(()=>{"use strict";var e4e=mc(),TY=io(),pC=Wr(),t4e=__(),r4e=jr(),n4e=ci(),i4e=Gi(),o4e=nl(),a4e=pc(),mb=qi(),s4e=tl(),l4e=w_(),u4e=ad(),c4e=RP(),f4e=pb(),h4e=Mi(),qP=h4e("replace"),d4e=Math.max,p4e=Math.min,m4e=pC([].concat),FP=pC([].push),AY=pC("".indexOf),DY=pC("".slice),g4e=function(r){return r===void 0?r:String(r)},v4e=function(){return"a".replace(/./,"$0")==="$0"}(),OY=function(){return/./[qP]?/./[qP]("a","$0")==="":!1}(),y4e=!r4e(function(){var r=/./;return r.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(r,"$<a>")!=="7"});t4e("replace",function(r,e,t){var n=OY?"$":"$0";return[function(a,l){var h=s4e(this),b=a==null?void 0:u4e(a,qP);return b?TY(b,a,h,l):TY(e,mb(h),a,l)},function(i,a){var l=n4e(this),h=mb(i);if(typeof a=="string"&&AY(a,n)===-1&&AY(a,"$<")===-1){var b=t(e,l,h,a);if(b.done)return b.value}var S=i4e(a);S||(a=mb(a));var E=l.global;if(E){var O=l.unicode;l.lastIndex=0}for(var P=[];;){var q=f4e(l,h);if(q===null||(FP(P,q),!E))break;var z=mb(q[0]);z===""&&(l.lastIndex=l4e(h,a4e(l.lastIndex),O))}for(var N="",V=0,Y=0;Y<P.length;Y++){q=P[Y];for(var J=mb(q[0]),se=d4e(p4e(o4e(q.index),h.length),0),_=[],me=1;me<q.length;me++)FP(_,g4e(q[me]));var ne=q.groups;if(S){var de=m4e([J],_,se,h);ne!==void 0&&FP(de,ne);var he=mb(e4e(a,void 0,de))}else he=c4e(J,h,se,_,ne,a);se>=V&&(N+=DY(h,V,se)+he,V=se+J.length)}return N+DY(h,V)}]},!y4e||!v4e||OY)});var FY=fe(()=>{"use strict";var b4e=Ft(),x4e=mr(),_4e=io(),mC=Wr(),MY=tl(),w4e=Gi(),S4e=cb(),gb=qi(),k4e=ad(),C4e=Im(),E4e=RP(),T4e=Mi(),A4e=wl(),D4e=T4e("replace"),O4e=RegExp.prototype,I4e=x4e.TypeError,M4e=mC(C4e),RY=mC("".indexOf),P4e=mC("".replace),PY=mC("".slice),L4e=Math.max,LY=function(r,e,t){return t>r.length?-1:e===""?t:RY(r,e,t)};b4e({target:"String",proto:!0},{replaceAll:function(e,t){var n=MY(this),i,a,l,h,b,S,E,O,P,q=0,z=0,N="";if(e!=null){if(i=S4e(e),i&&(a=gb(MY("flags"in O4e?e.flags:M4e(e))),!~RY(a,"g")))throw I4e("`.replaceAll` does not allow non-global regexes");if(l=k4e(e,D4e),l)return _4e(l,e,n,t);if(A4e&&i)return P4e(gb(n),e,t)}for(h=gb(n),b=gb(e),S=w4e(t),S||(t=gb(t)),E=b.length,O=L4e(1,E),q=LY(h,b,0);q!==-1;)P=S?gb(t(b,q,h)):E4e(b,h,q,[],void 0,t),N+=PY(h,z,q)+P,z=q+E,q=LY(h,b,q+O);return z<h.length&&(N+=PY(h,z)),N}})});var NY=fe(()=>{"use strict";var R4e=io(),F4e=__(),q4e=ci(),z4e=tl(),qY=EM(),zY=qi(),N4e=ad(),B4e=pb();F4e("search",function(r,e,t){return[function(i){var a=z4e(this),l=i==null?void 0:N4e(i,r);return l?R4e(l,i,a):new RegExp(i)[r](zY(a))},function(n){var i=q4e(this),a=zY(n),l=t(e,i,a);if(l.done)return l.value;var h=i.lastIndex;qY(h,0)||(i.lastIndex=0);var b=B4e(i,a);return qY(i.lastIndex,h)||(i.lastIndex=h),b===null?-1:b.index}]})});var VY=fe(()=>{"use strict";var j4e=mc(),C_=io(),NP=Wr(),U4e=__(),H4e=cb(),W4e=ci(),BY=tl(),V4e=Xg(),$4e=w_(),G4e=pc(),zP=qi(),K4e=ad(),jY=Uy(),UY=pb(),Y4e=b_(),Z4e=y_(),X4e=jr(),vb=Z4e.UNSUPPORTED_Y,HY=4294967295,J4e=Math.min,WY=[].push,Q4e=NP(/./.exec),yb=NP(WY),E_=NP("".slice),eje=!X4e(function(){var r=/(?:)/,e=r.exec;r.exec=function(){return e.apply(this,arguments)};var t="ab".split(r);return t.length!==2||t[0]!=="a"||t[1]!=="b"});U4e("split",function(r,e,t){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(i,a){var l=zP(BY(this)),h=a===void 0?HY:a>>>0;if(h===0)return[];if(i===void 0)return[l];if(!H4e(i))return C_(e,l,i,h);for(var b=[],S=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),E=0,O=new RegExp(i.source,S+"g"),P,q,z;(P=C_(Y4e,O,l))&&(q=O.lastIndex,!(q>E&&(yb(b,E_(l,E,P.index)),P.length>1&&P.index<l.length&&j4e(WY,b,jY(P,1)),z=P[0].length,E=q,b.length>=h)));)O.lastIndex===P.index&&O.lastIndex++;return E===l.length?(z||!Q4e(O,""))&&yb(b,""):yb(b,E_(l,E)),b.length>h?jY(b,0,h):b}:"0".split(void 0,0).length?n=function(i,a){return i===void 0&&a===0?[]:C_(e,this,i,a)}:n=e,[function(a,l){var h=BY(this),b=a==null?void 0:K4e(a,r);return b?C_(b,a,h,l):C_(n,zP(h),a,l)},function(i,a){var l=W4e(this),h=zP(i),b=t(n,l,h,a,n!==e);if(b.done)return b.value;var S=V4e(l,RegExp),E=l.unicode,O=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(vb?"g":"y"),P=new S(vb?"^(?:"+l.source+")":l,O),q=a===void 0?HY:a>>>0;if(q===0)return[];if(h.length===0)return UY(P,h)===null?[h]:[];for(var z=0,N=0,V=[];N<h.length;){P.lastIndex=vb?0:N;var Y=UY(P,vb?E_(h,N):h),J;if(Y===null||(J=J4e(G4e(P.lastIndex+(vb?N:0)),h.length))===z)N=$4e(h,N,E);else{if(yb(V,E_(h,z,N)),V.length===q)return V;for(var se=1;se<=Y.length-1;se++)if(yb(V,Y[se]),V.length===q)return V;N=z=J}}return yb(V,E_(h,z)),V}]},!eje,vb)});var ZY=fe(()=>{"use strict";var tje=Ft(),KY=Wr(),rje=Vl().f,nje=pc(),$Y=qi(),ije=cC(),oje=tl(),aje=fC(),sje=wl(),GY=KY("".startsWith),lje=KY("".slice),uje=Math.min,YY=aje("startsWith"),cje=!sje&&!YY&&!!function(){var r=rje(String.prototype,"startsWith");return r&&!r.writable}();tje({target:"String",proto:!0,forced:!cje&&!YY},{startsWith:function(e){var t=$Y(oje(this));ije(e);var n=nje(uje(arguments.length>1?arguments[1]:void 0,t.length)),i=$Y(e);return GY?GY(t,i,n):lje(t,n,n+i.length)===i}})});var JY=fe(()=>{"use strict";var fje=Ft(),hje=Wr(),dje=tl(),XY=nl(),pje=qi(),mje=hje("".slice),gje=Math.max,vje=Math.min,yje=!"".substr||"ab".substr(-1)!=="b";fje({target:"String",proto:!0,forced:yje},{substr:function(e,t){var n=pje(dje(this)),i=n.length,a=XY(e),l,h;return a===1/0&&(a=0),a<0&&(a=gje(i+a,0)),l=t===void 0?i:XY(t),l<=0||l===1/0?"":(h=vje(a+l,i),a>=h?"":mje(n,a,h))}})});var gC=fe((Uyt,tZ)=>{var bje=jg().PROPER,xje=jr(),QY=o_(),eZ="\u200B\x85\u180E";tZ.exports=function(r){return xje(function(){return!!QY[r]()||eZ[r]()!==eZ||bje&&QY[r].name!==r})}});var rZ=fe(()=>{"use strict";var _je=Ft(),wje=Qg().trim,Sje=gC();_je({target:"String",proto:!0,forced:Sje("trim")},{trim:function(){return wje(this)}})});var oZ=fe(()=>{"use strict";var kje=Ft(),Cje=Qg().end,Eje=gC(),iZ=Eje("trimEnd"),nZ=iZ?function(){return Cje(this)}:"".trimEnd;kje({target:"String",proto:!0,name:"trimEnd",forced:iZ},{trimEnd:nZ,trimRight:nZ})});var lZ=fe(()=>{"use strict";var Tje=Ft(),Aje=Qg().start,Dje=gC(),sZ=Dje("trimStart"),aZ=sZ?function(){return Aje(this)}:"".trimStart;Tje({target:"String",proto:!0,name:"trimStart",forced:sZ},{trimStart:aZ,trimLeft:aZ})});var bc=fe((Yyt,cZ)=>{var Oje=Wr(),Ije=tl(),uZ=qi(),Mje=/"/g,Pje=Oje("".replace);cZ.exports=function(r,e,t,n){var i=uZ(Ije(r)),a="<"+e;return t!==""&&(a+=" "+t+'="'+Pje(uZ(n),Mje,"&quot;")+'"'),a+">"+i+"</"+e+">"}});var xc=fe((Zyt,fZ)=>{var Lje=jr();fZ.exports=function(r){return Lje(function(){var e=""[r]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var hZ=fe(()=>{"use strict";var Rje=Ft(),Fje=bc(),qje=xc();Rje({target:"String",proto:!0,forced:qje("anchor")},{anchor:function(e){return Fje(this,"a","name",e)}})});var dZ=fe(()=>{"use strict";var zje=Ft(),Nje=bc(),Bje=xc();zje({target:"String",proto:!0,forced:Bje("big")},{big:function(){return Nje(this,"big","","")}})});var pZ=fe(()=>{"use strict";var jje=Ft(),Uje=bc(),Hje=xc();jje({target:"String",proto:!0,forced:Hje("blink")},{blink:function(){return Uje(this,"blink","","")}})});var mZ=fe(()=>{"use strict";var Wje=Ft(),Vje=bc(),$je=xc();Wje({target:"String",proto:!0,forced:$je("bold")},{bold:function(){return Vje(this,"b","","")}})});var gZ=fe(()=>{"use strict";var Gje=Ft(),Kje=bc(),Yje=xc();Gje({target:"String",proto:!0,forced:Yje("fixed")},{fixed:function(){return Kje(this,"tt","","")}})});var vZ=fe(()=>{"use strict";var Zje=Ft(),Xje=bc(),Jje=xc();Zje({target:"String",proto:!0,forced:Jje("fontcolor")},{fontcolor:function(e){return Xje(this,"font","color",e)}})});var yZ=fe(()=>{"use strict";var Qje=Ft(),e6e=bc(),t6e=xc();Qje({target:"String",proto:!0,forced:t6e("fontsize")},{fontsize:function(e){return e6e(this,"font","size",e)}})});var bZ=fe(()=>{"use strict";var r6e=Ft(),n6e=bc(),i6e=xc();r6e({target:"String",proto:!0,forced:i6e("italics")},{italics:function(){return n6e(this,"i","","")}})});var xZ=fe(()=>{"use strict";var o6e=Ft(),a6e=bc(),s6e=xc();o6e({target:"String",proto:!0,forced:s6e("link")},{link:function(e){return a6e(this,"a","href",e)}})});var _Z=fe(()=>{"use strict";var l6e=Ft(),u6e=bc(),c6e=xc();l6e({target:"String",proto:!0,forced:c6e("small")},{small:function(){return u6e(this,"small","","")}})});var wZ=fe(()=>{"use strict";var f6e=Ft(),h6e=bc(),d6e=xc();f6e({target:"String",proto:!0,forced:d6e("strike")},{strike:function(){return h6e(this,"strike","","")}})});var SZ=fe(()=>{"use strict";var p6e=Ft(),m6e=bc(),g6e=xc();p6e({target:"String",proto:!0,forced:g6e("sub")},{sub:function(){return m6e(this,"sub","","")}})});var kZ=fe(()=>{"use strict";var v6e=Ft(),y6e=bc(),b6e=xc();v6e({target:"String",proto:!0,forced:b6e("sup")},{sup:function(){return y6e(this,"sup","","")}})});var vC=fe((Sbt,EZ)=>{var CZ=mr(),BP=jr(),x6e=Hx(),_6e=Ki().NATIVE_ARRAY_BUFFER_VIEWS,w6e=CZ.ArrayBuffer,av=CZ.Int8Array;EZ.exports=!_6e||!BP(function(){av(1)})||!BP(function(){new av(-1)})||!x6e(function(r){new av,new av(null),new av(1.5),new av(r)},!0)||BP(function(){return new av(new w6e(2),1,void 0).length!==1})});var AZ=fe((kbt,TZ)=>{var S6e=mr(),k6e=nl(),C6e=S6e.RangeError;TZ.exports=function(r){var e=k6e(r);if(e<0)throw C6e("The argument can't be less than 0");return e}});var jP=fe((Cbt,DZ)=>{var E6e=mr(),T6e=AZ(),A6e=E6e.RangeError;DZ.exports=function(r,e){var t=T6e(r);if(t%e)throw A6e("Wrong offset");return t}});var UP=fe((Ebt,OZ)=>{var D6e=mh(),O6e=io(),I6e=Lk(),M6e=zo(),P6e=Ca(),L6e=jx(),R6e=Ky(),F6e=dk(),q6e=Ki().aTypedArrayConstructor;OZ.exports=function(e){var t=I6e(this),n=M6e(e),i=arguments.length,a=i>1?arguments[1]:void 0,l=a!==void 0,h=R6e(n),b,S,E,O,P,q;if(h&&!F6e(h))for(P=L6e(n,h),q=P.next,n=[];!(O=O6e(q,P)).done;)n.push(O.value);for(l&&i>2&&(a=D6e(a,arguments[2])),S=P6e(n),E=new(q6e(t))(S),b=0;S>b;b++)E[b]=l?a(n[b],b):n[b];return E}});var vd=fe((Tbt,YP)=>{"use strict";var IZ=Ft(),UZ=mr(),MZ=io(),z6e=pi(),N6e=vC(),sv=Ki(),HZ=Yx(),PZ=vh(),B6e=Yc(),bb=bu(),j6e=$k(),U6e=pc(),LZ=SI(),HP=jP(),WZ=up(),T_=oo(),H6e=fp(),$P=Ei(),W6e=qg(),V6e=gc(),$6e=dc(),yC=gh(),G6e=cp().f,RZ=UP(),K6e=Sl().forEach,Y6e=Gg(),VZ=ao(),$Z=Vl(),GZ=rl(),Z6e=Vg(),GP=GZ.get,X6e=GZ.set,ZP=VZ.f,J6e=$Z.f,Q6e=Math.round,WP=UZ.RangeError,KZ=HZ.ArrayBuffer,eUe=KZ.prototype,tUe=HZ.DataView,bC=sv.NATIVE_ARRAY_BUFFER_VIEWS,rUe=sv.TYPED_ARRAY_CONSTRUCTOR,FZ=sv.TYPED_ARRAY_TAG,qZ=sv.TypedArray,A_=sv.TypedArrayPrototype,nUe=sv.aTypedArrayConstructor,KP=sv.isTypedArray,xC="BYTES_PER_ELEMENT",VP="Wrong length",zZ=function(r,e){nUe(r);for(var t=0,n=e.length,i=new r(n);n>t;)i[t]=e[t++];return i},_C=function(r,e){ZP(r,e,{get:function(){return GP(this)[e]}})},NZ=function(r){var e;return $6e(eUe,r)||(e=H6e(r))=="ArrayBuffer"||e=="SharedArrayBuffer"},YZ=function(r,e){return KP(r)&&!W6e(e)&&e in r&&j6e(+e)&&e>=0},BZ=function(e,t){return t=WZ(t),YZ(e,t)?B6e(2,e[t]):J6e(e,t)},jZ=function(e,t,n){return t=WZ(t),YZ(e,t)&&$P(n)&&T_(n,"value")&&!T_(n,"get")&&!T_(n,"set")&&!n.configurable&&(!T_(n,"writable")||n.writable)&&(!T_(n,"enumerable")||n.enumerable)?(e[t]=n.value,e):ZP(e,t,n)};z6e?(bC||($Z.f=BZ,VZ.f=jZ,_C(A_,"buffer"),_C(A_,"byteOffset"),_C(A_,"byteLength"),_C(A_,"length")),IZ({target:"Object",stat:!0,forced:!bC},{getOwnPropertyDescriptor:BZ,defineProperty:jZ}),YP.exports=function(r,e,t){var n=r.match(/\d+$/)[0]/8,i=r+(t?"Clamped":"")+"Array",a="get"+r,l="set"+r,h=UZ[i],b=h,S=b&&b.prototype,E={},O=function(z,N){var V=GP(z);return V.view[a](N*n+V.byteOffset,!0)},P=function(z,N,V){var Y=GP(z);t&&(V=(V=Q6e(V))<0?0:V>255?255:V&255),Y.view[l](N*n+Y.byteOffset,V,!0)},q=function(z,N){ZP(z,N,{get:function(){return O(this,N)},set:function(V){return P(this,N,V)},enumerable:!0})};bC?N6e&&(b=e(function(z,N,V,Y){return PZ(z,S),Z6e(function(){return $P(N)?NZ(N)?Y!==void 0?new h(N,HP(V,n),Y):V!==void 0?new h(N,HP(V,n)):new h(N):KP(N)?zZ(b,N):MZ(RZ,b,N):new h(LZ(N))}(),z,b)}),yC&&yC(b,qZ),K6e(G6e(h),function(z){z in b||bb(b,z,h[z])}),b.prototype=S):(b=e(function(z,N,V,Y){PZ(z,S);var J=0,se=0,_,me,ne;if(!$P(N))ne=LZ(N),me=ne*n,_=new KZ(me);else if(NZ(N)){_=N,se=HP(V,n);var de=N.byteLength;if(Y===void 0){if(de%n||(me=de-se,me<0))throw WP(VP)}else if(me=U6e(Y)*n,me+se>de)throw WP(VP);ne=me/n}else return KP(N)?zZ(b,N):MZ(RZ,b,N);for(X6e(z,{buffer:_,byteOffset:se,byteLength:me,length:ne,view:new tUe(_)});J<ne;)q(z,J++)}),yC&&yC(b,qZ),S=b.prototype=V6e(A_)),S.constructor!==b&&bb(S,"constructor",b),bb(S,rUe,b),FZ&&bb(S,FZ,i),E[i]=b,IZ({global:!0,forced:b!=h,sham:!bC},E),xC in b||bb(b,xC,n),xC in S||bb(S,xC,n),Y6e(i)}):YP.exports=function(){}});var ZZ=fe(()=>{var iUe=vd();iUe("Float32",function(r){return function(t,n,i){return r(this,t,n,i)}})});var XZ=fe(()=>{var oUe=vd();oUe("Float64",function(r){return function(t,n,i){return r(this,t,n,i)}})});var JZ=fe(()=>{var aUe=vd();aUe("Int8",function(r){return function(t,n,i){return r(this,t,n,i)}})});var QZ=fe(()=>{var sUe=vd();sUe("Int16",function(r){return function(t,n,i){return r(this,t,n,i)}})});var eX=fe(()=>{var lUe=vd();lUe("Int32",function(r){return function(t,n,i){return r(this,t,n,i)}})});var tX=fe(()=>{var uUe=vd();uUe("Uint8",function(r){return function(t,n,i){return r(this,t,n,i)}})});var rX=fe(()=>{var cUe=vd();cUe("Uint8",function(r){return function(t,n,i){return r(this,t,n,i)}},!0)});var nX=fe(()=>{var fUe=vd();fUe("Uint16",function(r){return function(t,n,i){return r(this,t,n,i)}})});var iX=fe(()=>{var hUe=vd();hUe("Uint32",function(r){return function(t,n,i){return r(this,t,n,i)}})});var aX=fe(()=>{"use strict";var oX=Ki(),dUe=Ca(),pUe=nl(),mUe=oX.aTypedArray,gUe=oX.exportTypedArrayMethod;gUe("at",function(e){var t=mUe(this),n=dUe(t),i=pUe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:t[a]})});var lX=fe(()=>{"use strict";var vUe=Wr(),sX=Ki(),yUe=rI(),bUe=vUe(yUe),xUe=sX.aTypedArray,_Ue=sX.exportTypedArrayMethod;_Ue("copyWithin",function(e,t){return bUe(xUe(this),e,t,arguments.length>2?arguments[2]:void 0)})});var cX=fe(()=>{"use strict";var uX=Ki(),wUe=Sl().every,SUe=uX.aTypedArray,kUe=uX.exportTypedArrayMethod;kUe("every",function(e){return wUe(SUe(this),e,arguments.length>1?arguments[1]:void 0)})});var hX=fe(()=>{"use strict";var fX=Ki(),CUe=io(),EUe=yk(),TUe=fX.aTypedArray,AUe=fX.exportTypedArrayMethod;AUe("fill",function(e){var t=arguments.length;return CUe(EUe,TUe(this),e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)})});var pX=fe((e0t,dX)=>{var DUe=Ca();dX.exports=function(r,e){for(var t=0,n=DUe(e),i=new r(n);n>t;)i[t]=e[t++];return i}});var D_=fe((t0t,gX)=>{var mX=Ki(),OUe=Xg(),IUe=mX.TYPED_ARRAY_CONSTRUCTOR,MUe=mX.aTypedArrayConstructor;gX.exports=function(r){return MUe(OUe(r,r[IUe]))}});var yX=fe((r0t,vX)=>{var PUe=pX(),LUe=D_();vX.exports=function(r,e){return PUe(LUe(r),e)}});var xX=fe(()=>{"use strict";var bX=Ki(),RUe=Sl().filter,FUe=yX(),qUe=bX.aTypedArray,zUe=bX.exportTypedArrayMethod;zUe("filter",function(e){var t=RUe(qUe(this),e,arguments.length>1?arguments[1]:void 0);return FUe(this,t)})});var wX=fe(()=>{"use strict";var _X=Ki(),NUe=Sl().find,BUe=_X.aTypedArray,jUe=_X.exportTypedArrayMethod;jUe("find",function(e){return NUe(BUe(this),e,arguments.length>1?arguments[1]:void 0)})});var kX=fe(()=>{"use strict";var SX=Ki(),UUe=Sl().findIndex,HUe=SX.aTypedArray,WUe=SX.exportTypedArrayMethod;WUe("findIndex",function(e){return UUe(HUe(this),e,arguments.length>1?arguments[1]:void 0)})});var EX=fe(()=>{"use strict";var CX=Ki(),VUe=Sl().forEach,$Ue=CX.aTypedArray,GUe=CX.exportTypedArrayMethod;GUe("forEach",function(e){VUe($Ue(this),e,arguments.length>1?arguments[1]:void 0)})});var TX=fe(()=>{"use strict";var KUe=vC(),YUe=Ki().exportTypedArrayStaticMethod,ZUe=UP();YUe("from",ZUe,KUe)});var DX=fe(()=>{"use strict";var AX=Ki(),XUe=zy().includes,JUe=AX.aTypedArray,QUe=AX.exportTypedArrayMethod;QUe("includes",function(e){return XUe(JUe(this),e,arguments.length>1?arguments[1]:void 0)})});var IX=fe(()=>{"use strict";var OX=Ki(),e9e=zy().indexOf,t9e=OX.aTypedArray,r9e=OX.exportTypedArrayMethod;r9e("indexOf",function(e){return e9e(t9e(this),e,arguments.length>1?arguments[1]:void 0)})});var FX=fe(()=>{"use strict";var n9e=mr(),i9e=jr(),XP=Wr(),PX=Ki(),JP=$x(),o9e=Mi(),QP=o9e("iterator"),MX=n9e.Uint8Array,a9e=XP(JP.values),s9e=XP(JP.keys),l9e=XP(JP.entries),eL=PX.aTypedArray,wC=PX.exportTypedArrayMethod,xb=MX&&MX.prototype,SC=!i9e(function(){xb[QP].call([1])}),LX=!!xb&&xb.values&&xb[QP]===xb.values&&xb.values.name==="values",RX=function(){return a9e(eL(this))};wC("entries",function(){return l9e(eL(this))},SC);wC("keys",function(){return s9e(eL(this))},SC);wC("values",RX,SC||!LX,{name:"values"});wC(QP,RX,SC||!LX,{name:"values"})});var zX=fe(()=>{"use strict";var qX=Ki(),u9e=Wr(),c9e=qX.aTypedArray,f9e=qX.exportTypedArrayMethod,h9e=u9e([].join);f9e("join",function(e){return h9e(c9e(this),e)})});var BX=fe(()=>{"use strict";var NX=Ki(),d9e=mc(),p9e=vI(),m9e=NX.aTypedArray,g9e=NX.exportTypedArrayMethod;g9e("lastIndexOf",function(e){var t=arguments.length;return d9e(p9e,m9e(this),t>1?[e,arguments[1]]:[e])})});var UX=fe(()=>{"use strict";var jX=Ki(),v9e=Sl().map,y9e=D_(),b9e=jX.aTypedArray,x9e=jX.exportTypedArrayMethod;x9e("map",function(e){return v9e(b9e(this),e,arguments.length>1?arguments[1]:void 0,function(t,n){return new(y9e(t))(n)})})});var WX=fe(()=>{"use strict";var HX=Ki(),_9e=vC(),w9e=HX.aTypedArrayConstructor,S9e=HX.exportTypedArrayStaticMethod;S9e("of",function(){for(var e=0,t=arguments.length,n=new(w9e(this))(t);t>e;)n[e]=arguments[e++];return n},_9e)});var $X=fe(()=>{"use strict";var VX=Ki(),k9e=Gx().left,C9e=VX.aTypedArray,E9e=VX.exportTypedArrayMethod;E9e("reduce",function(e){var t=arguments.length;return k9e(C9e(this),e,t,t>1?arguments[1]:void 0)})});var KX=fe(()=>{"use strict";var GX=Ki(),T9e=Gx().right,A9e=GX.aTypedArray,D9e=GX.exportTypedArrayMethod;D9e("reduceRight",function(e){var t=arguments.length;return T9e(A9e(this),e,t,t>1?arguments[1]:void 0)})});var ZX=fe(()=>{"use strict";var YX=Ki(),O9e=YX.aTypedArray,I9e=YX.exportTypedArrayMethod,M9e=Math.floor;I9e("reverse",function(){for(var e=this,t=O9e(e).length,n=M9e(t/2),i=0,a;i<n;)a=e[i],e[i++]=e[--t],e[t]=a;return e})});var rJ=fe(()=>{"use strict";var JX=mr(),QX=io(),nL=Ki(),P9e=Ca(),L9e=jP(),R9e=zo(),eJ=jr(),F9e=JX.RangeError,tL=JX.Int8Array,XX=tL&&tL.prototype,tJ=XX&&XX.set,q9e=nL.aTypedArray,z9e=nL.exportTypedArrayMethod,rL=!eJ(function(){var r=new Uint8ClampedArray(2);return QX(tJ,r,{length:1,0:3},1),r[1]!==3}),N9e=rL&&nL.NATIVE_ARRAY_BUFFER_VIEWS&&eJ(function(){var r=new tL(2);return r.set(1),r.set("2",1),r[0]!==0||r[1]!==2});z9e("set",function(e){q9e(this);var t=L9e(arguments.length>1?arguments[1]:void 0,1),n=R9e(e);if(rL)return QX(tJ,this,n,t);var i=this.length,a=P9e(n),l=0;if(a+t>i)throw F9e("Wrong length");for(;l<a;)this[t+l]=n[l++]},!rL||N9e)});var iJ=fe(()=>{"use strict";var nJ=Ki(),B9e=D_(),j9e=jr(),U9e=bm(),H9e=nJ.aTypedArray,W9e=nJ.exportTypedArrayMethod,V9e=j9e(function(){new Int8Array(1).slice()});W9e("slice",function(e,t){for(var n=U9e(H9e(this),e,t),i=B9e(this),a=0,l=n.length,h=new i(l);l>a;)h[a]=n[a++];return h},V9e)});var aJ=fe(()=>{"use strict";var oJ=Ki(),$9e=Sl().some,G9e=oJ.aTypedArray,K9e=oJ.exportTypedArrayMethod;K9e("some",function(e){return $9e(G9e(this),e,arguments.length>1?arguments[1]:void 0)})});var dJ=fe(()=>{"use strict";var fJ=mr(),Y9e=Wr(),iL=jr(),Z9e=Wl(),X9e=Sk(),hJ=Ki(),sJ=xI(),J9e=_I(),lJ=lp(),uJ=kk(),Q9e=fJ.Array,e8e=hJ.aTypedArray,t8e=hJ.exportTypedArrayMethod,O_=fJ.Uint16Array,_b=O_&&Y9e(O_.prototype.sort),r8e=!!_b&&!(iL(function(){_b(new O_(2),null)})&&iL(function(){_b(new O_(2),{})})),cJ=!!_b&&!iL(function(){if(lJ)return lJ<74;if(sJ)return sJ<67;if(J9e)return!0;if(uJ)return uJ<602;var r=new O_(516),e=Q9e(516),t,n;for(t=0;t<516;t++)n=t%4,r[t]=515-t,e[t]=t-2*n+3;for(_b(r,function(i,a){return(i/4|0)-(a/4|0)}),t=0;t<516;t++)if(r[t]!==e[t])return!0}),n8e=function(r){return function(e,t){return r!==void 0?+r(e,t)||0:t!==t?-1:e!==e?1:e===0&&t===0?1/e>0&&1/t<0?1:-1:e>t}};t8e("sort",function(e){return e!==void 0&&Z9e(e),cJ?_b(this,e):X9e(e8e(this),n8e(e))},!cJ||r8e)});var gJ=fe(()=>{"use strict";var mJ=Ki(),i8e=pc(),pJ=sd(),o8e=D_(),a8e=mJ.aTypedArray,s8e=mJ.exportTypedArrayMethod;s8e("subarray",function(e,t){var n=a8e(this),i=n.length,a=pJ(e,i),l=o8e(n);return new l(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,i8e((t===void 0?i:pJ(t,i))-a))})});var _J=fe(()=>{"use strict";var l8e=mr(),u8e=mc(),bJ=Ki(),oL=jr(),vJ=bm(),kC=l8e.Int8Array,yJ=bJ.aTypedArray,c8e=bJ.exportTypedArrayMethod,xJ=[].toLocaleString,f8e=!!kC&&oL(function(){xJ.call(new kC(1))}),h8e=oL(function(){return[1,2].toLocaleString()!=new kC([1,2]).toLocaleString()})||!oL(function(){kC.prototype.toLocaleString.call([1,2])});c8e("toLocaleString",function(){return u8e(xJ,f8e?vJ(yJ(this)):yJ(this),vJ(arguments))},h8e)});var SJ=fe(()=>{"use strict";var d8e=Ki().exportTypedArrayMethod,p8e=jr(),m8e=mr(),g8e=Wr(),wJ=m8e.Uint8Array,v8e=wJ&&wJ.prototype||{},CC=[].toString,y8e=g8e([].join);p8e(function(){CC.call({})})&&(CC=function(){return y8e(this)});var b8e=v8e.toString!=CC;d8e("toString",CC,b8e)});var AJ=fe(()=>{"use strict";var x8e=Ft(),aL=Wr(),_8e=qi(),kJ=String.fromCharCode,CJ=aL("".charAt),EJ=aL(/./.exec),TJ=aL("".slice),w8e=/^[\da-f]{2}$/i,S8e=/^[\da-f]{4}$/i;x8e({global:!0},{unescape:function(e){for(var t=_8e(e),n="",i=t.length,a=0,l,h;a<i;){if(l=CJ(t,a++),l==="%"){if(CJ(t,a)==="u"){if(h=TJ(t,a+1,a+5),EJ(S8e,h)){n+=kJ(parseInt(h,16)),a+=5;continue}}else if(h=TJ(t,a,a+2),EJ(w8e,h)){n+=kJ(parseInt(h,16)),a+=2;continue}}n+=l}return n}})});var uL=fe((Y0t,LJ)=>{"use strict";var k8e=Wr(),DJ=Kg(),EC=Dm().getWeakData,C8e=ci(),sL=Ei(),E8e=vh(),T8e=cd(),IJ=Sl(),OJ=oo(),MJ=rl(),A8e=MJ.set,D8e=MJ.getterFor,O8e=IJ.find,I8e=IJ.findIndex,M8e=k8e([].splice),P8e=0,TC=function(r){return r.frozen||(r.frozen=new PJ)},PJ=function(){this.entries=[]},lL=function(r,e){return O8e(r.entries,function(t){return t[0]===e})};PJ.prototype={get:function(r){var e=lL(this,r);if(e)return e[1]},has:function(r){return!!lL(this,r)},set:function(r,e){var t=lL(this,r);t?t[1]=e:this.entries.push([r,e])},delete:function(r){var e=I8e(this.entries,function(t){return t[0]===r});return~e&&M8e(this.entries,e,1),!!~e}};LJ.exports={getConstructor:function(r,e,t,n){var i=r(function(b,S){E8e(b,a),A8e(b,{type:e,id:P8e++,frozen:void 0}),S!=null&&T8e(S,b[n],{that:b,AS_ENTRIES:t})}),a=i.prototype,l=D8e(e),h=function(b,S,E){var O=l(b),P=EC(C8e(S),!0);return P===!0?TC(O).set(S,E):P[O.id]=E,b};return DJ(a,{delete:function(b){var S=l(this);if(!sL(b))return!1;var E=EC(b);return E===!0?TC(S).delete(b):E&&OJ(E,S.id)&&delete E[S.id]},has:function(S){var E=l(this);if(!sL(S))return!1;var O=EC(S);return O===!0?TC(E).has(S):O&&OJ(O,E.id)}}),DJ(a,t?{get:function(S){var E=l(this);if(sL(S)){var O=EC(S);return O===!0?TC(E).get(S):O?O[E.id]:void 0}},set:function(S,E){return h(this,S,E)}}:{add:function(S){return h(this,S,!0)}}),i}}});var zJ=fe(()=>{"use strict";var RJ=mr(),AC=Wr(),L8e=Kg(),R8e=Dm(),F8e=e_(),FJ=uL(),DC=Ei(),OC=Qx(),IC=rl().enforce,q8e=aO(),z8e=!RJ.ActiveXObject&&"ActiveXObject"in RJ,I_,qJ=function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},N8e=F8e("WeakMap",qJ,FJ);q8e&&z8e&&(I_=FJ.getConstructor(qJ,"WeakMap",!0),R8e.enable(),wb=N8e.prototype,cL=AC(wb.delete),M_=AC(wb.has),fL=AC(wb.get),hL=AC(wb.set),L8e(wb,{delete:function(r){if(DC(r)&&!OC(r)){var e=IC(this);return e.frozen||(e.frozen=new I_),cL(this,r)||e.frozen.delete(r)}return cL(this,r)},has:function(e){if(DC(e)&&!OC(e)){var t=IC(this);return t.frozen||(t.frozen=new I_),M_(this,e)||t.frozen.has(e)}return M_(this,e)},get:function(e){if(DC(e)&&!OC(e)){var t=IC(this);return t.frozen||(t.frozen=new I_),M_(this,e)?fL(this,e):t.frozen.get(e)}return fL(this,e)},set:function(e,t){if(DC(e)&&!OC(e)){var n=IC(this);n.frozen||(n.frozen=new I_),M_(this,e)?hL(this,e,t):n.frozen.set(e,t)}else hL(this,e,t);return this}}));var wb,cL,M_,fL,hL});var NJ=fe(()=>{"use strict";var B8e=e_(),j8e=uL();B8e("WeakSet",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},j8e)});var dL=fe((ext,UJ)=>{var BJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",jJ={};for(P_=0;P_<66;P_++)jJ[BJ.charAt(P_)]=P_;var P_;UJ.exports={itoc:BJ,ctoi:jJ}});var ZJ=fe(()=>{var U8e=Ft(),VJ=Ra(),mL=Wr(),$J=jr(),H8e=qi(),W8e=oo(),V8e=_p(),pL=dL().ctoi,GJ=/[^\d+/a-z]/i,$8e=/[\t\n\f\r ]+/g,G8e=/[=]+$/,KJ=VJ("atob"),K8e=String.fromCharCode,Y8e=mL("".charAt),HJ=mL("".replace),Z8e=mL(GJ.exec),YJ=$J(function(){return atob(" ")!==""}),WJ=!YJ&&!$J(function(){KJ()});U8e({global:!0,enumerable:!0,forced:YJ||WJ},{atob:function(e){if(V8e(arguments.length,1),WJ)return KJ(e);var t=HJ(H8e(e),$8e,""),n="",i=0,a=0,l,h;if(t.length%4==0&&(t=HJ(t,G8e,"")),t.length%4==1||Z8e(GJ,t))throw new(VJ("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;l=Y8e(t,i++);)W8e(pL,l)&&(h=a%4?h*64+pL[l]:pL[l],a++%4&&(n+=K8e(255&h>>(-2*a&6))));return n}})});var tQ=fe(()=>{var X8e=Ft(),QJ=Ra(),eQ=Wr(),J8e=jr(),Q8e=qi(),eHe=_p(),tHe=dL().itoc,gL=QJ("btoa"),XJ=eQ("".charAt),rHe=eQ("".charCodeAt),JJ=!!gL&&!J8e(function(){gL()});X8e({global:!0,enumerable:!0,forced:JJ},{btoa:function(e){if(eHe(arguments.length,1),JJ)return gL(e);for(var t=Q8e(e),n="",i=0,a=tHe,l,h;XJ(t,i)||(a="=",i%1);){if(h=rHe(t,i+=3/4),h>255)throw new(QJ("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");l=l<<8|h,n+=XJ(a,63&l>>8-i%1*8)}return n}})});var vL=fe((oxt,rQ)=>{rQ.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var bL=fe((axt,iQ)=>{var nHe=Ex(),yL=nHe("span").classList,nQ=yL&&yL.constructor&&yL.constructor.prototype;iQ.exports=nQ===Object.prototype?void 0:nQ});var lQ=fe(()=>{var oQ=mr(),aQ=vL(),iHe=bL(),xL=aI(),oHe=bu(),sQ=function(r){if(r&&r.forEach!==xL)try{oHe(r,"forEach",xL)}catch{r.forEach=xL}};for(MC in aQ)aQ[MC]&&sQ(oQ[MC]&&oQ[MC].prototype);var MC;sQ(iHe)});var pQ=fe(()=>{var uQ=mr(),fQ=vL(),aHe=bL(),L_=$x(),_L=bu(),hQ=Mi(),wL=hQ("iterator"),cQ=hQ("toStringTag"),SL=L_.values,dQ=function(r,e){if(r){if(r[wL]!==SL)try{_L(r,wL,SL)}catch{r[wL]=SL}if(r[cQ]||_L(r,cQ,e),fQ[e]){for(var t in L_)if(r[t]!==L_[t])try{_L(r,t,L_[t])}catch{r[t]=L_[t]}}}};for(PC in fQ)dQ(uQ[PC]&&uQ[PC].prototype,PC);var PC;dQ(aHe,"DOMTokenList")});var gQ=fe((fxt,mQ)=>{var sHe=Sm();mQ.exports=function(r){try{if(sHe)return Function('return require("'+r+'")')()}catch{}}});var kL=fe((hxt,vQ)=>{vQ.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var AQ=fe(()=>{"use strict";var lHe=Ft(),uHe=gQ(),RC=Ra(),OL=jr(),cHe=gc(),IL=Yc(),F_=ao().f,fHe=jy().f,hHe=Qa(),LC=oo(),dHe=vh(),pHe=ci(),xQ=GO(),yQ=$y(),Sb=kL(),mHe=Bx(),_Q=rl(),ML=pi(),wQ=wl(),kb="DOMException",DL="DATA_CLONE_ERR",qC=RC("Error"),Ep=RC(kb)||function(){try{var r=RC("MessageChannel")||uHe("worker_threads").MessageChannel;new r().port1.postMessage(new WeakMap)}catch(e){if(e.name==DL&&e.code==25)return e.constructor}}(),gHe=Ep&&Ep.prototype,SQ=qC.prototype,vHe=_Q.set,yHe=_Q.getterFor(kb),bHe="stack"in qC(kb),kQ=function(r){return LC(Sb,r)&&Sb[r].m?Sb[r].c:0},PL=function(){dHe(this,LL);var e=arguments.length,t=yQ(e<1?void 0:arguments[0]),n=yQ(e<2?void 0:arguments[1],"Error"),i=kQ(n);if(vHe(this,{type:kb,name:n,message:t,code:i}),ML||(this.name=n,this.message=t,this.code=i),bHe){var a=qC(t);a.name=kb,F_(this,"stack",IL(1,mHe(a.stack,1)))}},LL=PL.prototype=cHe(SQ),CQ=function(r){return{enumerable:!0,configurable:!0,get:r}},CL=function(r){return CQ(function(){return yHe(this)[r]})};ML&&fHe(LL,{name:CL("name"),message:CL("message"),code:CL("code")});F_(LL,"constructor",IL(1,PL));var zC=OL(function(){return!(new Ep instanceof qC)}),EQ=zC||OL(function(){return SQ.toString!==xQ||String(new Ep(1,2))!=="2: 1"}),TQ=zC||OL(function(){return new Ep(1,"DataCloneError").code!==25}),xHe=zC||Ep[DL]!==25||gHe[DL]!==25,bQ=wQ?EQ||TQ||xHe:zC;lHe({global:!0,forced:bQ},{DOMException:bQ?PL:Ep});var q_=RC(kb),FC=q_.prototype;EQ&&(wQ||Ep===q_)&&hHe(FC,"toString",xQ);TQ&&ML&&Ep===q_&&F_(FC,"code",CQ(function(){return kQ(pHe(this).name)}));for(EL in Sb)LC(Sb,EL)&&(TL=Sb[EL],R_=TL.s,AL=IL(6,TL.c),LC(q_,R_)||F_(q_,R_,AL),LC(FC,R_)||F_(FC,R_,AL));var TL,R_,AL,EL});var RQ=fe(()=>{"use strict";var _He=Ft(),jL=Ra(),NL=Yc(),BL=ao().f,DQ=oo(),wHe=vh(),SHe=Vg(),OQ=$y(),RL=kL(),kHe=Bx(),PQ=wl(),NC="DOMException",LQ=jL("Error"),BC=jL(NC),UL=function(){wHe(this,CHe);var e=arguments.length,t=OQ(e<1?void 0:arguments[0]),n=OQ(e<2?void 0:arguments[1],"Error"),i=new BC(t,n),a=LQ(t);return a.name=NC,BL(i,"stack",NL(1,kHe(a.stack,1))),SHe(i,this,UL),i},CHe=UL.prototype=BC.prototype,EHe="stack"in LQ(NC),THe="stack"in new BC(1,2),IQ=EHe&&!THe;_He({global:!0,forced:PQ||IQ},{DOMException:IQ?UL:BC});var z_=jL(NC),MQ=z_.prototype;if(MQ.constructor!==z_){PQ||BL(MQ,"constructor",NL(1,z_));for(FL in RL)DQ(RL,FL)&&(qL=RL[FL],zL=qL.s,DQ(z_,zL)||BL(z_,zL,NL(6,qL.c)))}var qL,zL,FL});var qQ=fe(()=>{var AHe=Ra(),DHe=Zc(),FQ="DOMException";DHe(AHe(FQ),FQ)});var BQ=fe(()=>{var OHe=Ft(),zQ=mr(),NQ=Zk(),IHe=!zQ.setImmediate||!zQ.clearImmediate;OHe({global:!0,bind:!0,enumerable:!0,forced:IHe},{setImmediate:NQ.set,clearImmediate:NQ.clear})});var jQ=fe(()=>{var MHe=Ft(),PHe=mr(),LHe=VM(),RHe=Wl(),FHe=_p(),qHe=Sm(),zHe=PHe.process;MHe({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){FHe(arguments.length,1),RHe(e);var t=qHe&&zHe.domain;LHe(t?t.bind(e):e)}})});var XQ=fe(()=>{var NHe=wl(),BHe=Ft(),gs=mr(),j_=Ra(),yd=Wr(),ZL=jr(),jHe=zg(),$L=Gi(),UQ=Ug(),GL=Ei(),UHe=qg(),HHe=cd(),HQ=ci(),WQ=fp(),WHe=oo(),VHe=ld(),HL=bu(),KL=Ca(),$He=_p(),GHe=Im(),KHe=uk(),N_=gs.Object,VQ=gs.Date,HC=gs.Error,YHe=gs.EvalError,ZHe=gs.RangeError,XHe=gs.ReferenceError,JHe=gs.SyntaxError,$Q=gs.TypeError,QHe=gs.URIError,eWe=gs.PerformanceMark,Cb=gs.WebAssembly,tWe=Cb&&Cb.CompileError||HC,rWe=Cb&&Cb.LinkError||HC,nWe=Cb&&Cb.RuntimeError||HC,Eb=j_("DOMException"),GQ=j_("Set"),jC=j_("Map"),XL=jC.prototype,KQ=yd(XL.has),iWe=yd(XL.get),UC=yd(XL.set),oWe=yd(GQ.prototype.add),aWe=j_("Object","keys"),sWe=yd([].push),lWe=yd((!0).valueOf),uWe=yd(1 .valueOf),cWe=yd("".valueOf),fWe=yd(GHe),hWe=yd(VQ.prototype.getTime),YL=jHe("structuredClone"),B_="DataCloneError",WL="Transferring",YQ=function(r){return!ZL(function(){var e=new gs.Set([7]),t=r(e),n=r(N_(7));return t==e||!t.has(7)||typeof n!="object"||n!=7})&&r},dWe=function(r){return!ZL(function(){var e=r(new gs.AggregateError([1],YL,{cause:3}));return e.name!="AggregateError"||e.errors[0]!=1||e.message!=YL||e.cause!=3})&&r},Tb=gs.structuredClone,pWe=NHe||!dWe(Tb),mWe=!Tb&&YQ(function(r){return new eWe(YL,{detail:r}).detail}),Mm=YQ(Tb)||mWe,VL=function(r){throw new Eb("Uncloneable type: "+r,B_)},Hu=function(r,e){throw new Eb((e||"Cloning")+" of "+r+" cannot be properly polyfilled in this engine",B_)},xu=function(r,e){if(UHe(r)&&VL("Symbol"),!GL(r))return r;if(e){if(KQ(e,r))return iWe(e,r)}else e=new jC;var t=WQ(r),n=!1,i,a,l,h,b,S,E,O,P,q;switch(t){case"Array":l=[],n=!0;break;case"Object":l={},n=!0;break;case"Map":l=new jC,n=!0;break;case"Set":l=new GQ,n=!0;break;case"RegExp":l=new RegExp(r.source,"flags"in r?r.flags:fWe(r));break;case"Error":switch(a=r.name,a){case"AggregateError":l=j_("AggregateError")([]);break;case"EvalError":l=YHe();break;case"RangeError":l=ZHe();break;case"ReferenceError":l=XHe();break;case"SyntaxError":l=JHe();break;case"TypeError":l=$Q();break;case"URIError":l=QHe();break;case"CompileError":l=tWe();break;case"LinkError":l=rWe();break;case"RuntimeError":l=nWe();break;default:l=HC()}n=!0;break;case"DOMException":l=new Eb(r.message,r.name),n=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=gs[t],GL(i)||Hu(t),l=new i(xu(r.buffer,e),r.byteOffset,t==="DataView"?r.byteLength:r.length);break;case"DOMQuad":try{l=new DOMQuad(xu(r.p1,e),xu(r.p2,e),xu(r.p3,e),xu(r.p4,e))}catch{Mm?l=Mm(r):Hu(t)}break;case"FileList":if(i=gs.DataTransfer,UQ(i)){for(h=new i,b=0,S=KL(r);b<S;b++)h.items.add(xu(r[b],e));l=h.files}else Mm?l=Mm(r):Hu(t);break;case"ImageData":try{l=new ImageData(xu(r.data,e),r.width,r.height,{colorSpace:r.colorSpace})}catch{Mm?l=Mm(r):Hu(t)}break;default:if(Mm)l=Mm(r);else switch(t){case"BigInt":l=N_(r.valueOf());break;case"Boolean":l=N_(lWe(r));break;case"Number":l=N_(uWe(r));break;case"String":l=N_(cWe(r));break;case"Date":l=new VQ(hWe(r));break;case"ArrayBuffer":i=gs.DataView,!i&&typeof r.slice!="function"&&Hu(t);try{if(typeof r.slice=="function")l=r.slice(0);else for(S=r.byteLength,l=new ArrayBuffer(S),P=new i(r),q=new i(l),b=0;b<S;b++)q.setUint8(b,P.getUint8(b))}catch{throw new Eb("ArrayBuffer is detached",B_)}break;case"SharedArrayBuffer":l=r;break;case"Blob":try{l=r.slice(0,r.size,r.type)}catch{Hu(t)}break;case"DOMPoint":case"DOMPointReadOnly":i=gs[t];try{l=i.fromPoint?i.fromPoint(r):new i(r.x,r.y,r.z,r.w)}catch{Hu(t)}break;case"DOMRect":case"DOMRectReadOnly":i=gs[t];try{l=i.fromRect?i.fromRect(r):new i(r.x,r.y,r.width,r.height)}catch{Hu(t)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=gs[t];try{l=i.fromMatrix?i.fromMatrix(r):new i(r)}catch{Hu(t)}break;case"AudioData":case"VideoFrame":$L(r.clone)||Hu(t);try{l=r.clone()}catch{VL(t)}break;case"File":try{l=new File([r],r.name,r)}catch{Hu(t)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Hu(t);default:VL(t)}}if(UC(e,r,l),n)switch(t){case"Array":case"Object":for(E=aWe(r),b=0,S=KL(E);b<S;b++)O=E[b],VHe(l,O,xu(r[O],e));break;case"Map":r.forEach(function(z,N){UC(l,xu(N,e),xu(z,e))});break;case"Set":r.forEach(function(z){oWe(l,xu(z,e))});break;case"Error":HL(l,"message",xu(r.message,e)),WHe(r,"cause")&&HL(l,"cause",xu(r.cause,e)),a=="AggregateError"&&(l.errors=xu(r.errors,e));case"DOMException":KHe&&HL(l,"stack",xu(r.stack,e))}return l},ZQ=Tb&&!ZL(function(){var r=new ArrayBuffer(8),e=Tb(r,{transfer:[r]});return r.byteLength!=0||e.byteLength!=8}),gWe=function(r,e){if(!GL(r))throw $Q("Transfer option cannot be converted to a sequence");var t=[];HHe(r,function(P){sWe(t,HQ(P))});var n=0,i=KL(t),a,l,h,b,S,E,O;if(ZQ)for(b=Tb(t,{transfer:t});n<i;)UC(e,t[n],b[n++]);else for(;n<i;){if(a=t[n++],KQ(e,a))throw new Eb("Duplicate transferable",B_);switch(l=WQ(a),l){case"ImageBitmap":h=gs.OffscreenCanvas,UQ(h)||Hu(l,WL);try{E=new h(a.width,a.height),O=E.getContext("bitmaprenderer"),O.transferFromImageBitmap(a),S=E.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!$L(a.clone)||!$L(a.close))&&Hu(l,WL);try{S=a.clone(),a.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Hu(l,WL)}if(S===void 0)throw new Eb("This object cannot be transferred: "+l,B_);UC(e,a,S)}};BHe({global:!0,enumerable:!0,sham:!ZQ,forced:pWe},{structuredClone:function(e){var t=$He(arguments.length,1)>1?HQ(arguments[1]):void 0,n=t?t.transfer:void 0,i;return n!==void 0&&(i=new jC,gWe(n,i)),xu(e,i)}})});var QQ=fe(()=>{var vWe=Ft(),JL=mr(),yWe=mc(),bWe=Gi(),xWe=od(),_We=bm(),wWe=_p(),SWe=/MSIE .\./.test(xWe),kWe=JL.Function,JQ=function(r){return function(e,t){var n=wWe(arguments.length,1)>2,i=bWe(e)?e:kWe(e),a=n?_We(arguments,2):void 0;return r(n?function(){yWe(i,this,a)}:i,t)}};vWe({global:!0,bind:!0,forced:SWe},{setTimeout:JQ(JL.setTimeout),setInterval:JQ(JL.setInterval)})});var QL=fe((Txt,eee)=>{var CWe=jr(),EWe=Mi(),TWe=wl(),AWe=EWe("iterator");eee.exports=!CWe(function(){var r=new URL("b?a=1&b=2&c=3","http://a"),e=r.searchParams,t="";return r.pathname="c%20d",e.forEach(function(n,i){e.delete("b"),t+=i+n}),TWe&&!r.toJSON||!e.sort||r.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[AWe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||t!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var uee=fe((Axt,lee)=>{"use strict";var DWe=mr(),lv=Wr(),eR=2147483647,U_=36,oee=1,nR=26,OWe=38,IWe=700,MWe=72,PWe=128,LWe="-",RWe=/[^\0-\u007E]/,aee=/[.\u3002\uFF0E\uFF61]/g,tee="Overflow: input needs wider integers to process",tR=U_-oee,ree=DWe.RangeError,FWe=lv(aee.exec),Ab=Math.floor,rR=String.fromCharCode,nee=lv("".charCodeAt),see=lv([].join),Pm=lv([].push),qWe=lv("".replace),zWe=lv("".split),NWe=lv("".toLowerCase),BWe=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=nee(r,t++);if(i>=55296&&i<=56319&&t<n){var a=nee(r,t++);(a&64512)==56320?Pm(e,((i&1023)<<10)+(a&1023)+65536):(Pm(e,i),t--)}else Pm(e,i)}return e},iee=function(r){return r+22+75*(r<26)},jWe=function(r,e,t){var n=0;for(r=t?Ab(r/IWe):r>>1,r+=Ab(r/e);r>tR*nR>>1;)r=Ab(r/tR),n+=U_;return Ab(n+(tR+1)*r/(r+OWe))},UWe=function(r){var e=[];r=BWe(r);var t=r.length,n=PWe,i=0,a=MWe,l,h;for(l=0;l<r.length;l++)h=r[l],h<128&&Pm(e,rR(h));var b=e.length,S=b;for(b&&Pm(e,LWe);S<t;){var E=eR;for(l=0;l<r.length;l++)h=r[l],h>=n&&h<E&&(E=h);var O=S+1;if(E-n>Ab((eR-i)/O))throw ree(tee);for(i+=(E-n)*O,n=E,l=0;l<r.length;l++){if(h=r[l],h<n&&++i>eR)throw ree(tee);if(h==n){for(var P=i,q=U_;;){var z=q<=a?oee:q>=a+nR?nR:q-a;if(P<z)break;var N=P-z,V=U_-z;Pm(e,rR(iee(z+N%V))),P=Ab(N/V),q+=U_}Pm(e,rR(iee(P))),a=jWe(i,O,S==b),i=0,S++}}i++,n++}return see(e,"")};lee.exports=function(r){var e=[],t=zWe(qWe(NWe(r),aee,"."),"."),n,i;for(n=0;n<t.length;n++)i=t[n],Pm(e,FWe(RWe,i)?"xn--"+UWe(i):i);return see(e,".")}});var dR=fe((Dxt,Dee)=>{"use strict";$x();var lR=Ft(),GC=mr(),fR=Ra(),WC=io(),bd=Wr(),_ee=QL(),wee=Qa(),HWe=Kg(),WWe=Zc(),VWe=bk(),hR=rl(),See=vh(),iR=Gi(),$We=oo(),GWe=mh(),KWe=fp(),YWe=ci(),kee=Ei(),ef=qi(),ZWe=gc(),cee=Yc(),uR=jx(),XWe=Ky(),Db=_p(),JWe=Mi(),QWe=Sk(),eVe=JWe("iterator"),V_="URLSearchParams",Cee=V_+"Iterator",Eee=hR.set,xh=hR.getterFor(V_),tVe=hR.getterFor(Cee),fee=fR("fetch"),$C=fR("Request"),H_=fR("Headers"),oR=$C&&$C.prototype,hee=H_&&H_.prototype,rVe=GC.RegExp,nVe=GC.TypeError,Tee=GC.decodeURIComponent,iVe=GC.encodeURIComponent,oVe=bd("".charAt),dee=bd([].join),uv=bd([].push),cR=bd("".replace),aVe=bd([].shift),pee=bd([].splice),mee=bd("".split),sVe=bd("".slice),lVe=/\+/g,gee=Array(4),uVe=function(r){return gee[r-1]||(gee[r-1]=rVe("((?:%[\\da-f]{2}){"+r+"})","gi"))},cVe=function(r){try{return Tee(r)}catch{return r}},vee=function(r){var e=cR(r,lVe," "),t=4;try{return Tee(e)}catch{for(;t;)e=cR(e,uVe(t--),cVe);return e}},fVe=/[!'()~]|%20/g,hVe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},dVe=function(r){return hVe[r]},yee=function(r){return cR(iVe(r),fVe,dVe)},aR=VWe(function(e,t){Eee(this,{type:Cee,iterator:uR(xh(e).entries),kind:t})},"Iterator",function(){var e=tVe(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value=t==="keys"?i.key:t==="values"?i.value:[i.key,i.value]),n},!0),Aee=function(r){this.entries=[],this.url=null,r!==void 0&&(kee(r)?this.parseObject(r):this.parseQuery(typeof r=="string"?oVe(r,0)==="?"?sVe(r,1):r:ef(r)))};Aee.prototype={type:V_,bindURL:function(r){this.url=r,this.update()},parseObject:function(r){var e=XWe(r),t,n,i,a,l,h,b;if(e)for(t=uR(r,e),n=t.next;!(i=WC(n,t)).done;){if(a=uR(YWe(i.value)),l=a.next,(h=WC(l,a)).done||(b=WC(l,a)).done||!WC(l,a).done)throw nVe("Expected sequence with length 2");uv(this.entries,{key:ef(h.value),value:ef(b.value)})}else for(var S in r)$We(r,S)&&uv(this.entries,{key:S,value:ef(r[S])})},parseQuery:function(r){if(r)for(var e=mee(r,"&"),t=0,n,i;t<e.length;)n=e[t++],n.length&&(i=mee(n,"="),uv(this.entries,{key:vee(aVe(i)),value:vee(dee(i,"="))}))},serialize:function(){for(var r=this.entries,e=[],t=0,n;t<r.length;)n=r[t++],uv(e,yee(n.key)+"="+yee(n.value));return dee(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var KC=function(){See(this,W_);var e=arguments.length>0?arguments[0]:void 0;Eee(this,new Aee(e))},W_=KC.prototype;HWe(W_,{append:function(e,t){Db(arguments.length,2);var n=xh(this);uv(n.entries,{key:ef(e),value:ef(t)}),n.updateURL()},delete:function(r){Db(arguments.length,1);for(var e=xh(this),t=e.entries,n=ef(r),i=0;i<t.length;)t[i].key===n?pee(t,i,1):i++;e.updateURL()},get:function(e){Db(arguments.length,1);for(var t=xh(this).entries,n=ef(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){Db(arguments.length,1);for(var t=xh(this).entries,n=ef(e),i=[],a=0;a<t.length;a++)t[a].key===n&&uv(i,t[a].value);return i},has:function(e){Db(arguments.length,1);for(var t=xh(this).entries,n=ef(e),i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){Db(arguments.length,1);for(var n=xh(this),i=n.entries,a=!1,l=ef(e),h=ef(t),b=0,S;b<i.length;b++)S=i[b],S.key===l&&(a?pee(i,b--,1):(a=!0,S.value=h));a||uv(i,{key:l,value:h}),n.updateURL()},sort:function(){var e=xh(this);QWe(e.entries,function(t,n){return t.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var t=xh(this).entries,n=GWe(e,arguments.length>1?arguments[1]:void 0),i=0,a;i<t.length;)a=t[i++],n(a.value,a.key,this)},keys:function(){return new aR(this,"keys")},values:function(){return new aR(this,"values")},entries:function(){return new aR(this,"entries")}},{enumerable:!0});wee(W_,eVe,W_.entries,{name:"entries"});wee(W_,"toString",function(){return xh(this).serialize()},{enumerable:!0});WWe(KC,V_);lR({global:!0,forced:!_ee},{URLSearchParams:KC});!_ee&&iR(H_)&&(bee=bd(hee.has),xee=bd(hee.set),sR=function(r){if(kee(r)){var e=r.body,t;if(KWe(e)===V_)return t=r.headers?new H_(r.headers):new H_,bee(t,"content-type")||xee(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),ZWe(r,{body:cee(0,ef(e)),headers:cee(0,t)})}return r},iR(fee)&&lR({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return fee(e,arguments.length>1?sR(arguments[1]):{})}}),iR($C)&&(VC=function(e){return See(this,oR),new $C(e,arguments.length>1?sR(arguments[1]):{})},oR.constructor=VC,VC.prototype=oR,lR({global:!0,forced:!0},{Request:VC})));var bee,xee,sR,VC;Dee.exports={URLSearchParams:KC,getState:xh}});var Kee=fe(()=>{"use strict";SP();var pVe=Ft(),DR=pi(),mVe=QL(),OR=mr(),Oee=mh(),If=Wr(),gVe=jy().f,QC=Qa(),vVe=vh(),ER=oo(),IR=SM(),Ob=sI(),_h=Uy(),yVe=x_().codeAt,bVe=uee(),Ap=qi(),xVe=Zc(),_Ve=_p(),Uee=dR(),Hee=rl(),wVe=Hee.set,eE=Hee.getterFor("URL"),SVe=Uee.URLSearchParams,kVe=Uee.getState,$_=OR.URL,TR=OR.TypeError,tE=OR.parseInt,CVe=Math.floor,Iee=Math.pow,Of=If("".charAt),wh=If(/./.exec),K_=If([].join),EVe=If(1 .toString),TVe=If([].pop),Mb=If([].push),Mee=If("".replace),AVe=If([].shift),DVe=If("".split),Z_=If("".slice),rE=If("".toLowerCase),OVe=If([].unshift),IVe="Invalid authority",pR="Invalid scheme",cv="Invalid host",Pee="Invalid port",Wee=/[a-z]/i,MVe=/[\d+-.a-z]/i,AR=/\d/,PVe=/^0x/i,LVe=/^[0-7]+$/,RVe=/^\d+$/,Vee=/^[\da-f]+$/i,FVe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,qVe=/[\0\t\n\r #/:<>?@[\\\]^|]/,zVe=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,NVe=/[\t\n\r]/g,Af,BVe=function(r){var e=DVe(r,"."),t,n,i,a,l,h,b;if(e.length&&e[e.length-1]==""&&e.length--,t=e.length,t>4)return r;for(n=[],i=0;i<t;i++){if(a=e[i],a=="")return r;if(l=10,a.length>1&&Of(a,0)=="0"&&(l=wh(PVe,a)?16:8,a=Z_(a,l==8?1:2)),a==="")h=0;else{if(!wh(l==10?RVe:l==8?LVe:Vee,a))return r;h=tE(a,l)}Mb(n,h)}for(i=0;i<t;i++)if(h=n[i],i==t-1){if(h>=Iee(256,5-t))return null}else if(h>255)return null;for(b=TVe(n),i=0;i<n.length;i++)b+=n[i]*Iee(256,3-i);return b},jVe=function(r){var e=[0,0,0,0,0,0,0,0],t=0,n=null,i=0,a,l,h,b,S,E,O,P=function(){return Of(r,i)};if(P()==":"){if(Of(r,1)!=":")return;i+=2,t++,n=t}for(;P();){if(t==8)return;if(P()==":"){if(n!==null)return;i++,t++,n=t;continue}for(a=l=0;l<4&&wh(Vee,P());)a=a*16+tE(P(),16),i++,l++;if(P()=="."){if(l==0||(i-=l,t>6))return;for(h=0;P();){if(b=null,h>0)if(P()=="."&&h<4)i++;else return;if(!wh(AR,P()))return;for(;wh(AR,P());){if(S=tE(P(),10),b===null)b=S;else{if(b==0)return;b=b*10+S}if(b>255)return;i++}e[t]=e[t]*256+b,h++,(h==2||h==4)&&t++}if(h!=4)return;break}else if(P()==":"){if(i++,!P())return}else if(P())return;e[t++]=a}if(n!==null)for(E=t-n,t=7;t!=0&&E>0;)O=e[t],e[t--]=e[n+E-1],e[n+--E]=O;else if(t!=8)return;return e},UVe=function(r){for(var e=null,t=1,n=null,i=0,a=0;a<8;a++)r[a]!==0?(i>t&&(e=n,t=i),n=null,i=0):(n===null&&(n=a),++i);return i>t&&(e=n,t=i),e},G_=function(r){var e,t,n,i;if(typeof r=="number"){for(e=[],t=0;t<4;t++)OVe(e,r%256),r=CVe(r/256);return K_(e,".")}else if(typeof r=="object"){for(e="",n=UVe(r),t=0;t<8;t++)i&&r[t]===0||(i&&(i=!1),n===t?(e+=t?":":"::",i=!0):(e+=EVe(r[t],16),t<7&&(e+=":")));return"["+e+"]"}return r},JC={},$ee=IR({},JC,{" ":1,'"':1,"<":1,">":1,"`":1}),Gee=IR({},$ee,{"#":1,"?":1,"{":1,"}":1}),mR=IR({},Gee,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Lm=function(r,e){var t=yVe(r,0);return t>32&&t<127&&!ER(e,r)?r:encodeURIComponent(r)},YC={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y_=function(r,e){var t;return r.length==2&&wh(Wee,Of(r,0))&&((t=Of(r,1))==":"||!e&&t=="|")},Lee=function(r){var e;return r.length>1&&Y_(Z_(r,0,2))&&(r.length==2||(e=Of(r,2))==="/"||e==="\\"||e==="?"||e==="#")},HVe=function(r){return r==="."||rE(r)==="%2e"},WVe=function(r){return r=rE(r),r===".."||r==="%2e."||r===".%2e"||r==="%2e%2e"},gR={},Ree={},vR={},Fee={},qee={},yR={},zee={},Nee={},ZC={},XC={},bR={},xR={},_R={},wR={},Bee={},SR={},Ib={},xd={},jee={},fv={},Tp={},MR=function(r,e,t){var n=Ap(r),i,a,l;if(e){if(a=this.parse(n),a)throw TR(a);this.searchParams=null}else{if(t!==void 0&&(i=new MR(t,!0)),a=this.parse(n,null,i),a)throw TR(a);l=kVe(new SVe),l.bindURL(this),this.searchParams=l}};MR.prototype={type:"URL",parse:function(r,e,t){var n=this,i=e||gR,a=0,l="",h=!1,b=!1,S=!1,E,O,P,q;for(r=Ap(r),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,r=Mee(r,zVe,"")),r=Mee(r,NVe,""),E=Ob(r);a<=E.length;){switch(O=E[a],i){case gR:if(O&&wh(Wee,O))l+=rE(O),i=Ree;else{if(e)return pR;i=vR;continue}break;case Ree:if(O&&(wh(MVe,O)||O=="+"||O=="-"||O=="."))l+=rE(O);else if(O==":"){if(e&&(n.isSpecial()!=ER(YC,l)||l=="file"&&(n.includesCredentials()||n.port!==null)||n.scheme=="file"&&!n.host))return;if(n.scheme=l,e){n.isSpecial()&&YC[n.scheme]==n.port&&(n.port=null);return}l="",n.scheme=="file"?i=wR:n.isSpecial()&&t&&t.scheme==n.scheme?i=Fee:n.isSpecial()?i=Nee:E[a+1]=="/"?(i=qee,a++):(n.cannotBeABaseURL=!0,Mb(n.path,""),i=jee)}else{if(e)return pR;l="",i=vR,a=0;continue}break;case vR:if(!t||t.cannotBeABaseURL&&O!="#")return pR;if(t.cannotBeABaseURL&&O=="#"){n.scheme=t.scheme,n.path=_h(t.path),n.query=t.query,n.fragment="",n.cannotBeABaseURL=!0,i=Tp;break}i=t.scheme=="file"?wR:yR;continue;case Fee:if(O=="/"&&E[a+1]=="/")i=ZC,a++;else{i=yR;continue}break;case qee:if(O=="/"){i=XC;break}else{i=xd;continue}case yR:if(n.scheme=t.scheme,O==Af)n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=_h(t.path),n.query=t.query;else if(O=="/"||O=="\\"&&n.isSpecial())i=zee;else if(O=="?")n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=_h(t.path),n.query="",i=fv;else if(O=="#")n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=_h(t.path),n.query=t.query,n.fragment="",i=Tp;else{n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=_h(t.path),n.path.length--,i=xd;continue}break;case zee:if(n.isSpecial()&&(O=="/"||O=="\\"))i=ZC;else if(O=="/")i=XC;else{n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,i=xd;continue}break;case Nee:if(i=ZC,O!="/"||Of(l,a+1)!="/")continue;a++;break;case ZC:if(O!="/"&&O!="\\"){i=XC;continue}break;case XC:if(O=="@"){h&&(l="%40"+l),h=!0,P=Ob(l);for(var z=0;z<P.length;z++){var N=P[z];if(N==":"&&!S){S=!0;continue}var V=Lm(N,mR);S?n.password+=V:n.username+=V}l=""}else if(O==Af||O=="/"||O=="?"||O=="#"||O=="\\"&&n.isSpecial()){if(h&&l=="")return IVe;a-=Ob(l).length+1,l="",i=bR}else l+=O;break;case bR:case xR:if(e&&n.scheme=="file"){i=SR;continue}else if(O==":"&&!b){if(l=="")return cv;if(q=n.parseHost(l),q)return q;if(l="",i=_R,e==xR)return}else if(O==Af||O=="/"||O=="?"||O=="#"||O=="\\"&&n.isSpecial()){if(n.isSpecial()&&l=="")return cv;if(e&&l==""&&(n.includesCredentials()||n.port!==null))return;if(q=n.parseHost(l),q)return q;if(l="",i=Ib,e)return;continue}else O=="["?b=!0:O=="]"&&(b=!1),l+=O;break;case _R:if(wh(AR,O))l+=O;else if(O==Af||O=="/"||O=="?"||O=="#"||O=="\\"&&n.isSpecial()||e){if(l!=""){var Y=tE(l,10);if(Y>65535)return Pee;n.port=n.isSpecial()&&Y===YC[n.scheme]?null:Y,l=""}if(e)return;i=Ib;continue}else return Pee;break;case wR:if(n.scheme="file",O=="/"||O=="\\")i=Bee;else if(t&&t.scheme=="file")if(O==Af)n.host=t.host,n.path=_h(t.path),n.query=t.query;else if(O=="?")n.host=t.host,n.path=_h(t.path),n.query="",i=fv;else if(O=="#")n.host=t.host,n.path=_h(t.path),n.query=t.query,n.fragment="",i=Tp;else{Lee(K_(_h(E,a),""))||(n.host=t.host,n.path=_h(t.path),n.shortenPath()),i=xd;continue}else{i=xd;continue}break;case Bee:if(O=="/"||O=="\\"){i=SR;break}t&&t.scheme=="file"&&!Lee(K_(_h(E,a),""))&&(Y_(t.path[0],!0)?Mb(n.path,t.path[0]):n.host=t.host),i=xd;continue;case SR:if(O==Af||O=="/"||O=="\\"||O=="?"||O=="#"){if(!e&&Y_(l))i=xd;else if(l==""){if(n.host="",e)return;i=Ib}else{if(q=n.parseHost(l),q)return q;if(n.host=="localhost"&&(n.host=""),e)return;l="",i=Ib}continue}else l+=O;break;case Ib:if(n.isSpecial()){if(i=xd,O!="/"&&O!="\\")continue}else if(!e&&O=="?")n.query="",i=fv;else if(!e&&O=="#")n.fragment="",i=Tp;else if(O!=Af&&(i=xd,O!="/"))continue;break;case xd:if(O==Af||O=="/"||O=="\\"&&n.isSpecial()||!e&&(O=="?"||O=="#")){if(WVe(l)?(n.shortenPath(),O!="/"&&!(O=="\\"&&n.isSpecial())&&Mb(n.path,"")):HVe(l)?O!="/"&&!(O=="\\"&&n.isSpecial())&&Mb(n.path,""):(n.scheme=="file"&&!n.path.length&&Y_(l)&&(n.host&&(n.host=""),l=Of(l,0)+":"),Mb(n.path,l)),l="",n.scheme=="file"&&(O==Af||O=="?"||O=="#"))for(;n.path.length>1&&n.path[0]==="";)AVe(n.path);O=="?"?(n.query="",i=fv):O=="#"&&(n.fragment="",i=Tp)}else l+=Lm(O,Gee);break;case jee:O=="?"?(n.query="",i=fv):O=="#"?(n.fragment="",i=Tp):O!=Af&&(n.path[0]+=Lm(O,JC));break;case fv:!e&&O=="#"?(n.fragment="",i=Tp):O!=Af&&(O=="'"&&n.isSpecial()?n.query+="%27":O=="#"?n.query+="%23":n.query+=Lm(O,JC));break;case Tp:O!=Af&&(n.fragment+=Lm(O,$ee));break}a++}},parseHost:function(r){var e,t,n;if(Of(r,0)=="["){if(Of(r,r.length-1)!="]"||(e=jVe(Z_(r,1,-1)),!e))return cv;this.host=e}else if(this.isSpecial()){if(r=bVe(r),wh(FVe,r)||(e=BVe(r),e===null))return cv;this.host=e}else{if(wh(qVe,r))return cv;for(e="",t=Ob(r),n=0;n<t.length;n++)e+=Lm(t[n],JC);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return ER(YC,this.scheme)},shortenPath:function(){var r=this.path,e=r.length;e&&(this.scheme!="file"||e!=1||!Y_(r[0],!0))&&r.length--},serialize:function(){var r=this,e=r.scheme,t=r.username,n=r.password,i=r.host,a=r.port,l=r.path,h=r.query,b=r.fragment,S=e+":";return i!==null?(S+="//",r.includesCredentials()&&(S+=t+(n?":"+n:"")+"@"),S+=G_(i),a!==null&&(S+=":"+a)):e=="file"&&(S+="//"),S+=r.cannotBeABaseURL?l[0]:l.length?"/"+K_(l,"/"):"",h!==null&&(S+="?"+h),b!==null&&(S+="#"+b),S},setHref:function(r){var e=this.parse(r);if(e)throw TR(e);this.searchParams.update()},getOrigin:function(){var r=this.scheme,e=this.port;if(r=="blob")try{return new Pb(r.path[0]).origin}catch{return"null"}return r=="file"||!this.isSpecial()?"null":r+"://"+G_(this.host)+(e!==null?":"+e:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(r){this.parse(Ap(r)+":",gR)},getUsername:function(){return this.username},setUsername:function(r){var e=Ob(Ap(r));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var t=0;t<e.length;t++)this.username+=Lm(e[t],mR)}},getPassword:function(){return this.password},setPassword:function(r){var e=Ob(Ap(r));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var t=0;t<e.length;t++)this.password+=Lm(e[t],mR)}},getHost:function(){var r=this.host,e=this.port;return r===null?"":e===null?G_(r):G_(r)+":"+e},setHost:function(r){this.cannotBeABaseURL||this.parse(r,bR)},getHostname:function(){var r=this.host;return r===null?"":G_(r)},setHostname:function(r){this.cannotBeABaseURL||this.parse(r,xR)},getPort:function(){var r=this.port;return r===null?"":Ap(r)},setPort:function(r){this.cannotHaveUsernamePasswordPort()||(r=Ap(r),r==""?this.port=null:this.parse(r,_R))},getPathname:function(){var r=this.path;return this.cannotBeABaseURL?r[0]:r.length?"/"+K_(r,"/"):""},setPathname:function(r){this.cannotBeABaseURL||(this.path=[],this.parse(r,Ib))},getSearch:function(){var r=this.query;return r?"?"+r:""},setSearch:function(r){r=Ap(r),r==""?this.query=null:(Of(r,0)=="?"&&(r=Z_(r,1)),this.query="",this.parse(r,fv)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var r=this.fragment;return r?"#"+r:""},setHash:function(r){if(r=Ap(r),r==""){this.fragment=null;return}Of(r,0)=="#"&&(r=Z_(r,1)),this.fragment="",this.parse(r,Tp)},update:function(){this.query=this.searchParams.serialize()||null}};var Pb=function(e){var t=vVe(this,nE),n=_Ve(arguments.length,1)>1?arguments[1]:void 0,i=wVe(t,new MR(e,!1,n));DR||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},nE=Pb.prototype,Df=function(r,e){return{get:function(){return eE(this)[r]()},set:e&&function(t){return eE(this)[e](t)},configurable:!0,enumerable:!0}};DR&&gVe(nE,{href:Df("serialize","setHref"),origin:Df("getOrigin"),protocol:Df("getProtocol","setProtocol"),username:Df("getUsername","setUsername"),password:Df("getPassword","setPassword"),host:Df("getHost","setHost"),hostname:Df("getHostname","setHostname"),port:Df("getPort","setPort"),pathname:Df("getPathname","setPathname"),search:Df("getSearch","setSearch"),searchParams:Df("getSearchParams"),hash:Df("getHash","setHash")});QC(nE,"toJSON",function(){return eE(this).serialize()},{enumerable:!0});QC(nE,"toString",function(){return eE(this).serialize()},{enumerable:!0});$_&&(kR=$_.createObjectURL,CR=$_.revokeObjectURL,kR&&QC(Pb,"createObjectURL",Oee(kR,$_)),CR&&QC(Pb,"revokeObjectURL",Oee(CR,$_)));var kR,CR;xVe(Pb,"URL");pVe({global:!0,forced:!mVe,sham:!DR},{URL:Pb})});var Yee=fe(()=>{"use strict";var VVe=Ft(),$Ve=io();VVe({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return $Ve(URL.prototype.toString,this)}})});var Xee=fe((Lxt,Zee)=>{U6();Y6();Z6();X6();J6();Q6();eU();tU();rU();nU();iU();oU();aU();sU();lU();TU();MU();KU();JU();e9();s9();u9();f9();p9();m9();v9();b9();w9();S9();E9();F9();q9();N9();B9();$x();a8();c8();f8();d8();y8();x8();w8();C8();E8();j8();W8();V8();$8();G8();xH();OH();NH();BH();jH();HH();$H();GH();nW();iW();uW();dW();mW();_W();CW();DW();OW();LW();RW();ZW();QW();rV();iV();aV();sV();cV();hV();mV();vV();bV();_V();wV();SV();kV();TV();OV();IV();MV();BV();jV();WV();$V();GV();KV();YV();ZV();r7();c7();p7();_7();k7();D7();O7();P7();R7();q7();z7();U7();H7();W7();G7();K7();Y7();X7();J7();e$();r$();i$();a$();l$();u$();c$();f$();h$();d$();g$();v$();b$();_$();wG();SG();CG();DG();OG();qG();BG();jG();VG();$G();GG();KG();YG();ZG();XG();rK();iK();oK();xK();wK();uC();TK();DK();OK();PK();LK();RK();NK();$K();YK();XK();SP();uY();vY();bY();xY();kY();CY();IY();FY();NY();VY();ZY();JY();rZ();oZ();lZ();hZ();dZ();pZ();mZ();gZ();vZ();yZ();bZ();xZ();_Z();wZ();SZ();kZ();ZZ();XZ();JZ();QZ();eX();tX();rX();nX();iX();aX();lX();cX();hX();xX();wX();kX();EX();TX();DX();IX();FX();zX();BX();UX();WX();$X();KX();ZX();rJ();iJ();aJ();dJ();gJ();_J();SJ();AJ();zJ();NJ();ZJ();tQ();lQ();pQ();AQ();RQ();qQ();BQ();jQ();XQ();QQ();Kee();Yee();dR();Zee.exports=wO()});var Jee=fe((Rxt,LR)=>{var PR=function(r){"use strict";var e=Object.prototype,t=e.hasOwnProperty,n,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",h=i.toStringTag||"@@toStringTag";function b(re,ie,pe){return Object.defineProperty(re,ie,{value:pe,enumerable:!0,configurable:!0,writable:!0}),re[ie]}try{b({},"")}catch{b=function(ie,pe,je){return ie[pe]=je}}function S(re,ie,pe,je){var K=ie&&ie.prototype instanceof V?ie:V,W=Object.create(K.prototype),Ze=new G(je||[]);return W._invoke=be(re,pe,Ze),W}r.wrap=S;function E(re,ie,pe){try{return{type:"normal",arg:re.call(ie,pe)}}catch(je){return{type:"throw",arg:je}}}var O="suspendedStart",P="suspendedYield",q="executing",z="completed",N={};function V(){}function Y(){}function J(){}var se={};b(se,a,function(){return this});var _=Object.getPrototypeOf,me=_&&_(_(ae([])));me&&me!==e&&t.call(me,a)&&(se=me);var ne=J.prototype=V.prototype=Object.create(se);Y.prototype=J,b(ne,"constructor",J),b(J,"constructor",Y),Y.displayName=b(J,h,"GeneratorFunction");function de(re){["next","throw","return"].forEach(function(ie){b(re,ie,function(pe){return this._invoke(ie,pe)})})}r.isGeneratorFunction=function(re){var ie=typeof re=="function"&&re.constructor;return ie?ie===Y||(ie.displayName||ie.name)==="GeneratorFunction":!1},r.mark=function(re){return Object.setPrototypeOf?Object.setPrototypeOf(re,J):(re.__proto__=J,b(re,h,"GeneratorFunction")),re.prototype=Object.create(ne),re},r.awrap=function(re){return{__await:re}};function he(re,ie){function pe(W,Ze,ot,et){var Pt=E(re[W],re,Ze);if(Pt.type==="throw")et(Pt.arg);else{var Tt=Pt.arg,Ht=Tt.value;return Ht&&typeof Ht=="object"&&t.call(Ht,"__await")?ie.resolve(Ht.__await).then(function(Lt){pe("next",Lt,ot,et)},function(Lt){pe("throw",Lt,ot,et)}):ie.resolve(Ht).then(function(Lt){Tt.value=Lt,ot(Tt)},function(Lt){return pe("throw",Lt,ot,et)})}}var je;function K(W,Ze){function ot(){return new ie(function(et,Pt){pe(W,Ze,et,Pt)})}return je=je?je.then(ot,ot):ot()}this._invoke=K}de(he.prototype),b(he.prototype,l,function(){return this}),r.AsyncIterator=he,r.async=function(re,ie,pe,je,K){K===void 0&&(K=Promise);var W=new he(S(re,ie,pe,je),K);return r.isGeneratorFunction(ie)?W:W.next().then(function(Ze){return Ze.done?Ze.value:W.next()})};function be(re,ie,pe){var je=O;return function(W,Ze){if(je===q)throw new Error("Generator is already running");if(je===z){if(W==="throw")throw Ze;return Ce()}for(pe.method=W,pe.arg=Ze;;){var ot=pe.delegate;if(ot){var et=xe(ot,pe);if(et){if(et===N)continue;return et}}if(pe.method==="next")pe.sent=pe._sent=pe.arg;else if(pe.method==="throw"){if(je===O)throw je=z,pe.arg;pe.dispatchException(pe.arg)}else pe.method==="return"&&pe.abrupt("return",pe.arg);je=q;var Pt=E(re,ie,pe);if(Pt.type==="normal"){if(je=pe.done?z:P,Pt.arg===N)continue;return{value:Pt.arg,done:pe.done}}else Pt.type==="throw"&&(je=z,pe.method="throw",pe.arg=Pt.arg)}}}function xe(re,ie){var pe=re.iterator[ie.method];if(pe===n){if(ie.delegate=null,ie.method==="throw"){if(re.iterator.return&&(ie.method="return",ie.arg=n,xe(re,ie),ie.method==="throw"))return N;ie.method="throw",ie.arg=new TypeError("The iterator does not provide a 'throw' method")}return N}var je=E(pe,re.iterator,ie.arg);if(je.type==="throw")return ie.method="throw",ie.arg=je.arg,ie.delegate=null,N;var K=je.arg;if(!K)return ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,N;if(K.done)ie[re.resultName]=K.value,ie.next=re.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=n);else return K;return ie.delegate=null,N}de(ne),b(ne,h,"Generator"),b(ne,a,function(){return this}),b(ne,"toString",function(){return"[object Generator]"});function We(re){var ie={tryLoc:re[0]};1 in re&&(ie.catchLoc=re[1]),2 in re&&(ie.finallyLoc=re[2],ie.afterLoc=re[3]),this.tryEntries.push(ie)}function R(re){var ie=re.completion||{};ie.type="normal",delete ie.arg,re.completion=ie}function G(re){this.tryEntries=[{tryLoc:"root"}],re.forEach(We,this),this.reset(!0)}r.keys=function(re){var ie=[];for(var pe in re)ie.push(pe);return ie.reverse(),function je(){for(;ie.length;){var K=ie.pop();if(K in re)return je.value=K,je.done=!1,je}return je.done=!0,je}};function ae(re){if(re){var ie=re[a];if(ie)return ie.call(re);if(typeof re.next=="function")return re;if(!isNaN(re.length)){var pe=-1,je=function K(){for(;++pe<re.length;)if(t.call(re,pe))return K.value=re[pe],K.done=!1,K;return K.value=n,K.done=!0,K};return je.next=je}}return{next:Ce}}r.values=ae;function Ce(){return{value:n,done:!0}}return G.prototype={constructor:G,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!re)for(var ie in this)ie.charAt(0)==="t"&&t.call(this,ie)&&!isNaN(+ie.slice(1))&&(this[ie]=n)},stop:function(){this.done=!0;var re=this.tryEntries[0],ie=re.completion;if(ie.type==="throw")throw ie.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var ie=this;function pe(et,Pt){return W.type="throw",W.arg=re,ie.next=et,Pt&&(ie.method="next",ie.arg=n),!!Pt}for(var je=this.tryEntries.length-1;je>=0;--je){var K=this.tryEntries[je],W=K.completion;if(K.tryLoc==="root")return pe("end");if(K.tryLoc<=this.prev){var Ze=t.call(K,"catchLoc"),ot=t.call(K,"finallyLoc");if(Ze&&ot){if(this.prev<K.catchLoc)return pe(K.catchLoc,!0);if(this.prev<K.finallyLoc)return pe(K.finallyLoc)}else if(Ze){if(this.prev<K.catchLoc)return pe(K.catchLoc,!0)}else if(ot){if(this.prev<K.finallyLoc)return pe(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(re,ie){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var je=this.tryEntries[pe];if(je.tryLoc<=this.prev&&t.call(je,"finallyLoc")&&this.prev<je.finallyLoc){var K=je;break}}K&&(re==="break"||re==="continue")&&K.tryLoc<=ie&&ie<=K.finallyLoc&&(K=null);var W=K?K.completion:{};return W.type=re,W.arg=ie,K?(this.method="next",this.next=K.finallyLoc,N):this.complete(W)},complete:function(re,ie){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&ie&&(this.next=ie),N},finish:function(re){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var pe=this.tryEntries[ie];if(pe.finallyLoc===re)return this.complete(pe.completion,pe.afterLoc),R(pe),N}},catch:function(re){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var pe=this.tryEntries[ie];if(pe.tryLoc===re){var je=pe.completion;if(je.type==="throw"){var K=je.arg;R(pe)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(re,ie,pe){return this.delegate={iterator:ae(re),resultName:ie,nextLoc:pe},this.method==="next"&&(this.arg=n),N}},r}(typeof LR=="object"?LR.exports:{});try{regeneratorRuntime=PR}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=PR:Function("r","regeneratorRuntime = r")(PR)}});var ete=fe((iE,Qee)=>{(function(r,e){typeof iE=="object"&&typeof Qee<"u"?e(iE):typeof define=="function"&&define.amd?define(["exports"],e):e(r.ActiveStorage={})})(iE,function(r){"use strict";function e(re,ie){return ie={exports:{}},re(ie,ie.exports),ie.exports}var t=e(function(re,ie){(function(pe){re.exports=pe()})(function(pe){var je=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function K(kt,yt){var rt=kt[0],oe=kt[1],ke=kt[2],qe=kt[3];rt+=(oe&ke|~oe&qe)+yt[0]-680876936|0,rt=(rt<<7|rt>>>25)+oe|0,qe+=(rt&oe|~rt&ke)+yt[1]-389564586|0,qe=(qe<<12|qe>>>20)+rt|0,ke+=(qe&rt|~qe&oe)+yt[2]+606105819|0,ke=(ke<<17|ke>>>15)+qe|0,oe+=(ke&qe|~ke&rt)+yt[3]-1044525330|0,oe=(oe<<22|oe>>>10)+ke|0,rt+=(oe&ke|~oe&qe)+yt[4]-176418897|0,rt=(rt<<7|rt>>>25)+oe|0,qe+=(rt&oe|~rt&ke)+yt[5]+1200080426|0,qe=(qe<<12|qe>>>20)+rt|0,ke+=(qe&rt|~qe&oe)+yt[6]-1473231341|0,ke=(ke<<17|ke>>>15)+qe|0,oe+=(ke&qe|~ke&rt)+yt[7]-45705983|0,oe=(oe<<22|oe>>>10)+ke|0,rt+=(oe&ke|~oe&qe)+yt[8]+1770035416|0,rt=(rt<<7|rt>>>25)+oe|0,qe+=(rt&oe|~rt&ke)+yt[9]-1958414417|0,qe=(qe<<12|qe>>>20)+rt|0,ke+=(qe&rt|~qe&oe)+yt[10]-42063|0,ke=(ke<<17|ke>>>15)+qe|0,oe+=(ke&qe|~ke&rt)+yt[11]-1990404162|0,oe=(oe<<22|oe>>>10)+ke|0,rt+=(oe&ke|~oe&qe)+yt[12]+1804603682|0,rt=(rt<<7|rt>>>25)+oe|0,qe+=(rt&oe|~rt&ke)+yt[13]-40341101|0,qe=(qe<<12|qe>>>20)+rt|0,ke+=(qe&rt|~qe&oe)+yt[14]-1502002290|0,ke=(ke<<17|ke>>>15)+qe|0,oe+=(ke&qe|~ke&rt)+yt[15]+1236535329|0,oe=(oe<<22|oe>>>10)+ke|0,rt+=(oe&qe|ke&~qe)+yt[1]-165796510|0,rt=(rt<<5|rt>>>27)+oe|0,qe+=(rt&ke|oe&~ke)+yt[6]-1069501632|0,qe=(qe<<9|qe>>>23)+rt|0,ke+=(qe&oe|rt&~oe)+yt[11]+643717713|0,ke=(ke<<14|ke>>>18)+qe|0,oe+=(ke&rt|qe&~rt)+yt[0]-373897302|0,oe=(oe<<20|oe>>>12)+ke|0,rt+=(oe&qe|ke&~qe)+yt[5]-701558691|0,rt=(rt<<5|rt>>>27)+oe|0,qe+=(rt&ke|oe&~ke)+yt[10]+38016083|0,qe=(qe<<9|qe>>>23)+rt|0,ke+=(qe&oe|rt&~oe)+yt[15]-660478335|0,ke=(ke<<14|ke>>>18)+qe|0,oe+=(ke&rt|qe&~rt)+yt[4]-405537848|0,oe=(oe<<20|oe>>>12)+ke|0,rt+=(oe&qe|ke&~qe)+yt[9]+568446438|0,rt=(rt<<5|rt>>>27)+oe|0,qe+=(rt&ke|oe&~ke)+yt[14]-1019803690|0,qe=(qe<<9|qe>>>23)+rt|0,ke+=(qe&oe|rt&~oe)+yt[3]-187363961|0,ke=(ke<<14|ke>>>18)+qe|0,oe+=(ke&rt|qe&~rt)+yt[8]+1163531501|0,oe=(oe<<20|oe>>>12)+ke|0,rt+=(oe&qe|ke&~qe)+yt[13]-1444681467|0,rt=(rt<<5|rt>>>27)+oe|0,qe+=(rt&ke|oe&~ke)+yt[2]-51403784|0,qe=(qe<<9|qe>>>23)+rt|0,ke+=(qe&oe|rt&~oe)+yt[7]+1735328473|0,ke=(ke<<14|ke>>>18)+qe|0,oe+=(ke&rt|qe&~rt)+yt[12]-1926607734|0,oe=(oe<<20|oe>>>12)+ke|0,rt+=(oe^ke^qe)+yt[5]-378558|0,rt=(rt<<4|rt>>>28)+oe|0,qe+=(rt^oe^ke)+yt[8]-2022574463|0,qe=(qe<<11|qe>>>21)+rt|0,ke+=(qe^rt^oe)+yt[11]+1839030562|0,ke=(ke<<16|ke>>>16)+qe|0,oe+=(ke^qe^rt)+yt[14]-35309556|0,oe=(oe<<23|oe>>>9)+ke|0,rt+=(oe^ke^qe)+yt[1]-1530992060|0,rt=(rt<<4|rt>>>28)+oe|0,qe+=(rt^oe^ke)+yt[4]+1272893353|0,qe=(qe<<11|qe>>>21)+rt|0,ke+=(qe^rt^oe)+yt[7]-155497632|0,ke=(ke<<16|ke>>>16)+qe|0,oe+=(ke^qe^rt)+yt[10]-1094730640|0,oe=(oe<<23|oe>>>9)+ke|0,rt+=(oe^ke^qe)+yt[13]+681279174|0,rt=(rt<<4|rt>>>28)+oe|0,qe+=(rt^oe^ke)+yt[0]-358537222|0,qe=(qe<<11|qe>>>21)+rt|0,ke+=(qe^rt^oe)+yt[3]-722521979|0,ke=(ke<<16|ke>>>16)+qe|0,oe+=(ke^qe^rt)+yt[6]+76029189|0,oe=(oe<<23|oe>>>9)+ke|0,rt+=(oe^ke^qe)+yt[9]-640364487|0,rt=(rt<<4|rt>>>28)+oe|0,qe+=(rt^oe^ke)+yt[12]-421815835|0,qe=(qe<<11|qe>>>21)+rt|0,ke+=(qe^rt^oe)+yt[15]+530742520|0,ke=(ke<<16|ke>>>16)+qe|0,oe+=(ke^qe^rt)+yt[2]-995338651|0,oe=(oe<<23|oe>>>9)+ke|0,rt+=(ke^(oe|~qe))+yt[0]-198630844|0,rt=(rt<<6|rt>>>26)+oe|0,qe+=(oe^(rt|~ke))+yt[7]+1126891415|0,qe=(qe<<10|qe>>>22)+rt|0,ke+=(rt^(qe|~oe))+yt[14]-1416354905|0,ke=(ke<<15|ke>>>17)+qe|0,oe+=(qe^(ke|~rt))+yt[5]-57434055|0,oe=(oe<<21|oe>>>11)+ke|0,rt+=(ke^(oe|~qe))+yt[12]+1700485571|0,rt=(rt<<6|rt>>>26)+oe|0,qe+=(oe^(rt|~ke))+yt[3]-1894986606|0,qe=(qe<<10|qe>>>22)+rt|0,ke+=(rt^(qe|~oe))+yt[10]-1051523|0,ke=(ke<<15|ke>>>17)+qe|0,oe+=(qe^(ke|~rt))+yt[1]-2054922799|0,oe=(oe<<21|oe>>>11)+ke|0,rt+=(ke^(oe|~qe))+yt[8]+1873313359|0,rt=(rt<<6|rt>>>26)+oe|0,qe+=(oe^(rt|~ke))+yt[15]-30611744|0,qe=(qe<<10|qe>>>22)+rt|0,ke+=(rt^(qe|~oe))+yt[6]-1560198380|0,ke=(ke<<15|ke>>>17)+qe|0,oe+=(qe^(ke|~rt))+yt[13]+1309151649|0,oe=(oe<<21|oe>>>11)+ke|0,rt+=(ke^(oe|~qe))+yt[4]-145523070|0,rt=(rt<<6|rt>>>26)+oe|0,qe+=(oe^(rt|~ke))+yt[11]-1120210379|0,qe=(qe<<10|qe>>>22)+rt|0,ke+=(rt^(qe|~oe))+yt[2]+718787259|0,ke=(ke<<15|ke>>>17)+qe|0,oe+=(qe^(ke|~rt))+yt[9]-343485551|0,oe=(oe<<21|oe>>>11)+ke|0,kt[0]=rt+kt[0]|0,kt[1]=oe+kt[1]|0,kt[2]=ke+kt[2]|0,kt[3]=qe+kt[3]|0}function W(kt){var yt=[],rt;for(rt=0;rt<64;rt+=4)yt[rt>>2]=kt.charCodeAt(rt)+(kt.charCodeAt(rt+1)<<8)+(kt.charCodeAt(rt+2)<<16)+(kt.charCodeAt(rt+3)<<24);return yt}function Ze(kt){var yt=[],rt;for(rt=0;rt<64;rt+=4)yt[rt>>2]=kt[rt]+(kt[rt+1]<<8)+(kt[rt+2]<<16)+(kt[rt+3]<<24);return yt}function ot(kt){var yt=kt.length,rt=[1732584193,-271733879,-1732584194,271733878],oe,ke,qe,Yt,st,It;for(oe=64;oe<=yt;oe+=64)K(rt,W(kt.substring(oe-64,oe)));for(kt=kt.substring(oe-64),ke=kt.length,qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=0;oe<ke;oe+=1)qe[oe>>2]|=kt.charCodeAt(oe)<<(oe%4<<3);if(qe[oe>>2]|=128<<(oe%4<<3),oe>55)for(K(rt,qe),oe=0;oe<16;oe+=1)qe[oe]=0;return Yt=yt*8,Yt=Yt.toString(16).match(/(.*?)(.{0,8})$/),st=parseInt(Yt[2],16),It=parseInt(Yt[1],16)||0,qe[14]=st,qe[15]=It,K(rt,qe),rt}function et(kt){var yt=kt.length,rt=[1732584193,-271733879,-1732584194,271733878],oe,ke,qe,Yt,st,It;for(oe=64;oe<=yt;oe+=64)K(rt,Ze(kt.subarray(oe-64,oe)));for(kt=oe-64<yt?kt.subarray(oe-64):new Uint8Array(0),ke=kt.length,qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=0;oe<ke;oe+=1)qe[oe>>2]|=kt[oe]<<(oe%4<<3);if(qe[oe>>2]|=128<<(oe%4<<3),oe>55)for(K(rt,qe),oe=0;oe<16;oe+=1)qe[oe]=0;return Yt=yt*8,Yt=Yt.toString(16).match(/(.*?)(.{0,8})$/),st=parseInt(Yt[2],16),It=parseInt(Yt[1],16)||0,qe[14]=st,qe[15]=It,K(rt,qe),rt}function Pt(kt){var yt="",rt;for(rt=0;rt<4;rt+=1)yt+=je[kt>>rt*8+4&15]+je[kt>>rt*8&15];return yt}function Tt(kt){var yt;for(yt=0;yt<kt.length;yt+=1)kt[yt]=Pt(kt[yt]);return kt.join("")}Tt(ot("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function kt(yt,rt){return yt=yt|0||0,yt<0?Math.max(yt+rt,0):Math.min(yt,rt)}ArrayBuffer.prototype.slice=function(yt,rt){var oe=this.byteLength,ke=kt(yt,oe),qe=oe,Yt,st,It,Ct;return rt!==pe&&(qe=kt(rt,oe)),ke>qe?new ArrayBuffer(0):(Yt=qe-ke,st=new ArrayBuffer(Yt),It=new Uint8Array(st),Ct=new Uint8Array(this,ke,Yt),It.set(Ct),st)}}();function Ht(kt){return/[\u0080-\uFFFF]/.test(kt)&&(kt=unescape(encodeURIComponent(kt))),kt}function Lt(kt,yt){var rt=kt.length,oe=new ArrayBuffer(rt),ke=new Uint8Array(oe),qe;for(qe=0;qe<rt;qe+=1)ke[qe]=kt.charCodeAt(qe);return yt?ke:oe}function tr(kt){return String.fromCharCode.apply(null,new Uint8Array(kt))}function or(kt,yt,rt){var oe=new Uint8Array(kt.byteLength+yt.byteLength);return oe.set(new Uint8Array(kt)),oe.set(new Uint8Array(yt),kt.byteLength),rt?oe:oe.buffer}function br(kt){var yt=[],rt=kt.length,oe;for(oe=0;oe<rt-1;oe+=2)yt.push(parseInt(kt.substr(oe,2),16));return String.fromCharCode.apply(String,yt)}function Kt(){this.reset()}return Kt.prototype.append=function(kt){return this.appendBinary(Ht(kt)),this},Kt.prototype.appendBinary=function(kt){this._buff+=kt,this._length+=kt.length;var yt=this._buff.length,rt;for(rt=64;rt<=yt;rt+=64)K(this._hash,W(this._buff.substring(rt-64,rt)));return this._buff=this._buff.substring(rt-64),this},Kt.prototype.end=function(kt){var yt=this._buff,rt=yt.length,oe,ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qe;for(oe=0;oe<rt;oe+=1)ke[oe>>2]|=yt.charCodeAt(oe)<<(oe%4<<3);return this._finish(ke,rt),qe=Tt(this._hash),kt&&(qe=br(qe)),this.reset(),qe},Kt.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Kt.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},Kt.prototype.setState=function(kt){return this._buff=kt.buff,this._length=kt.length,this._hash=kt.hash,this},Kt.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},Kt.prototype._finish=function(kt,yt){var rt=yt,oe,ke,qe;if(kt[rt>>2]|=128<<(rt%4<<3),rt>55)for(K(this._hash,kt),rt=0;rt<16;rt+=1)kt[rt]=0;oe=this._length*8,oe=oe.toString(16).match(/(.*?)(.{0,8})$/),ke=parseInt(oe[2],16),qe=parseInt(oe[1],16)||0,kt[14]=ke,kt[15]=qe,K(this._hash,kt)},Kt.hash=function(kt,yt){return Kt.hashBinary(Ht(kt),yt)},Kt.hashBinary=function(kt,yt){var rt=ot(kt),oe=Tt(rt);return yt?br(oe):oe},Kt.ArrayBuffer=function(){this.reset()},Kt.ArrayBuffer.prototype.append=function(kt){var yt=or(this._buff.buffer,kt,!0),rt=yt.length,oe;for(this._length+=kt.byteLength,oe=64;oe<=rt;oe+=64)K(this._hash,Ze(yt.subarray(oe-64,oe)));return this._buff=oe-64<rt?new Uint8Array(yt.buffer.slice(oe-64)):new Uint8Array(0),this},Kt.ArrayBuffer.prototype.end=function(kt){var yt=this._buff,rt=yt.length,oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke,qe;for(ke=0;ke<rt;ke+=1)oe[ke>>2]|=yt[ke]<<(ke%4<<3);return this._finish(oe,rt),qe=Tt(this._hash),kt&&(qe=br(qe)),this.reset(),qe},Kt.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},Kt.ArrayBuffer.prototype.getState=function(){var kt=Kt.prototype.getState.call(this);return kt.buff=tr(kt.buff),kt},Kt.ArrayBuffer.prototype.setState=function(kt){return kt.buff=Lt(kt.buff,!0),Kt.prototype.setState.call(this,kt)},Kt.ArrayBuffer.prototype.destroy=Kt.prototype.destroy,Kt.ArrayBuffer.prototype._finish=Kt.prototype._finish,Kt.ArrayBuffer.hash=function(kt,yt){var rt=et(new Uint8Array(kt)),oe=Tt(rt);return yt?br(oe):oe},Kt})}),n=function(re,ie){if(!(re instanceof ie))throw new TypeError("Cannot call a class as a function")},i=function(){function re(ie,pe){for(var je=0;je<pe.length;je++){var K=pe[je];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(ie,K.key,K)}}return function(ie,pe,je){return pe&&re(ie.prototype,pe),je&&re(ie,je),ie}}(),a=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,l=function(){i(re,null,[{key:"create",value:function(pe,je){var K=new re(pe);K.create(je)}}]);function re(ie){n(this,re),this.file=ie,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return i(re,[{key:"create",value:function(pe){var je=this;this.callback=pe,this.md5Buffer=new t.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(K){return je.fileReaderDidLoad(K)}),this.fileReader.addEventListener("error",function(K){return je.fileReaderDidError(K)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function(pe){if(this.md5Buffer.append(pe.target.result),!this.readNextChunk()){var je=this.md5Buffer.end(!0),K=btoa(je);this.callback(null,K)}}},{key:"fileReaderDidError",value:function(pe){this.callback("Error reading "+this.file.name)}},{key:"readNextChunk",value:function(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){var pe=this.chunkIndex*this.chunkSize,je=Math.min(pe+this.chunkSize,this.file.size),K=a.call(this.file,pe,je);return this.fileReader.readAsArrayBuffer(K),this.chunkIndex++,!0}else return!1}}]),re}();function h(re){var ie=S(document.head,'meta[name="'+re+'"]');if(ie)return ie.getAttribute("content")}function b(re,ie){typeof re=="string"&&(ie=re,re=document);var pe=re.querySelectorAll(ie);return O(pe)}function S(re,ie){return typeof re=="string"&&(ie=re,re=document),re.querySelector(ie)}function E(re,ie){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},je=re.disabled,K=pe.bubbles,W=pe.cancelable,Ze=pe.detail,ot=document.createEvent("Event");ot.initEvent(ie,K||!0,W||!0),ot.detail=Ze||{};try{re.disabled=!1,re.dispatchEvent(ot)}finally{re.disabled=je}return ot}function O(re){return Array.isArray(re)?re:Array.from?Array.from(re):[].slice.call(re)}var P=function(){function re(ie,pe,je){var K=this;n(this,re),this.file=ie,this.attributes={filename:ie.name,content_type:ie.type||"application/octet-stream",byte_size:ie.size,checksum:pe},this.xhr=new XMLHttpRequest,this.xhr.open("POST",je,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");var W=h("csrf-token");W!=null&&this.xhr.setRequestHeader("X-CSRF-Token",W),this.xhr.addEventListener("load",function(Ze){return K.requestDidLoad(Ze)}),this.xhr.addEventListener("error",function(Ze){return K.requestDidError(Ze)})}return i(re,[{key:"create",value:function(pe){this.callback=pe,this.xhr.send(JSON.stringify({blob:this.attributes}))}},{key:"requestDidLoad",value:function(pe){if(this.status>=200&&this.status<300){var je=this.response,K=je.direct_upload;delete je.direct_upload,this.attributes=je,this.directUploadData=K,this.callback(null,this.toJSON())}else this.requestDidError(pe)}},{key:"requestDidError",value:function(pe){this.callback('Error creating Blob for "'+this.file.name+'". Status: '+this.status)}},{key:"toJSON",value:function(){var pe={};for(var je in this.attributes)pe[je]=this.attributes[je];return pe}},{key:"status",get:function(){return this.xhr.status}},{key:"response",get:function(){var pe=this.xhr,je=pe.responseType,K=pe.response;return je=="json"?K:JSON.parse(K)}}]),re}(),q=function(){function re(ie){var pe=this;n(this,re),this.blob=ie,this.file=ie.file;var je=ie.directUploadData,K=je.url,W=je.headers;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",K,!0),this.xhr.responseType="text";for(var Ze in W)this.xhr.setRequestHeader(Ze,W[Ze]);this.xhr.addEventListener("load",function(ot){return pe.requestDidLoad(ot)}),this.xhr.addEventListener("error",function(ot){return pe.requestDidError(ot)})}return i(re,[{key:"create",value:function(pe){this.callback=pe,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function(pe){var je=this.xhr,K=je.status,W=je.response;K>=200&&K<300?this.callback(null,W):this.requestDidError(pe)}},{key:"requestDidError",value:function(pe){this.callback('Error storing "'+this.file.name+'". Status: '+this.xhr.status)}}]),re}(),z=0,N=function(){function re(ie,pe,je){n(this,re),this.id=++z,this.file=ie,this.url=pe,this.delegate=je}return i(re,[{key:"create",value:function(pe){var je=this;l.create(this.file,function(K,W){if(K){pe(K);return}var Ze=new P(je.file,W,je.url);V(je.delegate,"directUploadWillCreateBlobWithXHR",Ze.xhr),Ze.create(function(ot){if(ot)pe(ot);else{var et=new q(Ze);V(je.delegate,"directUploadWillStoreFileWithXHR",et.xhr),et.create(function(Pt){Pt?pe(Pt):pe(null,Ze.toJSON())})}})})}}]),re}();function V(re,ie){if(re&&typeof re[ie]=="function"){for(var pe=arguments.length,je=Array(pe>2?pe-2:0),K=2;K<pe;K++)je[K-2]=arguments[K];return re[ie].apply(re,je)}}var Y=function(){function re(ie,pe){n(this,re),this.input=ie,this.file=pe,this.directUpload=new N(this.file,this.url,this),this.dispatch("initialize")}return i(re,[{key:"start",value:function(pe){var je=this,K=document.createElement("input");K.type="hidden",K.name=this.input.name,this.input.insertAdjacentElement("beforebegin",K),this.dispatch("start"),this.directUpload.create(function(W,Ze){W?(K.parentNode.removeChild(K),je.dispatchError(W)):K.value=Ze.signed_id,je.dispatch("end"),pe(W)})}},{key:"uploadRequestDidProgress",value:function(pe){var je=pe.loaded/pe.total*100;je&&this.dispatch("progress",{progress:je})}},{key:"dispatch",value:function(pe){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return je.file=this.file,je.id=this.directUpload.id,E(this.input,"direct-upload:"+pe,{detail:je})}},{key:"dispatchError",value:function(pe){var je=this.dispatch("error",{error:pe});je.defaultPrevented||alert(pe)}},{key:"directUploadWillCreateBlobWithXHR",value:function(pe){this.dispatch("before-blob-request",{xhr:pe})}},{key:"directUploadWillStoreFileWithXHR",value:function(pe){var je=this;this.dispatch("before-storage-request",{xhr:pe}),pe.upload.addEventListener("progress",function(K){return je.uploadRequestDidProgress(K)})}},{key:"url",get:function(){return this.input.getAttribute("data-direct-upload-url")}}]),re}(),J="input[type=file][data-direct-upload-url]:not([disabled])",se=function(){function re(ie){n(this,re),this.form=ie,this.inputs=b(ie,J).filter(function(pe){return pe.files.length})}return i(re,[{key:"start",value:function(pe){var je=this,K=this.createDirectUploadControllers(),W=function Ze(){var ot=K.shift();ot?ot.start(function(et){et?(pe(et),je.dispatch("end")):Ze()}):(pe(),je.dispatch("end"))};this.dispatch("start"),W()}},{key:"createDirectUploadControllers",value:function(){var pe=[];return this.inputs.forEach(function(je){O(je.files).forEach(function(K){var W=new Y(je,K);pe.push(W)})}),pe}},{key:"dispatch",value:function(pe){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E(this.form,"direct-uploads:"+pe,{detail:je})}}]),re}(),_="data-direct-uploads-processing",me=new WeakMap,ne=!1;function de(){ne||(ne=!0,document.addEventListener("click",he,!0),document.addEventListener("submit",be),document.addEventListener("ajax:before",xe))}function he(re){var ie=re.target;(ie.tagName=="INPUT"||ie.tagName=="BUTTON")&&ie.type=="submit"&&ie.form&&me.set(ie.form,ie)}function be(re){We(re)}function xe(re){re.target.tagName=="FORM"&&We(re)}function We(re){var ie=re.target;if(ie.hasAttribute(_)){re.preventDefault();return}var pe=new se(ie),je=pe.inputs;je.length&&(re.preventDefault(),ie.setAttribute(_,""),je.forEach(G),pe.start(function(K){ie.removeAttribute(_),K?je.forEach(ae):R(ie)}))}function R(re){var ie=me.get(re)||S(re,"input[type=submit], button[type=submit]");if(ie){var pe=ie,je=pe.disabled;ie.disabled=!1,ie.focus(),ie.click(),ie.disabled=je}else ie=document.createElement("input"),ie.type="submit",ie.style.display="none",re.appendChild(ie),ie.click(),re.removeChild(ie);me.delete(re)}function G(re){re.disabled=!0}function ae(re){re.disabled=!1}function Ce(){window.ActiveStorage&&de()}setTimeout(Ce,1),r.start=de,r.DirectUpload=N,Object.defineProperty(r,"__esModule",{value:!0})})});var RR=fe((Fxt,oE)=>{(function(r,e,t){if(!r)return;for(var n={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h,b=1;b<20;++b)n[111+b]="f"+b;for(b=0;b<=9;++b)n[b+96]=b.toString();function S(ne,de,he){if(ne.addEventListener){ne.addEventListener(de,he,!1);return}ne.attachEvent("on"+de,he)}function E(ne){if(ne.type=="keypress"){var de=String.fromCharCode(ne.which);return ne.shiftKey||(de=de.toLowerCase()),de}return n[ne.which]?n[ne.which]:i[ne.which]?i[ne.which]:String.fromCharCode(ne.which).toLowerCase()}function O(ne,de){return ne.sort().join(",")===de.sort().join(",")}function P(ne){var de=[];return ne.shiftKey&&de.push("shift"),ne.altKey&&de.push("alt"),ne.ctrlKey&&de.push("ctrl"),ne.metaKey&&de.push("meta"),de}function q(ne){if(ne.preventDefault){ne.preventDefault();return}ne.returnValue=!1}function z(ne){if(ne.stopPropagation){ne.stopPropagation();return}ne.cancelBubble=!0}function N(ne){return ne=="shift"||ne=="ctrl"||ne=="alt"||ne=="meta"}function V(){if(!h){h={};for(var ne in n)ne>95&&ne<112||n.hasOwnProperty(ne)&&(h[n[ne]]=ne)}return h}function Y(ne,de,he){return he||(he=V()[ne]?"keydown":"keypress"),he=="keypress"&&de.length&&(he="keydown"),he}function J(ne){return ne==="+"?["+"]:(ne=ne.replace(/\+{2}/g,"+plus"),ne.split("+"))}function se(ne,de){var he,be,xe,We=[];for(he=J(ne),xe=0;xe<he.length;++xe)be=he[xe],l[be]&&(be=l[be]),de&&de!="keypress"&&a[be]&&(be=a[be],We.push("shift")),N(be)&&We.push(be);return de=Y(be,We,de),{key:be,modifiers:We,action:de}}function _(ne,de){return ne===null||ne===e?!1:ne===de?!0:_(ne.parentNode,de)}function me(ne){var de=this;if(ne=ne||e,!(de instanceof me))return new me(ne);de.target=ne,de._callbacks={},de._directMap={};var he={},be,xe=!1,We=!1,R=!1;function G(K){K=K||{};var W=!1,Ze;for(Ze in he){if(K[Ze]){W=!0;continue}he[Ze]=0}W||(R=!1)}function ae(K,W,Ze,ot,et,Pt){var Tt,Ht,Lt=[],tr=Ze.type;if(!de._callbacks[K])return[];for(tr=="keyup"&&N(K)&&(W=[K]),Tt=0;Tt<de._callbacks[K].length;++Tt)if(Ht=de._callbacks[K][Tt],!(!ot&&Ht.seq&&he[Ht.seq]!=Ht.level)&&tr==Ht.action&&(tr=="keypress"&&!Ze.metaKey&&!Ze.ctrlKey||O(W,Ht.modifiers))){var or=!ot&&Ht.combo==et,br=ot&&Ht.seq==ot&&Ht.level==Pt;(or||br)&&de._callbacks[K].splice(Tt,1),Lt.push(Ht)}return Lt}function Ce(K,W,Ze,ot){de.stopCallback(W,W.target||W.srcElement,Ze,ot)||K(W,Ze)===!1&&(q(W),z(W))}de._handleKey=function(K,W,Ze){var ot=ae(K,W,Ze),et,Pt={},Tt=0,Ht=!1;for(et=0;et<ot.length;++et)ot[et].seq&&(Tt=Math.max(Tt,ot[et].level));for(et=0;et<ot.length;++et){if(ot[et].seq){if(ot[et].level!=Tt)continue;Ht=!0,Pt[ot[et].seq]=1,Ce(ot[et].callback,Ze,ot[et].combo,ot[et].seq);continue}Ht||Ce(ot[et].callback,Ze,ot[et].combo)}var Lt=Ze.type=="keypress"&&We;Ze.type==R&&!N(K)&&!Lt&&G(Pt),We=Ht&&Ze.type=="keydown"};function re(K){typeof K.which!="number"&&(K.which=K.keyCode);var W=E(K);if(!!W){if(K.type=="keyup"&&xe===W){xe=!1;return}de.handleKey(W,P(K),K)}}function ie(){clearTimeout(be),be=setTimeout(G,1e3)}function pe(K,W,Ze,ot){he[K]=0;function et(tr){return function(){R=tr,++he[K],ie()}}function Pt(tr){Ce(Ze,tr,K),ot!=="keyup"&&(xe=E(tr)),setTimeout(G,10)}for(var Tt=0;Tt<W.length;++Tt){var Ht=Tt+1===W.length,Lt=Ht?Pt:et(ot||se(W[Tt+1]).action);je(W[Tt],Lt,ot,K,Tt)}}function je(K,W,Ze,ot,et){de._directMap[K+":"+Ze]=W,K=K.replace(/\s+/g," ");var Pt=K.split(" "),Tt;if(Pt.length>1){pe(K,Pt,W,Ze);return}Tt=se(K,Ze),de._callbacks[Tt.key]=de._callbacks[Tt.key]||[],ae(Tt.key,Tt.modifiers,{type:Tt.action},ot,K,et),de._callbacks[Tt.key][ot?"unshift":"push"]({callback:W,modifiers:Tt.modifiers,action:Tt.action,seq:ot,level:et,combo:K})}de._bindMultiple=function(K,W,Ze){for(var ot=0;ot<K.length;++ot)je(K[ot],W,Ze)},S(ne,"keypress",re),S(ne,"keydown",re),S(ne,"keyup",re)}me.prototype.bind=function(ne,de,he){var be=this;return ne=ne instanceof Array?ne:[ne],be._bindMultiple.call(be,ne,de,he),be},me.prototype.unbind=function(ne,de){var he=this;return he.bind.call(he,ne,function(){},de)},me.prototype.trigger=function(ne,de){var he=this;return he._directMap[ne+":"+de]&&he._directMap[ne+":"+de]({},ne),he},me.prototype.reset=function(){var ne=this;return ne._callbacks={},ne._directMap={},ne},me.prototype.stopCallback=function(ne,de){var he=this;if((" "+de.className+" ").indexOf(" mousetrap ")>-1||_(de,he.target))return!1;if("composedPath"in ne&&typeof ne.composedPath=="function"){var be=ne.composedPath()[0];be!==ne.target&&(de=be)}return de.tagName=="INPUT"||de.tagName=="SELECT"||de.tagName=="TEXTAREA"||de.isContentEditable},me.prototype.handleKey=function(){var ne=this;return ne._handleKey.apply(ne,arguments)},me.addKeycodes=function(ne){for(var de in ne)ne.hasOwnProperty(de)&&(n[de]=ne[de]);h=null},me.init=function(){var ne=me(e);for(var de in ne)de.charAt(0)!=="_"&&(me[de]=function(he){return function(){return ne[he].apply(ne,arguments)}}(de))},me.init(),r.Mousetrap=me,typeof oE<"u"&&oE.exports&&(oE.exports=me),typeof define=="function"&&define.amd&&define(function(){return me})})(typeof window<"u"?window:null,typeof window<"u"?document:null)});var dv={};z5(dv,{FrameElement:()=>kh,FrameLoadingStyle:()=>Op,FrameRenderer:()=>J_,PageRenderer:()=>Q_,PageSnapshot:()=>tf,StreamActions:()=>zb,StreamElement:()=>n1,StreamSourceElement:()=>GR,cache:()=>Ote,clearCache:()=>Rte,connectStreamSource:()=>t1,disconnectStreamSource:()=>r1,navigator:()=>Ite,registerAdapter:()=>Mte,renderStreamMessage:()=>Lte,session:()=>Ea,setConfirmMethod:()=>qte,setFormMode:()=>zte,setProgressBarDelay:()=>Fte,start:()=>$R,visit:()=>Pte});function GVe(r){let e=r instanceof Element?r:r instanceof Node?r.parentElement:null,t=e?e.closest("input, button"):null;return t?.type=="submit"?t:null}function KVe(r){let e=GVe(r.target);e&&e.form&&ote.set(e.form,e)}function YVe(r){switch(r.toLowerCase()){case"lazy":return Op.lazy;default:return Op.eager}}function _u(r){return new URL(r.toString(),document.baseURI)}function hv(r){let e;if(r.hash)return r.hash.slice(1);if(e=r.href.match(/#(.*)$/))return e[1]}function BR(r,e){let t=e?.getAttribute("formaction")||r.getAttribute("action")||r.action;return _u(t)}function ZVe(r){return(t7e(r).match(/\.[^.]*$/)||[])[0]||""}function XVe(r){return!!ZVe(r).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function JVe(r,e){let t=r7e(e);return r.href===_u(t).href||r.href.startsWith(t)}function Rb(r,e){return JVe(r,e)&&XVe(r)}function FR(r){let e=hv(r);return e!=null?r.href.slice(0,-(e.length+1)):r.href}function aE(r){return FR(r)}function QVe(r,e){return _u(r).href==_u(e).href}function e7e(r){return r.pathname.split("/").slice(1)}function t7e(r){return e7e(r).slice(-1)[0]}function r7e(r){return n7e(r.origin+r.pathname)}function n7e(r){return r.endsWith("/")?r:r+"/"}function X_(r){if(r.getAttribute("data-turbo-eval")=="false")return r;{let e=document.createElement("script"),t=uE("csp-nonce");return t&&(e.nonce=t),e.textContent=r.textContent,e.async=!1,i7e(e,r),e}}function i7e(r,e){for(let{name:t,value:n}of e.attributes)r.setAttribute(t,n)}function o7e(r){let e=document.createElement("template");return e.innerHTML=r,e.content}function $l(r,{target:e,cancelable:t,detail:n}={}){let i=new CustomEvent(r,{cancelable:t,bubbles:!0,composed:!0,detail:n});return e&&e.isConnected?e.dispatchEvent(i):document.documentElement.dispatchEvent(i),i}function sE(){return new Promise(r=>requestAnimationFrame(()=>r()))}function a7e(){return new Promise(r=>setTimeout(()=>r(),0))}function s7e(){return Promise.resolve()}function ate(r=""){return new DOMParser().parseFromString(r,"text/html")}function ste(r,...e){let t=l7e(r,e).replace(/^\n/,"").split(`
`),n=t[0].match(/^\s+/),i=n?n[0].length:0;return t.map(a=>a.slice(i)).join(`
`)}function l7e(r,e){return r.reduce((t,n,i)=>{let a=e[i]==null?"":e[i];return t+n+a},"")}function Fb(){return Array.from({length:36}).map((r,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function lE(r,...e){for(let t of e.map(n=>n?.getAttribute(r)))if(typeof t=="string")return t;return null}function u7e(r,...e){return e.some(t=>t&&t.hasAttribute(r))}function qR(...r){for(let e of r)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function zR(...r){for(let e of r)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function c7e(r,e=2e3){return new Promise(t=>{let n=()=>{r.removeEventListener("error",n),r.removeEventListener("load",n),t()};r.addEventListener("load",n,{once:!0}),r.addEventListener("error",n,{once:!0}),setTimeout(t,e)})}function lte(r){switch(r){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function f7e(r){return r=="advance"||r=="replace"||r=="restore"}function hE(...r){let e=lE("data-turbo-action",...r);return f7e(e)?e:null}function ute(r){return document.querySelector(`meta[name="${r}"]`)}function uE(r){let e=ute(r);return e&&e.content}function h7e(r,e){let t=ute(r);return t||(t=document.createElement("meta"),t.setAttribute("name",r),document.head.appendChild(t)),t.setAttribute("content",e),t}function cE(r,e){var t;if(r instanceof Element)return r.closest(e)||cE(r.assignedSlot||((t=r.getRootNode())===null||t===void 0?void 0:t.host),e)}function d7e(r){switch(r.toLowerCase()){case"get":return _c.get;case"post":return _c.post;case"put":return _c.put;case"patch":return _c.patch;case"delete":return _c.delete}}function p7e(r){for(let e of r.querySelectorAll("turbo-stream")){let t=document.importNode(e,!0);for(let n of t.templateElement.content.querySelectorAll("script"))n.replaceWith(X_(n));e.replaceWith(t)}return r}function m7e(r){switch(r.toLowerCase()){case Fm.multipart:return Fm.multipart;case Fm.plain:return Fm.plain;default:return Fm.urlEncoded}}function g7e(r,e){let t=new FormData(r),n=e?.getAttribute("name"),i=e?.getAttribute("value");return n&&t.append(n,i||""),t}function v7e(r){if(r!=null){let t=(document.cookie?document.cookie.split("; "):[]).find(n=>n.startsWith(r));if(t){let n=t.split("=").slice(1).join("=");return n?decodeURIComponent(n):void 0}}}function y7e(r){return r.statusCode==200&&!r.redirected}function b7e(r,e){let t=new URLSearchParams;for(let[n,i]of e)i instanceof File||t.append(n,i);return r.search=t.toString(),r}function fte(r,e){return r.querySelector(`#${e}[data-turbo-permanent]`)}function hte(r){return r.querySelectorAll("[id][data-turbo-permanent]")}function x7e(r,e){return(e?.getAttribute("formmethod")||r.getAttribute("method"))!="dialog"}function _7e(r,e){if(e?.hasAttribute("formtarget")||r.hasAttribute("target")){let t=e?.getAttribute("formtarget")||r.target;for(let n of document.getElementsByName(t))if(n instanceof HTMLIFrameElement)return!1;return!0}else return!0}function w7e(r){if(r.hasAttribute("target")){for(let e of document.getElementsByName(r.target))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function S7e(r){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",r.id),e}function k7e(r){return r&&typeof r.focus=="function"}function C7e(r,e){return r=="end"||r=="start"||r=="center"||r=="nearest"?r:e}function E7e(r,e){return r=="auto"||r=="smooth"?r:e}function T7e(r){if(D7e(r))return"script";if(I7e(r))return"stylesheet"}function A7e(r){return r.getAttribute("data-turbo-track")=="reload"}function D7e(r){return r.localName=="script"}function O7e(r){return r.localName=="noscript"}function I7e(r){let e=r.localName;return e=="style"||e=="link"&&r.getAttribute("rel")=="stylesheet"}function M7e(r,e){return r.localName=="meta"&&r.getAttribute("name")==e}function P7e(r){return r.hasAttribute("nonce")&&r.setAttribute("nonce",""),r}function tte(r){return r>=200&&r<300}function R7e(r){let e=hte(document.documentElement),t={};for(let n of e){let{id:i}=n;for(let a of r.querySelectorAll("turbo-stream")){let l=fte(a.templateElement.content,i);l&&(t[i]=[n,l])}}return t}function F7e(r){var e;let t=(e=r.detail)===null||e===void 0?void 0:e.fetchResponse;if(t instanceof fE)return t}function q7e(r){var e;return((e=r.contentType)!==null&&e!==void 0?e:"").startsWith(zm.contentType)}function rte(r){Object.defineProperties(r,z7e)}function $R(){Ea.start()}function Mte(r){Ea.registerAdapter(r)}function Pte(r,e){Ea.visit(r,e)}function t1(r){Ea.connectStreamSource(r)}function r1(r){Ea.disconnectStreamSource(r)}function Lte(r){Ea.renderStreamMessage(r)}function Rte(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ea.clearCache()}function Fte(r){Ea.setProgressBarDelay(r)}function qte(r){qb.confirmMethod=r}function zte(r){Ea.setFormMode(r)}function nte(r){if(r!=null){let e=document.getElementById(r);if(e instanceof kh)return e}}function ite(r,e){if(r){let t=r.getAttribute("src");if(t!=null&&e!=null&&QVe(t,e))throw new Error(`Matching <turbo-frame id="${r.id}"> element has a source URL which references itself`);if(r.ownerDocument!==document&&(r=document.importNode(r,!0)),r instanceof kh)return r.connectedCallback(),r.disconnectedCallback(),r}}var ote,Op,kh,fE,_c,dE,cte,zm,Rm,Fm,qb,e1,pE,jR,dte,UR,HR,WR,VR,mE,J_,_d,pte,tf,Lb,Sh,L7e,qm,mte,gte,vte,yte,bte,xte,Dp,_te,wte,Ste,kte,NR,Q_,Cte,Ete,Tte,Ate,z7e,Dte,zb,Ea,Ote,Ite,N7e,Nte,Bte,n1,GR,gE=He(()=>{(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;let r=HTMLElement,e={HTMLElement:function(){return Reflect.construct(r,[],this.constructor)}};window.HTMLElement=e.HTMLElement,HTMLElement.prototype=r.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,r)})();(function(r){if(typeof r.requestSubmit=="function")return;r.requestSubmit=function(n){n?(e(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function e(n,i){n instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||t(TypeError,"The specified element is not a submit button"),n.form==i||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(n,i,a){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+i+".",a)}})(HTMLFormElement.prototype);ote=new WeakMap;(function(){if("submitter"in Event.prototype)return;let r=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))r=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",KVe,!0),Object.defineProperty(r,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return ote.get(this.target)}})})();(function(r){r.eager="eager",r.lazy="lazy"})(Op||(Op={}));kh=class extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super();this.loaded=Promise.resolve(),this.delegate=new kh.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="complete"?this.delegate.completeChanged():e=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return YVe(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return(t=(e=this.ownerDocument)===null||e===void 0?void 0:e.documentElement)===null||t===void 0?void 0:t.hasAttribute("data-turbo-preview")}};fE=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return _u(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}};(function(r){r[r.get=0]="get",r[r.post=1]="post",r[r.put=2]="put",r[r.patch=3]="patch",r[r.delete=4]="delete"})(_c||(_c={}));dE=class{constructor(e,t,n,i=new URLSearchParams,a=null){this.abortController=new AbortController,this.resolveRequestPromise=l=>{},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=i,this.url=n,this.target=a}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(e);try{this.delegate.requestStarted(this);let t=await fetch(this.url.href,e);return await this.receive(t)}catch(t){if(t.name!=="AbortError")throw this.willDelegateErrorHandling(t)&&this.delegate.requestErrored(this,t),t}finally{this.delegate.requestFinished(this)}}async receive(e){let t=new fE(e);return $l("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:_c[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(e=this.delegate.referrer)===null||e===void 0?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===_c.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(e){let t=new Promise(i=>this.resolveRequestPromise=i);$l("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}willDelegateErrorHandling(e){return!$l("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}},cte=class{constructor(e,t){this.started=!1,this.intersect=n=>{let i=n.slice(-1)[0];i?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},zm=class{static wrap(e){return typeof e=="string"?new this(o7e(e)):e}constructor(e){this.fragment=p7e(e)}};zm.contentType="text/vnd.turbo-stream.html";(function(r){r[r.initialized=0]="initialized",r[r.requesting=1]="requesting",r[r.waiting=2]="waiting",r[r.receiving=3]="receiving",r[r.stopping=4]="stopping",r[r.stopped=5]="stopped"})(Rm||(Rm={}));(function(r){r.urlEncoded="application/x-www-form-urlencoded",r.multipart="multipart/form-data",r.plain="text/plain"})(Fm||(Fm={}));qb=class{static confirmMethod(e,t,n){return Promise.resolve(confirm(e))}constructor(e,t,n,i=!1){this.state=Rm.initialized,this.delegate=e,this.formElement=t,this.submitter=n,this.formData=g7e(t,n),this.location=_u(this.action),this.method==_c.get&&b7e(this.location,[...this.body.entries()]),this.fetchRequest=new dE(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=i}get method(){var e;let t=((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return d7e(t.toLowerCase())||_c.get}get action(){var e;let t=typeof this.formElement.action=="string"?this.formElement.action:null;return!((e=this.submitter)===null||e===void 0)&&e.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||t||""}get body(){return this.enctype==Fm.urlEncoded||this.method==_c.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return m7e(((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((e,[t,n])=>e.concat(typeof n=="string"?[[t,n]]:[]),[])}async start(){let{initialized:e,requesting:t}=Rm,n=lE("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof n=="string"&&!await qb.confirmMethod(n,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:t}=Rm;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let t=v7e(uE("csrf-param"))||uE("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(zm.contentType)}requestStarted(e){var t;this.state=Rm.waiting,(t=this.submitter)===null||t===void 0||t.setAttribute("disabled",""),this.setSubmitsWith(),$l("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&y7e(t)){let n=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,n)}else this.state=Rm.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=Rm.stopped,(t=this.submitter)===null||t===void 0||t.removeAttribute("disabled"),this.resetSubmitterText(),$l("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||u7e("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)===null||e===void 0?void 0:e.getAttribute("data-turbo-submits-with")}};e1=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){let e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(let t of this.element.querySelectorAll("[autofocus]"))if(t.closest(e)==null)return t;return null}get permanentElements(){return hte(this.element)}getPermanentElementById(e){return fte(this.element,e)}getPermanentElementMapForSnapshot(e){let t={};for(let n of this.permanentElements){let{id:i}=n,a=e.getPermanentElementById(i);a&&(t[i]=[n,a])}return t}};pE=class{constructor(e,t){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=n=>{if(!n.defaultPrevented){let i=n.target instanceof HTMLFormElement?n.target:void 0,a=n.submitter||void 0;i&&x7e(i,a)&&_7e(i,a)&&this.delegate.willSubmitForm(i,a)&&(n.preventDefault(),n.stopImmediatePropagation(),this.delegate.formSubmitted(i,a))}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};jR=class{constructor(e,t){this.resolveRenderPromise=n=>{},this.resolveInterceptionPromise=n=>{},this.delegate=e,this.element=t}scrollToAnchor(e){let t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(hv(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:t,shouldRender:n,newSnapshot:i}=e;if(n)try{this.renderPromise=new Promise(b=>this.resolveRenderPromise=b),this.renderer=e,await this.prepareToRenderSnapshot(e);let a=new Promise(b=>this.resolveInterceptionPromise=b),l={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(i,l)||await a,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(i,t),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},dte=class extends jR{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new e1(this.element)}},UR=class{constructor(e,t){this.clickBubbled=n=>{this.respondsToEventTarget(n.target)?this.clickEvent=n:delete this.clickEvent},this.linkClicked=n=>{this.clickEvent&&this.respondsToEventTarget(n.target)&&n.target instanceof Element&&this.delegate.shouldInterceptLinkClick(n.target,n.detail.url,n.detail.originalEvent)&&(this.clickEvent.preventDefault(),n.preventDefault(),this.delegate.linkClickIntercepted(n.target,n.detail.url,n.detail.originalEvent)),delete this.clickEvent},this.willVisit=n=>{delete this.clickEvent},this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){let t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}},HR=class{constructor(e,t){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=n=>{if(n instanceof MouseEvent&&this.clickEventIsSignificant(n)){let i=n.composedPath&&n.composedPath()[0]||n.target,a=this.findLinkFromClickTarget(i);if(a&&w7e(a)){let l=this.getLocationForLink(a);this.delegate.willFollowLinkToLocation(a,l,n)&&(n.preventDefault(),this.delegate.followedLinkToLocation(a,l))}}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){return cE(e,"a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return _u(e.getAttribute("href")||"")}};WR=class{constructor(e,t){this.delegate=e,this.linkInterceptor=new HR(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,t,n){return this.delegate.willSubmitFormLinkToLocation(e,t,n)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,t){let n=document.createElement("form"),i="hidden";for(let[O,P]of t.searchParams)n.append(Object.assign(document.createElement("input"),{type:i,name:O,value:P}));let a=Object.assign(t,{search:""});n.setAttribute("data-turbo","true"),n.setAttribute("action",a.href),n.setAttribute("hidden","");let l=e.getAttribute("data-turbo-method");l&&n.setAttribute("method",l);let h=e.getAttribute("data-turbo-frame");h&&n.setAttribute("data-turbo-frame",h);let b=hE(e);b&&n.setAttribute("data-turbo-action",b);let S=e.getAttribute("data-turbo-confirm");S&&n.setAttribute("data-turbo-confirm",S),e.hasAttribute("data-turbo-stream")&&n.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,n),document.body.appendChild(n),n.addEventListener("turbo:submit-end",()=>n.remove(),{once:!0}),requestAnimationFrame(()=>n.requestSubmit())}},VR=class{static async preservingPermanentElements(e,t,n){let i=new this(e,t);i.enter(),await n(),i.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(let e in this.permanentElementMap){let[t,n]=this.permanentElementMap[e];this.delegate.enteringBardo(t,n),this.replaceNewPermanentElementWithPlaceholder(n)}}leave(){for(let e in this.permanentElementMap){let[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){let t=S7e(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){let t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){let t=this.getPlaceholderById(e.id);t?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};mE=class{constructor(e,t,n,i,a=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=i,this.willRender=a,this.renderElement=n,this.promise=new Promise((l,h)=>this.resolvingFunctions={resolve:l,reject:h})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await VR.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){let e=this.connectedSnapshot.firstAutofocusableElement;k7e(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}};J_=class extends mE{static renderElement(e,t){var n;let i=document.createRange();i.selectNodeContents(e),i.deleteContents();let a=t,l=(n=a.ownerDocument)===null||n===void 0?void 0:n.createRange();l&&(l.selectNodeContents(a),e.appendChild(l.extractContents()))}constructor(e,t,n,i,a,l=!0){super(t,n,i,a,l);this.delegate=e}get shouldRender(){return!0}async render(){await sE(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await sE(),this.focusFirstAutofocusableElement(),await sE(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,t=C7e(this.currentElement.getAttribute("data-autoscroll-block"),"end"),n=E7e(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:n}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let t=X_(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};_d=class{static get defaultCSS(){return ste`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${_d.animationDuration}ms ease-out,
          opacity ${_d.animationDuration/2}ms ${_d.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,_d.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,_d.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");return e.type="text/css",e.textContent=_d.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return uE("csp-nonce")}};_d.animationDuration=300;pte=class extends e1{constructor(){super(...arguments);this.detailsByOuterHTML=this.children.filter(e=>!O7e(e)).map(e=>P7e(e)).reduce((e,t)=>{let{outerHTML:n}=t,i=n in e?e[n]:{type:T7e(t),tracked:A7e(t),elements:[]};return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},i),{elements:[...i.elements,t]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(n=>!(n in t.detailsByOuterHTML)).map(n=>this.detailsByOuterHTML[n]).filter(({type:n})=>n==e).map(({elements:[n]})=>n)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{let{type:n,tracked:i,elements:a}=this.detailsByOuterHTML[t];return n==null&&!i?[...e,...a]:a.length>1?[...e,...a.slice(1)]:e},[])}getMetaValue(e){let t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,n)=>{let{elements:[i]}=this.detailsByOuterHTML[n];return M7e(i,e)?i:t},void 0)}};tf=class extends e1{static fromHTMLString(e=""){return this.fromDocument(ate(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new pte(e))}constructor(e,t){super(e);this.headSnapshot=t}clone(){let e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),n=e.querySelectorAll("select");for(let[i,a]of t.entries()){let l=n[i];for(let h of l.selectedOptions)h.selected=!1;for(let h of a.selectedOptions)l.options[h.index].selected=!0}for(let i of e.querySelectorAll('input[type="password"]'))i.value="";return new tf(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;let t=(e=this.getSetting("root"))!==null&&e!==void 0?e:"/";return _u(t)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}};(function(r){r.visitStart="visitStart",r.requestStart="requestStart",r.requestEnd="requestEnd",r.visitEnd="visitEnd"})(Lb||(Lb={}));(function(r){r.initialized="initialized",r.started="started",r.canceled="canceled",r.failed="failed",r.completed="completed"})(Sh||(Sh={}));L7e={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};(function(r){r[r.networkFailure=0]="networkFailure",r[r.timeoutFailure=-1]="timeoutFailure",r[r.contentTypeMismatch=-2]="contentTypeMismatch"})(qm||(qm={}));mte=class{constructor(e,t,n,i={}){this.identifier=Fb(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=Sh.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=n||Fb();let{action:a,historyChanged:l,referrer:h,snapshot:b,snapshotHTML:S,response:E,visitCachedSnapshot:O,willRender:P,updateHistory:q,shouldCacheSnapshot:z,acceptsStreamResponse:N}=Object.assign(Object.assign({},L7e),i);this.action=a,this.historyChanged=l,this.referrer=h,this.snapshot=b,this.snapshotHTML=S,this.response=E,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=O,this.willRender=P,this.updateHistory=q,this.scrolled=!P,this.shouldCacheSnapshot=z,this.acceptsStreamResponse=N}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Sh.initialized&&(this.recordTimingMetric(Lb.visitStart),this.state=Sh.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Sh.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Sh.canceled)}complete(){this.state==Sh.started&&(this.recordTimingMetric(Lb.visitEnd),this.state=Sh.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==Sh.started&&(this.state=Sh.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){let t=this.location.href===((e=this.referrer)===null||e===void 0?void 0:e.href)?"replace":this.action,n=lte(t);this.history.update(n,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new dE(this,_c.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Lb.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:t}=e;tte(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(Lb.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,tte(e)&&t!=null?(await this.view.renderPage(tf.fromHTMLString(t),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(tf.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!hv(this.location)||e.hasAnchor(hv(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return tf.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&((e=this.response)===null||e===void 0?void 0:e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(zm.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){let n=await t.responseHTML,{redirected:i,statusCode:a}=t;n==null?this.recordResponse({statusCode:qm.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:a,responseHTML:n,redirected:i}))}async requestFailedWithResponse(e,t){let n=await t.responseHTML,{redirected:i,statusCode:a}=t;n==null?this.recordResponse({statusCode:qm.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:a,responseHTML:n,redirected:i})}requestErrored(e,t){this.recordResponse({statusCode:qm.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=hv(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=requestAnimationFrame(()=>t())}),await e(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};gte=class{constructor(e){this.progressBar=new _d,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,t?.restorationIdentifier||Fb(),t)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case qm.networkFailure:case qm.timeoutFailure:case qm.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;$l("turbo:reload",{detail:e}),window.location.href=((t=this.location)===null||t===void 0?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}},vte=class{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=e=>{for(let t of this.temporaryElements)t.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},yte=class{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new UR(this,t),this.formSubmitObserver=new pE(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,n){return this.shouldRedirect(e)}linkClickIntercepted(e,t,n){let i=this.findFrameElement(e);i&&i.delegate.linkClickIntercepted(e,t,n)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&this.shouldSubmit(e,t)&&this.shouldRedirect(e,t)}formSubmitted(e,t){let n=this.findFrameElement(e,t);n&&n.delegate.formSubmitted(e,t)}shouldSubmit(e,t){var n;let i=BR(e,t),a=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),l=_u((n=a?.content)!==null&&n!==void 0?n:"/");return this.shouldRedirect(e,t)&&Rb(i,l)}shouldRedirect(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){let i=this.findFrameElement(e,t);return i?i!=e.closest("turbo-frame"):!1}else return!1}findFrameElement(e,t){let n=t?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(n&&n!="_top"){let i=this.element.querySelector(`#${n}:not([disabled])`);if(i instanceof kh)return i}}},bte=class{constructor(e){this.restorationIdentifier=Fb(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=t=>{if(this.shouldHandlePopState()){let{turbo:n}=t.state||{};if(n){this.location=new URL(window.location.href);let{restorationIdentifier:i}=n;this.restorationIdentifier=i,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,i)}}},this.onPageLoad=async t=>{await s7e(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,n=Fb()){let i={turbo:{restorationIdentifier:n}};e.call(history,i,"",t.href),this.location=t,this.restorationIdentifier=n}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:t}=this,n=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},n),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=(e=history.scrollRestoration)!==null&&e!==void 0?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},xte=class{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&(Rb(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,n={}){this.stop(),this.currentVisit=new mte(this,_u(e),t,Object.assign({referrer:this.location},n)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new qb(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){let n=await t.responseHTML;if(n){let i=e.isSafe;i||this.view.clearSnapshotCache();let{statusCode:a,redirected:l}=t,b={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:i,response:{statusCode:a,responseHTML:n,redirected:l}};this.proposeVisit(t.location,b)}}}async formSubmissionFailedWithResponse(e,t){let n=await t.responseHTML;if(n){let i=tf.fromHTMLString(n);t.serverError?await this.view.renderError(i,this.currentVisit):await this.view.renderPage(i,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){let n=hv(e),i=hv(this.view.lastRenderedLocation),a=t==="restore"&&typeof n>"u";return t!=="replace"&&FR(e)===FR(this.view.lastRenderedLocation)&&(a||n!=null&&n!==i)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:e,formElement:t}){return hE(e,t)||"advance"}};(function(r){r[r.initial=0]="initial",r[r.loading=1]="loading",r[r.interactive=2]="interactive",r[r.complete=3]="complete"})(Dp||(Dp={}));_te=class{constructor(e){this.stage=Dp.initial,this.started=!1,this.interpretReadyState=()=>{let{readyState:t}=this;t=="interactive"?this.pageIsInteractive():t=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==Dp.initial&&(this.stage=Dp.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Dp.loading&&(this.stage=Dp.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Dp.interactive&&(this.stage=Dp.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},wte=class{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}},Ste=class{render({fragment:e}){VR.preservingPermanentElements(this,R7e(e),()=>document.documentElement.appendChild(e))}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}};kte=class{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=t=>{let n=F7e(t);n&&q7e(n)&&(t.preventDefault(),this.receiveMessageResponse(n))},this.receiveMessageEvent=t=>{this.started&&typeof t.data=="string"&&this.receiveMessageHTML(t.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){let t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(zm.wrap(e))}};NR=class extends mE{static renderElement(e,t){let{documentElement:n,body:i}=document;n.replaceChild(t,i)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let t=e.parentNode;if(t){let n=X_(e);t.replaceChild(n,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},Q_=class extends mE{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let t of this.newHeadStylesheetElements)e.push(c7e(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(X_(e))}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(let t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(let[n,i]of t.entries()){if(e.tagName=="TITLE"){if(i.tagName!="TITLE")continue;if(e.innerHTML==i.innerHTML)return t.splice(n,1),!0}if(i.isEqualNode(e))return t.splice(n,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let t=X_(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},Cte=class{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return aE(e)in this.snapshots}get(e){if(this.has(e)){let t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[aE(e)]}write(e,t){this.snapshots[aE(e)]=t}touch(e){let t=aE(e),n=this.keys.indexOf(t);n>-1&&this.keys.splice(n,1),this.keys.unshift(t),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},Ete=class extends jR{constructor(){super(...arguments);this.snapshotCache=new Cte(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,t=!1,n=!0,i){let a=new Q_(this.snapshot,e,Q_.renderElement,t,n);return a.shouldRender?i?.changeHistory():this.forceReloaded=!0,this.render(a)}renderError(e,t){t?.changeHistory();let n=new NR(this.snapshot,e,NR.renderElement,!1);return this.render(n)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:t}=this;await a7e();let n=e.clone();return this.snapshotCache.put(t,n),n}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return tf.fromElement(this.element)}},Tte=class{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(let t of e.querySelectorAll(this.selector))this.preloadURL(t)}async preloadURL(e){let t=new URL(e.href);if(!this.snapshotCache.has(t))try{let i=await(await fetch(t.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),a=tf.fromHTMLString(i);this.snapshotCache.put(t,a)}catch{}}},Ate=class{constructor(){this.navigator=new xte(this),this.history=new bte(this),this.preloader=new Tte(this),this.view=new Ete(this,document.documentElement),this.adapter=new gte(this),this.pageObserver=new _te(this),this.cacheObserver=new vte,this.linkClickObserver=new HR(this,window),this.formSubmitObserver=new pE(this,document),this.scrollObserver=new wte(this),this.streamObserver=new kte(this),this.formLinkClickObserver=new WR(this,document.documentElement),this.frameRedirector=new yte(this,document.documentElement),this.streamMessageRenderer=new Ste,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){let n=t.frame?document.getElementById(t.frame):null;n instanceof kh?(n.src=e.toString(),n.loaded):this.navigator.proposeVisit(_u(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(zm.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&Rb(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,t,n){return this.elementIsNavigatable(e)&&Rb(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,n)}followedLinkToLocation(e,t){let n=this.getActionForLink(e),i=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:n,acceptsStreamResponse:i})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){rte(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||qR(document.documentElement),rte(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){zR(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){let n=BR(e,t);return this.submissionIsNavigatable(e,t)&&Rb(_u(n),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;!((e=this.navigator.currentVisit)===null||e===void 0)&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){let n=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:i,detail:{render:a}}=n;return this.view.renderer&&a&&(this.view.renderer.renderElement=a),!i}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,n){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,n).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,n){return $l("turbo:click",{target:e,detail:{url:t.href,originalEvent:n},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return $l("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return $l("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return $l("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return $l("turbo:before-render",{detail:Object.assign({newBody:e},t),cancelable:!0})}notifyApplicationAfterRender(){return $l("turbo:render")}notifyApplicationAfterPageLoad(e={}){return $l("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return $l("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return $l("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(this.formMode=="off")return!1;{let n=t?this.elementIsNavigatable(t):!0;return this.formMode=="optin"?n&&e.closest('[data-turbo="true"]')!=null:n&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let t=cE(e,"[data-turbo]"),n=cE(e,"turbo-frame");return this.drive||n?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return hE(e)||"advance"}get snapshot(){return this.view.snapshot}};z7e={absoluteURL:{get(){return this.toString()}}},Dte=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){h7e("turbo-cache-control",e)}},zb={after(){this.targetElements.forEach(r=>{var e;return(e=r.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,r.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.append(this.templateContent))},before(){this.targetElements.forEach(r=>{var e;return(e=r.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,r)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.prepend(this.templateContent))},remove(){this.targetElements.forEach(r=>r.remove())},replace(){this.targetElements.forEach(r=>r.replaceWith(this.templateContent))},update(){this.targetElements.forEach(r=>{r.innerHTML="",r.append(this.templateContent)})}},Ea=new Ate,Ote=new Dte(Ea),{navigator:Ite}=Ea;N7e=Object.freeze({__proto__:null,navigator:Ite,session:Ea,cache:Ote,PageRenderer:Q_,PageSnapshot:tf,FrameRenderer:J_,start:$R,registerAdapter:Mte,visit:Pte,connectStreamSource:t1,disconnectStreamSource:r1,renderStreamMessage:Lte,clearCache:Rte,setProgressBarDelay:Fte,setConfirmMethod:qte,setFormMode:zte,StreamActions:zb}),Nte=class extends Error{},Bte=class{constructor(e){this.fetchResponseLoaded=t=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:t})=>{let n=t.querySelector("#"+this.element.id);n&&this.previousFrameElement&&n.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new dte(this,this.element),this.appearanceObserver=new cte(this,this.element),this.formLinkClickObserver=new WR(this,this.element),this.linkInterceptor=new UR(this,this.element),this.restorationIdentifier=Fb(),this.formSubmitObserver=new pE(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==Op.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Op.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Op.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){let{src:e}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==Op.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(_u(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let t=await e.responseHTML;if(t){let n=ate(t);tf.fromDocument(n).isVisitable?await this.loadFrameResponse(e,n):await this.handleUnvisitableFrameResponse(e)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,e),this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,t,n){let i=this.findFrameElement(e);i&&n.setAttribute("data-turbo-frame",i.id)}shouldInterceptLinkClick(e,t,n){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.navigateFrame(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new qb(this,e,t);let{fetchRequest:n}=this.formSubmission;this.prepareRequest(n),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,!((t=this.currentNavigationElement)===null||t===void 0)&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(zm.contentType)}requestStarted(e){qR(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){zR(this.element)}formSubmissionStarted({formElement:e}){qR(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){let n=this.findFrameElement(e.formElement,e.submitter);n.delegate.proposeVisitIfNavigatedWithAction(n,e.formElement,e.submitter),n.delegate.loadResponse(t),e.isSafe||Ea.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),Ea.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){zR(e,this.findFrameElement(e))}allowsImmediateRender({element:e},t){let n=$l("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},t),cancelable:!0}),{defaultPrevented:i,detail:{render:a}}=n;return this.view.renderer&&a&&(this.view.renderer.renderElement=a),!i}viewRenderedSnapshot(e,t){}preloadOnLoadLinksForView(e){Ea.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}async loadFrameResponse(e,t){let n=await this.extractForeignFrameElement(t.body);if(n){let i=new e1(n),a=new J_(this,this.view.snapshot,i,J_.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(a),this.complete=!0,Ea.frameRendered(e,this.element),Ea.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&this.handleFrameMissingFromResponse(e)}async visit(e){var t;let n=new dE(this,_c.get,e,new URLSearchParams,this.element);return(t=this.currentFetchRequest)===null||t===void 0||t.cancel(),this.currentFetchRequest=n,new Promise(i=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,i()},n.perform()})}navigateFrame(e,t,n){let i=this.findFrameElement(e,n);i.delegate.proposeVisitIfNavigatedWithAction(i,e,n),this.withCurrentNavigationElement(e,()=>{i.src=t})}proposeVisitIfNavigatedWithAction(e,t,n){if(this.action=hE(n,t,e),this.action){let i=tf.fromElement(e).clone(),{visitCachedSnapshot:a}=e.delegate;e.delegate.fetchResponseLoaded=l=>{if(e.src){let{statusCode:h,redirected:b}=l,S=e.ownerDocument.documentElement.outerHTML,O={response:{statusCode:h,redirected:b,responseHTML:S},visitCachedSnapshot:a,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:i};this.action&&(O.action=this.action),Ea.visit(e.src,O)}}}}changeHistory(){if(this.action){let e=lte(this.action);Ea.history.update(e,_u(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(e.response)}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");let t=e.response,n=async(a,l={})=>{a instanceof Response?this.visitResponse(a):Ea.visit(a,l)};return!$l("turbo:frame-missing",{target:this.element,detail:{response:t,visit:n},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(e){this.view.missing(),this.throwFrameMissingError(e)}throwFrameMissingError(e){let t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Nte(t)}async visitResponse(e){let t=new fE(e),n=await t.responseHTML,{location:i,redirected:a,statusCode:l}=t;return Ea.visit(i,{response:{redirected:a,statusCode:l,responseHTML:n}})}findFrameElement(e,t){var n;let i=lE("data-turbo-frame",t,e)||this.element.getAttribute("target");return(n=nte(i))!==null&&n!==void 0?n:this.element}async extractForeignFrameElement(e){let t,n=CSS.escape(this.id);try{if(t=ite(e.querySelector(`turbo-frame#${n}`),this.sourceURL),t)return t;if(t=ite(e.querySelector(`turbo-frame[src][recurse~=${n}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(i){return console.error(i),new kh}return null}formActionIsVisitable(e,t){let n=BR(e,t);return Rb(_u(n),this.rootLocation)}shouldInterceptNavigation(e,t){let n=lE("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,t)||!this.enabled||n=="_top")return!1;if(n){let i=nte(n);if(i)return!i.disabled}return!(!Ea.elementIsNavigatable(e)||t&&!Ea.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;let t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),n=(e=t?.content)!==null&&e!==void 0?e:"/";return _u(n)}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,t){this.ignoredAttributes.add(e),t(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}};n1=class extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return(e=this.renderPromise)!==null&&e!==void 0?e:this.renderPromise=(async()=>{let t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await sE(),await t.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;let t=this.targetElements.flatMap(i=>[...i.children]).filter(i=>!!i.id),n=[...((e=this.templateContent)===null||e===void 0?void 0:e.children)||[]].filter(i=>!!i.id).map(i=>i.id);return t.filter(i=>n.includes(i.id))}get performAction(){if(this.action){let e=zb[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return(t=((e=this.outerHTML.match(/<[^>]+>/))!==null&&e!==void 0?e:[])[0])!==null&&t!==void 0?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:n1.renderElement}})}get targetElementsById(){var e;let t=(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){var e;let t=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}},GR=class extends HTMLElement{constructor(){super(...arguments);this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),t1(this.streamSource)}disconnectedCallback(){this.streamSource&&r1(this.streamSource)}get src(){return this.getAttribute("src")||""}};kh.delegateConstructor=Bte;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",kh);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",n1);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",GR);(()=>{let r=document.currentScript;if(!!r&&!r.hasAttribute("data-turbo-suppress-warning"))for(r=r.parentElement;r;){if(r==document.body)return console.warn(ste`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,r.outerHTML);r=r.parentElement}})();window.Turbo=N7e;$R()});var Nm,vE=He(()=>{Nm={logger:self.console,WebSocket:self.WebSocket}});var ko,Nb=He(()=>{vE();ko={log(...r){this.enabled&&(r.push(Date.now()),Nm.logger.log("[ActionCable]",...r))}}});var i1,yE,bE,xE,KR=He(()=>{Nb();i1=()=>new Date().getTime(),yE=r=>(i1()-r)/1e3,bE=class{constructor(e){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=e,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=i1(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),ko.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=i1(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),ko.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=i1()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,ko.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=i1(),ko.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){let{staleThreshold:e,reconnectionBackoffRate:t}=this.constructor,n=Math.pow(1+t,Math.min(this.reconnectAttempts,10)),a=(this.reconnectAttempts===0?1:t)*Math.random();return e*1e3*n*(1+a)}reconnectIfStale(){this.connectionIsStale()&&(ko.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${yE(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?ko.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${yE(this.disconnectedAt)} s`):(ko.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return yE(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&yE(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(ko.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}};bE.staleThreshold=6;bE.reconnectionBackoffRate=.15;xE=bE});var o1,YR=He(()=>{o1={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]}});var a1,_E,B7e,jte,wE,SE,ZR=He(()=>{vE();KR();YR();Nb();({message_types:a1,protocols:_E}=o1),B7e=_E.slice(0,_E.length-1),jte=[].indexOf,wE=class{constructor(e){this.open=this.open.bind(this),this.consumer=e,this.subscriptions=this.consumer.subscriptions,this.monitor=new xE(this),this.disconnected=!0}send(e){return this.isOpen()?(this.webSocket.send(JSON.stringify(e)),!0):!1}open(){return this.isActive()?(ko.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1):(ko.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${_E}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new Nm.WebSocket(this.consumer.url,_E),this.installEventHandlers(),this.monitor.start(),!0)}close({allowReconnect:e}={allowReconnect:!0}){if(e||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(ko.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(e){ko.log("Failed to reopen WebSocket",e)}finally{ko.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}isProtocolSupported(){return jte.call(B7e,this.getProtocol())>=0}isState(...e){return jte.call(e,this.getState())>=0}getState(){if(this.webSocket){for(let e in Nm.WebSocket)if(Nm.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase()}return null}installEventHandlers(){for(let e in this.events){let t=this.events[e].bind(this);this.webSocket[`on${e}`]=t}}uninstallEventHandlers(){for(let e in this.events)this.webSocket[`on${e}`]=function(){}}};wE.reopenDelay=500;wE.prototype.events={message(r){if(!this.isProtocolSupported())return;let{identifier:e,message:t,reason:n,reconnect:i,type:a}=JSON.parse(r.data);switch(a){case a1.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case a1.disconnect:return ko.log(`Disconnecting. Reason: ${n}`),this.close({allowReconnect:i});case a1.ping:return this.monitor.recordPing();case a1.confirmation:return this.subscriptions.confirmSubscription(e),this.subscriptions.notify(e,"connected");case a1.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",t)}},open(){if(ko.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return ko.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(r){if(ko.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){ko.log("WebSocket onerror event")}};SE=wE});var j7e,Bb,XR=He(()=>{j7e=function(r,e){if(e!=null)for(let t in e){let n=e[t];r[t]=n}return r},Bb=class{constructor(e,t={},n){this.consumer=e,this.identifier=JSON.stringify(t),j7e(this,n)}perform(e,t={}){return t.action=e,this.send(t)}send(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}});var Ute,kE,JR=He(()=>{Nb();Ute=class{constructor(e){this.subscriptions=e,this.pendingSubscriptions=[]}guarantee(e){this.pendingSubscriptions.indexOf(e)==-1?(ko.log(`SubscriptionGuarantor guaranteeing ${e.identifier}`),this.pendingSubscriptions.push(e)):ko.log(`SubscriptionGuarantor already guaranteeing ${e.identifier}`),this.startGuaranteeing()}forget(e){ko.log(`SubscriptionGuarantor forgetting ${e.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(t=>t!==e)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(e=>{ko.log(`SubscriptionGuarantor resubscribing ${e.identifier}`),this.subscriptions.subscribe(e)})},500)}},kE=Ute});var jb,QR=He(()=>{XR();JR();Nb();jb=class{constructor(e){this.consumer=e,this.guarantor=new kE(this),this.subscriptions=[]}create(e,t){let n=e,i=typeof n=="object"?n:{channel:n},a=new Bb(this.consumer,i,t);return this.add(a)}add(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.subscribe(e),e}remove(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e}reject(e){return this.findAll(e).map(t=>(this.forget(t),this.notify(t,"rejected"),t))}forget(e){return this.guarantor.forget(e),this.subscriptions=this.subscriptions.filter(t=>t!==e),e}findAll(e){return this.subscriptions.filter(t=>t.identifier===e)}reload(){return this.subscriptions.map(e=>this.subscribe(e))}notifyAll(e,...t){return this.subscriptions.map(n=>this.notify(n,e,...t))}notify(e,t,...n){let i;return typeof e=="string"?i=this.findAll(e):i=[e],i.map(a=>typeof a[t]=="function"?a[t](...n):void 0)}subscribe(e){this.sendCommand(e,"subscribe")&&this.guarantor.guarantee(e)}confirmSubscription(e){ko.log(`Subscription confirmed ${e}`),this.findAll(e).map(t=>this.guarantor.forget(t))}sendCommand(e,t){let{identifier:n}=e;return this.consumer.send({command:t,identifier:n})}}});function eF(r){if(typeof r=="function"&&(r=r()),r&&!/^wss?:/i.test(r)){let e=document.createElement("a");return e.href=r,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href}else return r}var s1,Hte=He(()=>{ZR();QR();s1=class{constructor(e){this._url=e,this.subscriptions=new jb(this),this.connection=new SE(this)}get url(){return eF(this._url)}send(e){return this.connection.send(e)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}}});var Vte={};z5(Vte,{Connection:()=>SE,ConnectionMonitor:()=>xE,Consumer:()=>s1,INTERNAL:()=>o1,Subscription:()=>Bb,SubscriptionGuarantor:()=>kE,Subscriptions:()=>jb,adapters:()=>Nm,createConsumer:()=>U7e,createWebSocketURL:()=>eF,getConfig:()=>Wte,logger:()=>ko});function U7e(r=Wte("url")||o1.default_mount_path){return new s1(r)}function Wte(r){let e=document.head.querySelector(`meta[name='action-cable-${r}']`);if(e)return e.getAttribute("content")}var $te=He(()=>{ZR();KR();Hte();YR();XR();QR();JR();vE();Nb()});async function H7e(){return Kte||Gte(W7e().then(Gte))}function Gte(r){return Kte=r}async function W7e(){let{createConsumer:r}=await Promise.resolve().then(()=>($te(),Vte));return r()}async function Yte(r,e){let{subscriptions:t}=await H7e();return t.create(r,e)}var Kte,tF=He(()=>{});function l1(r){return!r||typeof r!="object"||r instanceof Date||r instanceof RegExp?r:Array.isArray(r)?r.map(l1):Object.keys(r).reduce(function(e,t){var n=t[0].toLowerCase()+t.slice(1).replace(/([A-Z]+)/g,function(i,a){return"_"+a.toLowerCase()});return e[n]=l1(r[t]),e},{})}var Zte=He(()=>{});var Xte,Jte=He(()=>{gE();tF();Zte();Xte=class extends HTMLElement{async connectedCallback(){t1(this),this.subscription=await Yte(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){r1(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(e){let t=new MessageEvent("message",{data:e});return this.dispatchEvent(t)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){let e=this.getAttribute("channel"),t=this.getAttribute("signed-stream-name");return{channel:e,signed_stream_name:t,...l1({...this.dataset})}}};customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",Xte)});function Qte(r){if(r.target instanceof HTMLFormElement){let{target:e,detail:{fetchOptions:t}}=r;e.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:n}}})=>{let i=K7e(t.body)?t.body:new URLSearchParams,a=$7e(n,i,e);/get/i.test(a)||(/post/i.test(a)?i.delete("_method"):i.set("_method",a),t.method="post")},{once:!0})}}function $7e(r,e,t){let n=G7e(r),i=e.get("_method"),a=t.getAttribute("method")||"get";return typeof n=="string"?n:typeof i=="string"?i:a}function G7e(r){return(r instanceof HTMLButtonElement||r instanceof HTMLInputElement)&&r.hasAttribute("formmethod")?r.formMethod:null}function K7e(r){return r instanceof FormData||r instanceof URLSearchParams}var ere=He(()=>{});var rF=He(()=>{Jte();gE();tF();ere();addEventListener("turbo:before-fetch-request",Qte)});var rre=fe((tre,CE)=>{(function(){var r=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(r);var e=r.Rails;(function(){(function(){var t;t=null,e.loadCSPNonce=function(){var n;return t=(n=document.querySelector("meta[name=csp-nonce]"))!=null?n.content:void 0},e.cspNonce=function(){return t??e.loadCSPNonce()}}).call(this),function(){var t,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,e.matches=function(i,a){return a.exclude!=null?n.call(i,a.selector)&&!n.call(i,a.exclude):n.call(i,a)},t="_ujsData",e.getData=function(i,a){var l;return(l=i[t])!=null?l[a]:void 0},e.setData=function(i,a,l){return i[t]==null&&(i[t]={}),i[t][a]=l},e.$=function(i){return Array.prototype.slice.call(document.querySelectorAll(i))}}.call(this),function(){var t,n,i;t=e.$,i=e.csrfToken=function(){var a;return a=document.querySelector("meta[name=csrf-token]"),a&&a.content},n=e.csrfParam=function(){var a;return a=document.querySelector("meta[name=csrf-param]"),a&&a.content},e.CSRFProtection=function(a){var l;if(l=i(),l!=null)return a.setRequestHeader("X-CSRF-Token",l)},e.refreshCSRFTokens=function(){var a,l;if(l=i(),a=n(),l!=null&&a!=null)return t('form input[name="'+a+'"]').forEach(function(h){return h.value=l})}}.call(this),function(){var t,n,i,a;i=e.matches,t=window.CustomEvent,typeof t!="function"&&(t=function(l,h){var b;return b=document.createEvent("CustomEvent"),b.initCustomEvent(l,h.bubbles,h.cancelable,h.detail),b},t.prototype=window.Event.prototype,a=t.prototype.preventDefault,t.prototype.preventDefault=function(){var l;return l=a.call(this),this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),l}),n=e.fire=function(l,h,b){var S;return S=new t(h,{bubbles:!0,cancelable:!0,detail:b}),l.dispatchEvent(S),!S.defaultPrevented},e.stopEverything=function(l){return n(l.target,"ujs:everythingStopped"),l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation()},e.delegate=function(l,h,b,S){return l.addEventListener(b,function(E){var O;for(O=E.target;!(!(O instanceof Element)||i(O,h));)O=O.parentNode;if(O instanceof Element&&S.call(O,E)===!1)return E.preventDefault(),E.stopPropagation()})}}.call(this),function(){var t,n,i,a,l,h,b;a=e.cspNonce,n=e.CSRFProtection,l=e.fire,t={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},e.ajax=function(S){var E;if(S=h(S),E=i(S,function(){var O,P;return P=b((O=E.response)!=null?O:E.responseText,E.getResponseHeader("Content-Type")),Math.floor(E.status/100)===2?typeof S.success=="function"&&S.success(P,E.statusText,E):typeof S.error=="function"&&S.error(P,E.statusText,E),typeof S.complete=="function"?S.complete(E,E.statusText):void 0}),S.beforeSend!=null&&!S.beforeSend(E,S))return!1;if(E.readyState===XMLHttpRequest.OPENED)return E.send(S.data)},h=function(S){return S.url=S.url||location.href,S.type=S.type.toUpperCase(),S.type==="GET"&&S.data&&(S.url.indexOf("?")<0?S.url+="?"+S.data:S.url+="&"+S.data),t[S.dataType]==null&&(S.dataType="*"),S.accept=t[S.dataType],S.dataType!=="*"&&(S.accept+=", */*; q=0.01"),S},i=function(S,E){var O;return O=new XMLHttpRequest,O.open(S.type,S.url,!0),O.setRequestHeader("Accept",S.accept),typeof S.data=="string"&&O.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),S.crossDomain||(O.setRequestHeader("X-Requested-With","XMLHttpRequest"),n(O)),O.withCredentials=!!S.withCredentials,O.onreadystatechange=function(){if(O.readyState===XMLHttpRequest.DONE)return E(O)},O},b=function(S,E){var O,P;if(typeof S=="string"&&typeof E=="string"){if(E.match(/\bjson\b/))try{S=JSON.parse(S)}catch{}else if(E.match(/\b(?:java|ecma)script\b/))P=document.createElement("script"),P.setAttribute("nonce",a()),P.text=S,document.head.appendChild(P).parentNode.removeChild(P);else if(E.match(/\b(xml|html|svg)\b/)){O=new DOMParser,E=E.replace(/;.+/,"");try{S=O.parseFromString(S,E)}catch{}}}return S},e.href=function(S){return S.href},e.isCrossDomain=function(S){var E,O,P;O=document.createElement("a"),O.href=location.href,P=document.createElement("a");try{return P.href=S,!((!P.protocol||P.protocol===":")&&!P.host||O.protocol+"//"+O.host==P.protocol+"//"+P.host)}catch(q){return E=q,!0}}}.call(this),function(){var t,n;t=e.matches,n=function(i){return Array.prototype.slice.call(i)},e.serializeElement=function(i,a){var l,h;return l=[i],t(i,"form")&&(l=n(i.elements)),h=[],l.forEach(function(b){if(!(!b.name||b.disabled)&&!t(b,"fieldset[disabled] *")){if(t(b,"select"))return n(b.options).forEach(function(S){if(S.selected)return h.push({name:b.name,value:S.value})});if(b.checked||["radio","checkbox","submit"].indexOf(b.type)===-1)return h.push({name:b.name,value:b.value})}}),a&&h.push(a),h.map(function(b){return b.name!=null?encodeURIComponent(b.name)+"="+encodeURIComponent(b.value):b}).join("&")},e.formElements=function(i,a){return t(i,"form")?n(i.elements).filter(function(l){return t(l,a)}):n(i.querySelectorAll(a))}}.call(this),function(){var t,n,i;n=e.fire,i=e.stopEverything,e.handleConfirm=function(a){if(!t(this))return i(a)},e.confirm=function(a,l){return confirm(a)},t=function(a){var l,h,b;if(b=a.getAttribute("data-confirm"),!b)return!0;if(l=!1,n(a,"confirm")){try{l=e.confirm(b,a)}catch{}h=n(a,"confirm:complete",[l])}return l&&h}}.call(this),function(){var t,n,i,a,l,h,b,S,E,O,P,q;O=e.matches,S=e.getData,P=e.setData,q=e.stopEverything,b=e.formElements,e.handleDisabledElement=function(z){var N;if(N=this,N.disabled)return q(z)},e.enableElement=function(z){var N;if(z instanceof Event){if(E(z))return;N=z.target}else N=z;if(O(N,e.linkDisableSelector))return h(N);if(O(N,e.buttonDisableSelector)||O(N,e.formEnableSelector))return a(N);if(O(N,e.formSubmitSelector))return l(N)},e.disableElement=function(z){var N;if(N=z instanceof Event?z.target:z,O(N,e.linkDisableSelector))return i(N);if(O(N,e.buttonDisableSelector)||O(N,e.formDisableSelector))return t(N);if(O(N,e.formSubmitSelector))return n(N)},i=function(z){var N;if(!S(z,"ujs:disabled"))return N=z.getAttribute("data-disable-with"),N!=null&&(P(z,"ujs:enable-with",z.innerHTML),z.innerHTML=N),z.addEventListener("click",q),P(z,"ujs:disabled",!0)},h=function(z){var N;return N=S(z,"ujs:enable-with"),N!=null&&(z.innerHTML=N,P(z,"ujs:enable-with",null)),z.removeEventListener("click",q),P(z,"ujs:disabled",null)},n=function(z){return b(z,e.formDisableSelector).forEach(t)},t=function(z){var N;if(!S(z,"ujs:disabled"))return N=z.getAttribute("data-disable-with"),N!=null&&(O(z,"button")?(P(z,"ujs:enable-with",z.innerHTML),z.innerHTML=N):(P(z,"ujs:enable-with",z.value),z.value=N)),z.disabled=!0,P(z,"ujs:disabled",!0)},l=function(z){return b(z,e.formEnableSelector).forEach(a)},a=function(z){var N;return N=S(z,"ujs:enable-with"),N!=null&&(O(z,"button")?z.innerHTML=N:z.value=N,P(z,"ujs:enable-with",null)),z.disabled=!1,P(z,"ujs:disabled",null)},E=function(z){var N,V;return V=(N=z.detail)!=null?N[0]:void 0,V?.getResponseHeader("X-Xhr-Redirect")!=null}}.call(this),function(){var t;t=e.stopEverything,e.handleMethod=function(n){var i,a,l,h,b,S,E;if(S=this,E=S.getAttribute("data-method"),!!E)return b=e.href(S),a=e.csrfToken(),i=e.csrfParam(),l=document.createElement("form"),h="<input name='_method' value='"+E+"' type='hidden' />",i!=null&&a!=null&&!e.isCrossDomain(b)&&(h+="<input name='"+i+"' value='"+a+"' type='hidden' />"),h+='<input type="submit" />',l.method="post",l.action=b,l.target=S.target,l.innerHTML=h,l.style.display="none",document.body.appendChild(l),l.querySelector('[type="submit"]').click(),t(n)}}.call(this),function(){var t,n,i,a,l,h,b,S,E,O=[].slice;h=e.matches,i=e.getData,S=e.setData,n=e.fire,E=e.stopEverything,t=e.ajax,a=e.isCrossDomain,b=e.serializeElement,l=function(P){var q;return q=P.getAttribute("data-remote"),q!=null&&q!=="false"},e.handleRemote=function(P){var q,z,N,V,Y,J,se;return V=this,l(V)?n(V,"ajax:before")?(se=V.getAttribute("data-with-credentials"),N=V.getAttribute("data-type")||"script",h(V,e.formSubmitSelector)?(q=i(V,"ujs:submit-button"),Y=i(V,"ujs:submit-button-formmethod")||V.method,J=i(V,"ujs:submit-button-formaction")||V.getAttribute("action")||location.href,Y.toUpperCase()==="GET"&&(J=J.replace(/\?.*$/,"")),V.enctype==="multipart/form-data"?(z=new FormData(V),q!=null&&z.append(q.name,q.value)):z=b(V,q),S(V,"ujs:submit-button",null),S(V,"ujs:submit-button-formmethod",null),S(V,"ujs:submit-button-formaction",null)):h(V,e.buttonClickSelector)||h(V,e.inputChangeSelector)?(Y=V.getAttribute("data-method"),J=V.getAttribute("data-url"),z=b(V,V.getAttribute("data-params"))):(Y=V.getAttribute("data-method"),J=e.href(V),z=V.getAttribute("data-params")),t({type:Y||"GET",url:J,data:z,dataType:N,beforeSend:function(_,me){return n(V,"ajax:beforeSend",[_,me])?n(V,"ajax:send",[_]):(n(V,"ajax:stopped"),!1)},success:function(){var _;return _=1<=arguments.length?O.call(arguments,0):[],n(V,"ajax:success",_)},error:function(){var _;return _=1<=arguments.length?O.call(arguments,0):[],n(V,"ajax:error",_)},complete:function(){var _;return _=1<=arguments.length?O.call(arguments,0):[],n(V,"ajax:complete",_)},crossDomain:a(J),withCredentials:se!=null&&se!=="false"}),E(P)):(n(V,"ajax:stopped"),!1):!0},e.formSubmitButtonClick=function(P){var q,z;if(q=this,z=q.form,!!z)return q.name&&S(z,"ujs:submit-button",{name:q.name,value:q.value}),S(z,"ujs:formnovalidate-button",q.formNoValidate),S(z,"ujs:submit-button-formaction",q.getAttribute("formaction")),S(z,"ujs:submit-button-formmethod",q.getAttribute("formmethod"))},e.preventInsignificantClick=function(P){var q,z,N,V,Y,J;if(N=this,Y=(N.getAttribute("data-method")||"GET").toUpperCase(),q=N.getAttribute("data-params"),V=P.metaKey||P.ctrlKey,z=V&&Y==="GET"&&!q,J=P.button!=null&&P.button!==0,J||z)return P.stopImmediatePropagation()}}.call(this),function(){var t,n,i,a,l,h,b,S,E,O,P,q,z,N,V;if(h=e.fire,i=e.delegate,S=e.getData,t=e.$,V=e.refreshCSRFTokens,n=e.CSRFProtection,z=e.loadCSPNonce,l=e.enableElement,a=e.disableElement,O=e.handleDisabledElement,E=e.handleConfirm,N=e.preventInsignificantClick,q=e.handleRemote,b=e.formSubmitButtonClick,P=e.handleMethod,typeof jQuery<"u"&&jQuery!==null&&jQuery.ajax!=null){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=e,jQuery.ajaxPrefilter(function(Y,J,se){if(!Y.crossDomain)return n(se)})}e.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(e.formEnableSelector).forEach(function(Y){if(S(Y,"ujs:disabled"))return l(Y)}),t(e.linkDisableSelector).forEach(function(Y){if(S(Y,"ujs:disabled"))return l(Y)})}),i(document,e.linkDisableSelector,"ajax:complete",l),i(document,e.linkDisableSelector,"ajax:stopped",l),i(document,e.buttonDisableSelector,"ajax:complete",l),i(document,e.buttonDisableSelector,"ajax:stopped",l),i(document,e.linkClickSelector,"click",N),i(document,e.linkClickSelector,"click",O),i(document,e.linkClickSelector,"click",E),i(document,e.linkClickSelector,"click",a),i(document,e.linkClickSelector,"click",q),i(document,e.linkClickSelector,"click",P),i(document,e.buttonClickSelector,"click",N),i(document,e.buttonClickSelector,"click",O),i(document,e.buttonClickSelector,"click",E),i(document,e.buttonClickSelector,"click",a),i(document,e.buttonClickSelector,"click",q),i(document,e.inputChangeSelector,"change",O),i(document,e.inputChangeSelector,"change",E),i(document,e.inputChangeSelector,"change",q),i(document,e.formSubmitSelector,"submit",O),i(document,e.formSubmitSelector,"submit",E),i(document,e.formSubmitSelector,"submit",q),i(document,e.formSubmitSelector,"submit",function(Y){return setTimeout(function(){return a(Y)},13)}),i(document,e.formSubmitSelector,"ajax:send",a),i(document,e.formSubmitSelector,"ajax:complete",l),i(document,e.formInputClickSelector,"click",N),i(document,e.formInputClickSelector,"click",O),i(document,e.formInputClickSelector,"click",E),i(document,e.formInputClickSelector,"click",b),document.addEventListener("DOMContentLoaded",V),document.addEventListener("DOMContentLoaded",z),window._rails_loaded=!0},window.Rails===e&&h(document,"rails:attachBindings")&&e.start()}.call(this)}).call(this),typeof CE=="object"&&CE.exports?CE.exports=e:typeof define=="function"&&define.amd&&define(e)}).call(tre)});var Ms,kl,il,ol,EE,Bm,Ip,TE,nre,AE,Ub,ire,nF,DE,Y7e,Z7e,X7e,J7e,Q7e,e$e,t$e,r$e,n$e,ore,rf=He(()=>{Ms="top",kl="bottom",il="right",ol="left",EE="auto",Bm=[Ms,kl,il,ol],Ip="start",TE="end",nre="clippingParents",AE="viewport",Ub="popper",ire="reference",nF=Bm.reduce(function(r,e){return r.concat([e+"-"+Ip,e+"-"+TE])},[]),DE=[].concat(Bm,[EE]).reduce(function(r,e){return r.concat([e,e+"-"+Ip,e+"-"+TE])},[]),Y7e="beforeRead",Z7e="read",X7e="afterRead",J7e="beforeMain",Q7e="main",e$e="afterMain",t$e="beforeWrite",r$e="write",n$e="afterWrite",ore=[Y7e,Z7e,X7e,J7e,Q7e,e$e,t$e,r$e,n$e]});function Cl(r){return r?(r.nodeName||"").toLowerCase():null}var jm=He(()=>{});function vs(r){if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}var wd=He(()=>{});function Mp(r){var e=vs(r).Element;return r instanceof e||r instanceof Element}function wu(r){var e=vs(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function OE(r){if(typeof ShadowRoot>"u")return!1;var e=vs(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}var Mf=He(()=>{wd()});function i$e(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!wu(a)||!Cl(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(l){var h=i[l];h===!1?a.removeAttribute(l):a.setAttribute(l,h===!0?"":h)}))})}function o$e(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},l=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),h=l.reduce(function(b,S){return b[S]="",b},{});!wu(i)||!Cl(i)||(Object.assign(i.style,h),Object.keys(a).forEach(function(b){i.removeAttribute(b)}))})}}var are,sre=He(()=>{jm();Mf();are={name:"applyStyles",enabled:!0,phase:"write",fn:i$e,effect:o$e,requires:["computeStyles"]}});function El(r){return r.split("-")[0]}var Um=He(()=>{});function pv(r){return{x:r.offsetLeft,y:r.offsetTop,width:r.offsetWidth,height:r.offsetHeight}}var IE=He(()=>{});function u1(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&OE(t)){var n=e;do{if(n&&r.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}var iF=He(()=>{Mf()});function wc(r){return vs(r).getComputedStyle(r)}var Hb=He(()=>{wd()});function oF(r){return["table","td","th"].indexOf(Cl(r))>=0}var lre=He(()=>{jm()});function Gl(r){return((Mp(r)?r.ownerDocument:r.document)||window.document).documentElement}var Pp=He(()=>{Mf()});function Lp(r){return Cl(r)==="html"?r:r.assignedSlot||r.parentNode||(OE(r)?r.host:null)||Gl(r)}var c1=He(()=>{jm();Pp();Mf()});function ure(r){return!wu(r)||wc(r).position==="fixed"?null:r.offsetParent}function a$e(r){for(var e=navigator.userAgent.toLowerCase().includes("firefox"),t=Lp(r);wu(t)&&["html","body"].indexOf(Cl(t))<0;){var n=wc(t);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return t;t=t.parentNode}return null}function Ch(r){for(var e=vs(r),t=ure(r);t&&oF(t)&&wc(t).position==="static";)t=ure(t);return t&&(Cl(t)==="html"||Cl(t)==="body"&&wc(t).position==="static")?e:t||a$e(r)||e}var Wb=He(()=>{wd();jm();Hb();Mf();lre();c1()});function mv(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}var ME=He(()=>{});var Pf,Hm,f1,Vb=He(()=>{Pf=Math.max,Hm=Math.min,f1=Math.round});function gv(r,e,t){return Pf(r,Hm(e,t))}var aF=He(()=>{Vb()});function h1(){return{top:0,right:0,bottom:0,left:0}}var sF=He(()=>{});function d1(r){return Object.assign({},h1(),r)}var lF=He(()=>{sF()});function p1(r,e){return e.reduce(function(t,n){return t[n]=r,t},{})}var uF=He(()=>{});function l$e(r){var e,t=r.state,n=r.name,i=r.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,h=El(t.placement),b=mv(h),S=[ol,il].indexOf(h)>=0,E=S?"height":"width";if(!(!a||!l)){var O=s$e(i.padding,t),P=pv(a),q=b==="y"?Ms:ol,z=b==="y"?kl:il,N=t.rects.reference[E]+t.rects.reference[b]-l[b]-t.rects.popper[E],V=l[b]-t.rects.reference[b],Y=Ch(a),J=Y?b==="y"?Y.clientHeight||0:Y.clientWidth||0:0,se=N/2-V/2,_=O[q],me=J-P[E]-O[z],ne=J/2-P[E]/2+se,de=gv(_,ne,me),he=b;t.modifiersData[n]=(e={},e[he]=de,e.centerOffset=de-ne,e)}}function u$e(r){var e=r.state,t=r.options,n=t.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!u1(e.elements.popper,i)||(e.elements.arrow=i))}var s$e,cre,fre=He(()=>{Um();IE();iF();Wb();ME();aF();lF();uF();rf();s$e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,d1(typeof e!="number"?e:p1(e,Bm))};cre={name:"arrow",enabled:!0,phase:"main",fn:l$e,effect:u$e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}});function f$e(r){var e=r.x,t=r.y,n=window,i=n.devicePixelRatio||1;return{x:f1(f1(e*i)/i)||0,y:f1(f1(t*i)/i)||0}}function hre(r){var e,t=r.popper,n=r.popperRect,i=r.placement,a=r.offsets,l=r.position,h=r.gpuAcceleration,b=r.adaptive,S=r.roundOffsets,E=S===!0?f$e(a):typeof S=="function"?S(a):a,O=E.x,P=O===void 0?0:O,q=E.y,z=q===void 0?0:q,N=a.hasOwnProperty("x"),V=a.hasOwnProperty("y"),Y=ol,J=Ms,se=window;if(b){var _=Ch(t),me="clientHeight",ne="clientWidth";_===vs(t)&&(_=Gl(t),wc(_).position!=="static"&&(me="scrollHeight",ne="scrollWidth")),i===Ms&&(J=kl,z-=_[me]-n.height,z*=h?1:-1),i===ol&&(Y=il,P-=_[ne]-n.width,P*=h?1:-1)}var de=Object.assign({position:l},b&&c$e);if(h){var he;return Object.assign({},de,(he={},he[J]=V?"0":"",he[Y]=N?"0":"",he.transform=(se.devicePixelRatio||1)<2?"translate("+P+"px, "+z+"px)":"translate3d("+P+"px, "+z+"px, 0)",he))}return Object.assign({},de,(e={},e[J]=V?z+"px":"",e[Y]=N?P+"px":"",e.transform="",e))}function h$e(r){var e=r.state,t=r.options,n=t.gpuAcceleration,i=n===void 0?!0:n,a=t.adaptive,l=a===void 0?!0:a,h=t.roundOffsets,b=h===void 0?!0:h;if(!1)var S;var E={placement:El(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hre(Object.assign({},E,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:b})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hre(Object.assign({},E,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:b})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var c$e,dre,pre=He(()=>{rf();Wb();wd();Pp();Hb();Um();Vb();c$e={top:"auto",right:"auto",bottom:"auto",left:"auto"};dre={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:h$e,data:{}}});function d$e(r){var e=r.state,t=r.instance,n=r.options,i=n.scroll,a=i===void 0?!0:i,l=n.resize,h=l===void 0?!0:l,b=vs(e.elements.popper),S=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&S.forEach(function(E){E.addEventListener("scroll",t.update,PE)}),h&&b.addEventListener("resize",t.update,PE),function(){a&&S.forEach(function(E){E.removeEventListener("scroll",t.update,PE)}),h&&b.removeEventListener("resize",t.update,PE)}}var PE,mre,gre=He(()=>{wd();PE={passive:!0};mre={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:d$e,data:{}}});function $b(r){return r.replace(/left|right|bottom|top/g,function(e){return p$e[e]})}var p$e,vre=He(()=>{p$e={left:"right",right:"left",bottom:"top",top:"bottom"}});function LE(r){return r.replace(/start|end/g,function(e){return m$e[e]})}var m$e,yre=He(()=>{m$e={start:"end",end:"start"}});function Sd(r){var e=r.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}var m1=He(()=>{});function vv(r){var e=vs(r),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}var RE=He(()=>{wd()});function yv(r){return Sd(Gl(r)).left+vv(r).scrollLeft}var FE=He(()=>{m1();Pp();RE()});function cF(r){var e=vs(r),t=Gl(r),n=e.visualViewport,i=t.clientWidth,a=t.clientHeight,l=0,h=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=n.offsetLeft,h=n.offsetTop)),{width:i,height:a,x:l+yv(r),y:h}}var bre=He(()=>{wd();Pp();FE()});function fF(r){var e,t=Gl(r),n=vv(r),i=(e=r.ownerDocument)==null?void 0:e.body,a=Pf(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Pf(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-n.scrollLeft+yv(r),b=-n.scrollTop;return wc(i||t).direction==="rtl"&&(h+=Pf(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:h,y:b}}var xre=He(()=>{Pp();Hb();FE();RE();Vb()});function bv(r){var e=wc(r),t=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+n)}var qE=He(()=>{Hb()});function zE(r){return["html","body","#document"].indexOf(Cl(r))>=0?r.ownerDocument.body:wu(r)&&bv(r)?r:zE(Lp(r))}var _re=He(()=>{c1();qE();jm();Mf()});function Wm(r,e){var t;e===void 0&&(e=[]);var n=zE(r),i=n===((t=r.ownerDocument)==null?void 0:t.body),a=vs(n),l=i?[a].concat(a.visualViewport||[],bv(n)?n:[]):n,h=e.concat(l);return i?h:h.concat(Wm(Lp(l)))}var hF=He(()=>{_re();c1();wd();qE()});function Gb(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}var dF=He(()=>{});function g$e(r){var e=Sd(r);return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function wre(r,e){return e===AE?Gb(cF(r)):wu(e)?g$e(e):Gb(fF(Gl(r)))}function v$e(r){var e=Wm(Lp(r)),t=["absolute","fixed"].indexOf(wc(r).position)>=0,n=t&&wu(r)?Ch(r):r;return Mp(n)?e.filter(function(i){return Mp(i)&&u1(i,n)&&Cl(i)!=="body"}):[]}function pF(r,e,t){var n=e==="clippingParents"?v$e(r):[].concat(e),i=[].concat(n,[t]),a=i[0],l=i.reduce(function(h,b){var S=wre(r,b);return h.top=Pf(S.top,h.top),h.right=Hm(S.right,h.right),h.bottom=Hm(S.bottom,h.bottom),h.left=Pf(S.left,h.left),h},wre(r,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}var Sre=He(()=>{rf();bre();xre();hF();Wb();Pp();Hb();Mf();m1();c1();iF();jm();dF();Vb()});function kd(r){return r.split("-")[1]}var g1=He(()=>{});function v1(r){var e=r.reference,t=r.element,n=r.placement,i=n?El(n):null,a=n?kd(n):null,l=e.x+e.width/2-t.width/2,h=e.y+e.height/2-t.height/2,b;switch(i){case Ms:b={x:l,y:e.y-t.height};break;case kl:b={x:l,y:e.y+e.height};break;case il:b={x:e.x+e.width,y:h};break;case ol:b={x:e.x-t.width,y:h};break;default:b={x:e.x,y:e.y}}var S=i?mv(i):null;if(S!=null){var E=S==="y"?"height":"width";switch(a){case Ip:b[S]=b[S]-(e[E]/2-t[E]/2);break;case TE:b[S]=b[S]+(e[E]/2-t[E]/2);break;default:}}return b}var mF=He(()=>{Um();g1();ME();rf()});function Eh(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=n===void 0?r.placement:n,a=t.boundary,l=a===void 0?nre:a,h=t.rootBoundary,b=h===void 0?AE:h,S=t.elementContext,E=S===void 0?Ub:S,O=t.altBoundary,P=O===void 0?!1:O,q=t.padding,z=q===void 0?0:q,N=d1(typeof z!="number"?z:p1(z,Bm)),V=E===Ub?ire:Ub,Y=r.elements.reference,J=r.rects.popper,se=r.elements[P?V:E],_=pF(Mp(se)?se:se.contextElement||Gl(r.elements.popper),l,b),me=Sd(Y),ne=v1({reference:me,element:J,strategy:"absolute",placement:i}),de=Gb(Object.assign({},J,ne)),he=E===Ub?de:me,be={top:_.top-he.top+N.top,bottom:he.bottom-_.bottom+N.bottom,left:_.left-he.left+N.left,right:he.right-_.right+N.right},xe=r.modifiersData.offset;if(E===Ub&&xe){var We=xe[i];Object.keys(be).forEach(function(R){var G=[il,kl].indexOf(R)>=0?1:-1,ae=[Ms,kl].indexOf(R)>=0?"y":"x";be[R]+=We[ae]*G})}return be}var y1=He(()=>{m1();Sre();Pp();mF();dF();rf();Mf();lF();uF()});function gF(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,h=t.flipVariations,b=t.allowedAutoPlacements,S=b===void 0?DE:b,E=kd(n),O=E?h?nF:nF.filter(function(z){return kd(z)===E}):Bm,P=O.filter(function(z){return S.indexOf(z)>=0});P.length===0&&(P=O);var q=P.reduce(function(z,N){return z[N]=Eh(r,{placement:N,boundary:i,rootBoundary:a,padding:l})[El(N)],z},{});return Object.keys(q).sort(function(z,N){return q[z]-q[N]})}var kre=He(()=>{g1();rf();y1();Um()});function y$e(r){if(El(r)===EE)return[];var e=$b(r);return[LE(r),e,LE(e)]}function b$e(r){var e=r.state,t=r.options,n=r.name;if(!e.modifiersData[n]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,h=l===void 0?!0:l,b=t.fallbackPlacements,S=t.padding,E=t.boundary,O=t.rootBoundary,P=t.altBoundary,q=t.flipVariations,z=q===void 0?!0:q,N=t.allowedAutoPlacements,V=e.options.placement,Y=El(V),J=Y===V,se=b||(J||!z?[$b(V)]:y$e(V)),_=[V].concat(se).reduce(function(et,Pt){return et.concat(El(Pt)===EE?gF(e,{placement:Pt,boundary:E,rootBoundary:O,padding:S,flipVariations:z,allowedAutoPlacements:N}):Pt)},[]),me=e.rects.reference,ne=e.rects.popper,de=new Map,he=!0,be=_[0],xe=0;xe<_.length;xe++){var We=_[xe],R=El(We),G=kd(We)===Ip,ae=[Ms,kl].indexOf(R)>=0,Ce=ae?"width":"height",re=Eh(e,{placement:We,boundary:E,rootBoundary:O,altBoundary:P,padding:S}),ie=ae?G?il:ol:G?kl:Ms;me[Ce]>ne[Ce]&&(ie=$b(ie));var pe=$b(ie),je=[];if(a&&je.push(re[R]<=0),h&&je.push(re[ie]<=0,re[pe]<=0),je.every(function(et){return et})){be=We,he=!1;break}de.set(We,je)}if(he)for(var K=z?3:1,W=function(Pt){var Tt=_.find(function(Ht){var Lt=de.get(Ht);if(Lt)return Lt.slice(0,Pt).every(function(tr){return tr})});if(Tt)return be=Tt,"break"},Ze=K;Ze>0;Ze--){var ot=W(Ze);if(ot==="break")break}e.placement!==be&&(e.modifiersData[n]._skip=!0,e.placement=be,e.reset=!0)}}var Cre,Ere=He(()=>{vre();Um();yre();y1();kre();rf();g1();Cre={name:"flip",enabled:!0,phase:"main",fn:b$e,requiresIfExists:["offset"],data:{_skip:!1}}});function Tre(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function Are(r){return[Ms,il,kl,ol].some(function(e){return r[e]>=0})}function x$e(r){var e=r.state,t=r.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=Eh(e,{elementContext:"reference"}),h=Eh(e,{altBoundary:!0}),b=Tre(l,n),S=Tre(h,i,a),E=Are(b),O=Are(S);e.modifiersData[t]={referenceClippingOffsets:b,popperEscapeOffsets:S,isReferenceHidden:E,hasPopperEscaped:O},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":E,"data-popper-escaped":O})}var Dre,Ore=He(()=>{rf();y1();Dre={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:x$e}});function _$e(r,e,t){var n=El(r),i=[ol,Ms].indexOf(n)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,l=a[0],h=a[1];return l=l||0,h=(h||0)*i,[ol,il].indexOf(n)>=0?{x:h,y:l}:{x:l,y:h}}function w$e(r){var e=r.state,t=r.options,n=r.name,i=t.offset,a=i===void 0?[0,0]:i,l=DE.reduce(function(E,O){return E[O]=_$e(O,e.rects,a),E},{}),h=l[e.placement],b=h.x,S=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=b,e.modifiersData.popperOffsets.y+=S),e.modifiersData[n]=l}var Ire,Mre=He(()=>{Um();rf();Ire={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:w$e}});function S$e(r){var e=r.state,t=r.name;e.modifiersData[t]=v1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Pre,Lre=He(()=>{mF();Pre={name:"popperOffsets",enabled:!0,phase:"read",fn:S$e,data:{}}});function vF(r){return r==="x"?"y":"x"}var Rre=He(()=>{});function k$e(r){var e=r.state,t=r.options,n=r.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,h=l===void 0?!1:l,b=t.boundary,S=t.rootBoundary,E=t.altBoundary,O=t.padding,P=t.tether,q=P===void 0?!0:P,z=t.tetherOffset,N=z===void 0?0:z,V=Eh(e,{boundary:b,rootBoundary:S,padding:O,altBoundary:E}),Y=El(e.placement),J=kd(e.placement),se=!J,_=mv(Y),me=vF(_),ne=e.modifiersData.popperOffsets,de=e.rects.reference,he=e.rects.popper,be=typeof N=="function"?N(Object.assign({},e.rects,{placement:e.placement})):N,xe={x:0,y:0};if(!!ne){if(a||h){var We=_==="y"?Ms:ol,R=_==="y"?kl:il,G=_==="y"?"height":"width",ae=ne[_],Ce=ne[_]+V[We],re=ne[_]-V[R],ie=q?-he[G]/2:0,pe=J===Ip?de[G]:he[G],je=J===Ip?-he[G]:-de[G],K=e.elements.arrow,W=q&&K?pv(K):{width:0,height:0},Ze=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:h1(),ot=Ze[We],et=Ze[R],Pt=gv(0,de[G],W[G]),Tt=se?de[G]/2-ie-Pt-ot-be:pe-Pt-ot-be,Ht=se?-de[G]/2+ie+Pt+et+be:je+Pt+et+be,Lt=e.elements.arrow&&Ch(e.elements.arrow),tr=Lt?_==="y"?Lt.clientTop||0:Lt.clientLeft||0:0,or=e.modifiersData.offset?e.modifiersData.offset[e.placement][_]:0,br=ne[_]+Tt-or-tr,Kt=ne[_]+Ht-or;if(a){var kt=gv(q?Hm(Ce,br):Ce,ae,q?Pf(re,Kt):re);ne[_]=kt,xe[_]=kt-ae}if(h){var yt=_==="x"?Ms:ol,rt=_==="x"?kl:il,oe=ne[me],ke=oe+V[yt],qe=oe-V[rt],Yt=gv(q?Hm(ke,br):ke,oe,q?Pf(qe,Kt):qe);ne[me]=Yt,xe[me]=Yt-oe}}e.modifiersData[n]=xe}}var Fre,qre=He(()=>{rf();Um();ME();Rre();aF();IE();Wb();y1();g1();sF();Vb();Fre={name:"preventOverflow",enabled:!0,phase:"main",fn:k$e,requiresIfExists:["offset"]}});var yF=He(()=>{});function bF(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}var zre=He(()=>{});function xF(r){return r===vs(r)||!wu(r)?vv(r):bF(r)}var Nre=He(()=>{RE();wd();Mf();zre()});function _F(r,e,t){t===void 0&&(t=!1);var n=Gl(e),i=Sd(r),a=wu(e),l={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(a||!a&&!t)&&((Cl(e)!=="body"||bv(n))&&(l=xF(e)),wu(e)?(h=Sd(e),h.x+=e.clientLeft,h.y+=e.clientTop):n&&(h.x=yv(n))),{x:i.left+l.scrollLeft-h.x,y:i.top+l.scrollTop-h.y,width:i.width,height:i.height}}var Bre=He(()=>{m1();Nre();jm();Mf();FE();Pp();qE()});function C$e(r){var e=new Map,t=new Set,n=[];r.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(h){if(!t.has(h)){var b=e.get(h);b&&i(b)}}),n.push(a)}return r.forEach(function(a){t.has(a.name)||i(a)}),n}function wF(r){var e=C$e(r);return ore.reduce(function(t,n){return t.concat(e.filter(function(i){return i.phase===n}))},[])}var jre=He(()=>{rf()});function SF(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}var Ure=He(()=>{});function kF(r){var e=r.reduce(function(t,n){var i=t[n.name];return t[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var Hre=He(()=>{});function Vre(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function $re(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,n=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?Wre:i;return function(h,b,S){S===void 0&&(S=a);var E={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wre,a),modifiersData:{},elements:{reference:h,popper:b},attributes:{},styles:{}},O=[],P=!1,q={state:E,setOptions:function(Y){N(),E.options=Object.assign({},a,E.options,Y),E.scrollParents={reference:Mp(h)?Wm(h):h.contextElement?Wm(h.contextElement):[],popper:Wm(b)};var J=wF(kF([].concat(n,E.options.modifiers)));if(E.orderedModifiers=J.filter(function(xe){return xe.enabled}),!1){var se;if(getBasePlacement(E.options.placement)===auto)var _;var me,ne,de,he,be}return z(),q.update()},forceUpdate:function(){if(!P){var Y=E.elements,J=Y.reference,se=Y.popper;if(!!Vre(J,se)){E.rects={reference:_F(J,Ch(se),E.options.strategy==="fixed"),popper:pv(se)},E.reset=!1,E.placement=E.options.placement,E.orderedModifiers.forEach(function(We){return E.modifiersData[We.name]=Object.assign({},We.data)});for(var _=0,me=0;me<E.orderedModifiers.length;me++){if(E.reset===!0){E.reset=!1,me=-1;continue}var ne=E.orderedModifiers[me],de=ne.fn,he=ne.options,be=he===void 0?{}:he,xe=ne.name;typeof de=="function"&&(E=de({state:E,options:be,name:xe,instance:q})||E)}}}},update:SF(function(){return new Promise(function(V){q.forceUpdate(),V(E)})}),destroy:function(){N(),P=!0}};if(!Vre(h,b))return q;q.setOptions(S).then(function(V){!P&&S.onFirstUpdate&&S.onFirstUpdate(V)});function z(){E.orderedModifiers.forEach(function(V){var Y=V.name,J=V.options,se=J===void 0?{}:J,_=V.effect;if(typeof _=="function"){var me=_({state:E,name:Y,instance:q,options:se}),ne=function(){};O.push(me||ne)}})}function N(){O.forEach(function(V){return V()}),O=[]}return q}}var Wre,Gre=He(()=>{Bre();IE();hF();Wb();jre();Ure();Hre();Mf();Wre={placement:"bottom",modifiers:[],strategy:"absolute"}});var E$e,CF,Kre=He(()=>{Gre();gre();Lre();pre();sre();Mre();Ere();qre();fre();Ore();yF();E$e=[mre,Pre,dre,are,Ire,Cre,Fre,cre,Dre],CF=$re({defaultModifiers:E$e})});var Yre=He(()=>{rf();yF();Kre()});function EF(r,e,t){if(Array.isArray(r)){var n=r[e];return n??(Array.isArray(t)?t[e]:t)}return r}function MF(r,e){var t={}.toString.call(r);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function ane(r,e){return typeof r=="function"?r.apply(void 0,e):r}function Zre(r,e){if(e===0)return r;var t;return function(n){clearTimeout(t),t=setTimeout(function(){r(n)},e)}}function D$e(r){return r.split(/\s+/).filter(Boolean)}function b1(r){return[].concat(r)}function Xre(r,e){r.indexOf(e)===-1&&r.push(e)}function O$e(r){return r.filter(function(e,t){return r.indexOf(e)===t})}function I$e(r){return r.split("-")[0]}function BE(r){return[].slice.call(r)}function M$e(r){return Object.keys(r).reduce(function(e,t){return r[t]!==void 0&&(e[t]=r[t]),e},{})}function x1(){return document.createElement("div")}function jE(r){return["Element","Fragment"].some(function(e){return MF(r,e)})}function P$e(r){return MF(r,"NodeList")}function L$e(r){return MF(r,"MouseEvent")}function R$e(r){return!!(r&&r._tippy&&r._tippy.reference===r)}function F$e(r){return jE(r)?[r]:P$e(r)?BE(r):Array.isArray(r)?r:BE(document.querySelectorAll(r))}function TF(r,e){r.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Jre(r,e){r.forEach(function(t){t&&t.setAttribute("data-state",e)})}function q$e(r){var e,t=b1(r),n=t[0];return!(n==null||(e=n.ownerDocument)==null)&&e.body?n.ownerDocument:document}function z$e(r,e){var t=e.clientX,n=e.clientY;return r.every(function(i){var a=i.popperRect,l=i.popperState,h=i.props,b=h.interactiveBorder,S=I$e(l.placement),E=l.modifiersData.offset;if(!E)return!0;var O=S==="bottom"?E.top.y:0,P=S==="top"?E.bottom.y:0,q=S==="right"?E.left.x:0,z=S==="left"?E.right.x:0,N=a.top-n+O>b,V=n-a.bottom-P>b,Y=a.left-t+q>b,J=t-a.right-z>b;return N||V||Y||J})}function AF(r,e,t){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){r[n](i,t)})}function N$e(){Cd.isTouch||(Cd.isTouch=!0,window.performance&&document.addEventListener("mousemove",sne))}function sne(){var r=performance.now();r-Qre<20&&(Cd.isTouch=!1,document.removeEventListener("mousemove",sne)),Qre=r}function B$e(){var r=document.activeElement;if(R$e(r)){var e=r._tippy;r.blur&&!e.state.isVisible&&r.blur()}}function j$e(){document.addEventListener("touchstart",N$e,xv),window.addEventListener("blur",B$e)}function lne(r){var e=r.plugins||[],t=e.reduce(function(n,i){var a=i.name,l=i.defaultValue;return a&&(n[a]=r[a]!==void 0?r[a]:l),n},{});return Object.assign({},r,{},t)}function Y$e(r,e){var t=e?Object.keys(lne(Object.assign({},Th,{plugins:e}))):G$e,n=t.reduce(function(i,a){var l=(r.getAttribute("data-tippy-"+a)||"").trim();if(!l)return i;if(a==="content")i[a]=l;else try{i[a]=JSON.parse(l)}catch{i[a]=l}return i},{});return n}function ene(r,e){var t=Object.assign({},e,{content:ane(e.content,[r])},e.ignoreAttributes?{}:Y$e(r,e.plugins));return t.aria=Object.assign({},Th.aria,{},t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}function OF(r,e){r[Z$e()]=e}function tne(r){var e=x1();return r===!0?e.className=ine:(e.className=one,jE(r)?e.appendChild(r):OF(e,r)),e}function rne(r,e){jE(e.content)?(OF(r,""),r.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?OF(r,e.content):r.textContent=e.content)}function IF(r){var e=r.firstElementChild,t=BE(e.children);return{box:e,content:t.find(function(n){return n.classList.contains(nne)}),arrow:t.find(function(n){return n.classList.contains(ine)||n.classList.contains(one)}),backdrop:t.find(function(n){return n.classList.contains(A$e)})}}function une(r){var e=x1(),t=x1();t.className=T$e,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var n=x1();n.className=nne,n.setAttribute("data-state","hidden"),rne(n,r.props),e.appendChild(t),t.appendChild(n),i(r.props,r.props);function i(a,l){var h=IF(e),b=h.box,S=h.content,E=h.arrow;l.theme?b.setAttribute("data-theme",l.theme):b.removeAttribute("data-theme"),typeof l.animation=="string"?b.setAttribute("data-animation",l.animation):b.removeAttribute("data-animation"),l.inertia?b.setAttribute("data-inertia",""):b.removeAttribute("data-inertia"),b.style.maxWidth=typeof l.maxWidth=="number"?l.maxWidth+"px":l.maxWidth,l.role?b.setAttribute("role",l.role):b.removeAttribute("role"),(a.content!==l.content||a.allowHTML!==l.allowHTML)&&rne(S,r.props),l.arrow?E?a.arrow!==l.arrow&&(b.removeChild(E),b.appendChild(tne(l.arrow))):b.appendChild(tne(l.arrow)):E&&b.removeChild(E)}return{popper:e,onUpdate:i}}function J$e(r,e){var t=ene(r,Object.assign({},Th,{},lne(M$e(e)))),n,i,a,l=!1,h=!1,b=!1,S=!1,E,O,P,q=[],z=Zre(yt,t.interactiveDebounce),N,V=X$e++,Y=null,J=O$e(t.plugins),se={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:V,reference:r,popper:x1(),popperInstance:Y,props:t,state:se,plugins:J,clearDelayTimeouts:fr,setProps:Ve,setContent:at,show:Ut,hide:vr,hideWithInteractivity:Xn,enable:sr,disable:xr,unmount:_r,destroy:$r};if(!t.render)return _;var me=t.render(_),ne=me.popper,de=me.onUpdate;ne.setAttribute("data-tippy-root",""),ne.id="tippy-"+_.id,_.popper=ne,r._tippy=_,ne._tippy=_;var he=J.map(function(gt){return gt.fn(_)}),be=r.hasAttribute("aria-expanded");return br(),K(),ie(),pe("onCreate",[_]),t.showOnCreate&&Ct(),ne.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),ne.addEventListener("mouseleave",function(gt){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&(ae().addEventListener("mousemove",z),z(gt))}),_;function xe(){var gt=_.props.touch;return Array.isArray(gt)?gt:[gt,0]}function We(){return xe()[0]==="hold"}function R(){var gt;return!!((gt=_.props.render)!=null&&gt.$$tippy)}function G(){return N||r}function ae(){var gt=G().parentNode;return gt?q$e(gt):document}function Ce(){return IF(ne)}function re(gt){return _.state.isMounted&&!_.state.isVisible||Cd.isTouch||E&&E.type==="focus"?0:EF(_.props.delay,gt?0:1,Th.delay)}function ie(){ne.style.pointerEvents=_.props.interactive&&_.state.isVisible?"":"none",ne.style.zIndex=""+_.props.zIndex}function pe(gt,Dt,hr){if(hr===void 0&&(hr=!0),he.forEach(function(wr){wr[gt]&&wr[gt].apply(void 0,Dt)}),hr){var zr;(zr=_.props)[gt].apply(zr,Dt)}}function je(){var gt=_.props.aria;if(!!gt.content){var Dt="aria-"+gt.content,hr=ne.id,zr=b1(_.props.triggerTarget||r);zr.forEach(function(wr){var Gr=wr.getAttribute(Dt);if(_.state.isVisible)wr.setAttribute(Dt,Gr?Gr+" "+hr:hr);else{var mn=Gr&&Gr.replace(hr,"").trim();mn?wr.setAttribute(Dt,mn):wr.removeAttribute(Dt)}})}}function K(){if(!(be||!_.props.aria.expanded)){var gt=b1(_.props.triggerTarget||r);gt.forEach(function(Dt){_.props.interactive?Dt.setAttribute("aria-expanded",_.state.isVisible&&Dt===G()?"true":"false"):Dt.removeAttribute("aria-expanded")})}}function W(){ae().removeEventListener("mousemove",z),NE=NE.filter(function(gt){return gt!==z})}function Ze(gt){if(!(Cd.isTouch&&(b||gt.type==="mousedown"))&&!(_.props.interactive&&ne.contains(gt.target))){if(G().contains(gt.target)){if(Cd.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else pe("onClickOutside",[_,gt]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),h=!0,setTimeout(function(){h=!1}),_.state.isMounted||Tt())}}function ot(){b=!0}function et(){b=!1}function Pt(){var gt=ae();gt.addEventListener("mousedown",Ze,!0),gt.addEventListener("touchend",Ze,xv),gt.addEventListener("touchstart",et,xv),gt.addEventListener("touchmove",ot,xv)}function Tt(){var gt=ae();gt.removeEventListener("mousedown",Ze,!0),gt.removeEventListener("touchend",Ze,xv),gt.removeEventListener("touchstart",et,xv),gt.removeEventListener("touchmove",ot,xv)}function Ht(gt,Dt){tr(gt,function(){!_.state.isVisible&&ne.parentNode&&ne.parentNode.contains(ne)&&Dt()})}function Lt(gt,Dt){tr(gt,Dt)}function tr(gt,Dt){var hr=Ce().box;function zr(wr){wr.target===hr&&(AF(hr,"remove",zr),Dt())}if(gt===0)return Dt();AF(hr,"remove",O),AF(hr,"add",zr),O=zr}function or(gt,Dt,hr){hr===void 0&&(hr=!1);var zr=b1(_.props.triggerTarget||r);zr.forEach(function(wr){wr.addEventListener(gt,Dt,hr),q.push({node:wr,eventType:gt,handler:Dt,options:hr})})}function br(){We()&&(or("touchstart",kt,{passive:!0}),or("touchend",rt,{passive:!0})),D$e(_.props.trigger).forEach(function(gt){if(gt!=="manual")switch(or(gt,kt),gt){case"mouseenter":or("mouseleave",rt);break;case"focus":or(W$e?"focusout":"blur",oe);break;case"focusin":or("focusout",oe);break}})}function Kt(){q.forEach(function(gt){var Dt=gt.node,hr=gt.eventType,zr=gt.handler,wr=gt.options;Dt.removeEventListener(hr,zr,wr)}),q=[]}function kt(gt){var Dt,hr=!1;if(!(!_.state.isEnabled||ke(gt)||h)){var zr=((Dt=E)==null?void 0:Dt.type)==="focus";E=gt,N=gt.currentTarget,K(),!_.state.isVisible&&L$e(gt)&&NE.forEach(function(wr){return wr(gt)}),gt.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||l)&&_.props.hideOnClick!==!1&&_.state.isVisible?hr=!0:Ct(gt),gt.type==="click"&&(l=!hr),hr&&!zr&&ur(gt)}}function yt(gt){var Dt=gt.target,hr=G().contains(Dt)||ne.contains(Dt);if(!(gt.type==="mousemove"&&hr)){var zr=It().concat(ne).map(function(wr){var Gr,mn=wr._tippy,ai=(Gr=mn.popperInstance)==null?void 0:Gr.state;return ai?{popperRect:wr.getBoundingClientRect(),popperState:ai,props:t}:null}).filter(Boolean);z$e(zr,gt)&&(W(),ur(gt))}}function rt(gt){var Dt=ke(gt)||_.props.trigger.indexOf("click")>=0&&l;if(!Dt){if(_.props.interactive){_.hideWithInteractivity(gt);return}ur(gt)}}function oe(gt){_.props.trigger.indexOf("focusin")<0&&gt.target!==G()||_.props.interactive&&gt.relatedTarget&&ne.contains(gt.relatedTarget)||ur(gt)}function ke(gt){return Cd.isTouch?We()!==gt.type.indexOf("touch")>=0:!1}function qe(){Yt();var gt=_.props,Dt=gt.popperOptions,hr=gt.placement,zr=gt.offset,wr=gt.getReferenceClientRect,Gr=gt.moveTransition,mn=R()?IF(ne).arrow:null,ai=wr?{getBoundingClientRect:wr,contextElement:wr.contextElement||G()}:r,Ue={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Gt){var gr=Gt.state;if(R()){var rr=Ce(),Ur=rr.box;["placement","reference-hidden","escaped"].forEach(function(Fr){Fr==="placement"?Ur.setAttribute("data-placement",gr.placement):gr.attributes.popper["data-popper-"+Fr]?Ur.setAttribute("data-"+Fr,""):Ur.removeAttribute("data-"+Fr)}),gr.attributes.popper={}}}},Xe=[{name:"offset",options:{offset:zr}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Gr}},Ue];R()&&mn&&Xe.push({name:"arrow",options:{element:mn,padding:3}}),Xe.push.apply(Xe,Dt?.modifiers||[]),_.popperInstance=CF(ai,ne,Object.assign({},Dt,{placement:hr,onFirstUpdate:P,modifiers:Xe}))}function Yt(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function st(){var gt=_.props.appendTo,Dt,hr=G();_.props.interactive&&gt===Th.appendTo||gt==="parent"?Dt=hr.parentNode:Dt=ane(gt,[hr]),Dt.contains(ne)||Dt.appendChild(ne),qe()}function It(){return BE(ne.querySelectorAll("[data-tippy-root]"))}function Ct(gt){_.clearDelayTimeouts(),gt&&pe("onTrigger",[_,gt]),Pt();var Dt=re(!0),hr=xe(),zr=hr[0],wr=hr[1];Cd.isTouch&&zr==="hold"&&wr&&(Dt=wr),Dt?n=setTimeout(function(){_.show()},Dt):_.show()}function ur(gt){if(_.clearDelayTimeouts(),pe("onUntrigger",[_,gt]),!_.state.isVisible){Tt();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(gt.type)>=0&&l)){var Dt=re(!1);Dt?i=setTimeout(function(){_.state.isVisible&&_.hide()},Dt):a=requestAnimationFrame(function(){_.hide()})}}function sr(){_.state.isEnabled=!0}function xr(){_.hide(),_.state.isEnabled=!1}function fr(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(a)}function Ve(gt){if(!_.state.isDestroyed){pe("onBeforeUpdate",[_,gt]),Kt();var Dt=_.props,hr=ene(r,Object.assign({},_.props,{},gt,{ignoreAttributes:!0}));_.props=hr,br(),Dt.interactiveDebounce!==hr.interactiveDebounce&&(W(),z=Zre(yt,hr.interactiveDebounce)),Dt.triggerTarget&&!hr.triggerTarget?b1(Dt.triggerTarget).forEach(function(zr){zr.removeAttribute("aria-expanded")}):hr.triggerTarget&&r.removeAttribute("aria-expanded"),K(),ie(),de&&de(Dt,hr),_.popperInstance&&(qe(),It().forEach(function(zr){requestAnimationFrame(zr._tippy.popperInstance.forceUpdate)})),pe("onAfterUpdate",[_,gt])}}function at(gt){_.setProps({content:gt})}function Ut(){var gt=_.state.isVisible,Dt=_.state.isDestroyed,hr=!_.state.isEnabled,zr=Cd.isTouch&&!_.props.touch,wr=EF(_.props.duration,0,Th.duration);if(!(gt||Dt||hr||zr)&&!G().hasAttribute("disabled")&&(pe("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,R()&&(ne.style.visibility="visible"),ie(),Pt(),_.state.isMounted||(ne.style.transition="none"),R()){var Gr=Ce(),mn=Gr.box,ai=Gr.content;TF([mn,ai],0)}P=function(){var Xe;if(!(!_.state.isVisible||S)){if(S=!0,ne.offsetHeight,ne.style.transition=_.props.moveTransition,R()&&_.props.animation){var bt=Ce(),Gt=bt.box,gr=bt.content;TF([Gt,gr],wr),Jre([Gt,gr],"visible")}je(),K(),Xre(DF,_),(Xe=_.popperInstance)==null||Xe.forceUpdate(),_.state.isMounted=!0,pe("onMount",[_]),_.props.animation&&R()&&Lt(wr,function(){_.state.isShown=!0,pe("onShown",[_])})}},st()}}function vr(){var gt=!_.state.isVisible,Dt=_.state.isDestroyed,hr=!_.state.isEnabled,zr=EF(_.props.duration,1,Th.duration);if(!(gt||Dt||hr)&&(pe("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,S=!1,l=!1,R()&&(ne.style.visibility="hidden"),W(),Tt(),ie(),R()){var wr=Ce(),Gr=wr.box,mn=wr.content;_.props.animation&&(TF([Gr,mn],zr),Jre([Gr,mn],"hidden"))}je(),K(),_.props.animation?R()&&Ht(zr,_.unmount):_.unmount()}}function Xn(gt){ae().addEventListener("mousemove",z),Xre(NE,z),z(gt)}function _r(){_.state.isVisible&&_.hide(),_.state.isMounted&&(Yt(),It().forEach(function(gt){gt._tippy.unmount()}),ne.parentNode&&ne.parentNode.removeChild(ne),DF=DF.filter(function(gt){return gt!==_}),_.state.isMounted=!1,pe("onHidden",[_]))}function $r(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),Kt(),delete r._tippy,_.state.isDestroyed=!0,pe("onDestroy",[_]))}}function _1(r,e){e===void 0&&(e={});var t=Th.plugins.concat(e.plugins||[]);j$e();var n=Object.assign({},e,{plugins:t}),i=F$e(r);if(!1)var a,l;var h=i.reduce(function(b,S){var E=S&&J$e(S,n);return E&&b.push(E),b},[]);return jE(r)?h[0]:h}var T$e,nne,A$e,ine,one,xv,Cd,Qre,U$e,H$e,W$e,V$e,$$e,Th,G$e,K$e,Z$e,X$e,NE,DF,Kb,UE=He(()=>{Yre();T$e="tippy-box",nne="tippy-content",A$e="tippy-backdrop",ine="tippy-arrow",one="tippy-svg-arrow",xv={passive:!0,capture:!0};Cd={isTouch:!1},Qre=0;U$e=typeof window<"u"&&typeof document<"u",H$e=U$e?navigator.userAgent:"",W$e=/MSIE |Trident\//.test(H$e),V$e={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},$$e={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Th=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},V$e,{},$$e),G$e=Object.keys(Th),K$e=function(e){var t=Object.keys(e);t.forEach(function(n){Th[n]=e[n]})};Z$e=function(){return"innerHTML"};une.$$tippy=!0;X$e=1,NE=[],DF=[];_1.defaultProps=Th;_1.setDefaultProps=K$e;_1.currentInput=Cd;_1.setDefaultProps({render:une});Kb=_1});var cne=fe((PF,LF)=>{(function(r,e){typeof PF=="object"&&typeof LF<"u"?LF.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.Chartkick=e())})(PF,function(){"use strict";function r(Q){return Object.prototype.toString.call(Q)==="[object Array]"}function e(Q){return Q instanceof Function}function t(Q){return Object.prototype.toString.call(Q)==="[object Object]"&&!e(Q)&&Q instanceof Object}function n(Q,Z){var ue;for(ue in Z)ue!=="__proto__"&&(t(Z[ue])||r(Z[ue])?(t(Z[ue])&&!t(Q[ue])&&(Q[ue]={}),r(Z[ue])&&!r(Q[ue])&&(Q[ue]=[]),n(Q[ue],Z[ue])):Z[ue]!==void 0&&(Q[ue]=Z[ue]))}function i(Q,Z){var ue={};return n(ue,Q),n(ue,Z),ue}var a=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i;function l(Q){var Z,ue,Fe;for(Z=0;Z<Q.length;Z++)for(Fe=Q[Z].data,ue=0;ue<Fe.length;ue++)if(Fe[ue][1]<0)return!0;return!1}function h(Q){return""+Q}function b(Q){return parseFloat(Q)}function S(Q){var Z,ue,Fe,it;if(typeof Q!="object")if(typeof Q=="number")Q=new Date(Q*1e3);else{if(Q=h(Q),Z=Q.match(a))return ue=parseInt(Z[1],10),Fe=parseInt(Z[3],10)-1,it=parseInt(Z[5],10),new Date(ue,Fe,it);var Mt=Q.replace(/ /,"T").replace(" ","").replace("UTC","Z");Q=new Date(Date.parse(Mt)||Q)}return Q}function E(Q){if(!r(Q)){var Z=[],ue;for(ue in Q)Q.hasOwnProperty(ue)&&Z.push([ue,Q[ue]]);Q=Z}return Q}function O(Q,Z,ue,Fe,it,Mt,Wt,dr){return function(Sr,Zt,tn){var un=Sr.data,Br=i({},Q);return Br=i(Br,tn||{}),(Sr.singleSeriesFormat||"legend"in Zt)&&Z(Br,Zt.legend,Sr.singleSeriesFormat),Zt.title&&ue(Br,Zt.title),"min"in Zt?Fe(Br,Zt.min):l(un)||Fe(Br,0),Zt.max&&it(Br,Zt.max),"stacked"in Zt&&Mt(Br,Zt.stacked),Zt.colors&&(Br.colors=Zt.colors),Zt.xtitle&&Wt(Br,Zt.xtitle),Zt.ytitle&&dr(Br,Zt.ytitle),Br=i(Br,Zt.library||{}),Br}}function P(Q,Z){return Q[0].getTime()-Z[0].getTime()}function q(Q,Z){return Q[0]-Z[0]}function z(Q,Z){return Q-Z}function N(Q){return Q.getMilliseconds()===0&&Q.getSeconds()===0}function V(Q){return N(Q)&&Q.getMinutes()===0}function Y(Q){return V(Q)&&Q.getHours()===0}function J(Q,Z){return Y(Q)&&Q.getDay()===Z}function se(Q){return Y(Q)&&Q.getDate()===1}function _(Q){return se(Q)&&Q.getMonth()===0}function me(Q){return!isNaN(S(Q))&&h(Q).length>=6}function ne(Q){return typeof Q=="number"}var de=["bytes","KB","MB","GB","TB","PB","EB"];function he(Q,Z,ue,Fe){Q=Q||"",ue.prefix&&(Z<0&&(Z=Z*-1,Q+="-"),Q+=ue.prefix);var it=ue.suffix||"",Mt=ue.precision,Wt=ue.round;if(ue.byteScale){var dr,Sr=Fe?ue.byteScale:Z;Sr>=1152921504606847e3?(Z/=1152921504606847e3,dr=6):Sr>=1125899906842624?(Z/=1125899906842624,dr=5):Sr>=1099511627776?(Z/=1099511627776,dr=4):Sr>=1073741824?(Z/=1073741824,dr=3):Sr>=1048576?(Z/=1048576,dr=2):Sr>=1024?(Z/=1024,dr=1):dr=0,Mt===void 0&&Wt===void 0&&(Z>=1023.5&&dr<de.length-1&&(Z=1,dr+=1),Mt=Z>=1e3?4:3),it=" "+de[dr]}if(Mt!==void 0&&Wt!==void 0)throw Error("Use either round or precision, not both");if(!Fe&&(Mt!==void 0&&(Z=Z.toPrecision(Mt),ue.zeros||(Z=parseFloat(Z))),Wt!==void 0))if(Wt<0){var Zt=Math.pow(10,-1*Wt);Z=parseInt((1*Z/Zt).toFixed(0))*Zt}else Z=Z.toFixed(Wt),ue.zeros||(Z=parseFloat(Z));if(ue.thousands||ue.decimal){Z=h(Z);var tn=Z.split(".");Z=tn[0],ue.thousands&&(Z=Z.replace(/\B(?=(\d{3})+(?!\d))/g,ue.thousands)),tn.length>1&&(Z+=(ue.decimal||".")+tn[1])}return Q+Z+it}function be(Q,Z,ue){return ue in Z?Z[ue]:ue in Q.options?Q.options[ue]:null}function xe(Q){var Z,ue,Fe;for(Z=0;Z<Q.length;Z++)for(Fe=Q[Z].data,ue=0;ue<Fe.length;ue++)if(Fe[ue][1]!=0)return!1;return!0}var We={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},R={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},G=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],ae=function(Q,Z,ue){Z!==void 0?(Q.plugins.legend.display=!!Z,Z&&Z!==!0&&(Q.plugins.legend.position=Z)):ue&&(Q.plugins.legend.display=!1)},Ce=function(Q,Z){Q.plugins.title.display=!0,Q.plugins.title.text=Z},re=function(Q,Z){Z!==null&&(Q.scales.y.min=b(Z))},ie=function(Q,Z){Q.scales.y.max=b(Z)},pe=function(Q,Z){Z!==null&&(Q.scales.x.min=b(Z))},je=function(Q,Z){Q.scales.x.max=b(Z)},K=function(Q,Z){Q.scales.x.stacked=!!Z,Q.scales.y.stacked=!!Z},W=function(Q,Z){Q.scales.x.title.display=!0,Q.scales.x.title.text=Z},Ze=function(Q,Z){Q.scales.y.title.display=!0,Q.scales.y.title.text=Z},ot=function(Q,Z){var ue=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Q);return ue?"rgba("+parseInt(ue[1],16)+", "+parseInt(ue[2],16)+", "+parseInt(ue[3],16)+", "+Z+")":Q},et=function(Q){return Q!=null},Pt=function(Q,Z,ue){var Fe=Math.ceil(Q.element.offsetWidth/4/Z.labels.length);Fe>25?Fe=25:Fe<10&&(Fe=10),ue.scales.x.ticks.callback||(ue.scales.x.ticks.callback=function(it){return it=h(this.getLabelForValue(it)),it.length>Fe?it.substring(0,Fe-2)+"...":it})},Tt=function(Q,Z,ue){var Fe={prefix:Q.options.prefix,suffix:Q.options.suffix,thousands:Q.options.thousands,decimal:Q.options.decimal,precision:Q.options.precision,round:Q.options.round,zeros:Q.options.zeros};if(Q.options.bytes){var it=Q.data;ue==="pie"&&(it=[{data:it}]);for(var Mt=0,Wt=0;Wt<it.length;Wt++)for(var dr=it[Wt],Sr=0;Sr<dr.data.length;Sr++)dr.data[Sr][1]>Mt&&(Mt=dr.data[Sr][1]);for(var Zt=1;Mt>=1024;)Zt*=1024,Mt/=1024;Fe.byteScale=Zt}if(ue!=="pie"){var tn=Z.scales.y;ue==="bar"&&(tn=Z.scales.x),Fe.byteScale&&(tn.ticks.stepSize||(tn.ticks.stepSize=Fe.byteScale/2),tn.ticks.maxTicksLimit||(tn.ticks.maxTicksLimit=4)),tn.ticks.callback||(tn.ticks.callback=function(Br){return he("",Br,Fe,!0)})}if(!Z.plugins.tooltip.callbacks.label)if(ue==="scatter")Z.plugins.tooltip.callbacks.label=function(Br){var Lr=Br.dataset.label||"";return Lr&&(Lr+=": "),Lr+"("+Br.label+", "+Br.formattedValue+")"};else if(ue==="bubble")Z.plugins.tooltip.callbacks.label=function(Br){var Lr=Br.dataset.label||"";Lr&&(Lr+=": ");var cn=Br.raw;return Lr+"("+cn.x+", "+cn.y+", "+cn.v+")"};else if(ue==="pie")Z.plugins.tooltip.callbacks.label=function(Br){var Lr=Br.label,cn=": ";return r(Lr)?(Lr=Lr.slice(),Lr[0]+=cn):Lr+=cn,he(Lr,Br.parsed,Fe)};else{var un=ue==="bar"?"x":"y";Z.plugins.tooltip.callbacks.label=function(Br){if(Br.parsed[un]!==null){var Lr=Br.dataset.label||"";return Lr&&(Lr+=": "),he(Lr,Br.parsed[un],Fe)}}}},Ht=O(i(We,R),ae,Ce,re,ie,K,W,Ze),Lt=function(Q,Z,ue){var Fe=[],it=[],Mt=Q.options.colors||G,Wt=!0,dr=!0,Sr,Zt=!0,tn=!0,un=!0,Br=!0,Lr=Q.data,cn=0;if(ue==="bubble")for(var Mn=0;Mn<Lr.length;Mn++)for(var Ji=Lr[Mn],zs=0;zs<Ji.data.length;zs++)Ji.data[zs][2]>cn&&(cn=Ji.data[zs][2]);var Pn,fi,ta,Dl,vi,Ns=[],Ai=[];if(ue==="bar"||ue==="column"||Q.xtype!=="number"&&Q.xtype!=="bubble"){var Qi=[];for(Pn=0;Pn<Lr.length;Pn++)for(ta=Lr[Pn],fi=0;fi<ta.data.length;fi++)Dl=ta.data[fi],vi=Q.xtype=="datetime"?Dl[0].getTime():Dl[0],Ns[vi]||(Ns[vi]=new Array(Lr.length)),Ns[vi][Pn]=b(Dl[1]),Qi.indexOf(vi)===-1&&Qi.push(vi);for((Q.xtype==="datetime"||Q.xtype==="number")&&Qi.sort(z),fi=0;fi<Lr.length;fi++)Ai.push([]);var so,Dn;for(Dn=0;Dn<Qi.length;Dn++)for(Pn=Qi[Dn],Q.xtype==="datetime"?(so=new Date(b(Pn)),Wt=Wt&&Y(so),Sr||(Sr=so.getDay()),dr=dr&&J(so,Sr),Zt=Zt&&se(so),tn=tn&&_(so),un=un&&V(so),Br=Br&&N(so)):so=Pn,it.push(so),fi=0;fi<Lr.length;fi++)Ai[fi].push(Ns[Pn][fi]===void 0?null:Ns[Pn][fi])}else for(var ra=0;ra<Lr.length;ra++){for(var na=Lr[ra],Gu=[],mo=0;mo<na.data.length;mo++){var Vf={x:b(na.data[mo][0]),y:b(na.data[mo][1])};ue==="bubble"&&(Vf.r=b(na.data[mo][2])*20/cn,Vf.v=na.data[mo][2]),Gu.push(Vf)}Ai.push(Gu)}var Uo,Vi;for(Pn=0;Pn<Lr.length;Pn++){if(ta=Lr[Pn],Q.options.colors&&Q.singleSeriesFormat&&(ue==="bar"||ue==="column")&&!ta.color&&r(Q.options.colors)&&!r(Q.options.colors[0])){Uo=Mt,Vi=[];for(var ns=0;ns<Mt.length;ns++)Vi[ns]=ot(Uo[ns],.5)}else Uo=ta.color||Mt[Pn],Vi=ue!=="line"?ot(Uo,.5):Uo;var jn={label:ta.name||"",data:Ai[Pn],fill:ue==="area",borderColor:Uo,backgroundColor:Vi,borderWidth:2},sl=ue==="line"||ue==="area"||ue==="scatter"||ue==="bubble";sl&&(jn.pointBackgroundColor=Uo,jn.pointHoverBackgroundColor=Uo,jn.pointHitRadius=50),ue==="bubble"&&(jn.pointBackgroundColor=Vi,jn.pointHoverBackgroundColor=Vi,jn.pointHoverBorderWidth=2),ta.stack&&(jn.stack=ta.stack);var pf=be(Q,ta,"curve");pf===!1?jn.tension=0:sl&&(jn.tension=.4);var Pc=be(Q,ta,"points");Pc===!1&&(jn.pointRadius=0,jn.pointHoverRadius=0),jn=i(jn,Q.options.dataset||{}),jn=i(jn,ta.library||{}),jn=i(jn,ta.dataset||{}),Fe.push(jn)}var is=Q.options.xmin,_s=Q.options.xmax;if(Q.xtype==="datetime"?(et(is)&&(Z.scales.x.min=S(is).getTime()),et(_s)&&(Z.scales.x.max=S(_s).getTime())):Q.xtype==="number"&&(et(is)&&(Z.scales.x.min=is),et(_s)&&(Z.scales.x.max=_s)),Q.xtype==="datetime"&&it.length===0&&(et(is)&&it.push(S(is)),et(_s)&&it.push(S(_s)),Wt=!1,dr=!1,Zt=!1,tn=!1,un=!1,Br=!1),Q.xtype==="datetime"&&it.length>0){var Xl=(et(is)?S(is):it[0]).getTime(),Jl=(et(_s)?S(_s):it[0]).getTime();for(Pn=1;Pn<it.length;Pn++){var Ku=it[Pn].getTime();Ku<Xl&&(Xl=Ku),Ku>Jl&&(Jl=Ku)}var Ol=(Jl-Xl)/(86400*1e3);if(!Z.scales.x.time.unit){var zi;if(tn||Ol>365*10?(Z.scales.x.time.unit="year",zi=365):Zt||Ol>30*10?(Z.scales.x.time.unit="month",zi=30):Wt||Ol>10?(Z.scales.x.time.unit="day",zi=1):un||Ol>.5?(Z.scales.x.time.displayFormats={hour:"MMM d, h a"},Z.scales.x.time.unit="hour",zi=1/24):Br&&(Z.scales.x.time.displayFormats={minute:"h:mm a"},Z.scales.x.time.unit="minute",zi=1/24/60),zi&&Ol>0){var mf=Q.element.offsetWidth;if(mf>0){var Ql=Math.ceil(Ol/zi/(mf/100));dr&&zi===1&&(Ql=Math.ceil(Ql/7)*7),Z.scales.x.time.stepSize=Ql}}}Z.scales.x.time.tooltipFormat||(Wt?Z.scales.x.time.tooltipFormat="PP":un?Z.scales.x.time.tooltipFormat="MMM d, h a":Br&&(Z.scales.x.time.tooltipFormat="h:mm a"))}var Ua={labels:it,datasets:Fe};return Ua},tr=function(Z){this.name="chartjs",this.library=Z};tr.prototype.renderLineChart=function(Z,ue){var Fe={};!Z.options.max&&xe(Z.data)&&(Fe.max=1);var it=Ht(Z,i(Fe,Z.options));Tt(Z,it,ue);var Mt=Lt(Z,it,ue||"line");Z.xtype==="number"?(it.scales.x.type=it.scales.x.type||"linear",it.scales.x.position=it.scales.x.position||"bottom"):it.scales.x.type=Z.xtype==="string"?"category":"time",this.drawChart(Z,"line",Mt,it)},tr.prototype.renderPieChart=function(Z){var ue=i({},We);Z.options.donut&&(ue.cutout="50%"),"legend"in Z.options&&ae(ue,Z.options.legend),Z.options.title&&Ce(ue,Z.options.title),ue=i(ue,Z.options.library||{}),Tt(Z,ue,"pie");for(var Fe=[],it=[],Mt=0;Mt<Z.data.length;Mt++){var Wt=Z.data[Mt];Fe.push(Wt[0]),it.push(Wt[1])}var dr={data:it,backgroundColor:Z.options.colors||G};dr=i(dr,Z.options.dataset||{});var Sr={labels:Fe,datasets:[dr]};this.drawChart(Z,"pie",Sr,ue)},tr.prototype.renderColumnChart=function(Z,ue){var Fe;if(ue==="bar"){var it=i(We,R);it.indexAxis="y",it.scales.x.grid.drawOnChartArea=!0,it.scales.y.grid.drawOnChartArea=!1,delete it.scales.y.ticks.maxTicksLimit,Fe=O(it,ae,Ce,pe,je,K,W,Ze)(Z,Z.options)}else Fe=Ht(Z,Z.options);Tt(Z,Fe,ue);var Mt=Lt(Z,Fe,"column");ue!=="bar"&&Pt(Z,Mt,Fe),this.drawChart(Z,"bar",Mt,Fe)},tr.prototype.renderAreaChart=function(Z){this.renderLineChart(Z,"area")},tr.prototype.renderBarChart=function(Z){this.renderColumnChart(Z,"bar")},tr.prototype.renderScatterChart=function(Z,ue){ue=ue||"scatter";var Fe=Ht(Z,Z.options);Tt(Z,Fe,ue),"showLine"in Fe||(Fe.showLine=!1);var it=Lt(Z,Fe,ue);Fe.scales.x.type=Fe.scales.x.type||"linear",Fe.scales.x.position=Fe.scales.x.position||"bottom","mode"in Fe.interaction||(Fe.interaction.mode="nearest"),this.drawChart(Z,ue,it,Fe)},tr.prototype.renderBubbleChart=function(Z){this.renderScatterChart(Z,"bubble")},tr.prototype.destroy=function(Z){Z.chart&&Z.chart.destroy()},tr.prototype.drawChart=function(Z,ue,Fe,it){if(this.destroy(Z),!Z.destroyed){var Mt={type:ue,data:Fe,options:it};Z.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(Mt)+");"),Z.element.innerHTML="<canvas></canvas>";var Wt=Z.element.getElementsByTagName("CANVAS")[0];Z.chart=new this.library(Wt,Mt)}};var or={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}},br=function(Q,Z,ue){Z!==void 0?(Q.legend.enabled=!!Z,Z&&Z!==!0&&(Z==="top"||Z==="bottom"?Q.legend.verticalAlign=Z:(Q.legend.layout="vertical",Q.legend.verticalAlign="middle",Q.legend.align=Z))):ue&&(Q.legend.enabled=!1)},Kt=function(Q,Z){Q.title.text=Z},kt=function(Q,Z){Q.yAxis.min=Z},yt=function(Q,Z){Q.yAxis.max=Z},rt=function(Q,Z){var ue=Z?Z===!0?"normal":Z:null;Q.plotOptions.series.stacking=ue,Q.plotOptions.area.stacking=ue,Q.plotOptions.areaspline.stacking=ue},oe=function(Q,Z){Q.xAxis.title.text=Z},ke=function(Q,Z){Q.yAxis.title.text=Z},qe=O(or,br,Kt,kt,yt,rt,oe,ke),Yt=function(Q,Z,ue){var Fe={prefix:Q.options.prefix,suffix:Q.options.suffix,thousands:Q.options.thousands,decimal:Q.options.decimal,precision:Q.options.precision,round:Q.options.round,zeros:Q.options.zeros};ue!=="pie"&&!Z.yAxis.labels.formatter&&(Z.yAxis.labels.formatter=function(){return he("",this.value,Fe)}),!Z.tooltip.pointFormatter&&!Z.tooltip.pointFormat&&(Z.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25CF</span> '+he(this.series.name+": <b>",this.y,Fe)+"</b><br/>"})},st=function(Z){this.name="highcharts",this.library=Z};st.prototype.renderLineChart=function(Z,ue){ue=ue||"spline";var Fe={};ue==="areaspline"&&(Fe={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),Z.options.curve===!1&&(ue==="areaspline"?ue="area":ue==="spline"&&(ue="line"));var it=qe(Z,Z.options,Fe),Mt,Wt,dr;Z.xtype==="number"?it.xAxis.type=it.xAxis.type||"linear":it.xAxis.type=Z.xtype==="string"?"category":"datetime",it.chart.type||(it.chart.type=ue),Yt(Z,it,ue);var Sr=Z.data;for(Wt=0;Wt<Sr.length;Wt++){if(Sr[Wt].name=Sr[Wt].name||"Value",Mt=Sr[Wt].data,Z.xtype==="datetime")for(dr=0;dr<Mt.length;dr++)Mt[dr][0]=Mt[dr][0].getTime();Sr[Wt].marker={symbol:"circle"},Z.options.points===!1&&(Sr[Wt].marker.enabled=!1)}this.drawChart(Z,Sr,it)},st.prototype.renderScatterChart=function(Z){var ue=qe(Z,Z.options,{});ue.chart.type="scatter",this.drawChart(Z,Z.data,ue)},st.prototype.renderPieChart=function(Z){var ue=i(or,{});Z.options.colors&&(ue.colors=Z.options.colors),Z.options.donut&&(ue.plotOptions={pie:{innerSize:"50%"}}),"legend"in Z.options&&br(ue,Z.options.legend),Z.options.title&&Kt(ue,Z.options.title);var Fe=i(ue,Z.options.library||{});Yt(Z,Fe,"pie");var it=[{type:"pie",name:Z.options.label||"Value",data:Z.data}];this.drawChart(Z,it,Fe)},st.prototype.renderColumnChart=function(Z,ue){ue=ue||"column";var Fe=Z.data,it=qe(Z,Z.options),Mt,Wt,dr,Sr,Zt=[],tn=[];for(it.chart.type=ue,Yt(Z,it,ue),Mt=0;Mt<Fe.length;Mt++)for(dr=Fe[Mt],Wt=0;Wt<dr.data.length;Wt++)Sr=dr.data[Wt],Zt[Sr[0]]||(Zt[Sr[0]]=new Array(Fe.length),tn.push(Sr[0])),Zt[Sr[0]][Mt]=Sr[1];Z.xtype==="number"&&tn.sort(z),it.xAxis.categories=tn;var un=[],Br;for(Mt=0;Mt<Fe.length;Mt++){for(Sr=[],Wt=0;Wt<tn.length;Wt++)Sr.push(Zt[tn[Wt]][Mt]||0);Br={name:Fe[Mt].name||"Value",data:Sr},Fe[Mt].stack&&(Br.stack=Fe[Mt].stack),un.push(Br)}this.drawChart(Z,un,it)},st.prototype.renderBarChart=function(Z){this.renderColumnChart(Z,"bar")},st.prototype.renderAreaChart=function(Z){this.renderLineChart(Z,"areaspline")},st.prototype.destroy=function(Z){Z.chart&&Z.chart.destroy()},st.prototype.drawChart=function(Z,ue,Fe){this.destroy(Z),!Z.destroyed&&(Fe.chart.renderTo=Z.element.id,Fe.series=ue,Z.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(Fe)+");"),Z.chart=new this.library.Chart(Fe))};var It={},Ct=[],ur={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},sr=function(Q,Z,ue){if(Z!==void 0){var Fe;Z?Z===!0?Fe="right":Fe=Z:Fe="none",Q.legend.position=Fe}else ue&&(Q.legend.position="none")},xr=function(Q,Z){Q.title=Z,Q.titleTextStyle={color:"#333",fontSize:"20px"}},fr=function(Q,Z){Q.vAxis.viewWindow.min=Z},Ve=function(Q,Z){Q.vAxis.viewWindow.max=Z},at=function(Q,Z){Q.hAxis.viewWindow.min=Z},Ut=function(Q,Z){Q.hAxis.viewWindow.max=Z},vr=function(Q,Z){Q.isStacked=Z||!1},Xn=function(Q,Z){Q.hAxis.title=Z,Q.hAxis.titleTextStyle.italic=!1},_r=function(Q,Z){Q.vAxis.title=Z,Q.vAxis.titleTextStyle.italic=!1},$r=O(ur,sr,xr,fr,Ve,vr,Xn,_r),gt=function(Q){window.attachEvent?window.attachEvent("onresize",Q):window.addEventListener&&window.addEventListener("resize",Q,!0),Q()},Dt=function(Z){this.name="google",this.library=Z};Dt.prototype.renderLineChart=function(Z){var ue=this;this.waitForLoaded(Z,function(){var Fe={};Z.options.curve===!1&&(Fe.curveType="none"),Z.options.points===!1&&(Fe.pointSize=0);var it=$r(Z,Z.options,Fe),Mt=ue.createDataTable(Z.data,Z.xtype);ue.drawChart(Z,"LineChart",Mt,it)})},Dt.prototype.renderPieChart=function(Z){var ue=this;this.waitForLoaded(Z,function(){var Fe={chartArea:{top:"10%",height:"80%"},legend:{}};Z.options.colors&&(Fe.colors=Z.options.colors),Z.options.donut&&(Fe.pieHole=.5),"legend"in Z.options&&sr(Fe,Z.options.legend),Z.options.title&&xr(Fe,Z.options.title);var it=i(i(ur,Fe),Z.options.library||{}),Mt=new ue.library.visualization.DataTable;Mt.addColumn("string",""),Mt.addColumn("number","Value"),Mt.addRows(Z.data),ue.drawChart(Z,"PieChart",Mt,it)})},Dt.prototype.renderColumnChart=function(Z){var ue=this;this.waitForLoaded(Z,function(){var Fe=$r(Z,Z.options),it=ue.createDataTable(Z.data,Z.xtype);ue.drawChart(Z,"ColumnChart",it,Fe)})},Dt.prototype.renderBarChart=function(Z){var ue=this;this.waitForLoaded(Z,function(){var Fe={hAxis:{gridlines:{color:"#ccc"}}},it=O(ur,sr,xr,at,Ut,vr,Xn,_r)(Z,Z.options,Fe),Mt=ue.createDataTable(Z.data,Z.xtype);ue.drawChart(Z,"BarChart",Mt,it)})},Dt.prototype.renderAreaChart=function(Z){var ue=this;this.waitForLoaded(Z,function(){var Fe={isStacked:!0,pointSize:0,areaOpacity:.5},it=$r(Z,Z.options,Fe),Mt=ue.createDataTable(Z.data,Z.xtype);ue.drawChart(Z,"AreaChart",Mt,it)})},Dt.prototype.renderGeoChart=function(Z){var ue=this;this.waitForLoaded(Z,"geochart",function(){var Fe={legend:"none",colorAxis:{colors:Z.options.colors||["#f6c7b6","#ce502d"]}},it=i(i(ur,Fe),Z.options.library||{}),Mt=new ue.library.visualization.DataTable;Mt.addColumn("string",""),Mt.addColumn("number",Z.options.label||"Value"),Mt.addRows(Z.data),ue.drawChart(Z,"GeoChart",Mt,it)})},Dt.prototype.renderScatterChart=function(Z){var ue=this;this.waitForLoaded(Z,function(){var Fe={},it=$r(Z,Z.options,Fe),Mt=Z.data,Wt=[],dr,Sr,Zt,tn;for(dr=0;dr<Mt.length;dr++)for(Mt[dr].name=Mt[dr].name||"Value",tn=Mt[dr].data,Sr=0;Sr<tn.length;Sr++){var un=new Array(Mt.length+1);un[0]=tn[Sr][0],un[dr+1]=tn[Sr][1],Wt.push(un)}for(Zt=new ue.library.visualization.DataTable,Zt.addColumn("number",""),dr=0;dr<Mt.length;dr++)Zt.addColumn("number",Mt[dr].name);Zt.addRows(Wt),ue.drawChart(Z,"ScatterChart",Zt,it)})},Dt.prototype.renderTimeline=function(Z){var ue=this;this.waitForLoaded(Z,"timeline",function(){var Fe={legend:"none"};Z.options.colors&&(Fe.colors=Z.options.colors);var it=i(i(ur,Fe),Z.options.library||{}),Mt=new ue.library.visualization.DataTable;Mt.addColumn({type:"string",id:"Name"}),Mt.addColumn({type:"date",id:"Start"}),Mt.addColumn({type:"date",id:"End"}),Mt.addRows(Z.data),Z.element.style.lineHeight="normal",ue.drawChart(Z,"Timeline",Mt,it)})},Dt.prototype.destroy=function(Z){Z.chart&&Z.chart.clearChart()},Dt.prototype.drawChart=function(Z,ue,Fe,it){this.destroy(Z),!Z.destroyed&&(Z.options.code&&window.console.log("var data = new google.visualization.DataTable("+Fe.toJSON()+`);
var chart = new google.visualization.`+ue+`(element);
chart.draw(data, `+JSON.stringify(it)+");"),Z.chart=new this.library.visualization[ue](Z.element),gt(function(){Z.chart.draw(Fe,it)}))},Dt.prototype.waitForLoaded=function(Z,ue,Fe){var it=this;if(Fe||(Fe=ue,ue="corechart"),Ct.push({pack:ue,callback:Fe}),It[ue])this.runCallbacks();else{It[ue]=!0;var Mt={packages:[ue],callback:function(){it.runCallbacks()}},Wt=Z.__config();Wt.language&&(Mt.language=Wt.language),ue==="geochart"&&Wt.mapsApiKey&&(Mt.mapsApiKey=Wt.mapsApiKey),this.library.charts.load("current",Mt)}},Dt.prototype.runCallbacks=function(){for(var Z,ue,Fe=0;Fe<Ct.length;Fe++)Z=Ct[Fe],ue=this.library.visualization&&(Z.pack==="corechart"&&this.library.visualization.LineChart||Z.pack==="timeline"&&this.library.visualization.Timeline||Z.pack==="geochart"&&this.library.visualization.GeoChart),ue&&(Z.callback(),Ct.splice(Fe,1),Fe--)},Dt.prototype.createDataTable=function(Z,ue){var Fe,it,Mt,Wt,dr,Sr=[],Zt=[];for(Fe=0;Fe<Z.length;Fe++)for(Mt=Z[Fe],Z[Fe].name=Z[Fe].name||"Value",it=0;it<Mt.data.length;it++)Wt=Mt.data[it],dr=ue==="datetime"?Wt[0].getTime():Wt[0],Sr[dr]||(Sr[dr]=new Array(Z.length),Zt.push(dr)),Sr[dr][Fe]=b(Wt[1]);var tn=[],un=!0,Br;for(it=0;it<Zt.length;it++)Fe=Zt[it],ue==="datetime"?(Br=new Date(b(Fe)),un=un&&Y(Br)):ue==="number"?Br=b(Fe):Br=Fe,tn.push([Br].concat(Sr[Fe]));if(ue==="datetime")tn.sort(P);else if(ue==="number"){for(tn.sort(q),Fe=0;Fe<tn.length;Fe++)tn[Fe][0]=h(tn[Fe][0]);ue="string"}var Lr=new this.library.visualization.DataTable;for(ue=ue==="datetime"&&un?"date":ue,Lr.addColumn(ue,""),Fe=0;Fe<Z.length;Fe++)Lr.addColumn("number",Z[Fe].name);return Lr.addRows(tn),Lr};function hr(Q,Z){var ue=[],Fe,it;if(Z==="number"?it=b:Z==="datetime"?it=S:it=h,Z==="bubble")for(Fe=0;Fe<Q.length;Fe++)ue.push([b(Q[Fe][0]),b(Q[Fe][1]),b(Q[Fe][2])]);else for(Fe=0;Fe<Q.length;Fe++)ue.push([it(Q[Fe][0]),b(Q[Fe][1])]);return Z==="datetime"?ue.sort(P):Z==="number"&&ue.sort(q),ue}function zr(Q,Z,ue){return Ue(Q)?(ue.xmin||ue.xmax)&&(!ue.xmin||me(ue.xmin))&&(!ue.xmax||me(ue.xmax))?"datetime":"number":wr(Q,ne)?"number":!Z&&wr(Q,me)?"datetime":"string"}function wr(Q,Z){var ue,Fe,it;for(ue=0;ue<Q.length;ue++)for(it=E(Q[ue].data),Fe=0;Fe<it.length;Fe++)if(!Z(it[Fe][0]))return!1;return!0}function Gr(Q){var Z=[],ue,Fe;for(ue=0;ue<Q.length;ue++){var it={};for(Fe in Q[ue])Q[ue].hasOwnProperty(Fe)&&(it[Fe]=Q[ue][Fe]);Z.push(it)}return Z}function mn(Q,Z,ue){var Fe,it=Q.options,Mt=Q.rawData;for(Q.singleSeriesFormat=!r(Mt)||typeof Mt[0]!="object"||r(Mt[0]),Q.singleSeriesFormat&&(Mt=[{name:it.label,data:Mt}]),Mt=Gr(Mt),Fe=0;Fe<Mt.length;Fe++)Mt[Fe].data=E(Mt[Fe].data);for(Q.xtype=Z||(it.discrete?"string":zr(Mt,ue,it)),Fe=0;Fe<Mt.length;Fe++)Mt[Fe].data=hr(Mt[Fe].data,Q.xtype);return Mt}function ai(Q){var Z=E(Q.rawData),ue;for(ue=0;ue<Z.length;ue++)Z[ue]=[h(Z[ue][0]),b(Z[ue][1])];return Z}function Ue(Q,Z){if(Z==="PieChart"||Z==="GeoChart"||Z==="Timeline")return Q.length===0;for(var ue=0;ue<Q.length;ue++)if(Q[ue].data.length>0)return!1;return!0}function Xe(Q){var Z=Q.element,ue=document.createElement("a"),Fe=Q.options.download;Fe===!0?Fe={}:typeof Fe=="string"&&(Fe={filename:Fe}),ue.download=Fe.filename||"chart.png",ue.style.position="absolute",ue.style.top="20px",ue.style.right="20px",ue.style.zIndex=1e3,ue.style.lineHeight="20px",ue.target="_blank";var it=document.createElement("img");it.alt="Download",it.style.border="none",it.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",ue.appendChild(it),Z.style.position="relative",Q.__downloadAttached=!0,Q.__enterEvent=bt(Z,"mouseover",function(Mt){var Wt=Mt.relatedTarget;(!Wt||Wt!==this&&!gr(this,Wt))&&Q.options.download&&(ue.href=Q.toImage(Fe),Z.appendChild(ue))}),Q.__leaveEvent=bt(Z,"mouseout",function(Mt){var Wt=Mt.relatedTarget;(!Wt||Wt!==this&&!gr(this,Wt))&&ue.parentNode&&ue.parentNode.removeChild(ue)})}function bt(Q,Z,ue){if(Q.addEventListener)return Q.addEventListener(Z,ue,!1),ue;var Fe=function(){return ue.call(Q,window.event)};return Q.attachEvent("on"+Z,Fe),Fe}function Gt(Q,Z,ue){Q.removeEventListener?Q.removeEventListener(Z,ue,!1):Q.detachEvent("on"+Z,ue)}function gr(Q,Z){if(Q===Z)return!1;for(;Z&&Z!==Q;)Z=Z.parentNode;return Z===Q}var rr=[],Ur=0,Fr=4;function vn(Q,Z,ue){rr.push([Q,Z,ue]),xn()}function xn(){if(Ur<Fr){var Q=rr.shift();Q&&(Ur++,Pi(Q[0],Q[1],Q[2]),xn())}}function In(){Ur--,xn()}function Pi(Q,Z,ue){Vn(Q,Z,function(Fe,it,Mt){var Wt=typeof Mt=="string"?Mt:Mt.message;ue(Wt)})}function Vn(Q,Z,ue){var Fe=window.jQuery||window.Zepto||window.$;if(Fe&&Fe.ajax)Fe.ajax({dataType:"json",url:Q,success:Z,error:ue,complete:In});else{var it=new XMLHttpRequest;it.open("GET",Q,!0),it.setRequestHeader("Content-Type","application/json"),it.onload=function(){In(),it.status===200?Z(JSON.parse(it.responseText),it.statusText,it):ue(it,"error",it.statusText)},it.send()}}var Oo={},$n=[];function Xi(Q,Z){document.body.innerText?Q.innerText=Z:Q.textContent=Z}function ea(Q,Z,ue){ue||(Z="Error Loading Chart: "+Z),Xi(Q,Z),Q.style.color="#ff0000"}function zn(Q){try{Q.__render()}catch(Z){throw ea(Q.element,Z.message),Z}}function ve(Q,Z,ue){if(ue&&Q.options.loading&&(typeof Z=="string"||typeof Z=="function")&&Xi(Q.element,Q.options.loading),typeof Z=="string")vn(Z,function(Fe){Q.rawData=Fe,zn(Q)},function(Fe){ea(Q.element,Fe)});else if(typeof Z=="function")try{Z(function(Fe){Q.rawData=Fe,zn(Q)},function(Fe){ea(Q.element,Fe,!0)})}catch(Fe){ea(Q.element,Fe,!0)}else Q.rawData=Z,zn(Q)}function Ee(Q){if(Q){if(Q.product==="Highcharts")return st;if(Q.charts)return Dt;if(e(Q))return tr}throw new Error("Unknown adapter")}function Oe(Q){var Z=Ee(Q),ue=new Z(Q);$n.indexOf(ue)===-1&&$n.push(ue)}function Be(){"Chart"in window&&Oe(window.Chart),"Highcharts"in window&&Oe(window.Highcharts),window.google&&window.google.charts&&Oe(window.google)}function Ye(Q,Z){if(Ue(Z.data,Q)){var ue=Z.options.empty||Z.options.messages&&Z.options.messages.empty||"No data";Xi(Z.element,ue)}else ht(Q,Z),Z.options.download&&!Z.__downloadAttached&&Z.adapter==="chartjs"&&Xe(Z)}function ht(Q,Z){var ue,Fe,it,Mt;for(it="render"+Q,Mt=Z.options.adapter,Be(),ue=0;ue<$n.length;ue++)if(Fe=$n[ue],(!Mt||Mt===Fe.name)&&e(Fe[it]))return Z.adapter=Fe.name,Z.__adapterObject=Fe,Fe[it](Z);throw $n.length>0?new Error("No charting library found for "+Q):new Error("No charting libraries found - be sure to include one before your charts")}var ut=function(Z,ue,Fe){var it;if(typeof Z=="string"&&(it=Z,Z=document.getElementById(Z),!Z))throw new Error("No element with id "+it);this.element=Z,this.options=i(Ae.options,Fe||{}),this.dataSource=ue,Ae.charts[Z.id]=this,ve(this,ue,!0),this.options.refresh&&this.startRefresh()};ut.prototype.getElement=function(){return this.element},ut.prototype.getDataSource=function(){return this.dataSource},ut.prototype.getData=function(){return this.data},ut.prototype.getOptions=function(){return this.options},ut.prototype.getChartObject=function(){return this.chart},ut.prototype.getAdapter=function(){return this.adapter},ut.prototype.updateData=function(Z,ue){this.dataSource=Z,ue&&this.__updateOptions(ue),ve(this,Z,!0)},ut.prototype.setOptions=function(Z){this.__updateOptions(Z),this.redraw()},ut.prototype.redraw=function(){ve(this,this.rawData)},ut.prototype.refreshData=function(){if(typeof this.dataSource=="string"){var Z=this.dataSource.indexOf("?")===-1?"?":"&",ue=this.dataSource+Z+"_="+new Date().getTime();ve(this,ue)}else typeof this.dataSource=="function"&&ve(this,this.dataSource)},ut.prototype.startRefresh=function(){var Z=this,ue=this.options.refresh;if(ue&&typeof this.dataSource!="string"&&typeof this.dataSource!="function")throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId)if(ue)this.intervalId=setInterval(function(){Z.refreshData()},ue*1e3);else throw new Error("No refresh interval")},ut.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},ut.prototype.toImage=function(Z){if(this.adapter==="chartjs")if(Z&&Z.background&&Z.background!=="transparent"){var ue=this.chart.canvas,Fe=this.chart.ctx,it=document.createElement("canvas"),Mt=it.getContext("2d");return it.width=Fe.canvas.width,it.height=Fe.canvas.height,Mt.fillStyle=Z.background,Mt.fillRect(0,0,it.width,it.height),Mt.drawImage(ue,0,0),it.toDataURL("image/png")}else return this.chart.toBase64Image();else throw new Error("Feature only available for Chart.js")},ut.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&Gt(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&Gt(this.element,"mouseout",this.__leaveEvent)},ut.prototype.__updateOptions=function(Z){var ue=Z.refresh&&Z.refresh!==this.options.refresh;this.options=i(Ae.options,Z),ue&&(this.stopRefresh(),this.startRefresh())},ut.prototype.__render=function(){this.data=this.__processData(),Ye(this.__chartName(),this)},ut.prototype.__config=function(){return Oo};var Ie=function(Q){function Z(){Q.apply(this,arguments)}return Q&&(Z.__proto__=Q),Z.prototype=Object.create(Q&&Q.prototype),Z.prototype.constructor=Z,Z.prototype.__processData=function(){return mn(this)},Z.prototype.__chartName=function(){return"LineChart"},Z}(ut),Ne=function(Q){function Z(){Q.apply(this,arguments)}return Q&&(Z.__proto__=Q),Z.prototype=Object.create(Q&&Q.prototype),Z.prototype.constructor=Z,Z.prototype.__processData=function(){return ai(this)},Z.prototype.__chartName=function(){return"PieChart"},Z}(ut),xt=function(Q){function Z(){Q.apply(this,arguments)}return Q&&(Z.__proto__=Q),Z.prototype=Object.create(Q&&Q.prototype),Z.prototype.constructor=Z,Z.prototype.__processData=function(){return mn(this,null,!0)},Z.prototype.__chartName=function(){return"ColumnChart"},Z}(ut),Vt=function(Q){function Z(){Q.apply(this,arguments)}return Q&&(Z.__proto__=Q),Z.prototype=Object.create(Q&&Q.prototype),Z.prototype.constructor=Z,Z.prototype.__processData=function(){return mn(this,null,!0)},Z.prototype.__chartName=function(){return"BarChart"},Z}(ut),Et=function(Q){function Z(){Q.apply(this,arguments)}return Q&&(Z.__proto__=Q),Z.prototype=Object.create(Q&&Q.prototype),Z.prototype.constructor=Z,Z.prototype.__processData=function(){return mn(this)},Z.prototype.__chartName=function(){return"AreaChart"},Z}(ut),St=function(Q){function Z(){Q.apply(this,arguments)}return Q&&(Z.__proto__=Q),Z.prototype=Object.create(Q&&Q.prototype),Z.prototype.constructor=Z,Z.prototype.__processData=function(){return ai(this)},Z.prototype.__chartName=function(){return"GeoChart"},Z}(ut),Qt=function(Q){function Z(){Q.apply(this,arguments)}return Q&&(Z.__proto__=Q),Z.prototype=Object.create(Q&&Q.prototype),Z.prototype.constructor=Z,Z.prototype.__processData=function(){return mn(this,"number")},Z.prototype.__chartName=function(){return"ScatterChart"},Z}(ut),we=function(Q){function Z(){Q.apply(this,arguments)}return Q&&(Z.__proto__=Q),Z.prototype=Object.create(Q&&Q.prototype),Z.prototype.constructor=Z,Z.prototype.__processData=function(){return mn(this,"bubble")},Z.prototype.__chartName=function(){return"BubbleChart"},Z}(ut),Pe=function(Q){function Z(){Q.apply(this,arguments)}return Q&&(Z.__proto__=Q),Z.prototype=Object.create(Q&&Q.prototype),Z.prototype.constructor=Z,Z.prototype.__processData=function(){var Fe,it=this.rawData;for(Fe=0;Fe<it.length;Fe++)it[Fe][1]=S(it[Fe][1]),it[Fe][2]=S(it[Fe][2]);return it},Z.prototype.__chartName=function(){return"Timeline"},Z}(ut),Ae={LineChart:Ie,PieChart:Ne,ColumnChart:xt,BarChart:Vt,AreaChart:Et,GeoChart:St,ScatterChart:Qt,BubbleChart:we,Timeline:Pe,charts:{},configure:function(Q){for(var Z in Q)Q.hasOwnProperty(Z)&&(Oo[Z]=Q[Z])},setDefaultOptions:function(Q){Ae.options=Q},eachChart:function(Q){for(var Z in Ae.charts)Ae.charts.hasOwnProperty(Z)&&Q(Ae.charts[Z])},destroyAll:function(){for(var Q in Ae.charts)Ae.charts.hasOwnProperty(Q)&&(Ae.charts[Q].destroy(),delete Ae.charts[Q])},config:Oo,options:{},adapters:$n,addAdapter:Oe,use:function(Q){return Oe(Q),Ae}};return typeof window<"u"&&!window.Chartkick&&(window.Chartkick=Ae,document.addEventListener("turbolinks:before-render",function(){Ae.destroyAll()}),document.addEventListener("turbo:before-render",function(){Ae.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0)),Ae.default=Ae,Ae})});function BF(r,e,t){let n=t||(l=>Array.prototype.slice.call(l)),i=!1,a=[];return function(...l){a=n(l),i||(i=!0,NF.call(window,()=>{i=!1,r.apply(e,a)}))}}function Cne(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}function Ed(){}function Hi(r){return r===null||typeof r>"u"}function No(r){if(Array.isArray&&Array.isArray(r))return!0;let e=Object.prototype.toString.call(r);return e.substr(0,7)==="[object"&&e.substr(-6)==="Array]"}function Ti(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function of(r,e){return es(r)?r:e}function Qn(r,e){return typeof r>"u"?e:r}function Bo(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function ho(r,e,t,n){let i,a,l;if(No(r))if(a=r.length,n)for(i=a-1;i>=0;i--)e.call(t,r[i],i);else for(i=0;i<a;i++)e.call(t,r[i],i);else if(Ti(r))for(l=Object.keys(r),a=l.length,i=0;i<a;i++)e.call(t,r[l[i]],l[i])}function A1(r,e){let t,n,i,a;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function KE(r){if(No(r))return r.map(KE);if(Ti(r)){let e=Object.create(null),t=Object.keys(r),n=t.length,i=0;for(;i<n;++i)e[t[i]]=KE(r[t[i]]);return e}return r}function Dne(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function Q$e(r,e,t,n){if(!Dne(r))return;let i=e[r],a=t[r];Ti(i)&&Ti(a)?Zb(i,a,n):e[r]=KE(a)}function Zb(r,e,t){let n=No(e)?e:[e],i=n.length;if(!Ti(r))return r;t=t||{};let a=t.merger||Q$e;for(let l=0;l<i;++l){if(e=n[l],!Ti(e))continue;let h=Object.keys(e);for(let b=0,S=h.length;b<S;++b)a(h[b],r,e,t)}return r}function Jb(r,e){return Zb(r,e,{merger:eGe})}function eGe(r,e,t){if(!Dne(r))return;let n=e[r],i=t[r];Ti(n)&&Ti(i)?Jb(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=KE(i))}function fne(r,e){let t=r.indexOf(rGe,e);return t===-1?r.length:t}function Gm(r,e){if(e===tGe)return r;let t=0,n=fne(e,t);for(;r&&n>t;)r=r[e.substr(t,n-t)],t=n+1,n=fne(e,t);return r}function QE(r){return r.charAt(0).toUpperCase()+r.slice(1)}function One(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}function HF(r){let e=Math.round(r);r=e0(r,e,r/1e3)?e:r;let t=Math.pow(10,Math.floor(af(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function Ine(r){let e=[],t=Math.sqrt(r),n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function Qb(r){return!isNaN(parseFloat(r))&&isFinite(r)}function e0(r,e,t){return Math.abs(r-e)<t}function Mne(r,e){let t=Math.round(r);return t-e<=r&&t+e>=r}function WF(r,e,t){let n,i,a;for(n=0,i=r.length;n<i;n++)a=r[n][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Rf(r){return r*(va/180)}function eT(r){return r*(180/va)}function VF(r){if(!es(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function $F(r,e){let t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n),a=Math.atan2(n,t);return a<-.5*va&&(a+=Do),{angle:a,distance:i}}function ZE(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function oGe(r,e){return(r-e+nGe)%Do-va}function Sc(r){return(r%Do+Do)%Do}function t0(r,e,t,n){let i=Sc(r),a=Sc(e),l=Sc(t),h=Sc(a-i),b=Sc(l-i),S=Sc(i-a),E=Sc(i-l);return i===a||i===l||n&&a===l||h>b&&S<E}function al(r,e,t){return Math.max(e,Math.min(t,r))}function Pne(r){return al(r,-32768,32767)}function Td(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function lGe(r){return WE(r.r)&&WE(r.g)&&WE(r.b)&&WE(r.a)}function uGe(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Lf[r[1]]*17,g:255&Lf[r[2]]*17,b:255&Lf[r[3]]*17,a:e===5?Lf[r[4]]*17:255}:(e===7||e===9)&&(t={r:Lf[r[1]]<<4|Lf[r[2]],g:Lf[r[3]]<<4|Lf[r[4]],b:Lf[r[5]]<<4|Lf[r[6]],a:e===9?Lf[r[7]]<<4|Lf[r[8]]:255})),t}function cGe(r){var e=lGe(r)?aGe:sGe;return r&&"#"+e(r.r)+e(r.g)+e(r.b)+(r.a<255?e(r.a):"")}function D1(r){return r+.5|0}function S1(r){return tT(D1(r*2.55),0,255)}function C1(r){return tT(D1(r*255),0,255)}function GF(r){return tT(D1(r/2.55)/100,0,1)}function mne(r){return tT(D1(r*100),0,100)}function hGe(r){let e=fGe.exec(r),t=255,n,i,a;if(!!e){if(e[7]!==n){let l=+e[7];t=255&(e[8]?S1(l):l*255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?S1(n):n),i=255&(e[4]?S1(i):i),a=255&(e[6]?S1(a):a),{r:n,g:i,b:a,a:t}}}function dGe(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${GF(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}function Lne(r,e,t){let n=e*Math.min(t,1-t),i=(a,l=(a+r/30)%12)=>t-n*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function mGe(r,e,t){let n=(i,a=(i+r/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function gGe(r,e,t){let n=Lne(r,1,.5),i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function KF(r){let t=r.r/255,n=r.g/255,i=r.b/255,a=Math.max(t,n,i),l=Math.min(t,n,i),h=(a+l)/2,b,S,E;return a!==l&&(E=a-l,S=h>.5?E/(2-a-l):E/(a+l),b=a===t?(n-i)/E+(n<i?6:0):a===n?(i-t)/E+2:(t-n)/E+4,b=b*60+.5),[b|0,S||0,h]}function YF(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(C1)}function ZF(r,e,t){return YF(Lne,r,e,t)}function vGe(r,e,t){return YF(gGe,r,e,t)}function yGe(r,e,t){return YF(mGe,r,e,t)}function Rne(r){return(r%360+360)%360}function bGe(r){let e=pGe.exec(r),t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?S1(+e[5]):C1(+e[5]));let i=Rne(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?n=vGe(i,a,l):e[1]==="hsv"?n=yGe(i,a,l):n=ZF(i,a,l),{r:n[0],g:n[1],b:n[2],a:t}}function xGe(r,e){var t=KF(r);t[0]=Rne(t[0]+e),t=ZF(t),r.r=t[0],r.g=t[1],r.b=t[2]}function _Ge(r){if(!r)return;let e=KF(r),t=e[0],n=mne(e[1]),i=mne(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${GF(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}function wGe(){let r={},e=Object.keys(vne),t=Object.keys(gne),n,i,a,l,h;for(n=0;n<e.length;n++){for(l=h=e[n],i=0;i<t.length;i++)a=t[i],h=h.replace(a,gne[a]);a=parseInt(vne[l],16),r[h]=[a>>16&255,a>>8&255,a&255]}return r}function SGe(r){VE||(VE=wGe(),VE.transparent=[0,0,0,0]);let e=VE[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}function $E(r,e,t){if(r){let n=KF(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=ZF(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function Fne(r,e){return r&&Object.assign(e||{},r)}function yne(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=C1(r[3]))):(e=Fne(r,{r:0,g:0,b:0,a:1}),e.a=C1(e.a)),e}function kGe(r){return r.charAt(0)==="r"?hGe(r):bGe(r)}function qne(r){return new E1(r)}function XF(r){return zne(r)?r:qne(r)}function RF(r){return zne(r)?r:qne(r).saturate(.5).darken(.1).hexString()}function k1(r,e){if(!e)return r;let t=e.split(".");for(let n=0,i=t.length;n<i;++n){let a=t[n];r=r[a]||(r[a]=Object.create(null))}return r}function FF(r,e,t){return typeof e=="string"?Zb(k1(r,e),t):Zb(k1(r,""),e)}function CGe(r){return!r||Hi(r.size)||Hi(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function T1(r,e,t,n,i){let a=e[i];return a||(a=e[i]=r.measureText(i).width,t.push(i)),a>n&&(n=a),n}function Bne(r,e,t,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let l=0,h=t.length,b,S,E,O,P;for(b=0;b<h;b++)if(O=t[b],O!=null&&No(O)!==!0)l=T1(r,i,a,l,O);else if(No(O))for(S=0,E=O.length;S<E;S++)P=O[S],P!=null&&!No(P)&&(l=T1(r,i,a,l,P));r.restore();let q=a.length/2;if(q>t.length){for(b=0;b<q;b++)delete i[a[b]];a.splice(0,q)}return l}function Ym(r,e,t){let n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function JF(r,e){e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore()}function O1(r,e,t,n){let i,a,l,h,b,S=e.pointStyle,E=e.rotation,O=e.radius,P=(E||0)*iGe;if(S&&typeof S=="object"&&(i=S.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(P),r.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),r.restore();return}if(!(isNaN(O)||O<=0)){switch(r.beginPath(),S){default:r.arc(t,n,O,0,Do),r.closePath();break;case"triangle":r.moveTo(t+Math.sin(P)*O,n-Math.cos(P)*O),P+=hne,r.lineTo(t+Math.sin(P)*O,n-Math.cos(P)*O),P+=hne,r.lineTo(t+Math.sin(P)*O,n-Math.cos(P)*O),r.closePath();break;case"rectRounded":b=O*.516,h=O-b,a=Math.cos(P+w1)*h,l=Math.sin(P+w1)*h,r.arc(t-a,n-l,b,P-va,P-Fa),r.arc(t+l,n-a,b,P-Fa,P),r.arc(t+a,n+l,b,P,P+Fa),r.arc(t-l,n+a,b,P+Fa,P+va),r.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*O,r.rect(t-h,n-h,2*h,2*h);break}P+=w1;case"rectRot":a=Math.cos(P)*O,l=Math.sin(P)*O,r.moveTo(t-a,n-l),r.lineTo(t+l,n-a),r.lineTo(t+a,n+l),r.lineTo(t-l,n+a),r.closePath();break;case"crossRot":P+=w1;case"cross":a=Math.cos(P)*O,l=Math.sin(P)*O,r.moveTo(t-a,n-l),r.lineTo(t+a,n+l),r.moveTo(t+l,n-a),r.lineTo(t-l,n+a);break;case"star":a=Math.cos(P)*O,l=Math.sin(P)*O,r.moveTo(t-a,n-l),r.lineTo(t+a,n+l),r.moveTo(t+l,n-a),r.lineTo(t-l,n+a),P+=w1,a=Math.cos(P)*O,l=Math.sin(P)*O,r.moveTo(t-a,n-l),r.lineTo(t+a,n+l),r.moveTo(t+l,n-a),r.lineTo(t-l,n+a);break;case"line":a=Math.cos(P)*O,l=Math.sin(P)*O,r.moveTo(t-a,n-l),r.lineTo(t+a,n+l);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(P)*O,n+Math.sin(P)*O);break}r.fill(),e.borderWidth>0&&r.stroke()}}function $m(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function I1(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function M1(r){r.restore()}function jne(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){let a=(e.x+t.x)/2;r.lineTo(a,e.y),r.lineTo(a,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function Une(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function Zm(r,e,t,n,i,a={}){let l=No(e)?e:[e],h=a.strokeWidth>0&&a.strokeColor!=="",b,S;for(r.save(),r.font=i.string,EGe(r,a),b=0;b<l.length;++b)S=l[b],h&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),Hi(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(S,t,n,a.maxWidth)),r.fillText(S,t,n,a.maxWidth),TGe(r,t,n,S,a),n+=i.lineHeight;r.restore()}function EGe(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Hi(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function TGe(r,e,t,n,i){if(i.strikethrough||i.underline){let a=r.measureText(n),l=e-a.actualBoundingBoxLeft,h=e+a.actualBoundingBoxRight,b=t-a.actualBoundingBoxAscent,S=t+a.actualBoundingBoxDescent,E=i.strikethrough?(b+S)/2:S;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(l,E),r.lineTo(h,E),r.stroke()}}function P1(r,e){let{x:t,y:n,w:i,h:a,radius:l}=e;r.arc(t+l.topLeft,n+l.topLeft,l.topLeft,-Fa,va,!0),r.lineTo(t,n+a-l.bottomLeft),r.arc(t+l.bottomLeft,n+a-l.bottomLeft,l.bottomLeft,va,Fa,!0),r.lineTo(t+i-l.bottomRight,n+a),r.arc(t+i-l.bottomRight,n+a-l.bottomRight,l.bottomRight,Fa,0,!0),r.lineTo(t+i,n+l.topRight),r.arc(t+i-l.topRight,n+l.topRight,l.topRight,0,-Fa,!0),r.lineTo(t+l.topLeft,n)}function OGe(r,e){let t=(""+r).match(AGe);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}function nT(r,e){let t={},n=Ti(e),i=n?Object.keys(e):e,a=Ti(r)?n?l=>Qn(r[l],r[e[l]]):l=>r[l]:()=>r;for(let l of i)t[l]=IGe(a(l));return t}function QF(r){return nT(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Sv(r){return nT(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Yl(r){let e=QF(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ps(r,e){r=r||{},e=e||_i.font;let t=Qn(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Qn(r.style,e.style);n&&!(""+n).match(DGe)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");let i={family:Qn(r.family,e.family),lineHeight:OGe(Qn(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:Qn(r.weight,e.weight),string:""};return i.string=CGe(i),i}function r0(r,e,t,n){let i=!0,a,l,h;for(a=0,l=r.length;a<l;++a)if(h=r[a],h!==void 0&&(e!==void 0&&typeof h=="function"&&(h=h(e),i=!1),t!==void 0&&No(h)&&(h=h[t%h.length],i=!1),h!==void 0))return n&&!i&&(n.cacheable=!1),h}function Hne(r,e,t){let{min:n,max:i}=r,a=jF(e,(i-n)/2),l=(h,b)=>t&&h===0?0:h+b;return{min:l(n,-Math.abs(a)),max:l(i,a)}}function Fp(r,e){return Object.assign(Object.create(r),e)}function iT(r,e,t){t=t||(l=>r[l]<e);let n=r.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,t(a)?i=a:n=a;return{lo:i,hi:n}}function Vne(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}function Gne(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$ne.forEach(t=>{let n="_onData"+QE(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...a){let l=i.apply(this,a);return r._chartjs.listeners.forEach(h=>{typeof h[n]=="function"&&h[n](...a)}),l}})})}function eq(r,e){let t=r._chartjs;if(!t)return;let n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&($ne.forEach(a=>{delete r[a]}),delete r._chartjs)}function tq(r){let e=new Set,t,n;for(t=0,n=r.length;t<n;++t)e.add(r[t]);return e.size===n?r:Array.from(e)}function oT(r,e=[""],t=r,n,i=()=>r[0]){nf(n)||(n=Zne("_fallback",r));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:t,_fallback:n,_getTarget:i,override:l=>oT([l,...r],e,t,n)};return new Proxy(a,{deleteProperty(l,h){return delete l[h],delete l._keys,delete r[0][h],!0},get(l,h){return Kne(l,h,()=>NGe(h,e,r,l))},getOwnPropertyDescriptor(l,h){return Reflect.getOwnPropertyDescriptor(l._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(l,h){return xne(l).includes(h)},ownKeys(l){return xne(l)},set(l,h,b){let S=l._storage||(l._storage=i());return l[h]=S[h]=b,delete l._keys,!0}})}function wv(r,e,t,n){let i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:rq(r,n),setContext:a=>wv(r,a,t,n),override:a=>wv(r.override(a),e,t,n)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete r[l],!0},get(a,l,h){return Kne(a,l,()=>PGe(a,l,h))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(r,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,l)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,l){return Reflect.has(r,l)},ownKeys(){return Reflect.ownKeys(r)},set(a,l,h){return r[l]=h,delete a[l],!0}})}function rq(r,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:Rp(t)?t:()=>t,isIndexable:Rp(n)?n:()=>n}}function Kne(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e))return r[e];let n=t();return r[e]=n,n}function PGe(r,e,t){let{_proxy:n,_context:i,_subProxy:a,_descriptors:l}=r,h=n[e];return Rp(h)&&l.isScriptable(e)&&(h=LGe(e,h,r,t)),No(h)&&h.length&&(h=RGe(e,h,r,l.isIndexable)),nq(e,h)&&(h=wv(h,i,a&&a[e],l)),h}function LGe(r,e,t,n){let{_proxy:i,_context:a,_subProxy:l,_stack:h}=t;if(h.has(r))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+r);return h.add(r),e=e(a,l||n),h.delete(r),nq(r,e)&&(e=iq(i._scopes,i,r,e)),e}function RGe(r,e,t,n){let{_proxy:i,_context:a,_subProxy:l,_descriptors:h}=t;if(nf(a.index)&&n(r))e=e[a.index%e.length];else if(Ti(e[0])){let b=e,S=i._scopes.filter(E=>E!==b);e=[];for(let E of b){let O=iq(S,i,r,E);e.push(wv(O,a,l&&l[r],h))}}return e}function Yne(r,e,t){return Rp(r)?r(e,t):r}function qGe(r,e,t,n,i){for(let a of e){let l=FGe(t,a);if(l){r.add(l);let h=Yne(l._fallback,t,i);if(nf(h)&&h!==t&&h!==n)return h}else if(l===!1&&nf(n)&&t!==n)return null}return!1}function iq(r,e,t,n){let i=e._rootScopes,a=Yne(e._fallback,t,n),l=[...r,...i],h=new Set;h.add(n);let b=bne(h,l,t,a||t,n);return b===null||nf(a)&&a!==t&&(b=bne(h,l,a,b,n),b===null)?!1:oT(Array.from(h),[""],i,a,()=>zGe(e,t,n))}function bne(r,e,t,n,i){for(;t;)t=qGe(r,e,t,n,i);return t}function zGe(r,e,t){let n=r._getTarget();e in n||(n[e]={});let i=n[e];return No(i)&&Ti(t)?t:i}function NGe(r,e,t,n){let i;for(let a of e)if(i=Zne(MGe(a,r),t),nf(i))return nq(r,i)?iq(t,n,r,i):i}function Zne(r,e){for(let t of e){if(!t)continue;let n=t[r];if(nf(n))return n}}function xne(r){let e=r._keys;return e||(e=r._keys=BGe(r._scopes)),e}function BGe(r){let e=new Set;for(let t of r)for(let n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function UGe(r,e,t,n){let i=r.skip?e:r,a=e,l=t.skip?e:t,h=ZE(a,i),b=ZE(l,a),S=h/(h+b),E=b/(h+b);S=isNaN(S)?0:S,E=isNaN(E)?0:E;let O=n*S,P=n*E;return{previous:{x:a.x-O*(l.x-i.x),y:a.y-O*(l.y-i.y)},next:{x:a.x+P*(l.x-i.x),y:a.y+P*(l.y-i.y)}}}function HGe(r,e,t){let n=r.length,i,a,l,h,b,S=Xb(r,0);for(let E=0;E<n-1;++E)if(b=S,S=Xb(r,E+1),!(!b||!S)){if(e0(e[E],0,jGe)){t[E]=t[E+1]=0;continue}i=t[E]/e[E],a=t[E+1]/e[E],h=Math.pow(i,2)+Math.pow(a,2),!(h<=9)&&(l=3/Math.sqrt(h),t[E]=i*l*e[E],t[E+1]=a*l*e[E])}}function WGe(r,e,t="x"){let n=Xne(t),i=r.length,a,l,h,b=Xb(r,0);for(let S=0;S<i;++S){if(l=h,h=b,b=Xb(r,S+1),!h)continue;let E=h[t],O=h[n];l&&(a=(E-l[t])/3,h[`cp1${t}`]=E-a,h[`cp1${n}`]=O-a*e[S]),b&&(a=(b[t]-E)/3,h[`cp2${t}`]=E+a,h[`cp2${n}`]=O+a*e[S])}}function VGe(r,e="x"){let t=Xne(e),n=r.length,i=Array(n).fill(0),a=Array(n),l,h,b,S=Xb(r,0);for(l=0;l<n;++l)if(h=b,b=S,S=Xb(r,l+1),!!b){if(S){let E=S[e]-b[e];i[l]=E!==0?(S[t]-b[t])/E:0}a[l]=h?S?Ah(i[l-1])!==Ah(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}HGe(r,i,a),WGe(r,a,e)}function GE(r,e,t){return Math.max(Math.min(r,t),e)}function $Ge(r,e){let t,n,i,a,l,h=$m(r[0],e);for(t=0,n=r.length;t<n;++t)l=a,a=h,h=t<n-1&&$m(r[t+1],e),a&&(i=r[t],l&&(i.cp1x=GE(i.cp1x,e.left,e.right),i.cp1y=GE(i.cp1y,e.top,e.bottom)),h&&(i.cp2x=GE(i.cp2x,e.left,e.right),i.cp2y=GE(i.cp2y,e.top,e.bottom)))}function Jne(r,e,t,n,i){let a,l,h,b;if(e.spanGaps&&(r=r.filter(S=>!S.skip)),e.cubicInterpolationMode==="monotone")VGe(r,i);else{let S=n?r[r.length-1]:r[0];for(a=0,l=r.length;a<l;++a)h=r[a],b=UGe(S,h,r[Math.min(a+1,l-(n?0:1))%l],e.tension),h.cp1x=b.previous.x,h.cp1y=b.previous.y,h.cp2x=b.next.x,h.cp2y=b.next.y,S=h}e.capBezierPoints&&$Ge(r,t)}function oq(){return typeof window<"u"&&typeof document<"u"}function aT(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function XE(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}function GGe(r,e){return sT(r).getPropertyValue(e)}function _v(r,e,t){let n={};t=t?"-"+t:"";for(let i=0;i<4;i++){let a=KGe[i];n[a]=parseFloat(r[e+"-"+a+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function ZGe(r,e){let t=r.native||r,n=t.touches,i=n&&n.length?n[0]:t,{offsetX:a,offsetY:l}=i,h=!1,b,S;if(YGe(a,l,t.target))b=a,S=l;else{let E=e.getBoundingClientRect();b=i.clientX-E.left,S=i.clientY-E.top,h=!0}return{x:b,y:S,box:h}}function aq(r,e){let{canvas:t,currentDevicePixelRatio:n}=e,i=sT(t),a=i.boxSizing==="border-box",l=_v(i,"padding"),h=_v(i,"border","width"),{x:b,y:S,box:E}=ZGe(r,t),O=l.left+(E&&h.left),P=l.top+(E&&h.top),{width:q,height:z}=e;return a&&(q-=l.width+h.width,z-=l.height+h.height),{x:Math.round((b-O)/q*t.width/n),y:Math.round((S-P)/z*t.height/n)}}function XGe(r,e,t){let n,i;if(e===void 0||t===void 0){let a=aT(r);if(!a)e=r.clientWidth,t=r.clientHeight;else{let l=a.getBoundingClientRect(),h=sT(a),b=_v(h,"border","width"),S=_v(h,"padding");e=l.width-S.width-b.width,t=l.height-S.height-b.height,n=XE(h.maxWidth,a,"clientWidth"),i=XE(h.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:n||YE,maxHeight:i||YE}}function Qne(r,e,t,n){let i=sT(r),a=_v(i,"margin"),l=XE(i.maxWidth,r,"clientWidth")||YE,h=XE(i.maxHeight,r,"clientHeight")||YE,b=XGe(r,e,t),{width:S,height:E}=b;if(i.boxSizing==="content-box"){let O=_v(i,"border","width"),P=_v(i,"padding");S-=P.width+O.width,E-=P.height+O.height}return S=Math.max(0,S-a.width),E=Math.max(0,n?Math.floor(S/n):E-a.height),S=qF(Math.min(S,l,b.maxWidth)),E=qF(Math.min(E,h,b.maxHeight)),S&&!E&&(E=qF(S/2)),{width:S,height:E}}function sq(r,e,t){let n=e||1,i=Math.floor(r.height*n),a=Math.floor(r.width*n);r.height=i/n,r.width=a/n;let l=r.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${r.height}px`,l.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||l.height!==i||l.width!==a?(r.currentDevicePixelRatio=n,l.height=i,l.width=a,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}function lq(r,e){let t=GGe(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Vm(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function tie(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function rie(r,e,t,n){let i={x:r.cp2x,y:r.cp2y},a={x:e.cp1x,y:e.cp1y},l=Vm(r,i,t),h=Vm(i,a,t),b=Vm(a,e,t),S=Vm(l,h,t),E=Vm(h,b,t);return Vm(S,E,t)}function JGe(r,e){e=e||{};let t=r+JSON.stringify(e),n=_ne.get(t);return n||(n=new Intl.NumberFormat(r,e),_ne.set(t,n)),n}function n0(r,e,t){return JGe(e,t).format(r)}function kv(r,e,t){return r?QGe(e,t):eKe()}function uq(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function cq(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function nie(r){return r==="angle"?{between:t0,compare:oGe,normalize:Sc}:{between:Td,compare:(e,t)=>e-t,normalize:e=>e}}function wne({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function tKe(r,e,t){let{property:n,start:i,end:a}=t,{between:l,normalize:h}=nie(n),b=e.length,{start:S,end:E,loop:O}=r,P,q;if(O){for(S+=b,E+=b,P=0,q=b;P<q&&l(h(e[S%b][n]),i,a);++P)S--,E--;S%=b,E%=b}return E<S&&(E+=b),{start:S,end:E,loop:O,style:r.style}}function fq(r,e,t){if(!t)return[r];let{property:n,start:i,end:a}=t,l=e.length,{compare:h,between:b,normalize:S}=nie(n),{start:E,end:O,loop:P,style:q}=tKe(r,e,t),z=[],N=!1,V=null,Y,J,se,_=()=>b(i,se,Y)&&h(i,se)!==0,me=()=>h(a,Y)===0||b(a,se,Y),ne=()=>N||_(),de=()=>!N||me();for(let he=E,be=E;he<=O;++he)J=e[he%l],!J.skip&&(Y=S(J[n]),Y!==se&&(N=b(Y,i,a),V===null&&ne()&&(V=h(Y,i)===0?he:be),V!==null&&de()&&(z.push(wne({start:V,end:he,loop:P,count:l,style:q})),V=null),be=he,se=Y));return V!==null&&z.push(wne({start:V,end:O,loop:P,count:l,style:q})),z}function hq(r,e){let t=[],n=r.segments;for(let i=0;i<n.length;i++){let a=fq(n[i],r.points,e);a.length&&t.push(...a)}return t}function rKe(r,e,t,n){let i=0,a=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(a+=i);a>i&&r[a%e].skip;)a--;return a%=e,{start:i,end:a}}function nKe(r,e,t,n){let i=r.length,a=[],l=e,h=r[e],b;for(b=e+1;b<=t;++b){let S=r[b%i];S.skip||S.stop?h.skip||(n=!1,a.push({start:e%i,end:(b-1)%i,loop:n}),e=l=S.stop?b:null):(l=b,h.skip&&(e=b)),h=S}return l!==null&&a.push({start:e%i,end:l%i,loop:n}),a}function iie(r,e){let t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];let a=!!r._loop,{start:l,end:h}=rKe(t,i,a,n);if(n===!0)return Sne(r,[{start:l,end:h,loop:a}],t,e);let b=h<l?h+i:h,S=!!r._fullLoop&&l===0&&h===i-1;return Sne(r,nKe(t,l,b,S),t,e)}function Sne(r,e,t,n){return!n||!n.setContext||!t?e:iKe(r,e,t,n)}function iKe(r,e,t,n){let i=r._chart.getContext(),a=kne(r.options),{_datasetIndex:l,options:{spanGaps:h}}=r,b=t.length,S=[],E=a,O=e[0].start,P=O;function q(z,N,V,Y){let J=h?-1:1;if(z!==N){for(z+=b;t[z%b].skip;)z-=J;for(;t[N%b].skip;)N+=J;z%b!==N%b&&(S.push({start:z%b,end:N%b,loop:V,style:Y}),E=Y,O=N%b)}}for(let z of e){O=h?O:z.start;let N=t[O%b],V;for(P=O+1;P<=z.end;P++){let Y=t[P%b];V=kne(n.setContext(Fp(i,{type:"segment",p0:N,p1:Y,p0DataIndex:(P-1)%b,p1DataIndex:P%b,datasetIndex:l}))),oKe(V,E)&&q(O,P-1,z.loop,E),N=Y,E=V}O<P-1&&q(O,P-1,z.loop,E)}return S}function kne(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function oKe(r,e){return e&&JSON.stringify(r)!==JSON.stringify(e)}var NF,JE,Kl,Ene,Tne,es,Ane,jF,tGe,rGe,nf,Rp,UF,va,Do,nGe,YE,iGe,Fa,w1,hne,af,Ah,HE,dne,pne,Yb,Lf,zF,aGe,sGe,WE,tT,fGe,pGe,gne,vne,VE,E1,zne,Km,rT,Nne,_i,AGe,DGe,IGe,Ad,Wne,$ne,MGe,nq,FGe,jGe,Xb,Xne,sT,KGe,YGe,qF,eie,_ne,QGe,eKe,dq=He(()=>{NF=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();JE=r=>r==="start"?"left":r==="end"?"right":"center",Kl=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,Ene=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;Tne=function(){let r=0;return function(){return r++}}();es=r=>(typeof r=="number"||r instanceof Number)&&isFinite(+r);Ane=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:r/e,jF=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;tGe="",rGe=".";nf=r=>typeof r<"u",Rp=r=>typeof r=="function",UF=(r,e)=>{if(r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0};va=Math.PI,Do=2*va,nGe=Do+va,YE=Number.POSITIVE_INFINITY,iGe=va/180,Fa=va/2,w1=va/4,hne=va*2/3,af=Math.log10,Ah=Math.sign;HE=r=>r===0||r===1,dne=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*Do/t)),pne=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*Do/t)+1,Yb={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Fa)+1,easeOutSine:r=>Math.sin(r*Fa),easeInOutSine:r=>-.5*(Math.cos(va*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>HE(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>HE(r)?r:dne(r,.075,.3),easeOutElastic:r=>HE(r)?r:pne(r,.075,.3),easeInOutElastic(r){return HE(r)?r:r<.5?.5*dne(r*2,.1125,.45):.5+.5*pne(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-Yb.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?Yb.easeInBounce(r*2)*.5:Yb.easeOutBounce(r*2-1)*.5+.5};Lf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zF="0123456789ABCDEF",aGe=r=>zF[r&15],sGe=r=>zF[(r&240)>>4]+zF[r&15],WE=r=>(r&240)>>4===(r&15);tT=(r,e,t)=>Math.max(Math.min(r,t),e);fGe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;pGe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;gne={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vne={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};E1=class{constructor(e){if(e instanceof E1)return e;let t=typeof e,n;t==="object"?n=yne(e):t==="string"&&(n=uGe(e)||SGe(e)||kGe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Fne(this._rgb);return e&&(e.a=GF(e.a)),e}set rgb(e){this._rgb=yne(e)}rgbString(){return this._valid?dGe(this._rgb):this._rgb}hexString(){return this._valid?cGe(this._rgb):this._rgb}hslString(){return this._valid?_Ge(this._rgb):this._rgb}mix(e,t){let n=this;if(e){let i=n.rgb,a=e.rgb,l,h=t===l?.5:t,b=2*h-1,S=i.a-a.a,E=((b*S===-1?b:(b+S)/(1+b*S))+1)/2;l=1-E,i.r=255&E*i.r+l*a.r+.5,i.g=255&E*i.g+l*a.g+.5,i.b=255&E*i.b+l*a.b+.5,i.a=h*i.a+(1-h)*a.a,n.rgb=i}return n}clone(){return new E1(this.rgb)}alpha(e){return this._rgb.a=C1(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=D1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $E(this._rgb,2,e),this}darken(e){return $E(this._rgb,2,-e),this}saturate(e){return $E(this._rgb,1,e),this}desaturate(e){return $E(this._rgb,1,-e),this}rotate(e){return xGe(this._rgb,e),this}};zne=r=>r instanceof CanvasGradient||r instanceof CanvasPattern;Km=Object.create(null),rT=Object.create(null);Nne=class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,n)=>RF(n.backgroundColor),this.hoverBorderColor=(t,n)=>RF(n.borderColor),this.hoverColor=(t,n)=>RF(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return FF(this,e,t)}get(e){return k1(this,e)}describe(e,t){return FF(rT,e,t)}override(e,t){return FF(Km,e,t)}route(e,t,n,i){let a=k1(this,e),l=k1(this,n),h="_"+t;Object.defineProperties(a,{[h]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){let b=this[h],S=l[i];return Ti(b)?Object.assign({},S,b):Qn(b,S)},set(b){this[h]=b}}})}},_i=new Nne({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});AGe=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),DGe=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);IGe=r=>+r||0;Ad=(r,e,t)=>iT(r,t,n=>r[n][e]<t),Wne=(r,e,t)=>iT(r,t,n=>r[n][e]>=t);$ne=["push","pop","shift","splice","unshift"];MGe=(r,e)=>r?r+QE(e):e,nq=(r,e)=>Ti(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);FGe=(r,e)=>r===!0?e:typeof r=="string"?Gm(e,r):void 0;jGe=Number.EPSILON||1e-14,Xb=(r,e)=>e<r.length&&!r[e].skip&&r[e],Xne=r=>r==="x"?"y":"x";sT=r=>window.getComputedStyle(r,null);KGe=["top","right","bottom","left"];YGe=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);qF=r=>Math.round(r*10)/10;eie=function(){let r=!1;try{let e={get passive(){return r=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return r}();_ne=new Map;QGe=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},eKe=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}}});function cKe(r,e){let t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){let a=r[n[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function fKe(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function aie(r,e){let t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function hKe(r,e,t){if(t===!1)return!1;let n=aie(r,t),i=aie(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function dKe(r){let e,t,n,i;return Ti(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function Xie(r,e){let t=[],n=r._getSortedDatasetMetas(e),i,a;for(i=0,a=n.length;i<a;++i)t.push(n[i].index);return t}function sie(r,e,t,n={}){let i=r.keys,a=n.mode==="single",l,h,b,S;if(e!==null){for(l=0,h=i.length;l<h;++l){if(b=+i[l],b===t){if(n.all)continue;break}S=r.values[b],es(S)&&(a||e===0||Ah(e)===Ah(S))&&(e+=S)}return e}}function pKe(r){let e=Object.keys(r),t=new Array(e.length),n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],t[n]={x:a,y:r[a]};return t}function lie(r,e){let t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function mKe(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function gKe(r){let{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function vKe(r,e,t){let n=r[e]||(r[e]={});return n[t]||(n[t]={})}function uie(r,e,t,n){for(let i of e.getMatchingVisibleMetas(n).reverse()){let a=r[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function cie(r,e){let{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:h}=n,b=a.axis,S=l.axis,E=mKe(a,l,n),O=e.length,P;for(let q=0;q<O;++q){let z=e[q],{[b]:N,[S]:V}=z,Y=z._stacks||(z._stacks={});P=Y[S]=vKe(i,E,N),P[h]=V,P._top=uie(P,l,!0,n.type),P._bottom=uie(P,l,!1,n.type)}}function pq(r,e){let t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function yKe(r,e){return Fp(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function bKe(r,e,t){return Fp(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function L1(r,e){let t=r.controller.index,n=r.vScale&&r.vScale.axis;if(!!n){e=e||r._parsed;for(let i of e){let a=i._stacks;if(!a||a[n]===void 0||a[n][t]===void 0)return;delete a[n][t]}}}function _Ke(r,e){if(!r._cache.$bar){let t=r.getMatchingVisibleMetas(e),n=[];for(let i=0,a=t.length;i<a;i++)n=n.concat(t[i].controller.getAllParsedValues(r));r._cache.$bar=tq(n.sort((i,a)=>i-a))}return r._cache.$bar}function wKe(r){let e=r.iScale,t=_Ke(e,r.type),n=e._length,i,a,l,h,b=()=>{l===32767||l===-32768||(nf(h)&&(n=Math.min(n,Math.abs(l-h)||n)),h=l)};for(i=0,a=t.length;i<a;++i)l=e.getPixelForValue(t[i]),b();for(h=void 0,i=0,a=e.ticks.length;i<a;++i)l=e.getPixelForTick(i),b();return n}function SKe(r,e,t,n){let i=t.barThickness,a,l;return Hi(i)?(a=e.min*t.categoryPercentage,l=t.barPercentage):(a=i*n,l=1),{chunk:a/n,ratio:l,start:e.pixels[r]-a/2}}function kKe(r,e,t,n){let i=e.pixels,a=i[r],l=r>0?i[r-1]:null,h=r<i.length-1?i[r+1]:null,b=t.categoryPercentage;l===null&&(l=a-(h===null?e.end-e.start:h-a)),h===null&&(h=a+a-l);let S=a-(a-Math.min(l,h))/2*b;return{chunk:Math.abs(h-l)/2*b/n,ratio:t.barPercentage,start:S}}function CKe(r,e,t,n){let i=t.parse(r[0],n),a=t.parse(r[1],n),l=Math.min(i,a),h=Math.max(i,a),b=l,S=h;Math.abs(l)>Math.abs(h)&&(b=h,S=l),e[t.axis]=S,e._custom={barStart:b,barEnd:S,start:i,end:a,min:l,max:h}}function Jie(r,e,t,n){return No(r)?CKe(r,e,t,n):e[t.axis]=t.parse(r,n),e}function hie(r,e,t,n){let i=r.iScale,a=r.vScale,l=i.getLabels(),h=i===a,b=[],S,E,O,P;for(S=t,E=t+n;S<E;++S)P=e[S],O={},O[i.axis]=h||i.parse(l[S],S),b.push(Jie(P,O,a,S));return b}function gq(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function EKe(r,e,t){return r!==0?Ah(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function TKe(r){let e,t,n,i,a;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(i="end",a="start"):(i="start",a="end"),{start:t,end:n,reverse:e,top:i,bottom:a}}function AKe(r,e,t,n){let i=e.borderSkipped,a={};if(!i){r.borderSkipped=a;return}let{start:l,end:h,reverse:b,top:S,bottom:E}=TKe(r);i==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?i=S:(t._bottom||0)===n?i=E:(a[die(E,l,h,b)]=!0,i=S)),a[die(i,l,h,b)]=!0,r.borderSkipped=a}function die(r,e,t,n){return n?(r=DKe(r,e,t),r=pie(r,t,e)):r=pie(r,e,t),r}function DKe(r,e,t){return r===e?t:r===t?e:r}function pie(r,e,t){return r==="start"?e:r==="end"?t:r}function OKe(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}function IKe(r,e,t){let n=1,i=1,a=0,l=0;if(e<Do){let h=r,b=h+e,S=Math.cos(h),E=Math.sin(h),O=Math.cos(b),P=Math.sin(b),q=(se,_,me)=>t0(se,h,b,!0)?1:Math.max(_,_*t,me,me*t),z=(se,_,me)=>t0(se,h,b,!0)?-1:Math.min(_,_*t,me,me*t),N=q(0,S,O),V=q(Fa,E,P),Y=z(va,S,O),J=z(va+Fa,E,P);n=(N-Y)/2,i=(V-J)/2,a=-(N+Y)/2,l=-(V+J)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:l}}function MKe(r,e,t){let n=e.length,i=0,a=n;if(r._sorted){let{iScale:l,_parsed:h}=r,b=l.axis,{min:S,max:E,minDefined:O,maxDefined:P}=l.getUserBounds();O&&(i=al(Math.min(Ad(h,l.axis,S).lo,t?n:Ad(e,b,l.getPixelForValue(S)).lo),0,n-1)),P?a=al(Math.max(Ad(h,l.axis,E).hi+1,t?0:Ad(e,b,l.getPixelForValue(E)).hi+1),i,n)-i:a=n-i}return{start:i,count:a}}function PKe(r){let{xScale:e,yScale:t,_scaleRanges:n}=r,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=i,!0;let a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),a}function Cv(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}function N1(r,e){return"native"in r?{x:r.x,y:r.y}:aq(r,e)}function RKe(r,e){let t=r.getSortedVisibleDatasetMetas(),n,i,a;for(let l=0,h=t.length;l<h;++l){({index:n,data:i}=t[l]);for(let b=0,S=i.length;b<S;++b)a=i[b],a.skip||e(a,n,b)}}function FKe(r,e,t,n){let{controller:i,data:a,_sorted:l}=r,h=i._cachedMeta.iScale;if(h&&e===h.axis&&e!=="r"&&l&&a.length){let b=h._reversePixels?Wne:Ad;if(n){if(i._sharedOptions){let S=a[0],E=typeof S.getRange=="function"&&S.getRange(e);if(E){let O=b(a,e,t-E),P=b(a,e,t+E);return{lo:O.lo,hi:P.hi}}}}else return b(a,e,t)}return{lo:0,hi:a.length-1}}function Mq(r,e,t,n,i){let a=r.getSortedVisibleDatasetMetas(),l=t[e];for(let h=0,b=a.length;h<b;++h){let{index:S,data:E}=a[h],{lo:O,hi:P}=FKe(a[h],e,l,i);for(let q=O;q<=P;++q){let z=E[q];z.skip||n(z,S,q)}}}function qKe(r){let e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){let a=e?Math.abs(n.x-i.x):0,l=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function vq(r,e,t,n){let i=[];return $m(e,r.chartArea,r._minPadding)&&Mq(r,t,e,function(l,h,b){l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:h,index:b})},!0),i}function zKe(r,e,t,n){let i=[];function a(l,h,b){let{startAngle:S,endAngle:E}=l.getProps(["startAngle","endAngle"],n),{angle:O}=$F(l,{x:e.x,y:e.y});t0(O,S,E)&&i.push({element:l,datasetIndex:h,index:b})}return Mq(r,t,e,a),i}function NKe(r,e,t,n,i){let a=[],l=qKe(t),h=Number.POSITIVE_INFINITY;function b(S,E,O){let P=S.inRange(e.x,e.y,i);if(n&&!P)return;let q=S.getCenterPoint(i);if(!$m(q,r.chartArea,r._minPadding)&&!P)return;let N=l(e,q);N<h?(a=[{element:S,datasetIndex:E,index:O}],h=N):N===h&&a.push({element:S,datasetIndex:E,index:O})}return Mq(r,t,e,b),a}function yq(r,e,t,n,i){return $m(e,r.chartArea,r._minPadding)?t==="r"&&!n?zKe(r,e,t,i):NKe(r,e,t,n,i):[]}function mie(r,e,t,n){let i=N1(e,r),a=[],l=t.axis,h=l==="x"?"inXRange":"inYRange",b=!1;return RKe(r,(S,E,O)=>{S[h](i[l],n)&&a.push({element:S,datasetIndex:E,index:O}),S.inRange(i.x,i.y,n)&&(b=!0)}),t.intersect&&!b?[]:a}function R1(r,e){return r.filter(t=>t.pos===e)}function gie(r,e){return r.filter(t=>Qie.indexOf(t.pos)===-1&&t.box.axis===e)}function F1(r,e){return r.sort((t,n)=>{let i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function jKe(r){let e=[],t,n,i,a,l,h;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:a,options:{stack:l,stackWeight:h=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:h});return e}function UKe(r){let e={};for(let t of r){let{stack:n,pos:i,stackWeight:a}=t;if(!n||!Qie.includes(i))continue;let l=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function HKe(r,e){let t=UKe(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e,a,l,h;for(a=0,l=r.length;a<l;++a){h=r[a];let{fullSize:b}=h.box,S=t[h.stack],E=S&&h.stackWeight/S.weight;h.horizontal?(h.width=E?E*n:b&&e.availableWidth,h.height=i):(h.width=n,h.height=E?E*i:b&&e.availableHeight)}return t}function WKe(r){let e=jKe(r),t=F1(e.filter(S=>S.box.fullSize),!0),n=F1(R1(e,"left"),!0),i=F1(R1(e,"right")),a=F1(R1(e,"top"),!0),l=F1(R1(e,"bottom")),h=gie(e,"x"),b=gie(e,"y");return{fullSize:t,leftAndTop:n.concat(a),rightAndBottom:i.concat(b).concat(l).concat(h),chartArea:R1(e,"chartArea"),vertical:n.concat(i).concat(b),horizontal:a.concat(l).concat(h)}}function vie(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function eoe(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function VKe(r,e,t,n){let{pos:i,box:a}=t,l=r.maxPadding;if(!Ti(i)){t.size&&(r[i]-=t.size);let O=n[t.stack]||{size:0,count:1};O.size=Math.max(O.size,t.horizontal?a.height:a.width),t.size=O.size/O.count,r[i]+=t.size}a.getPadding&&eoe(l,a.getPadding());let h=Math.max(0,e.outerWidth-vie(l,r,"left","right")),b=Math.max(0,e.outerHeight-vie(l,r,"top","bottom")),S=h!==r.w,E=b!==r.h;return r.w=h,r.h=b,t.horizontal?{same:S,other:E}:{same:E,other:S}}function $Ke(r){let e=r.maxPadding;function t(n){let i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function GKe(r,e){let t=e.maxPadding;function n(i){let a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return n(r?["left","right"]:["top","bottom"])}function B1(r,e,t,n){let i=[],a,l,h,b,S,E;for(a=0,l=r.length,S=0;a<l;++a){h=r[a],b=h.box,b.update(h.width||e.w,h.height||e.h,GKe(h.horizontal,e));let{same:O,other:P}=VKe(e,t,h,n);S|=O&&i.length,E=E||P,b.fullSize||i.push(h)}return S&&B1(i,e,t,n)||E}function lT(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function yie(r,e,t,n){let i=t.padding,{x:a,y:l}=e;for(let h of r){let b=h.box,S=n[h.stack]||{count:1,placed:0,weight:1},E=h.stackWeight/S.weight||1;if(h.horizontal){let O=e.w*E,P=S.size||b.height;nf(S.start)&&(l=S.start),b.fullSize?lT(b,i.left,l,t.outerWidth-i.right-i.left,P):lT(b,e.left+S.placed,l,O,P),S.start=l,S.placed+=O,l=b.bottom}else{let O=e.h*E,P=S.size||b.width;nf(S.start)&&(a=S.start),b.fullSize?lT(b,a,i.top,P,t.outerHeight-i.bottom-i.top):lT(b,a,e.top+S.placed,P,O),S.start=a,S.placed+=O,a=b.right}}e.x=a,e.y=l}function YKe(r,e){let t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[pT]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",bie(i)){let a=lq(r,"width");a!==void 0&&(r.width=a)}if(bie(n))if(r.style.height==="")r.height=r.width/(e||2);else{let a=lq(r,"height");a!==void 0&&(r.height=a)}return r}function ZKe(r,e,t){r.addEventListener(e,t,roe)}function XKe(r,e,t){r.canvas.removeEventListener(e,t,roe)}function JKe(r,e){let t=KKe[r.type]||r.type,{x:n,y:i}=aq(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function gT(r,e){for(let t of r)if(t===e||t.contains(e))return!0}function QKe(r,e,t){let n=r.canvas,i=new MutationObserver(a=>{let l=!1;for(let h of a)l=l||gT(h.addedNodes,n),l=l&&!gT(h.removedNodes,n);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function eYe(r,e,t){let n=r.canvas,i=new MutationObserver(a=>{let l=!1;for(let h of a)l=l||gT(h.removedNodes,n),l=l&&!gT(h.addedNodes,n);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function noe(){let r=window.devicePixelRatio;r!==xie&&(xie=r,H1.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function tYe(r,e){H1.size||window.addEventListener("resize",noe),H1.set(r,e)}function rYe(r){H1.delete(r),H1.size||window.removeEventListener("resize",noe)}function nYe(r,e,t){let n=r.canvas,i=n&&aT(n);if(!i)return;let a=BF((h,b)=>{let S=i.clientWidth;t(h,b),S<i.clientWidth&&t()},window),l=new ResizeObserver(h=>{let b=h[0],S=b.contentRect.width,E=b.contentRect.height;S===0&&E===0||a(S,E)});return l.observe(i),tYe(r,a),l}function bq(r,e,t){t&&t.disconnect(),e==="resize"&&rYe(r)}function iYe(r,e,t){let n=r.canvas,i=BF(a=>{r.ctx!==null&&t(JKe(a,r))},r,a=>{let l=a[0];return[l,l.offsetX,l.offsetY]});return ZKe(n,e,i),i}function oYe(r){return!oq()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?toe:ioe}function aYe(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}function sYe(r,e){let t=r.options.ticks,n=t.maxTicksLimit||lYe(r),i=t.major.enabled?cYe(e):[],a=i.length,l=i[0],h=i[a-1],b=[];if(a>n)return fYe(e,b,i,a/n),b;let S=uYe(i,e,n);if(a>0){let E,O,P=a>1?Math.round((h-l)/(a-1)):null;for(uT(e,b,S,Hi(P)?0:l-P,l),E=0,O=a-1;E<O;E++)uT(e,b,S,i[E],i[E+1]);return uT(e,b,S,h,Hi(P)?e.length:h+P),b}return uT(e,b,S),b}function lYe(r){let e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function uYe(r,e,t){let n=hYe(r),i=e.length/t;if(!n)return Math.max(i,1);let a=Ine(n);for(let l=0,h=a.length-1;l<h;l++){let b=a[l];if(b>i)return b}return Math.max(i,1)}function cYe(r){let e=[],t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function fYe(r,e,t,n){let i=0,a=t[0],l;for(n=Math.ceil(n),l=0;l<r.length;l++)l===a&&(e.push(r[l]),i++,a=t[i*n])}function uT(r,e,t,n,i){let a=Qn(n,0),l=Math.min(Qn(i,r.length),r.length),h=0,b,S,E;for(t=Math.ceil(t),i&&(b=i-n,t=b/Math.floor(b/t)),E=a;E<0;)h++,E=Math.round(a+h*t);for(S=Math.max(a,0);S<l;S++)S===E&&(e.push(r[S]),h++,E=Math.round(a+h*t))}function hYe(r){let e=r.length,t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}function wie(r,e){let t=[],n=r.length/e,i=r.length,a=0;for(;a<i;a+=n)t.push(r[Math.floor(a)]);return t}function pYe(r,e,t){let n=r.ticks.length,i=Math.min(e,n-1),a=r._startPixel,l=r._endPixel,h=1e-6,b=r.getPixelForTick(i),S;if(!(t&&(n===1?S=Math.max(b-a,l-b):e===0?S=(r.getPixelForTick(1)-b)/2:S=(b-r.getPixelForTick(i-1))/2,b+=i<e?S:-S,b<a-h||b>l+h)))return b}function mYe(r,e){ho(r,t=>{let n=t.gc,i=n.length/2,a;if(i>e){for(a=0;a<i;++a)delete t.data[n[a]];n.splice(0,i)}})}function q1(r){return r.drawTicks?r.tickLength:0}function Sie(r,e){if(!r.display)return 0;let t=Ps(r.font,e),n=Yl(r.padding);return(No(r.text)?r.text.length:1)*t.lineHeight+n.height}function gYe(r,e){return Fp(r,{scale:e,type:"scale"})}function vYe(r,e,t){return Fp(r,{tick:t,index:e,type:"tick"})}function yYe(r,e,t){let n=JE(r);return(t&&e!=="right"||!t&&e==="right")&&(n=dYe(n)),n}function bYe(r,e,t,n){let{top:i,left:a,bottom:l,right:h,chart:b}=r,{chartArea:S,scales:E}=b,O=0,P,q,z,N=l-i,V=h-a;if(r.isHorizontal()){if(q=Kl(n,a,h),Ti(t)){let Y=Object.keys(t)[0],J=t[Y];z=E[Y].getPixelForValue(J)+N-e}else t==="center"?z=(S.bottom+S.top)/2+N-e:z=_ie(r,t,e);P=h-a}else{if(Ti(t)){let Y=Object.keys(t)[0],J=t[Y];q=E[Y].getPixelForValue(J)-V+e}else t==="center"?q=(S.left+S.right)/2-V+e:q=_ie(r,t,e);z=Kl(n,l,i),O=t==="left"?-Fa:Fa}return{titleX:q,titleY:z,maxWidth:P,rotation:O}}function xYe(r,e,t){let n=Zb(Object.create(null),[t?_i.get(t):{},_i.get(e),r.defaults]);_i.set(e,n),r.defaultRoutes&&_Ye(e,r.defaultRoutes),r.descriptors&&_i.describe(e,r.descriptors)}function _Ye(r,e){Object.keys(e).forEach(t=>{let n=t.split("."),i=n.pop(),a=[r].concat(n).join("."),l=e[t].split("."),h=l.pop(),b=l.join(".");_i.route(a,i,b,h)})}function wYe(r){return"id"in r&&"defaults"in r}function SYe(r){let e=[],t=Object.keys(Np.plugins.items);for(let i=0;i<t.length;i++)e.push(Np.getPlugin(t[i]));let n=r.plugins||[];for(let i=0;i<n.length;i++){let a=n[i];e.indexOf(a)===-1&&e.push(a)}return e}function kYe(r,e){return!e&&r===!1?null:r===!0?{}:r}function CYe(r,e,t,n){let i=[],a=r.getContext();for(let l=0;l<e.length;l++){let h=e[l],b=h.id,S=kYe(t[b],n);S!==null&&i.push({plugin:h,options:EYe(r.config,h,S,a)})}return i}function EYe(r,e,t,n){let i=r.pluginScopeKeys(e),a=r.getOptionScopes(t,i);return r.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sq(r,e){let t=_i.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function TYe(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function AYe(r,e){return r===e?"_index_":"_value_"}function DYe(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function kq(r,e){return r==="x"||r==="y"?r:e.axis||DYe(e.position)||r.charAt(0).toLowerCase()}function OYe(r,e){let t=Km[r.type]||{scales:{}},n=e.scales||{},i=Sq(r.type,e),a=Object.create(null),l=Object.create(null);return Object.keys(n).forEach(h=>{let b=n[h];if(!Ti(b))return console.error(`Invalid scale configuration for scale: ${h}`);if(b._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${h}`);let S=kq(h,b),E=AYe(S,i),O=t.scales||{};a[S]=a[S]||h,l[h]=Jb(Object.create(null),[{axis:S},b,O[S],O[E]])}),r.data.datasets.forEach(h=>{let b=h.type||r.type,S=h.indexAxis||Sq(b,e),O=(Km[b]||{}).scales||{};Object.keys(O).forEach(P=>{let q=TYe(P,S),z=h[q+"AxisID"]||a[q]||q;l[z]=l[z]||Object.create(null),Jb(l[z],[{axis:q},n[z],O[P]])})}),Object.keys(l).forEach(h=>{let b=l[h];Jb(b,[_i.scales[b.type],_i.scale])}),l}function loe(r){let e=r.options||(r.options={});e.plugins=Qn(e.plugins,{}),e.scales=OYe(r,e)}function uoe(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function IYe(r){return r=r||{},r.data=uoe(r.data),loe(r),r}function cT(r,e){let t=kie.get(r);return t||(t=e(),kie.set(r,t),coe.add(t)),t}function Cie(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));let i=t.join(),a=n.get(i);return a||(a={resolver:oT(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},n.set(i,a)),a}function PYe(r,e){let{isScriptable:t,isIndexable:n}=rq(r);for(let i of e){let a=t(i),l=n(i),h=(l||a)&&r[i];if(a&&(Rp(h)||MYe(h))||l&&No(h))return!0}return!1}function Eie(r,e){return r==="top"||r==="bottom"||RYe.indexOf(r)===-1&&e==="x"}function Tie(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function Aie(r){let e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Bo(t&&t.onComplete,[r],e)}function FYe(r){let e=r.chart,t=e.options.animation;Bo(t&&t.onProgress,[r],e)}function hoe(r){return oq()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}function qYe(r,e,t){let n=Object.keys(r);for(let i of n){let a=+i;if(a>=e){let l=r[i];delete r[i],(t>0||a>e)&&(r[a+t]=l)}}}function zYe(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}function poe(r,e,t){let{startAngle:n,pixelMargin:i,x:a,y:l,outerRadius:h,innerRadius:b}=e,S=i/h;r.beginPath(),r.arc(a,l,h,n-S,t+S),b>i?(S=i/b,r.arc(a,l,b,t+S,n-S,!0)):r.arc(a,l,i,t+Fa,n-Fa),r.closePath(),r.clip()}function NYe(r){return nT(r,["outerStart","outerEnd","innerStart","innerEnd"])}function BYe(r,e,t,n){let i=NYe(r.options.borderRadius),a=(t-e)/2,l=Math.min(a,n*e/2),h=b=>{let S=(t-Math.min(a,b))*n/2;return al(b,0,Math.min(a,S))};return{outerStart:h(i.outerStart),outerEnd:h(i.outerEnd),innerStart:al(i.innerStart,0,l),innerEnd:al(i.innerEnd,0,l)}}function i0(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function Cq(r,e,t,n,i){let{x:a,y:l,startAngle:h,pixelMargin:b,innerRadius:S}=e,E=Math.max(e.outerRadius+n+t-b,0),O=S>0?S+n+t+b:0,P=0,q=i-h;if(n){let re=S>0?S-n:0,ie=E>0?E-n:0,pe=(re+ie)/2,je=pe!==0?q*pe/(pe+n):q;P=(q-je)/2}let z=Math.max(.001,q*E-t/va)/E,N=(q-z)/2,V=h+N+P,Y=i-N-P,{outerStart:J,outerEnd:se,innerStart:_,innerEnd:me}=BYe(e,O,E,Y-V),ne=E-J,de=E-se,he=V+J/ne,be=Y-se/de,xe=O+_,We=O+me,R=V+_/xe,G=Y-me/We;if(r.beginPath(),r.arc(a,l,E,he,be),se>0){let re=i0(de,be,a,l);r.arc(re.x,re.y,se,be,Y+Fa)}let ae=i0(We,Y,a,l);if(r.lineTo(ae.x,ae.y),me>0){let re=i0(We,G,a,l);r.arc(re.x,re.y,me,Y+Fa,G+Math.PI)}if(r.arc(a,l,O,Y-me/O,V+_/O,!0),_>0){let re=i0(xe,R,a,l);r.arc(re.x,re.y,_,R+Math.PI,V-Fa)}let Ce=i0(ne,V,a,l);if(r.lineTo(Ce.x,Ce.y),J>0){let re=i0(ne,he,a,l);r.arc(re.x,re.y,J,V-Fa,he)}r.closePath()}function jYe(r,e,t,n){let{fullCircles:i,startAngle:a,circumference:l}=e,h=e.endAngle;if(i){Cq(r,e,t,n,a+Do);for(let b=0;b<i;++b)r.fill();isNaN(l)||(h=a+l%Do,l%Do===0&&(h+=Do))}return Cq(r,e,t,n,h),r.fill(),h}function UYe(r,e,t){let{x:n,y:i,startAngle:a,pixelMargin:l,fullCircles:h}=e,b=Math.max(e.outerRadius-l,0),S=e.innerRadius+l,E;for(t&&poe(r,e,a+Do),r.beginPath(),r.arc(n,i,S,a+Do,a,!0),E=0;E<h;++E)r.stroke();for(r.beginPath(),r.arc(n,i,b,a,a+Do),E=0;E<h;++E)r.stroke()}function HYe(r,e,t,n,i){let{options:a}=e,{borderWidth:l,borderJoinStyle:h}=a,b=a.borderAlign==="inner";!l||(b?(r.lineWidth=l*2,r.lineJoin=h||"round"):(r.lineWidth=l,r.lineJoin=h||"bevel"),e.fullCircles&&UYe(r,e,b),b&&poe(r,e,i),Cq(r,e,t,n,i),r.stroke())}function moe(r,e,t=e){r.lineCap=Qn(t.borderCapStyle,e.borderCapStyle),r.setLineDash(Qn(t.borderDash,e.borderDash)),r.lineDashOffset=Qn(t.borderDashOffset,e.borderDashOffset),r.lineJoin=Qn(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=Qn(t.borderWidth,e.borderWidth),r.strokeStyle=Qn(t.borderColor,e.borderColor)}function WYe(r,e,t){r.lineTo(t.x,t.y)}function VYe(r){return r.stepped?jne:r.tension||r.cubicInterpolationMode==="monotone"?Une:WYe}function goe(r,e,t={}){let n=r.length,{start:i=0,end:a=n-1}=t,{start:l,end:h}=e,b=Math.max(i,l),S=Math.min(a,h),E=i<l&&a<l||i>h&&a>h;return{count:n,start:b,loop:e.loop,ilen:S<b&&!E?n+S-b:S-b}}function $Ye(r,e,t,n){let{points:i,options:a}=e,{count:l,start:h,loop:b,ilen:S}=goe(i,t,n),E=VYe(a),{move:O=!0,reverse:P}=n||{},q,z,N;for(q=0;q<=S;++q)z=i[(h+(P?S-q:q))%l],!z.skip&&(O?(r.moveTo(z.x,z.y),O=!1):E(r,N,z,P,a.stepped),N=z);return b&&(z=i[(h+(P?S:0))%l],E(r,N,z,P,a.stepped)),!!b}function GYe(r,e,t,n){let i=e.points,{count:a,start:l,ilen:h}=goe(i,t,n),{move:b=!0,reverse:S}=n||{},E=0,O=0,P,q,z,N,V,Y,J=_=>(l+(S?h-_:_))%a,se=()=>{N!==V&&(r.lineTo(E,V),r.lineTo(E,N),r.lineTo(E,Y))};for(b&&(q=i[J(0)],r.moveTo(q.x,q.y)),P=0;P<=h;++P){if(q=i[J(P)],q.skip)continue;let _=q.x,me=q.y,ne=_|0;ne===z?(me<N?N=me:me>V&&(V=me),E=(O*E+_)/++O):(se(),r.lineTo(_,me),z=ne,O=0,N=V=me),Y=me}se()}function Eq(r){let e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?GYe:$Ye}function KYe(r){return r.stepped?tie:r.tension||r.cubicInterpolationMode==="monotone"?rie:Vm}function YYe(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),moe(r,e.options),r.stroke(i)}function ZYe(r,e,t,n){let{segments:i,options:a}=e,l=Eq(e);for(let h of i)moe(r,a,h.style),r.beginPath(),l(r,e,h,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}function JYe(r,e,t,n){XYe&&!e.options.segment?YYe(r,e,t,n):ZYe(r,e,t,n)}function Oie(r,e,t,n){let i=r.options,{[t]:a}=r.getProps([t],n);return Math.abs(e-a)<i.radius+i.hitRadius}function voe(r,e){let{x:t,y:n,base:i,width:a,height:l}=r.getProps(["x","y","base","width","height"],e),h,b,S,E,O;return r.horizontal?(O=l/2,h=Math.min(t,i),b=Math.max(t,i),S=n-O,E=n+O):(O=a/2,h=t-O,b=t+O,S=Math.min(n,i),E=Math.max(n,i)),{left:h,top:S,right:b,bottom:E}}function Jm(r,e,t,n){return r?0:al(e,t,n)}function QYe(r,e,t){let n=r.options.borderWidth,i=r.borderSkipped,a=QF(n);return{t:Jm(i.top,a.top,0,t),r:Jm(i.right,a.right,0,e),b:Jm(i.bottom,a.bottom,0,t),l:Jm(i.left,a.left,0,e)}}function eZe(r,e,t){let{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),i=r.options.borderRadius,a=Sv(i),l=Math.min(e,t),h=r.borderSkipped,b=n||Ti(i);return{topLeft:Jm(!b||h.top||h.left,a.topLeft,0,l),topRight:Jm(!b||h.top||h.right,a.topRight,0,l),bottomLeft:Jm(!b||h.bottom||h.left,a.bottomLeft,0,l),bottomRight:Jm(!b||h.bottom||h.right,a.bottomRight,0,l)}}function tZe(r){let e=voe(r),t=e.right-e.left,n=e.bottom-e.top,i=QYe(r,t/2,n/2),a=eZe(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function xq(r,e,t,n){let i=e===null,a=t===null,h=r&&!(i&&a)&&voe(r,n);return h&&(i||Td(e,h.left,h.right))&&(a||Td(t,h.top,h.bottom))}function rZe(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function nZe(r,e){r.rect(e.x,e.y,e.w,e.h)}function _q(r,e,t={}){let n=r.x!==t.x?-e:0,i=r.y!==t.y?-e:0,a=(r.x+r.w!==t.x+t.w?e:0)-n,l=(r.y+r.h!==t.y+t.h?e:0)-i;return{x:r.x+n,y:r.y+i,w:r.w+a,h:r.h+l,radius:r.radius}}function oZe(r,e,t,n,i){let a=i.samples||n;if(a>=t)return r.slice(e,e+t);let l=[],h=(t-2)/(a-2),b=0,S=e+t-1,E=e,O,P,q,z,N;for(l[b++]=r[E],O=0;O<a-2;O++){let V=0,Y=0,J,se=Math.floor((O+1)*h)+1+e,_=Math.min(Math.floor((O+2)*h)+1,t)+e,me=_-se;for(J=se;J<_;J++)V+=r[J].x,Y+=r[J].y;V/=me,Y/=me;let ne=Math.floor(O*h)+1+e,de=Math.min(Math.floor((O+1)*h)+1,t)+e,{x:he,y:be}=r[E];for(q=z=-1,J=ne;J<de;J++)z=.5*Math.abs((he-V)*(r[J].y-be)-(he-r[J].x)*(Y-be)),z>q&&(q=z,P=r[J],N=J);l[b++]=P,E=N}return l[b++]=r[S],l}function aZe(r,e,t,n){let i=0,a=0,l,h,b,S,E,O,P,q,z,N,V=[],Y=e+t-1,J=r[e].x,_=r[Y].x-J;for(l=e;l<e+t;++l){h=r[l],b=(h.x-J)/_*n,S=h.y;let me=b|0;if(me===E)S<z?(z=S,O=l):S>N&&(N=S,P=l),i=(a*i+h.x)/++a;else{let ne=l-1;if(!Hi(O)&&!Hi(P)){let de=Math.min(O,P),he=Math.max(O,P);de!==q&&de!==ne&&V.push({...r[de],x:i}),he!==q&&he!==ne&&V.push({...r[he],x:i})}l>0&&ne!==q&&V.push(r[ne]),V.push(h),E=me,a=0,z=N=S,O=P=q=l}}return V}function yoe(r){if(r._decimated){let e=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{value:e})}}function Iie(r){r.data.datasets.forEach(e=>{yoe(e)})}function sZe(r,e){let t=e.length,n=0,i,{iScale:a}=r,{min:l,max:h,minDefined:b,maxDefined:S}=a.getUserBounds();return b&&(n=al(Ad(e,a.axis,l).lo,0,t-1)),S?i=al(Ad(e,a.axis,h).hi+1,n,t)-n:i=t-n,{start:n,count:i}}function uZe(r,e){let t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function cZe(r){let e=r.options,t=e.fill,n=Qn(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function fZe(r,e,t){let n=cZe(r);if(Ti(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return es(i)&&Math.floor(i)===i?((n[0]==="-"||n[0]==="+")&&(i=e+i),i===e||i<0||i>=t?!1:i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function hZe(r){let{scale:e={},fill:t}=r,n=null,i;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ti(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),es(n)?(i=e.isHorizontal(),{x:i?n:null,y:i?null:n}):null}function dZe(r){let{scale:e,fill:t}=r,n=e.options,i=e.getLabels().length,a=[],l=n.reverse?e.max:e.min,h=n.reverse?e.min:e.max,b,S,E;if(t==="start"?E=l:t==="end"?E=h:Ti(t)?E=t.value:E=e.getBaseValue(),n.grid.circular)return S=e.getPointPositionForValue(0,l),new Lq({x:S.x,y:S.y,radius:e.getDistanceFromCenterForValue(E)});for(b=0;b<i;++b)a.push(e.getPointPositionForValue(b,E));return a}function pZe(r){return(r.scale||{}).getPointPositionForValue?dZe(r):hZe(r)}function boe(r,e,t){for(;e>r;e--){let n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function mZe(r,e){let{x:t=null,y:n=null}=r||{},i=e.points,a=[];return e.segments.forEach(({start:l,end:h})=>{h=boe(l,h,i);let b=i[l],S=i[h];n!==null?(a.push({x:b.x,y:n}),a.push({x:S.x,y:n})):t!==null&&(a.push({x:t,y:b.y}),a.push({x:t,y:S.y}))}),a}function gZe(r){let{scale:e,index:t,line:n}=r,i=[],a=n.segments,l=n.points,h=vZe(e,t);h.push(xoe({x:null,y:e.bottom},n));for(let b=0;b<a.length;b++){let S=a[b];for(let E=S.start;E<=S.end;E++)yZe(i,l[E],h)}return new Bp({points:i,options:{}})}function vZe(r,e){let t=[],n=r.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){let a=n[i];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function yZe(r,e,t){let n=[];for(let i=0;i<t.length;i++){let a=t[i],{first:l,last:h,point:b}=bZe(a,e,"x");if(!(!b||l&&h)){if(l)n.unshift(b);else if(r.push(b),!h)break}}r.push(...n)}function bZe(r,e,t){let n=r.interpolate(e,t);if(!n)return{};let i=n[t],a=r.segments,l=r.points,h=!1,b=!1;for(let S=0;S<a.length;S++){let E=a[S],O=l[E.start][t],P=l[E.end][t];if(Td(i,O,P)){h=i===O,b=i===P;break}}return{first:h,last:b,point:n}}function xZe(r){let{chart:e,fill:t,line:n}=r;if(es(t))return uZe(e,t);if(t==="stack")return gZe(r);if(t==="shape")return!0;let i=pZe(r);return i instanceof Lq?i:xoe(i,n)}function xoe(r,e){let t=[],n=!1;return No(r)?(n=!0,t=r):t=mZe(r,e),t.length?new Bp({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function _Ze(r,e,t){let i=r[e].fill,a=[e],l;if(!t)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!es(i))return i;if(l=r[i],!l)return!1;if(l.visible)return i;a.push(i),i=l.fill}return!1}function Mie(r,e,t){r.beginPath(),e.path(r),r.lineTo(e.last().x,t),r.lineTo(e.first().x,t),r.closePath(),r.clip()}function Tq(r,e,t,n){if(n)return;let i=e[r],a=t[r];return r==="angle"&&(i=Sc(i),a=Sc(a)),{property:r,start:i,end:a}}function Pie(r,e,t,n){return r&&e?n(r[t],e[t]):r?r[t]:e?e[t]:0}function wZe(r,e,t){let n=r.segments,i=r.points,a=e.points,l=[];for(let h of n){let{start:b,end:S}=h;S=boe(b,S,i);let E=Tq(t,i[b],i[S],h.loop);if(!e.segments){l.push({source:h,target:E,start:i[b],end:i[S]});continue}let O=hq(e,E);for(let P of O){let q=Tq(t,a[P.start],a[P.end],P.loop),z=fq(h,i,q);for(let N of z)l.push({source:N,target:P,start:{[t]:Pie(E,q,"start",Math.max)},end:{[t]:Pie(E,q,"end",Math.min)}})}}return l}function SZe(r,e,t){let{top:n,bottom:i}=e.chart.chartArea,{property:a,start:l,end:h}=t||{};a==="x"&&(r.beginPath(),r.rect(l,n,h-l,i-n),r.clip())}function Lie(r,e,t,n){let i=e.interpolate(t,n);i&&r.lineTo(i.x,i.y)}function Rie(r,e){let{line:t,target:n,property:i,color:a,scale:l}=e,h=wZe(t,n,i);for(let{source:b,target:S,start:E,end:O}of h){let{style:{backgroundColor:P=a}={}}=b,q=n!==!0;r.save(),r.fillStyle=P,SZe(r,l,q&&Tq(i,E,O)),r.beginPath();let z=!!t.pathSegment(r,b),N;if(q){z?r.closePath():Lie(r,n,O,i);let V=!!n.pathSegment(r,S,{move:z,reverse:!0});N=z&&V,N||Lie(r,n,E,i)}r.closePath(),r.fill(N?"evenodd":"nonzero"),r.restore()}}function kZe(r,e){let{line:t,target:n,above:i,below:a,area:l,scale:h}=e,b=t._loop?"angle":e.axis;r.save(),b==="x"&&a!==i&&(Mie(r,n,l.top),Rie(r,{line:t,target:n,color:i,scale:h,property:b}),r.restore(),r.save(),Mie(r,n,l.bottom)),Rie(r,{line:t,target:n,color:a,scale:h,property:b}),r.restore()}function wq(r,e,t){let n=xZe(e),{line:i,scale:a,axis:l}=e,h=i.options,b=h.fill,S=h.backgroundColor,{above:E=S,below:O=S}=b||{};n&&i.points.length&&(I1(r,t),kZe(r,{line:i,target:n,above:E,below:O,area:t,scale:a,axis:l}),M1(r))}function TZe(r,e){return!!(r==="mousemove"&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}function DZe(r,e){let t=new _T({ctx:r.ctx,options:e,chart:r});Su.configure(r,t,e),Su.addBox(r,t),r.titleBlock=t}function Dd(r,e){return e&&(No(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function zp(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function MZe(r,e){let{element:t,datasetIndex:n,index:i}=e,a=r.getDatasetMeta(n).controller,{label:l,value:h}=a.getLabelAndValue(i);return{chart:r,label:l,parsed:a.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:h,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function qie(r,e){let t=r.chart.ctx,{body:n,footer:i,title:a}=r,{boxWidth:l,boxHeight:h}=e,b=Ps(e.bodyFont),S=Ps(e.titleFont),E=Ps(e.footerFont),O=a.length,P=i.length,q=n.length,z=Yl(e.padding),N=z.height,V=0,Y=n.reduce((_,me)=>_+me.before.length+me.lines.length+me.after.length,0);if(Y+=r.beforeBody.length+r.afterBody.length,O&&(N+=O*S.lineHeight+(O-1)*e.titleSpacing+e.titleMarginBottom),Y){let _=e.displayColors?Math.max(h,b.lineHeight):b.lineHeight;N+=q*_+(Y-q)*b.lineHeight+(Y-1)*e.bodySpacing}P&&(N+=e.footerMarginTop+P*E.lineHeight+(P-1)*e.footerSpacing);let J=0,se=function(_){V=Math.max(V,t.measureText(_).width+J)};return t.save(),t.font=S.string,ho(r.title,se),t.font=b.string,ho(r.beforeBody.concat(r.afterBody),se),J=e.displayColors?l+2+e.boxPadding:0,ho(n,_=>{ho(_.before,se),ho(_.lines,se),ho(_.after,se)}),J=0,t.font=E.string,ho(r.footer,se),t.restore(),V+=z.width,{width:V,height:N}}function PZe(r,e){let{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function LZe(r,e,t,n){let{x:i,width:a}=n,l=t.caretSize+t.caretPadding;if(r==="left"&&i+a+l>e.width||r==="right"&&i-a-l<0)return!0}function RZe(r,e,t,n){let{x:i,width:a}=t,{width:l,chartArea:{left:h,right:b}}=r,S="center";return n==="center"?S=i<=(h+b)/2?"left":"right":i<=a/2?S="left":i>=l-a/2&&(S="right"),LZe(S,r,e,t)&&(S="center"),S}function zie(r,e,t){let n=t.yAlign||e.yAlign||PZe(r,t);return{xAlign:t.xAlign||e.xAlign||RZe(r,e,t,n),yAlign:n}}function FZe(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function qZe(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function Nie(r,e,t,n){let{caretSize:i,caretPadding:a,cornerRadius:l}=r,{xAlign:h,yAlign:b}=t,S=i+a,{topLeft:E,topRight:O,bottomLeft:P,bottomRight:q}=Sv(l),z=FZe(e,h),N=qZe(e,b,S);return b==="center"?h==="left"?z+=S:h==="right"&&(z-=S):h==="left"?z-=Math.max(E,P)+i:h==="right"&&(z+=Math.max(O,q)+i),{x:al(z,0,n.width-e.width),y:al(N,0,n.height-e.height)}}function hT(r,e,t){let n=Yl(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function Bie(r){return Dd([],zp(r))}function zZe(r,e,t){return Fp(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function jie(r,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}function UZe(r,e,t,n){let i=r.indexOf(e);if(i===-1)return jZe(r,e,t,n);let a=r.lastIndexOf(e);return i!==a?t:i}function WZe(r,e){let t=[],{bounds:i,step:a,min:l,max:h,precision:b,count:S,maxTicks:E,maxDigits:O,includeBounds:P}=r,q=a||1,z=E-1,{min:N,max:V}=e,Y=!Hi(l),J=!Hi(h),se=!Hi(S),_=(V-N)/(O+1),me=HF((V-N)/z/q)*q,ne,de,he,be;if(me<1e-14&&!Y&&!J)return[{value:N},{value:V}];be=Math.ceil(V/me)-Math.floor(N/me),be>z&&(me=HF(be*me/z/q)*q),Hi(b)||(ne=Math.pow(10,b),me=Math.ceil(me*ne)/ne),i==="ticks"?(de=Math.floor(N/me)*me,he=Math.ceil(V/me)*me):(de=N,he=V),Y&&J&&a&&Mne((h-l)/a,me/1e3)?(be=Math.round(Math.min((h-l)/me,E)),me=(h-l)/be,de=l,he=h):se?(de=Y?l:de,he=J?h:he,be=S-1,me=(he-de)/be):(be=(he-de)/me,e0(be,Math.round(be),me/1e3)?be=Math.round(be):be=Math.ceil(be));let xe=Math.max(VF(me),VF(de));ne=Math.pow(10,Hi(b)?xe:b),de=Math.round(de*ne)/ne,he=Math.round(he*ne)/ne;let We=0;for(Y&&(P&&de!==l?(t.push({value:l}),de<l&&We++,e0(Math.round((de+We*me)*ne)/ne,l,Uie(l,_,r))&&We++):de<l&&We++);We<be;++We)t.push({value:Math.round((de+We*me)*ne)/ne});return J&&P&&he!==h?t.length&&e0(t[t.length-1].value,h,Uie(h,_,r))?t[t.length-1].value=h:t.push({value:h}):(!J||he===h)&&t.push({value:he}),t}function Uie(r,e,{horizontal:t,minRotation:n}){let i=Rf(n),a=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+r).length;return Math.min(e/a,l)}function Hie(r){return r/Math.pow(10,Math.floor(af(r)))===1}function VZe(r,e){let t=Math.floor(af(e.max)),n=Math.ceil(e.max/Math.pow(10,t)),i=[],a=of(r.min,Math.pow(10,Math.floor(af(e.min)))),l=Math.floor(af(a)),h=Math.floor(a/Math.pow(10,l)),b=l<0?Math.pow(10,Math.abs(l)):1;do i.push({value:a,major:Hie(a)}),++h,h===10&&(h=1,++l,b=l>=0?1:b),a=Math.round(h*Math.pow(10,l)*b)/b;while(l<t||l===t&&h<n);let S=of(r.max,a);return i.push({value:S,major:Hie(a)}),i}function Dq(r){let e=r.ticks;if(e.display&&r.display){let t=Yl(e.backdropPadding);return Qn(e.font&&e.font.size,_i.font.size)+t.height}return 0}function $Ze(r,e,t){return t=No(t)?t:[t],{w:Bne(r,e.string,t),h:t.length*e.lineHeight}}function Wie(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function GZe(r){let e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],a=r._pointLabels.length,l=r.options.pointLabels,h=l.centerPointLabels?va/a:0;for(let b=0;b<a;b++){let S=l.setContext(r.getPointLabelContext(b));i[b]=S.padding;let E=r.getPointPosition(b,r.drawingArea+i[b],h),O=Ps(S.font),P=$Ze(r.ctx,O,r._pointLabels[b]);n[b]=P;let q=Sc(r.getIndexAngle(b)+h),z=Math.round(eT(q)),N=Wie(z,E.x,P.w,0,180),V=Wie(z,E.y,P.h,90,270);KZe(t,e,q,N,V)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=YZe(r,n,i)}function KZe(r,e,t,n,i){let a=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t)),h=0,b=0;n.start<e.l?(h=(e.l-n.start)/a,r.l=Math.min(r.l,e.l-h)):n.end>e.r&&(h=(n.end-e.r)/a,r.r=Math.max(r.r,e.r+h)),i.start<e.t?(b=(e.t-i.start)/l,r.t=Math.min(r.t,e.t-b)):i.end>e.b&&(b=(i.end-e.b)/l,r.b=Math.max(r.b,e.b+b))}function YZe(r,e,t){let n=[],i=r._pointLabels.length,a=r.options,l=Dq(a)/2,h=r.drawingArea,b=a.pointLabels.centerPointLabels?va/i:0;for(let S=0;S<i;S++){let E=r.getPointPosition(S,h+l+t[S],b),O=Math.round(eT(Sc(E.angle+Fa))),P=e[S],q=JZe(E.y,P.h,O),z=ZZe(O),N=XZe(E.x,P.w,z);n.push({x:E.x,y:q,textAlign:z,left:N,top:q,right:N+P.w,bottom:q+P.h})}return n}function ZZe(r){return r===0||r===180?"center":r<180?"left":"right"}function XZe(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function JZe(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function QZe(r,e){let{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){let a=n.setContext(r.getPointLabelContext(i)),l=Ps(a.font),{x:h,y:b,textAlign:S,left:E,top:O,right:P,bottom:q}=r._pointLabelItems[i],{backdropColor:z}=a;if(!Hi(z)){let N=Yl(a.backdropPadding);t.fillStyle=z,t.fillRect(E-N.left,O-N.top,P-E+N.width,q-O+N.height)}Zm(t,r._pointLabels[i],h,b+l.lineHeight/2,l,{color:a.color,textAlign:S,textBaseline:"middle"})}}function _oe(r,e,t,n){let{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,Do);else{let a=r.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let l=1;l<n;l++)a=r.getPointPosition(l,e),i.lineTo(a.x,a.y)}}function eXe(r,e,t,n){let i=r.ctx,a=e.circular,{color:l,lineWidth:h}=e;!a&&!n||!l||!h||t<0||(i.save(),i.strokeStyle=l,i.lineWidth=h,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),_oe(r,t,a,n),i.closePath(),i.stroke(),i.restore())}function tXe(r,e,t){return Fp(r,{label:t,index:e,type:"pointLabel"})}function rXe(r,e){return r-e}function Vie(r,e){if(Hi(e))return null;let t=r._adapter,{parser:n,round:i,isoWeekday:a}=r._parseOpts,l=e;return typeof n=="function"&&(l=n(l)),es(l)||(l=typeof n=="string"?t.parse(l,n):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Qb(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,i)),+l)}function $ie(r,e,t,n){let i=kc.length;for(let a=kc.indexOf(r);a<i-1;++a){let l=kT[kc[a]],h=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(h*l.size))<=n)return kc[a]}return kc[i-1]}function nXe(r,e,t,n,i){for(let a=kc.length-1;a>=kc.indexOf(t);a--){let l=kc[a];if(kT[l].common&&r._adapter.diff(i,n,l)>=e-1)return l}return kc[t?kc.indexOf(t):0]}function iXe(r){for(let e=kc.indexOf(r)+1,t=kc.length;e<t;++e)if(kT[kc[e]].common)return kc[e]}function Gie(r,e,t){if(!t)r[e]=!0;else if(t.length){let{lo:n,hi:i}=iT(t,e),a=t[n]>=e?t[n]:t[i];r[a]=!0}}function oXe(r,e,t,n){let i=r._adapter,a=+i.startOf(e[0].value,n),l=e[e.length-1].value,h,b;for(h=a;h<=l;h=+i.add(h,1,n))b=t[h],b>=0&&(e[b].major=!0);return e}function Kie(r,e,t){let n=[],i={},a=e.length,l,h;for(l=0;l<a;++l)h=e[l],i[h]=l,n.push({value:h,major:!1});return a===0||!t?n:oXe(r,n,i,t)}function dT(r,e,t){let n=0,i=r.length-1,a,l,h,b;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=Ad(r,"pos",e)),{pos:a,time:h}=r[n],{pos:l,time:b}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=Ad(r,"time",e)),{time:a,pos:h}=r[n],{time:l,pos:b}=r[i]);let S=l-a;return S?h+(b-h)*(e-a)/S:h}var Yie,qp,oie,aKe,Zie,sKe,lKe,uKe,Oq,mq,fie,xKe,Dh,$1,G1,Ev,o0,K1,bT,Y1,Z1,LKe,mT,Iq,BKe,Qie,Su,Pq,toe,pT,KKe,bie,roe,H1,xie,ioe,Ff,ooe,xT,dYe,_ie,Qm,j1,aoe,Np,soe,kie,coe,z1,foe,MYe,LYe,RYe,vT,doe,a0,Die,Xm,X1,XYe,Bp,J1,Q1,iZe,lZe,Lq,CZe,Fie,EZe,Aq,AZe,_T,OZe,fT,IZe,U1,yT,NZe,BZe,jZe,HZe,W1,V1,wT,ST,s0,kT,kc,l0,CT,aXe,woe,Rq=He(()=>{dq();dq();Yie=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){let a=t.listeners[i],l=t.duration;a.forEach(h=>h({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(n-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=NF.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;let a=n.items,l=a.length-1,h=!1,b;for(;l>=0;--l)b=a[l],b._active?(b._total>n.duration&&(n.duration=b._total),b.tick(e),h=!0):(a[l]=a[a.length-1],a.pop());h&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let n=t.items,i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},qp=new Yie,oie="transparent",aKe={boolean(r,e,t){return t>.5?e:r},color(r,e,t){let n=XF(r||oie),i=n.valid&&XF(e||oie);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}},Zie=class{constructor(e,t,n,i){let a=t[n];i=r0([e.to,i,a,e.from]);let l=r0([e.from,a,i]);this._active=!0,this._fn=e.fn||aKe[e.type||typeof l],this._easing=Yb[e.easing]||Yb.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);let i=this._target[this._prop],a=n-this._start,l=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=r0([e.to,t,i,e.from]),this._from=r0([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,n=this._duration,i=this._prop,a=this._from,l=this._loop,h=this._to,b;if(this._active=a!==h&&(l||t<n),!this._active){this._target[i]=h,this._notify(!0);return}if(t<0){this._target[i]=a;return}b=t/n%2,b=l&&b>1?2-b:b,b=this._easing(Math.min(1,Math.max(0,b))),this._target[i]=this._fn(a,h,b)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){let t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}},sKe=["x","y","borderWidth","radius","tension"],lKe=["color","borderColor","backgroundColor"];_i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});uKe=Object.keys(_i.animation);_i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>r!=="onProgress"&&r!=="onComplete"&&r!=="fn"});_i.set("animations",{colors:{type:"color",properties:lKe},numbers:{type:"number",properties:sKe}});_i.describe("animations",{_fallback:"animation"});_i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>r|0}}}});Oq=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ti(e))return;let t=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{let i=e[n];if(!Ti(i))return;let a={};for(let l of uKe)a[l]=i[l];(No(i.properties)&&i.properties||[n]).forEach(l=>{(l===n||!t.has(l))&&t.set(l,a)})})}_animateOptions(e,t){let n=t.options,i=fKe(e,n);if(!i)return[];let a=this._createAnimations(i,n);return n.$shared&&cKe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){let n=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),h=Date.now(),b;for(b=l.length-1;b>=0;--b){let S=l[b];if(S.charAt(0)==="$")continue;if(S==="options"){i.push(...this._animateOptions(e,t));continue}let E=t[S],O=a[S],P=n.get(S);if(O)if(P&&O.active()){O.update(P,E,h);continue}else O.cancel();if(!P||!P.duration){e[S]=E;continue}a[S]=O=new Zie(P,e,S,E),i.push(O)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let n=this._createAnimations(e,t);if(n.length)return qp.add(this._chart,n),!0}};mq=r=>r==="reset"||r==="none",fie=(r,e)=>e?r:Object.assign({},r),xKe=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:Xie(t,!0),values:null},Dh=class{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lie(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&L1(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(O,P,q,z)=>O==="x"?P:O==="r"?z:q,a=t.xAxisID=Qn(n.xAxisID,pq(e,"x")),l=t.yAxisID=Qn(n.yAxisID,pq(e,"y")),h=t.rAxisID=Qn(n.rAxisID,pq(e,"r")),b=t.indexAxis,S=t.iAxisID=i(b,a,l,h),E=t.vAxisID=i(b,l,a,h);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(S),t.vScale=this.getScaleForId(E)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&eq(this._data,this),e._stacked&&L1(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Ti(t))this._data=pKe(t);else if(n!==t){if(n){eq(n,this);let i=this._cachedMeta;L1(i),i._parsed=[]}t&&Object.isExtensible(t)&&Gne(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,n=this.getDataset(),i=!1;this._dataCheck();let a=t._stacked;t._stacked=lie(t.vScale,t),t.stack!==n.stack&&(i=!0,L1(t),t.stack=n.stack),this._resyncElements(e),(i||a!==t._stacked)&&cie(this,t._parsed)}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:l}=n,h=a.axis,b=e===0&&t===i.length?!0:n._sorted,S=e>0&&n._parsed[e-1],E,O,P;if(this._parsing===!1)n._parsed=i,n._sorted=!0,P=i;else{No(i[e])?P=this.parseArrayData(n,i,e,t):Ti(i[e])?P=this.parseObjectData(n,i,e,t):P=this.parsePrimitiveData(n,i,e,t);let q=()=>O[h]===null||S&&O[h]<S[h];for(E=0;E<t;++E)n._parsed[E+e]=O=P[E],b&&(q()&&(b=!1),S=O);n._sorted=b}l&&cie(this,P)}parsePrimitiveData(e,t,n,i){let{iScale:a,vScale:l}=e,h=a.axis,b=l.axis,S=a.getLabels(),E=a===l,O=new Array(i),P,q,z;for(P=0,q=i;P<q;++P)z=P+n,O[P]={[h]:E||a.parse(S[z],z),[b]:l.parse(t[z],z)};return O}parseArrayData(e,t,n,i){let{xScale:a,yScale:l}=e,h=new Array(i),b,S,E,O;for(b=0,S=i;b<S;++b)E=b+n,O=t[E],h[b]={x:a.parse(O[0],E),y:l.parse(O[1],E)};return h}parseObjectData(e,t,n,i){let{xScale:a,yScale:l}=e,{xAxisKey:h="x",yAxisKey:b="y"}=this._parsing,S=new Array(i),E,O,P,q;for(E=0,O=i;E<O;++E)P=E+n,q=t[P],S[E]={x:a.parse(Gm(q,h),P),y:l.parse(Gm(q,b),P)};return S}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){let i=this.chart,a=this._cachedMeta,l=t[e.axis],h={keys:Xie(i,!0),values:t._stacks[e.axis]};return sie(h,l,a.index,{mode:n})}updateRangeFromParsed(e,t,n,i){let a=n[t.axis],l=a===null?NaN:a,h=i&&n._stacks[t.axis];i&&h&&(i.values=h,l=sie(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){let n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,l=i.length,h=this._getOtherScale(e),b=xKe(t,n,this.chart),S={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:E,max:O}=gKe(h),P,q;function z(){q=i[P];let N=q[h.axis];return!es(q[e.axis])||E>N||O<N}for(P=0;P<l&&!(!z()&&(this.updateRangeFromParsed(S,e,q,b),a));++P);if(a){for(P=l-1;P>=0;--P)if(!z()){this.updateRangeFromParsed(S,e,q,b);break}}return S}getAllParsedValues(e){let t=this._cachedMeta._parsed,n=[],i,a,l;for(i=0,a=t.length;i<a;++i)l=t[i][e.axis],es(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,n=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){let t=this._cachedMeta;this.update(e||"default"),t._clip=dKe(Qn(this.options.clip,hKe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],a=t.chartArea,l=[],h=this._drawStart||0,b=this._drawCount||i.length-h,S=this.options.drawActiveElementsOnTop,E;for(n.dataset&&n.dataset.draw(e,a,h,b),E=h;E<h+b;++E){let O=i[E];O.hidden||(O.active&&S?l.push(O):O.draw(e,a))}for(E=0;E<l.length;++E)l[E].draw(e,a)}getStyle(e,t){let n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){let i=this.getDataset(),a;if(e>=0&&e<this._cachedMeta.data.length){let l=this._cachedMeta.data[e];a=l.$context||(l.$context=bKe(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=yKe(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){let i=t==="active",a=this._cachedDataOpts,l=e+"-"+t,h=a[l],b=this.enableOptionSharing&&nf(n);if(h)return fie(h,b);let S=this.chart.config,E=S.datasetElementScopeKeys(this._type,e),O=i?[`${e}Hover`,"hover",e,""]:[e,""],P=S.getOptionScopes(this.getDataset(),E),q=Object.keys(_i.elements[e]),z=()=>this.getContext(n,i),N=S.resolveNamedOptions(P,q,z,O);return N.$shared&&(N.$shared=b,a[l]=Object.freeze(fie(N,b))),N}_resolveAnimations(e,t,n){let i=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,h=a[l];if(h)return h;let b;if(i.options.animation!==!1){let E=this.chart.config,O=E.datasetAnimationScopeKeys(this._type,t),P=E.getOptionScopes(this.getDataset(),O);b=E.createResolver(P,this.getContext(e,n,t))}let S=new Oq(i,b&&b.animations);return b&&b._cacheable&&(a[l]=Object.freeze(S)),S}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||mq(e)||this.chart._animationsDisabled}updateElement(e,t,n,i){mq(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!mq(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;let a=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,n=this._cachedMeta.data;for(let[h,b,S]of this._syncList)this[h](b,S);this._syncList=[];let i=n.length,a=t.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,n=!0){let i=this._cachedMeta,a=i.data,l=e+t,h,b=S=>{for(S.length+=t,h=S.length-1;h>=l;h--)S[h]=S[h-t]};for(b(a),h=e;h<l;++h)a[h]=new this.dataElementType;this._parsing&&b(i._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){let n=this._cachedMeta;if(this._parsing){let i=n._parsed.splice(e,t);n._stacked&&L1(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};Dh.defaults={};Dh.prototype.datasetElementType=null;Dh.prototype.dataElementType=null;$1=class extends Dh{parsePrimitiveData(e,t,n,i){return hie(e,t,n,i)}parseArrayData(e,t,n,i){return hie(e,t,n,i)}parseObjectData(e,t,n,i){let{iScale:a,vScale:l}=e,{xAxisKey:h="x",yAxisKey:b="y"}=this._parsing,S=a.axis==="x"?h:b,E=l.axis==="x"?h:b,O=[],P,q,z,N;for(P=n,q=n+i;P<q;++P)N=t[P],z={},z[a.axis]=a.parse(Gm(N,S),P),O.push(Jie(Gm(N,E),z,l,P));return O}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);let a=n._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let t=this._cachedMeta,{iScale:n,vScale:i}=t,a=this.getParsed(e),l=a._custom,h=gq(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){let a=i==="reset",{index:l,_cachedMeta:{vScale:h}}=this,b=h.getBasePixel(),S=h.isHorizontal(),E=this._getRuler(),O=this.resolveDataElementOptions(t,i),P=this.getSharedOptions(O),q=this.includeOptions(i,P);this.updateSharedOptions(P,i,O);for(let z=t;z<t+n;z++){let N=this.getParsed(z),V=a||Hi(N[h.axis])?{base:b,head:b}:this._calculateBarValuePixels(z),Y=this._calculateBarIndexPixels(z,E),J=(N._stacks||{})[h.axis],se={horizontal:S,base:V.base,enableBorderRadius:!J||gq(N._custom)||l===J._top||l===J._bottom,x:S?V.head:Y.center,y:S?Y.center:V.head,height:S?Y.size:Math.abs(V.size),width:S?Math.abs(V.size):Y.size};q&&(se.options=P||this.resolveDataElementOptions(z,e[z].active?"active":i));let _=se.options||e[z].options;AKe(se,_,J,l),OKe(se,_,E.ratio),this.updateElement(e[z],z,se,i)}}_getStacks(e,t){let i=this._cachedMeta.iScale,a=i.getMatchingVisibleMetas(this._type),l=i.options.stacked,h=a.length,b=[],S,E;for(S=0;S<h;++S)if(E=a[S],!!E.controller.options.grouped){if(typeof t<"u"){let O=E.controller.getParsed(t)[E.controller._cachedMeta.vScale.axis];if(Hi(O)||isNaN(O))continue}if((l===!1||b.indexOf(E.stack)===-1||l===void 0&&E.stack===void 0)&&b.push(E.stack),E.index===e)break}return b.length||b.push(void 0),b}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){let i=this._getStacks(e,n),a=t!==void 0?i.indexOf(t):-1;return a===-1?i.length-1:a}_getRuler(){let e=this.options,t=this._cachedMeta,n=t.iScale,i=[],a,l;for(a=0,l=t.data.length;a<l;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));let h=e.barThickness;return{min:h||wKe(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:t,_stacked:n},options:{base:i,minBarLength:a}}=this,l=i||0,h=this.getParsed(e),b=h._custom,S=gq(b),E=h[t.axis],O=0,P=n?this.applyStack(t,h,n):E,q,z;P!==E&&(O=P-E,P=E),S&&(E=b.barStart,P=b.barEnd-b.barStart,E!==0&&Ah(E)!==Ah(b.barEnd)&&(O=0),O+=E);let N=!Hi(i)&&!S?i:O,V=t.getPixelForValue(N);if(this.chart.getDataVisibility(e)?q=t.getPixelForValue(O+P):q=V,z=q-V,Math.abs(z)<a&&(z=EKe(z,t,l)*a,E===l&&(V-=z/2),q=V+z),V===t.getPixelForValue(l)){let Y=Ah(z)*t.getLineWidthForValue(l)/2;V+=Y,z-=Y}return{size:z,base:V,head:q,center:q+z/2}}_calculateBarIndexPixels(e,t){let n=t.scale,i=this.options,a=i.skipNull,l=Qn(i.maxBarThickness,1/0),h,b;if(t.grouped){let S=a?this._getStackCount(e):t.stackCount,E=i.barThickness==="flex"?kKe(e,t,i,S):SKe(e,t,i,S),O=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);h=E.start+E.chunk*O+E.chunk/2,b=Math.min(l,E.chunk*E.ratio)}else h=n.getPixelForValue(this.getParsed(e)[n.axis],e),b=Math.min(l,t.min*t.ratio);return{base:h-b/2,head:h+b/2,center:h,size:b}}draw(){let e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length,a=0;for(;a<i;++a)this.getParsed(a)[t.axis]!==null&&n[a].draw(this._ctx)}};$1.id="bar";$1.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};$1.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};G1=class extends Dh{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){let a=super.parsePrimitiveData(e,t,n,i);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+n).radius;return a}parseArrayData(e,t,n,i){let a=super.parseArrayData(e,t,n,i);for(let l=0;l<a.length;l++){let h=t[n+l];a[l]._custom=Qn(h[2],this.resolveDataElementOptions(l+n).radius)}return a}parseObjectData(e,t,n,i){let a=super.parseObjectData(e,t,n,i);for(let l=0;l<a.length;l++){let h=t[n+l];a[l]._custom=Qn(h&&h.r&&+h.r,this.resolveDataElementOptions(l+n).radius)}return a}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,{xScale:n,yScale:i}=t,a=this.getParsed(e),l=n.getLabelForValue(a.x),h=i.getLabelForValue(a.y),b=a._custom;return{label:t.label,value:"("+l+", "+h+(b?", "+b:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){let a=i==="reset",{iScale:l,vScale:h}=this._cachedMeta,b=this.resolveDataElementOptions(t,i),S=this.getSharedOptions(b),E=this.includeOptions(i,S),O=l.axis,P=h.axis;for(let q=t;q<t+n;q++){let z=e[q],N=!a&&this.getParsed(q),V={},Y=V[O]=a?l.getPixelForDecimal(.5):l.getPixelForValue(N[O]),J=V[P]=a?h.getBasePixel():h.getPixelForValue(N[P]);V.skip=isNaN(Y)||isNaN(J),E&&(V.options=this.resolveDataElementOptions(q,z.active?"active":i),a&&(V.options.radius=0)),this.updateElement(z,q,V,i)}this.updateSharedOptions(S,i,b)}resolveDataElementOptions(e,t){let n=this.getParsed(e),i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));let a=i.radius;return t!=="active"&&(i.radius=0),i.radius+=Qn(n&&n._custom,a),i}};G1.id="bubble";G1.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};G1.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};Ev=class extends Dh{constructor(e,t){super(e,t);this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=b=>+n[b];if(Ti(n[e])){let{key:b="value"}=this._parsing;a=S=>+Gm(n[S],b)}let l,h;for(l=e,h=e+t;l<h;++l)i._parsed[l]=a(l)}}_getRotation(){return Rf(this.options.rotation-90)}_getCircumference(){return Rf(this.options.circumference)}_getRotationExtents(){let e=Do,t=-Do;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){let i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),l=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){let t=this.chart,{chartArea:n}=t,i=this._cachedMeta,a=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,h=Math.max((Math.min(n.width,n.height)-l)/2,0),b=Math.min(Ane(this.options.cutout,h),1),S=this._getRingWeight(this.index),{circumference:E,rotation:O}=this._getRotationExtents(),{ratioX:P,ratioY:q,offsetX:z,offsetY:N}=IKe(O,E,b),V=(n.width-l)/P,Y=(n.height-l)/q,J=Math.max(Math.min(V,Y)/2,0),se=jF(this.options.radius,J),_=Math.max(se*b,0),me=(se-_)/this._getVisibleDatasetWeightTotal();this.offsetX=z*se,this.offsetY=N*se,i.total=this.calculateTotal(),this.outerRadius=se-me*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-me*S,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){let n=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/Do)}updateElements(e,t,n,i){let a=i==="reset",l=this.chart,h=l.chartArea,S=l.options.animation,E=(h.left+h.right)/2,O=(h.top+h.bottom)/2,P=a&&S.animateScale,q=P?0:this.innerRadius,z=P?0:this.outerRadius,N=this.resolveDataElementOptions(t,i),V=this.getSharedOptions(N),Y=this.includeOptions(i,V),J=this._getRotation(),se;for(se=0;se<t;++se)J+=this._circumference(se,a);for(se=t;se<t+n;++se){let _=this._circumference(se,a),me=e[se],ne={x:E+this.offsetX,y:O+this.offsetY,startAngle:J,endAngle:J+_,circumference:_,outerRadius:z,innerRadius:q};Y&&(ne.options=V||this.resolveDataElementOptions(se,me.active?"active":i)),J+=_,this.updateElement(me,se,ne,i)}this.updateSharedOptions(V,i,N)}calculateTotal(){let e=this._cachedMeta,t=e.data,n=0,i;for(i=0;i<t.length;i++){let a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Do*(Math.abs(e)/t):0}getLabelAndValue(e){let t=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=n0(t._parsed[e],n.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0,n=this.chart,i,a,l,h,b;if(!e){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){l=n.getDatasetMeta(i),e=l.data,h=l.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)b=h.resolveDataElementOptions(i),b.borderAlign!=="inner"&&(t=Math.max(t,b.borderWidth||0,b.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){let a=this.resolveDataElementOptions(n);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Qn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};Ev.id="doughnut";Ev.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Ev.descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"};Ev.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let e=r.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:t}}=r.legend.options;return e.labels.map((n,i)=>{let l=r.getDatasetMeta(0).controller.getStyle(i);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(i),index:i}})}return[]}},onClick(r,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){let e=r.label,t=": "+r.formattedValue;return No(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}};o0=class extends Dh{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=t,l=this.chart._animationsDisabled,{start:h,count:b}=MKe(t,i,l);this._drawStart=h,this._drawCount=b,PKe(t)&&(h=0,b=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;let S=this.resolveDatasetElementOptions(e);this.options.showLine||(S.borderWidth=0),S.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:S},e),this.updateElements(i,h,b,e)}updateElements(e,t,n,i){let a=i==="reset",{iScale:l,vScale:h,_stacked:b,_dataset:S}=this._cachedMeta,E=this.resolveDataElementOptions(t,i),O=this.getSharedOptions(E),P=this.includeOptions(i,O),q=l.axis,z=h.axis,{spanGaps:N,segment:V}=this.options,Y=Qb(N)?N:Number.POSITIVE_INFINITY,J=this.chart._animationsDisabled||a||i==="none",se=t>0&&this.getParsed(t-1);for(let _=t;_<t+n;++_){let me=e[_],ne=this.getParsed(_),de=J?me:{},he=Hi(ne[z]),be=de[q]=l.getPixelForValue(ne[q],_),xe=de[z]=a||he?h.getBasePixel():h.getPixelForValue(b?this.applyStack(h,ne,b):ne[z],_);de.skip=isNaN(be)||isNaN(xe)||he,de.stop=_>0&&ne[q]-se[q]>Y,V&&(de.parsed=ne,de.raw=S.data[_]),P&&(de.options=O||this.resolveDataElementOptions(_,me.active?"active":i)),J||this.updateElement(me,_,de,i),se=ne}this.updateSharedOptions(O,i,E)}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;let a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,l)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}};o0.id="line";o0.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};o0.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};K1=class extends Dh{constructor(e,t){super(e,t);this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=n0(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:a}}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}_updateRadius(){let e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(i/2,0),l=Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0),h=(a-l)/e.getVisibleDatasetCount();this.outerRadius=a-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(e,t,n,i){let a=i==="reset",l=this.chart,h=this.getDataset(),S=l.options.animation,E=this._cachedMeta.rScale,O=E.xCenter,P=E.yCenter,q=E.getIndexAngle(0)-.5*va,z=q,N,V=360/this.countVisibleElements();for(N=0;N<t;++N)z+=this._computeAngle(N,i,V);for(N=t;N<t+n;N++){let Y=e[N],J=z,se=z+this._computeAngle(N,i,V),_=l.getDataVisibility(N)?E.getDistanceFromCenterForValue(h.data[N]):0;z=se,a&&(S.animateScale&&(_=0),S.animateRotate&&(J=se=q));let me={x:O,y:P,innerRadius:0,outerRadius:_,startAngle:J,endAngle:se,options:this.resolveDataElementOptions(N,Y.active?"active":i)};this.updateElement(Y,N,me,i)}}countVisibleElements(){let e=this.getDataset(),t=this._cachedMeta,n=0;return t.data.forEach((i,a)=>{!isNaN(e.data[a])&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Rf(this.resolveDataElementOptions(e,t).angle||n):0}};K1.id="polarArea";K1.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};K1.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let e=r.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:t}}=r.legend.options;return e.labels.map((n,i)=>{let l=r.getDatasetMeta(0).controller.getStyle(i);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(i),index:i}})}return[]}},onClick(r,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){return r.chart.data.labels[r.dataIndex]+": "+r.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};bT=class extends Ev{};bT.id="pie";bT.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};Y1=class extends Dh{getLabelAndValue(e){let t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}update(e){let t=this._cachedMeta,n=t.dataset,i=t.data||[],a=t.iScale.getLabels();if(n.points=i,e!=="resize"){let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);let h={_loop:!0,_fullLoop:a.length===i.length,options:l};this.updateElement(n,void 0,h,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){let a=this.getDataset(),l=this._cachedMeta.rScale,h=i==="reset";for(let b=t;b<t+n;b++){let S=e[b],E=this.resolveDataElementOptions(b,S.active?"active":i),O=l.getPointPositionForValue(b,a.data[b]),P=h?l.xCenter:O.x,q=h?l.yCenter:O.y,z={x:P,y:q,angle:O.angle,skip:isNaN(P)||isNaN(q),options:E};this.updateElement(S,b,z,i)}}};Y1.id="radar";Y1.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Y1.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};Z1=class extends o0{};Z1.id="scatter";Z1.defaults={showLine:!1,fill:!1};Z1.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(r){return"("+r.label+", "+r.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};LKe=Object.freeze({__proto__:null,BarController:$1,BubbleController:G1,DoughnutController:Ev,LineController:o0,PolarAreaController:K1,PieController:bT,RadarController:Y1,ScatterController:Z1});mT=class{constructor(e){this.options=e||{}}formats(){return Cv()}parse(e,t){return Cv()}format(e,t){return Cv()}add(e,t,n){return Cv()}diff(e,t,n){return Cv()}startOf(e,t,n){return Cv()}endOf(e,t){return Cv()}};mT.override=function(r){Object.assign(mT.prototype,r)};Iq={_date:mT};BKe={modes:{index(r,e,t,n){let i=N1(e,r),a=t.axis||"x",l=t.intersect?vq(r,i,a,n):yq(r,i,a,!1,n),h=[];return l.length?(r.getSortedVisibleDatasetMetas().forEach(b=>{let S=l[0].index,E=b.data[S];E&&!E.skip&&h.push({element:E,datasetIndex:b.index,index:S})}),h):[]},dataset(r,e,t,n){let i=N1(e,r),a=t.axis||"xy",l=t.intersect?vq(r,i,a,n):yq(r,i,a,!1,n);if(l.length>0){let h=l[0].datasetIndex,b=r.getDatasetMeta(h).data;l=[];for(let S=0;S<b.length;++S)l.push({element:b[S],datasetIndex:h,index:S})}return l},point(r,e,t,n){let i=N1(e,r),a=t.axis||"xy";return vq(r,i,a,n)},nearest(r,e,t,n){let i=N1(e,r),a=t.axis||"xy";return yq(r,i,a,t.intersect,n)},x(r,e,t,n){return mie(r,e,{axis:"x",intersect:t.intersect},n)},y(r,e,t,n){return mie(r,e,{axis:"y",intersect:t.intersect},n)}}},Qie=["left","top","right","bottom"];_i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});Su={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){let t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;let i=Yl(r.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(t-i.height,0),h=WKe(r.boxes),b=h.vertical,S=h.horizontal;ho(r.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});let E=b.reduce((N,V)=>V.box.options&&V.box.options.display===!1?N:N+1,0)||1,O=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/E,hBoxMaxHeight:l/2}),P=Object.assign({},i);eoe(P,Yl(n));let q=Object.assign({maxPadding:P,w:a,h:l,x:i.left,y:i.top},i),z=HKe(b.concat(S),O);B1(h.fullSize,q,O,z),B1(b,q,O,z),B1(S,q,O,z)&&B1(b,q,O,z),$Ke(q),yie(h.leftAndTop,q,O,z),q.x+=q.w,q.y+=q.h,yie(h.rightAndBottom,q,O,z),r.chartArea={left:q.left,top:q.top,right:q.left+q.w,bottom:q.top+q.h,height:q.h,width:q.w},ho(h.chartArea,N=>{let V=N.box;Object.assign(V,r.chartArea),V.update(q.w,q.h,{left:0,top:0,right:0,bottom:0})})}},Pq=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}},toe=class extends Pq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},pT="$chartjs",KKe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bie=r=>r===null||r==="";roe=eie?{passive:!0}:!1;H1=new Map,xie=0;ioe=class extends Pq{acquireContext(e,t){let n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(YKe(e,t),n):null}releaseContext(e){let t=e.canvas;if(!t[pT])return!1;let n=t[pT].initial;["height","width"].forEach(a=>{let l=n[a];Hi(l)?t.removeAttribute(a):t.setAttribute(a,l)});let i=n.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[pT],!0}addEventListener(e,t,n){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),l={attach:QKe,detach:eYe,resize:nYe}[t]||iYe;i[t]=l(e,t,n)}removeEventListener(e,t){let n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:bq,detach:bq,resize:bq}[t]||XKe)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return Qne(e,t,n,i)}isAttached(e){let t=aT(e);return!!(t&&t.isConnected)}};Ff=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){let{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Qb(this.x)&&Qb(this.y)}getProps(e,t){let n=this.$animations;if(!t||!n)return this;let i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}};Ff.defaults={};Ff.defaultRoutes=void 0;ooe={values(r){return No(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";let n=this.chart.options.locale,i,a=r;if(t.length>1){let S=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(S<1e-4||S>1e15)&&(i="scientific"),a=aYe(r,t)}let l=af(Math.abs(a)),h=Math.max(Math.min(-1*Math.floor(l),20),0),b={notation:i,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(b,this.options.ticks.format),n0(r,n,b)},logarithmic(r,e,t){if(r===0)return"0";let n=r/Math.pow(10,Math.floor(af(r)));return n===1||n===2||n===5?ooe.numeric.call(this,r,e,t):""}};xT={formatters:ooe};_i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,e)=>e.lineWidth,tickColor:(r,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});_i.route("scale.ticks","color","","color");_i.route("scale.grid","color","","borderColor");_i.route("scale.grid","borderColor","","borderColor");_i.route("scale.title","color","","color");_i.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&r!=="callback"&&r!=="parser",_indexable:r=>r!=="borderDash"&&r!=="tickBorderDash"});_i.describe("scales",{_fallback:"scale"});_i.describe("scale.ticks",{_scriptable:r=>r!=="backdropPadding"&&r!=="callback",_indexable:r=>r!=="backdropPadding"});dYe=r=>r==="left"?"right":r==="right"?"left":r,_ie=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t;Qm=class extends Ff{constructor(e){super();this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=of(e,Number.POSITIVE_INFINITY),t=of(t,Number.NEGATIVE_INFINITY),n=of(n,Number.POSITIVE_INFINITY),i=of(i,Number.NEGATIVE_INFINITY),{min:of(e,n),max:of(t,i),minDefined:es(e),maxDefined:es(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:t,max:n};let h=this.getMatchingVisibleMetas();for(let b=0,S=h.length;b<S;++b)l=h[b].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),a||(n=Math.max(n,l.max));return t=a&&t>n?n:t,n=i&&t>n?t:n,{min:of(t,of(n,t)),max:of(n,of(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bo(this.options.beforeUpdate,[this])}update(e,t,n){let{beginAtZero:i,grace:a,ticks:l}=this.options,h=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Hne(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let b=h<this.ticks.length;this._convertTicksToLabels(b?wie(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=sYe(this,this.ticks),this._labelSizes=null),b&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bo(this.options.afterUpdate,[this])}beforeSetDimensions(){Bo(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bo(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Bo(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bo(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=Bo(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){Bo(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bo(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,n=this.ticks.length,i=t.minRotation||0,a=t.maxRotation,l=i,h,b,S;if(!this._isVisible()||!t.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}let E=this._getLabelSizes(),O=E.widest.width,P=E.highest.height,q=al(this.chart.width-O,0,this.maxWidth);h=e.offset?this.maxWidth/n:q/(n-1),O+6>h&&(h=q/(n-(e.offset?.5:1)),b=this.maxHeight-q1(e.grid)-t.padding-Sie(e.title,this.chart.options.font),S=Math.sqrt(O*O+P*P),l=eT(Math.min(Math.asin(al((E.highest.height+6)/h,-1,1)),Math.asin(al(b/S,-1,1))-Math.asin(al(P/S,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Bo(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Bo(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:a}}=this,l=this._isVisible(),h=this.isHorizontal();if(l){let b=Sie(i,t.options.font);if(h?(e.width=this.maxWidth,e.height=q1(a)+b):(e.height=this.maxHeight,e.width=q1(a)+b),n.display&&this.ticks.length){let{first:S,last:E,widest:O,highest:P}=this._getLabelSizes(),q=n.padding*2,z=Rf(this.labelRotation),N=Math.cos(z),V=Math.sin(z);if(h){let Y=n.mirror?0:V*O.width+N*P.height;e.height=Math.min(this.maxHeight,e.height+Y+q)}else{let Y=n.mirror?0:N*O.width+V*P.height;e.width=Math.min(this.maxWidth,e.width+Y+q)}this._calculatePadding(S,E,V,N)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){let{ticks:{align:a,padding:l},position:h}=this.options,b=this.labelRotation!==0,S=h!=="top"&&this.axis==="x";if(this.isHorizontal()){let E=this.getPixelForTick(0)-this.left,O=this.right-this.getPixelForTick(this.ticks.length-1),P=0,q=0;b?S?(P=i*e.width,q=n*t.height):(P=n*e.height,q=i*t.width):a==="start"?q=t.width:a==="end"?P=e.width:(P=e.width/2,q=t.width/2),this.paddingLeft=Math.max((P-E+l)*this.width/(this.width-E),0),this.paddingRight=Math.max((q-O+l)*this.width/(this.width-O),0)}else{let E=t.height/2,O=e.height/2;a==="start"?(E=0,O=e.height):a==="end"&&(E=t.height,O=0),this.paddingTop=E+l,this.paddingBottom=O+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bo(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Hi(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=wie(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){let{ctx:n,_longestTextCache:i}=this,a=[],l=[],h=0,b=0,S,E,O,P,q,z,N,V,Y,J,se;for(S=0;S<t;++S){if(P=e[S].label,q=this._resolveTickFontOptions(S),n.font=z=q.string,N=i[z]=i[z]||{data:{},gc:[]},V=q.lineHeight,Y=J=0,!Hi(P)&&!No(P))Y=T1(n,N.data,N.gc,Y,P),J=V;else if(No(P))for(E=0,O=P.length;E<O;++E)se=P[E],!Hi(se)&&!No(se)&&(Y=T1(n,N.data,N.gc,Y,se),J+=V);a.push(Y),l.push(J),h=Math.max(Y,h),b=Math.max(J,b)}mYe(i,t);let _=a.indexOf(h),me=l.indexOf(b),ne=de=>({width:a[de]||0,height:l[de]||0});return{first:ne(0),last:ne(t-1),widest:ne(_),highest:ne(me),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return Pne(this._alignToPixels?Ym(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let n=t[e];return n.$context||(n.$context=vYe(this.getContext(),e,n))}return this.$context||(this.$context=gYe(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=Rf(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,h=a?a.widest.width+l:0,b=a?a.highest.height+l:0;return this.isHorizontal()?b*n>h*i?h/n:b/i:b*i<h*n?b/n:h/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,n=this.chart,i=this.options,{grid:a,position:l}=i,h=a.offset,b=this.isHorizontal(),E=this.ticks.length+(h?1:0),O=q1(a),P=[],q=a.setContext(this.getContext()),z=q.drawBorder?q.borderWidth:0,N=z/2,V=function(Ce){return Ym(n,Ce,z)},Y,J,se,_,me,ne,de,he,be,xe,We,R;if(l==="top")Y=V(this.bottom),ne=this.bottom-O,he=Y-N,xe=V(e.top)+N,R=e.bottom;else if(l==="bottom")Y=V(this.top),xe=e.top,R=V(e.bottom)-N,ne=Y+N,he=this.top+O;else if(l==="left")Y=V(this.right),me=this.right-O,de=Y-N,be=V(e.left)+N,We=e.right;else if(l==="right")Y=V(this.left),be=e.left,We=V(e.right)-N,me=Y+N,de=this.left+O;else if(t==="x"){if(l==="center")Y=V((e.top+e.bottom)/2+.5);else if(Ti(l)){let Ce=Object.keys(l)[0],re=l[Ce];Y=V(this.chart.scales[Ce].getPixelForValue(re))}xe=e.top,R=e.bottom,ne=Y+N,he=ne+O}else if(t==="y"){if(l==="center")Y=V((e.left+e.right)/2);else if(Ti(l)){let Ce=Object.keys(l)[0],re=l[Ce];Y=V(this.chart.scales[Ce].getPixelForValue(re))}me=Y-N,de=me-O,be=e.left,We=e.right}let G=Qn(i.ticks.maxTicksLimit,E),ae=Math.max(1,Math.ceil(E/G));for(J=0;J<E;J+=ae){let Ce=a.setContext(this.getContext(J)),re=Ce.lineWidth,ie=Ce.color,pe=a.borderDash||[],je=Ce.borderDashOffset,K=Ce.tickWidth,W=Ce.tickColor,Ze=Ce.tickBorderDash||[],ot=Ce.tickBorderDashOffset;se=pYe(this,J,h),se!==void 0&&(_=Ym(n,se,re),b?me=de=be=We=_:ne=he=xe=R=_,P.push({tx1:me,ty1:ne,tx2:de,ty2:he,x1:be,y1:xe,x2:We,y2:R,width:re,color:ie,borderDash:pe,borderDashOffset:je,tickWidth:K,tickColor:W,tickBorderDash:Ze,tickBorderDashOffset:ot}))}return this._ticksLength=E,this._borderValue=Y,P}_computeLabelItems(e){let t=this.axis,n=this.options,{position:i,ticks:a}=n,l=this.isHorizontal(),h=this.ticks,{align:b,crossAlign:S,padding:E,mirror:O}=a,P=q1(n.grid),q=P+E,z=O?-E:q,N=-Rf(this.labelRotation),V=[],Y,J,se,_,me,ne,de,he,be,xe,We,R,G="middle";if(i==="top")ne=this.bottom-z,de=this._getXAxisLabelAlignment();else if(i==="bottom")ne=this.top+z,de=this._getXAxisLabelAlignment();else if(i==="left"){let Ce=this._getYAxisLabelAlignment(P);de=Ce.textAlign,me=Ce.x}else if(i==="right"){let Ce=this._getYAxisLabelAlignment(P);de=Ce.textAlign,me=Ce.x}else if(t==="x"){if(i==="center")ne=(e.top+e.bottom)/2+q;else if(Ti(i)){let Ce=Object.keys(i)[0],re=i[Ce];ne=this.chart.scales[Ce].getPixelForValue(re)+q}de=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")me=(e.left+e.right)/2-q;else if(Ti(i)){let Ce=Object.keys(i)[0],re=i[Ce];me=this.chart.scales[Ce].getPixelForValue(re)}de=this._getYAxisLabelAlignment(P).textAlign}t==="y"&&(b==="start"?G="top":b==="end"&&(G="bottom"));let ae=this._getLabelSizes();for(Y=0,J=h.length;Y<J;++Y){se=h[Y],_=se.label;let Ce=a.setContext(this.getContext(Y));he=this.getPixelForTick(Y)+a.labelOffset,be=this._resolveTickFontOptions(Y),xe=be.lineHeight,We=No(_)?_.length:1;let re=We/2,ie=Ce.color,pe=Ce.textStrokeColor,je=Ce.textStrokeWidth;l?(me=he,i==="top"?S==="near"||N!==0?R=-We*xe+xe/2:S==="center"?R=-ae.highest.height/2-re*xe+xe:R=-ae.highest.height+xe/2:S==="near"||N!==0?R=xe/2:S==="center"?R=ae.highest.height/2-re*xe:R=ae.highest.height-We*xe,O&&(R*=-1)):(ne=he,R=(1-We)*xe/2);let K;if(Ce.showLabelBackdrop){let W=Yl(Ce.backdropPadding),Ze=ae.heights[Y],ot=ae.widths[Y],et=ne+R-W.top,Pt=me-W.left;switch(G){case"middle":et-=Ze/2;break;case"bottom":et-=Ze;break}switch(de){case"center":Pt-=ot/2;break;case"right":Pt-=ot;break}K={left:Pt,top:et,width:ot+W.width,height:Ze+W.height,color:Ce.backdropColor}}V.push({rotation:N,label:_,font:be,color:ie,strokeColor:pe,strokeWidth:je,textOffset:R,textAlign:de,textBaseline:G,translation:[me,ne],backdrop:K})}return V}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-Rf(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"&&(i="right"),i}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),h=e+a,b=l.widest.width,S,E;return t==="left"?i?(E=this.right+a,n==="near"?S="left":n==="center"?(S="center",E+=b/2):(S="right",E+=b)):(E=this.right-h,n==="near"?S="right":n==="center"?(S="center",E-=b/2):(S="left",E=this.left)):t==="right"?i?(E=this.left+a,n==="near"?S="right":n==="center"?(S="center",E-=b/2):(S="left",E-=b)):(E=this.left+h,n==="near"?S="left":n==="center"?(S="center",E+=b/2):(S="right",E=this.right)):S="right",{textAlign:S,x:E}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:n,top:i,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,a,l),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a,l,h=(b,S,E)=>{!E.width||!E.color||(n.save(),n.lineWidth=E.width,n.strokeStyle=E.color,n.setLineDash(E.borderDash||[]),n.lineDashOffset=E.borderDashOffset,n.beginPath(),n.moveTo(b.x,b.y),n.lineTo(S.x,S.y),n.stroke(),n.restore())};if(t.display)for(a=0,l=i.length;a<l;++a){let b=i[a];t.drawOnChartArea&&h({x:b.x1,y:b.y1},{x:b.x2,y:b.y2},b),t.drawTicks&&h({x:b.tx1,y:b.ty1},{x:b.tx2,y:b.ty2},{color:b.tickColor,width:b.tickWidth,borderDash:b.tickBorderDash,borderDashOffset:b.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{grid:n}}=this,i=n.setContext(this.getContext()),a=n.drawBorder?i.borderWidth:0;if(!a)return;let l=n.setContext(this.getContext(0)).lineWidth,h=this._borderValue,b,S,E,O;this.isHorizontal()?(b=Ym(e,this.left,a)-a/2,S=Ym(e,this.right,l)+l/2,E=O=h):(E=Ym(e,this.top,a)-a/2,O=Ym(e,this.bottom,l)+l/2,b=S=h),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(b,E),t.lineTo(S,O),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let n=this.ctx,i=this._computeLabelArea();i&&I1(n,i);let a=this._labelItems||(this._labelItems=this._computeLabelItems(e)),l,h;for(l=0,h=a.length;l<h;++l){let b=a[l],S=b.font,E=b.label;b.backdrop&&(n.fillStyle=b.backdrop.color,n.fillRect(b.backdrop.left,b.backdrop.top,b.backdrop.width,b.backdrop.height));let O=b.textOffset;Zm(n,E,0,O,S,b)}i&&M1(n)}drawTitle(){let{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;let a=Ps(n.font),l=Yl(n.padding),h=n.align,b=a.lineHeight/2;t==="bottom"||t==="center"||Ti(t)?(b+=l.bottom,No(n.text)&&(b+=a.lineHeight*(n.text.length-1))):b+=l.top;let{titleX:S,titleY:E,maxWidth:O,rotation:P}=bYe(this,b,t,h);Zm(e,n.text,0,0,a,{color:n.color,maxWidth:O,rotation:P,textAlign:yYe(h,t,i),textBaseline:"middle",translation:[S,E]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,n=Qn(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Qm.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[],a,l;for(a=0,l=t.length;a<l;++a){let h=t[a];h[n]===this.id&&(!e||h.type===e)&&i.push(h)}return i}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return Ps(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},j1=class{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),n;wYe(t)&&(n=this.register(t));let i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,xYe(e,l,n),this.override&&_i.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){let t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in _i[i]&&(delete _i[i][n],this.override&&delete Km[n])}};aoe=class{constructor(){this.controllers=new j1(Dh,"datasets",!0),this.elements=new j1(Ff,"elements"),this.plugins=new j1(Object,"plugins"),this.scales=new j1(Qm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{let a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):ho(i,l=>{let h=n||this._getRegistryForType(l);this._exec(e,h,l)})})}_exec(e,t,n){let i=QE(e);Bo(n["before"+i],[],n),t[e](n),Bo(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){let i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}},Np=new aoe,soe=class{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,t,n);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,n,i){i=i||{};for(let a of e){let l=a.plugin,h=l[n],b=[t,i,a.options];if(Bo(h,b,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Hi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let n=e&&e.config,i=Qn(n.options&&n.options.plugins,{}),a=SYe(n);return i===!1&&!t?[]:CYe(e,a,i,t)}_notifyStateChanges(e){let t=this._oldCache||[],n=this._cache,i=(a,l)=>a.filter(h=>!l.some(b=>h.plugin.id===b.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}};kie=new Map,coe=new Set;z1=(r,e,t)=>{let n=Gm(e,t);n!==void 0&&r.add(n)},foe=class{constructor(e){this._config=IYe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=uoe(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),loe(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cT(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return cT(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return cT(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,n=this.type;return cT(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let n=this._scopeCache,i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){let{options:i,type:a}=this,l=this._cachedScopes(e,n),h=l.get(t);if(h)return h;let b=new Set;t.forEach(E=>{e&&(b.add(e),E.forEach(O=>z1(b,e,O))),E.forEach(O=>z1(b,i,O)),E.forEach(O=>z1(b,Km[a]||{},O)),E.forEach(O=>z1(b,_i,O)),E.forEach(O=>z1(b,rT,O))});let S=Array.from(b);return S.length===0&&S.push(Object.create(null)),coe.has(t)&&l.set(t,S),S}chartOptionScopes(){let{options:e,type:t}=this;return[e,Km[t]||{},_i.datasets[t]||{},{type:t},_i,rT]}resolveNamedOptions(e,t,n,i=[""]){let a={$shared:!0},{resolver:l,subPrefixes:h}=Cie(this._resolverCache,e,i),b=l;if(PYe(l,t)){a.$shared=!1,n=Rp(n)?n():n;let S=this.createResolver(e,n,h);b=wv(l,n,S)}for(let S of t)a[S]=b[S];return a}createResolver(e,t,n=[""],i){let{resolver:a}=Cie(this._resolverCache,e,n);return Ti(t)?wv(a,t,void 0,i):a}};MYe=r=>Ti(r)&&Object.getOwnPropertyNames(r).reduce((e,t)=>e||Rp(r[t]),!1);LYe="3.7.0",RYe=["top","bottom","left","right","chartArea"];vT={},doe=r=>{let e=hoe(r);return Object.values(vT).filter(t=>t.canvas===e).pop()};a0=class{constructor(e,t){let n=this.config=new foe(t),i=hoe(e),a=doe(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");let l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||oYe(i)),this.platform.updateConfig(n);let h=this.platform.acquireContext(i,l.aspectRatio),b=h&&h.canvas,S=b&&b.height,E=b&&b.width;if(this.id=Tne(),this.ctx=h,this.canvas=b,this.width=E,this.height=S,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new soe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Cne(O=>this.update(O),l.resizeDelay||0),this._dataChanges=[],vT[this.id]=this,!h||!b){console.error("Failed to create chart: can't acquire context from the given item");return}qp.listen(this,"complete",Aie),qp.listen(this,"progress",FYe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:a}=this;return Hi(e)?t&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sq(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return JF(this.canvas,this.ctx),this}stop(){return qp.stop(this),this}resize(e,t){qp.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,a),h=n.devicePixelRatio||this.platform.getDevicePixelRatio(),b=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,sq(this,h,!0)&&(this.notifyPlugins("resize",{size:l}),Bo(n.onResize,[this,l],this),this.attached&&this._doResize(b)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};ho(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){let e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((l,h)=>(l[h]=!1,l),{}),a=[];t&&(a=a.concat(Object.keys(t).map(l=>{let h=t[l],b=kq(l,h),S=b==="r",E=b==="x";return{options:h,dposition:S?"chartArea":E?"bottom":"left",dtype:S?"radialLinear":E?"category":"linear"}}))),ho(a,l=>{let h=l.options,b=h.id,S=kq(b,h),E=Qn(h.type,l.dtype);(h.position===void 0||Eie(h.position,S)!==Eie(l.dposition))&&(h.position=l.dposition),i[b]=!0;let O=null;if(b in n&&n[b].type===E)O=n[b];else{let P=Np.getScale(E);O=new P({id:b,type:E,ctx:this.ctx,chart:this}),n[O.id]=O}O.init(h,e)}),ho(i,(l,h)=>{l||delete n[h]}),ho(n,l=>{Su.configure(this,l,l.options),Su.addBox(this,l)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Tie("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){let a=t[n],l=this.getDatasetMeta(n),h=a.type||this.config.type;if(l.type&&l.type!==h&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=h,l.indexAxis=a.indexAxis||Sq(h,this.options),l.order=a.order||0,l.index=n,l.label=""+a.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{let b=Np.getController(h),{datasetElementType:S,dataElementType:E}=_i.datasets[h];Object.assign(b.prototype,{dataElementType:Np.getElement(E),datasetElementType:S&&Np.getElement(S)}),l.controller=new b(this,n),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){ho(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let S=0,E=this.data.datasets.length;S<E;S++){let{controller:O}=this.getDatasetMeta(S),P=!i&&a.indexOf(O)===-1;O.buildOrUpdateElements(P),l=Math.max(+O.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),i||ho(a,S=>{S.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Tie("z","_idx"));let{_active:h,_lastEvent:b}=this;b?this._eventHandler(b,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ho(this.scales,e=>{Su.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!UF(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:n,start:i,count:a}of t){let l=n==="_removeElements"?-a:a;qYe(e,i,l)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,n=a=>new Set(e.filter(l=>l[0]===a).map((l,h)=>h+","+l.splice(1).join(","))),i=n(0);for(let a=1;a<t;a++)if(!UF(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Su.update(this,this.width,this.height,e);let t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],ho(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Rp(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qp.has(this)?this.attached&&!qp.running(this)&&qp.start(this):(this.draw(),Aie({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:n,height:i}=this._resizeBeforeDraw;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,n=[],i,a;for(i=0,a=t.length;i<a;++i){let l=t[i];(!e||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,n=e._clip,i=!n.disabled,a=this.chartArea,l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(i&&I1(t,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),e.controller.draw(),i&&M1(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}getElementsAtEventForMode(e,t,n,i){let a=BKe.modes[t];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){let t=this.data.datasets[e],n=this._metasets,i=n.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Fp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){let n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){let i=n?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);nf(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),l.update(a,{visible:n}),this.update(h=>h.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),qp.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),JF(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete vT[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,n=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},i=(a,l,h)=>{a.offsetX=l,a.offsetY=h,this._eventHandler(a)};ho(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,n=(b,S)=>{t.addEventListener(this,b,S),e[b]=S},i=(b,S)=>{e[b]&&(t.removeEventListener(this,b,S),delete e[b])},a=(b,S)=>{this.canvas&&this.resize(b,S)},l,h=()=>{i("attach",h),this.attached=!0,this.resize(),n("resize",a),n("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",h)},t.isAttached(this.canvas)?h():l()}unbindEvents(){ho(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ho(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){let i=n?"set":"remove",a,l,h,b;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),h=0,b=e.length;h<b;++h){l=e[h];let S=l&&this.getDatasetMeta(l.datasetIndex).controller;S&&S[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],n=e.map(({datasetIndex:a,index:l})=>{let h=this.getDatasetMeta(a);if(!h)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:h.data[l],index:l}});!A1(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){let i=this.options.hover,a=(b,S)=>b.filter(E=>!S.some(O=>E.datasetIndex===O.datasetIndex&&E.index===O.index)),l=a(t,e),h=n?e:a(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),h.length&&i.mode&&this.updateHoverStyle(h,i.mode,!0)}_eventHandler(e,t){let n={event:e,replay:t,cancelable:!0,inChartArea:$m(e,this.chartArea,this._minPadding)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;let a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){let{_active:i=[],options:a}=this,l=t,h=this._getActiveElements(e,i,n,l),b=One(e),S=zYe(e,this._lastEvent,n,b);n&&(this._lastEvent=null,Bo(a.onHover,[e,h,this],this),b&&Bo(a.onClick,[e,h,this],this));let E=!A1(h,i);return(E||t)&&(this._active=h,this._updateHoverStyles(h,i,t)),this._lastEvent=S,E}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;let a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},Die=()=>ho(a0.instances,r=>r._plugins.invalidate()),Xm=!0;Object.defineProperties(a0,{defaults:{enumerable:Xm,value:_i},instances:{enumerable:Xm,value:vT},overrides:{enumerable:Xm,value:Km},registry:{enumerable:Xm,value:Np},version:{enumerable:Xm,value:LYe},getChart:{enumerable:Xm,value:doe},register:{enumerable:Xm,value:(...r)=>{Np.add(...r),Die()}},unregister:{enumerable:Xm,value:(...r)=>{Np.remove(...r),Die()}}});X1=class extends Ff{constructor(e){super();this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){let i=this.getProps(["x","y"],n),{angle:a,distance:l}=$F(i,{x:e,y:t}),{startAngle:h,endAngle:b,innerRadius:S,outerRadius:E,circumference:O}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),P=this.options.spacing/2,z=Qn(O,b-h)>=Do||t0(a,h,b),N=Td(l,S+P,E+P);return z&&N}getCenterPoint(e){let{x:t,y:n,startAngle:i,endAngle:a,innerRadius:l,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:b,spacing:S}=this.options,E=(i+a)/2,O=(l+h+S+b)/2;return{x:t+Math.cos(E)*O,y:n+Math.sin(E)*O}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:n}=this,i=(t.offset||0)/2,a=(t.spacing||0)/2;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>Do?Math.floor(n/Do):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let l=0;if(i){l=i/2;let b=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(b)*l,Math.sin(b)*l),this.circumference>=va&&(l=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;let h=jYe(e,this,l,a);HYe(e,this,l,a,h),e.restore()}};X1.id="arc";X1.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};X1.defaultRoutes={backgroundColor:"backgroundColor"};XYe=typeof Path2D=="function";Bp=class extends Ff{constructor(e){super();this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let i=n.spanGaps?this._loop:this._fullLoop;Jne(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=iie(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){let n=this.options,i=e[t],a=this.points,l=hq(this,{property:t,start:i,end:i});if(!l.length)return;let h=[],b=KYe(n),S,E;for(S=0,E=l.length;S<E;++S){let{start:O,end:P}=l[S],q=a[O],z=a[P];if(q===z){h.push(q);continue}let N=Math.abs((i-q[t])/(z[t]-q[t])),V=b(q,z,N,n.stepped);V[t]=e[t],h.push(V)}return h.length===1?h[0]:h}pathSegment(e,t,n){return Eq(this)(e,this,t,n)}path(e,t,n){let i=this.segments,a=Eq(this),l=this._loop;t=t||0,n=n||this.points.length-t;for(let h of i)l&=a(e,this,h,{start:t,end:t+n-1});return!!l}draw(e,t,n,i){let a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),JYe(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};Bp.id="line";Bp.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Bp.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Bp.descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};J1=class extends Ff{constructor(e){super();this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){let i=this.options,{x:a,y:l}=this.getProps(["x","y"],n);return Math.pow(e-a,2)+Math.pow(t-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return Oie(this,e,"x",t)}inYRange(e,t){return Oie(this,e,"y",t)}getCenterPoint(e){let{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);let n=t&&e.borderWidth||0;return(t+n)*2}draw(e,t){let n=this.options;this.skip||n.radius<.1||!$m(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,O1(e,n,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}};J1.id="point";J1.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};J1.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Q1=class extends Ff{constructor(e){super();this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:l}=tZe(this),h=rZe(l.radius)?P1:nZe;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),h(e,_q(l,t,a)),e.clip(),h(e,_q(a,-t,l)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),h(e,_q(a,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return xq(this,e,t,n)}inXRange(e,t){return xq(this,e,null,t)}inYRange(e,t){return xq(this,null,e,t)}getCenterPoint(e){let{x:t,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+i)/2:t,y:a?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}};Q1.id="bar";Q1.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Q1.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};iZe=Object.freeze({__proto__:null,ArcElement:X1,LineElement:Bp,PointElement:J1,BarElement:Q1});lZe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,e,t)=>{if(!t.enabled){Iie(r);return}let n=r.width;r.data.datasets.forEach((i,a)=>{let{_data:l,indexAxis:h}=i,b=r.getDatasetMeta(a),S=l||i.data;if(r0([h,r.options.indexAxis])==="y"||b.type!=="line")return;let E=r.scales[b.xAxisID];if(E.type!=="linear"&&E.type!=="time"||r.options.parsing)return;let{start:O,count:P}=sZe(b,S),q=t.threshold||4*n;if(P<=q){yoe(i);return}Hi(l)&&(i._data=S,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(N){this._data=N}}));let z;switch(t.algorithm){case"lttb":z=oZe(S,O,P,n,t);break;case"min-max":z=aZe(S,O,P,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=z})},destroy(r){Iie(r)}};Lq=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){let{x:i,y:a,radius:l}=this;return t=t||{start:0,end:Do},e.arc(i,a,l,t.end,t.start,!0),!n.bounds}interpolate(e){let{x:t,y:n,radius:i}=this,a=e.angle;return{x:t+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}};CZe={id:"filler",afterDatasetsUpdate(r,e,t){let n=(r.data.datasets||[]).length,i=[],a,l,h,b;for(l=0;l<n;++l)a=r.getDatasetMeta(l),h=a.dataset,b=null,h&&h.options&&h instanceof Bp&&(b={visible:r.isDatasetVisible(l),index:l,fill:fZe(h,l,n),chart:r,axis:a.controller.options.indexAxis,scale:a.vScale,line:h}),a.$filler=b,i.push(b);for(l=0;l<n;++l)b=i[l],!(!b||b.fill===!1)&&(b.fill=_Ze(i,l,t.propagate))},beforeDraw(r,e,t){let n=t.drawTime==="beforeDraw",i=r.getSortedVisibleDatasetMetas(),a=r.chartArea;for(let l=i.length-1;l>=0;--l){let h=i[l].$filler;!h||(h.line.updateControlPoints(a,h.axis),n&&wq(r.ctx,h,a))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let n=r.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){let a=n[i].$filler;a&&wq(r.ctx,a,r.chartArea)}},beforeDatasetDraw(r,e,t){let n=e.meta.$filler;!n||n.fill===!1||t.drawTime!=="beforeDatasetDraw"||wq(r.ctx,n,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Fie=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},EZe=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index,Aq=class extends Ff{constructor(e){super();this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Bo(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let n=e.labels,i=Ps(n.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:h,itemHeight:b}=Fie(n,a),S,E;t.font=i.string,this.isHorizontal()?(S=this.maxWidth,E=this._fitRows(l,a,h,b)+10):(E=this.maxHeight,S=this._fitCols(l,a,h,b)+10),this.width=Math.min(S,e.maxWidth||this.maxWidth),this.height=Math.min(E,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){let{ctx:a,maxWidth:l,options:{labels:{padding:h}}}=this,b=this.legendHitBoxes=[],S=this.lineWidths=[0],E=i+h,O=e;a.textAlign="left",a.textBaseline="middle";let P=-1,q=-E;return this.legendItems.forEach((z,N)=>{let V=n+t/2+a.measureText(z.text).width;(N===0||S[S.length-1]+V+2*h>l)&&(O+=E,S[S.length-(N>0?0:1)]=0,q+=E,P++),b[N]={left:0,top:q,row:P,width:V,height:i},S[S.length-1]+=V+h}),O}_fitCols(e,t,n,i){let{ctx:a,maxHeight:l,options:{labels:{padding:h}}}=this,b=this.legendHitBoxes=[],S=this.columnSizes=[],E=l-e,O=h,P=0,q=0,z=0,N=0;return this.legendItems.forEach((V,Y)=>{let J=n+t/2+a.measureText(V.text).width;Y>0&&q+i+2*h>E&&(O+=P+h,S.push({width:P,height:q}),z+=P+h,N++,P=q=0),b[Y]={left:z,top:q,col:N,width:J,height:i},P=Math.max(P,J),q+=i+h}),O+=P,S.push({width:P,height:q}),O}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:a}}=this,l=kv(a,this.left,this.width);if(this.isHorizontal()){let h=0,b=Kl(n,this.left+i,this.right-this.lineWidths[h]);for(let S of t)h!==S.row&&(h=S.row,b=Kl(n,this.left+i,this.right-this.lineWidths[h])),S.top+=this.top+e+i,S.left=l.leftForLtr(l.x(b),S.width),b+=S.width+i}else{let h=0,b=Kl(n,this.top+e+i,this.bottom-this.columnSizes[h].height);for(let S of t)S.col!==h&&(h=S.col,b=Kl(n,this.top+e+i,this.bottom-this.columnSizes[h].height)),S.top=b,S.left+=this.left+i,S.left=l.leftForLtr(l.x(S.left),S.width),b+=S.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;I1(e,this),this._draw(),M1(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:a,labels:l}=e,h=_i.color,b=kv(e.rtl,this.left,this.width),S=Ps(l.font),{color:E,padding:O}=l,P=S.size,q=P/2,z;this.drawTitle(),i.textAlign=b.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=S.string;let{boxWidth:N,boxHeight:V,itemHeight:Y}=Fie(l,P),J=function(de,he,be){if(isNaN(N)||N<=0||isNaN(V)||V<0)return;i.save();let xe=Qn(be.lineWidth,1);if(i.fillStyle=Qn(be.fillStyle,h),i.lineCap=Qn(be.lineCap,"butt"),i.lineDashOffset=Qn(be.lineDashOffset,0),i.lineJoin=Qn(be.lineJoin,"miter"),i.lineWidth=xe,i.strokeStyle=Qn(be.strokeStyle,h),i.setLineDash(Qn(be.lineDash,[])),l.usePointStyle){let We={radius:N*Math.SQRT2/2,pointStyle:be.pointStyle,rotation:be.rotation,borderWidth:xe},R=b.xPlus(de,N/2),G=he+q;O1(i,We,R,G)}else{let We=he+Math.max((P-V)/2,0),R=b.leftForLtr(de,N),G=Sv(be.borderRadius);i.beginPath(),Object.values(G).some(ae=>ae!==0)?P1(i,{x:R,y:We,w:N,h:V,radius:G}):i.rect(R,We,N,V),i.fill(),xe!==0&&i.stroke()}i.restore()},se=function(de,he,be){Zm(i,be.text,de,he+Y/2,S,{strikethrough:be.hidden,textAlign:b.textAlign(be.textAlign)})},_=this.isHorizontal(),me=this._computeTitleHeight();_?z={x:Kl(a,this.left+O,this.right-n[0]),y:this.top+O+me,line:0}:z={x:this.left+O,y:Kl(a,this.top+me+O,this.bottom-t[0].height),line:0},uq(this.ctx,e.textDirection);let ne=Y+O;this.legendItems.forEach((de,he)=>{i.strokeStyle=de.fontColor||E,i.fillStyle=de.fontColor||E;let be=i.measureText(de.text).width,xe=b.textAlign(de.textAlign||(de.textAlign=l.textAlign)),We=N+q+be,R=z.x,G=z.y;b.setWidth(this.width),_?he>0&&R+We+O>this.right&&(G=z.y+=ne,z.line++,R=z.x=Kl(a,this.left+O,this.right-n[z.line])):he>0&&G+ne>this.bottom&&(R=z.x=R+t[z.line].width+O,z.line++,G=z.y=Kl(a,this.top+me+O,this.bottom-t[z.line].height));let ae=b.x(R);J(ae,G,de),R=Ene(xe,R+N+q,_?R+We:this.right,e.rtl),se(b.x(R),G,de),_?z.x+=We+O:z.y+=ne}),cq(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,n=Ps(t.font),i=Yl(t.padding);if(!t.display)return;let a=kv(e.rtl,this.left,this.width),l=this.ctx,h=t.position,b=n.size/2,S=i.top+b,E,O=this.left,P=this.width;if(this.isHorizontal())P=Math.max(...this.lineWidths),E=this.top+S,O=Kl(e.align,O,this.right-P);else{let z=this.columnSizes.reduce((N,V)=>Math.max(N,V.height),0);E=S+Kl(e.align,this.top,this.bottom-z-e.labels.padding-this._computeTitleHeight())}let q=Kl(h,O,O+P);l.textAlign=a.textAlign(JE(h)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=n.string,Zm(l,t.text,q,E,n)}_computeTitleHeight(){let e=this.options.title,t=Ps(e.font),n=Yl(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,a;if(Td(e,this.left,this.right)&&Td(t,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],Td(e,i.left,i.left+i.width)&&Td(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){let t=this.options;if(!TZe(e.type,t))return;let n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"){let i=this._hoveredItem,a=EZe(i,n);i&&!a&&Bo(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&Bo(t.onHover,[e,n,this],this)}else n&&Bo(t.onClick,[e,n,this],this)}};AZe={id:"legend",_element:Aq,start(r,e,t){let n=r.legend=new Aq({ctx:r.ctx,options:t,chart:r});Su.configure(r,n,t),Su.addBox(r,n)},stop(r){Su.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){let n=r.legend;Su.configure(r,n,t),n.options=t},afterUpdate(r){let e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){let n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){let e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:a}}=r.legend.options;return r._getSortedDatasetMetas().map(l=>{let h=l.controller.getStyle(t?0:void 0),b=Yl(h.borderWidth);return{text:e[l.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:0,datasetIndex:l.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}},_T=class extends Ff{constructor(e){super();this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=No(n.text)?n.text.length:1;this._padding=Yl(n.padding);let a=i*Ps(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:n,bottom:i,right:a,options:l}=this,h=l.align,b=0,S,E,O;return this.isHorizontal()?(E=Kl(h,n,a),O=t+e,S=a-n):(l.position==="left"?(E=n+e,O=Kl(h,i,t),b=va*-.5):(E=a-e,O=Kl(h,t,i),b=va*.5),S=i-t),{titleX:E,titleY:O,maxWidth:S,rotation:b}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let n=Ps(t.font),a=n.lineHeight/2+this._padding.top,{titleX:l,titleY:h,maxWidth:b,rotation:S}=this._drawArgs(a);Zm(e,t.text,0,0,n,{color:t.color,maxWidth:b,rotation:S,textAlign:JE(t.align),textBaseline:"middle",translation:[l,h]})}};OZe={id:"title",_element:_T,start(r,e,t){DZe(r,t)},stop(r){let e=r.titleBlock;Su.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){let n=r.titleBlock;Su.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},fT=new WeakMap,IZe={id:"subtitle",start(r,e,t){let n=new _T({ctx:r.ctx,options:t,chart:r});Su.configure(r,n,t),Su.addBox(r,n),fT.set(r,n)},stop(r){Su.removeBox(r,fT.get(r)),fT.delete(r)},beforeUpdate(r,e,t){let n=fT.get(r);Su.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},U1={average(r){if(!r.length)return!1;let e,t,n=0,i=0,a=0;for(e=0,t=r.length;e<t;++e){let l=r[e].element;if(l&&l.hasValue()){let h=l.tooltipPosition();n+=h.x,i+=h.y,++a}}return{x:n/a,y:i/a}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,l,h;for(a=0,l=r.length;a<l;++a){let b=r[a].element;if(b&&b.hasValue()){let S=b.getCenterPoint(),E=ZE(e,S);E<i&&(i=E,h=b)}}if(h){let b=h.tooltipPosition();t=b.x,n=b.y}return{x:t,y:n}}};yT=class extends Ff{constructor(e){super();this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,a=new Oq(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=zZe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){let{callbacks:n}=t,i=n.beforeTitle.apply(this,[e]),a=n.title.apply(this,[e]),l=n.afterTitle.apply(this,[e]),h=[];return h=Dd(h,zp(i)),h=Dd(h,zp(a)),h=Dd(h,zp(l)),h}getBeforeBody(e,t){return Bie(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){let{callbacks:n}=t,i=[];return ho(e,a=>{let l={before:[],lines:[],after:[]},h=jie(n,a);Dd(l.before,zp(h.beforeLabel.call(this,a))),Dd(l.lines,h.label.call(this,a)),Dd(l.after,zp(h.afterLabel.call(this,a))),i.push(l)}),i}getAfterBody(e,t){return Bie(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){let{callbacks:n}=t,i=n.beforeFooter.apply(this,[e]),a=n.footer.apply(this,[e]),l=n.afterFooter.apply(this,[e]),h=[];return h=Dd(h,zp(i)),h=Dd(h,zp(a)),h=Dd(h,zp(l)),h}_createItems(e){let t=this._active,n=this.chart.data,i=[],a=[],l=[],h=[],b,S;for(b=0,S=t.length;b<S;++b)h.push(MZe(this.chart,t[b]));return e.filter&&(h=h.filter((E,O,P)=>e.filter(E,O,P,n))),e.itemSort&&(h=h.sort((E,O)=>e.itemSort(E,O,n))),ho(h,E=>{let O=jie(e.callbacks,E);i.push(O.labelColor.call(this,E)),a.push(O.labelPointStyle.call(this,E)),l.push(O.labelTextColor.call(this,E))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=h,h}update(e,t){let n=this.options.setContext(this.getContext()),i=this._active,a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{let h=U1[n.position].call(this,i,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);let b=this._size=qie(this,n),S=Object.assign({},h,b),E=zie(this.chart,n,S),O=Nie(n,S,E,this.chart);this.xAlign=E.xAlign,this.yAlign=E.yAlign,a={opacity:1,x:O.x,y:O.y,width:b.width,height:b.height,caretX:h.x,caretY:h.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){let a=this.getCaretPosition(e,n,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){let{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:h}=n,{topLeft:b,topRight:S,bottomLeft:E,bottomRight:O}=Sv(h),{x:P,y:q}=e,{width:z,height:N}=t,V,Y,J,se,_,me;return a==="center"?(_=q+N/2,i==="left"?(V=P,Y=V-l,se=_+l,me=_-l):(V=P+z,Y=V+l,se=_-l,me=_+l),J=V):(i==="left"?Y=P+Math.max(b,E)+l:i==="right"?Y=P+z-Math.max(S,O)-l:Y=this.caretX,a==="top"?(se=q,_=se-l,V=Y-l,J=Y+l):(se=q+N,_=se+l,V=Y+l,J=Y-l),me=se),{x1:V,x2:Y,x3:J,y1:se,y2:_,y3:me}}drawTitle(e,t,n){let i=this.title,a=i.length,l,h,b;if(a){let S=kv(n.rtl,this.x,this.width);for(e.x=hT(this,n.titleAlign,n),t.textAlign=S.textAlign(n.titleAlign),t.textBaseline="middle",l=Ps(n.titleFont),h=n.titleSpacing,t.fillStyle=n.titleColor,t.font=l.string,b=0;b<a;++b)t.fillText(i[b],S.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+h,b+1===a&&(e.y+=n.titleMarginBottom-h)}}_drawColorBox(e,t,n,i,a){let l=this.labelColors[n],h=this.labelPointStyles[n],{boxHeight:b,boxWidth:S,boxPadding:E}=a,O=Ps(a.bodyFont),P=hT(this,"left",a),q=i.x(P),z=b<O.lineHeight?(O.lineHeight-b)/2:0,N=t.y+z;if(a.usePointStyle){let V={radius:Math.min(S,b)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},Y=i.leftForLtr(q,S)+S/2,J=N+b/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,O1(e,V,Y,J),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,O1(e,V,Y,J)}else{e.lineWidth=l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;let V=i.leftForLtr(q,S-E),Y=i.leftForLtr(i.xPlus(q,1),S-E-2),J=Sv(l.borderRadius);Object.values(J).some(se=>se!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,P1(e,{x:V,y:N,w:S,h:b,radius:J}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),P1(e,{x:Y,y:N+1,w:S-2,h:b-2,radius:J}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(V,N,S,b),e.strokeRect(V,N,S,b),e.fillStyle=l.backgroundColor,e.fillRect(Y,N+1,S-2,b-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){let{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:h,boxHeight:b,boxWidth:S,boxPadding:E}=n,O=Ps(n.bodyFont),P=O.lineHeight,q=0,z=kv(n.rtl,this.x,this.width),N=function(he){t.fillText(he,z.x(e.x+q),e.y+P/2),e.y+=P+a},V=z.textAlign(l),Y,J,se,_,me,ne,de;for(t.textAlign=l,t.textBaseline="middle",t.font=O.string,e.x=hT(this,V,n),t.fillStyle=n.bodyColor,ho(this.beforeBody,N),q=h&&V!=="right"?l==="center"?S/2+E:S+2+E:0,_=0,ne=i.length;_<ne;++_){for(Y=i[_],J=this.labelTextColors[_],t.fillStyle=J,ho(Y.before,N),se=Y.lines,h&&se.length&&(this._drawColorBox(t,e,_,z,n),P=Math.max(O.lineHeight,b)),me=0,de=se.length;me<de;++me)N(se[me]),P=O.lineHeight;ho(Y.after,N)}q=0,P=O.lineHeight,ho(this.afterBody,N),e.y-=a}drawFooter(e,t,n){let i=this.footer,a=i.length,l,h;if(a){let b=kv(n.rtl,this.x,this.width);for(e.x=hT(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=b.textAlign(n.footerAlign),t.textBaseline="middle",l=Ps(n.footerFont),t.fillStyle=n.footerColor,t.font=l.string,h=0;h<a;++h)t.fillText(i[h],b.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){let{xAlign:a,yAlign:l}=this,{x:h,y:b}=e,{width:S,height:E}=n,{topLeft:O,topRight:P,bottomLeft:q,bottomRight:z}=Sv(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(h+O,b),l==="top"&&this.drawCaret(e,t,n,i),t.lineTo(h+S-P,b),t.quadraticCurveTo(h+S,b,h+S,b+P),l==="center"&&a==="right"&&this.drawCaret(e,t,n,i),t.lineTo(h+S,b+E-z),t.quadraticCurveTo(h+S,b+E,h+S-z,b+E),l==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(h+q,b+E),t.quadraticCurveTo(h,b+E,h,b+E-q),l==="center"&&a==="left"&&this.drawCaret(e,t,n,i),t.lineTo(h,b+O),t.quadraticCurveTo(h,b,h+O,b),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){let l=U1[e.position].call(this,this._active,this._eventPosition);if(!l)return;let h=this._size=qie(this,e),b=Object.assign({},l,this._size),S=zie(t,e,b),E=Nie(e,b,S,t);(i._to!==E.x||a._to!==E.y)&&(this.xAlign=S.xAlign,this.yAlign=S.yAlign,this.width=h.width,this.height=h.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,E))}}draw(e){let t=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(t);let i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let l=Yl(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,i,t),uq(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),cq(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let n=this._active,i=e.map(({datasetIndex:h,index:b})=>{let S=this.chart.getDatasetMeta(h);if(!S)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:S.data[b],index:b}}),a=!A1(n,i),l=this._positionChanged(i,t);(a||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,n),h=this._positionChanged(l,e),b=t||!A1(l,a)||h;return b&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),b}_getActiveElements(e,t,n,i){let a=this.options;if(e.type==="mouseout")return[];if(!i)return t;let l=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&l.reverse(),l}_positionChanged(e,t){let{caretX:n,caretY:i,options:a}=this,l=U1[a.position].call(this,e,t);return l!==!1&&(n!==l.x||i!==l.y)}};yT.positioners=U1;NZe={id:"tooltip",_element:yT,positioners:U1,afterInit(r,e,t){t&&(r.tooltip=new yT({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){let e=r.tooltip,t={tooltip:e};r.notifyPlugins("beforeTooltipDraw",t)!==!1&&(e&&e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t))},afterEvent(r,e){if(r.tooltip){let t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ed,title(r){if(r.length>0){let e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:Ed,beforeBody:Ed,beforeLabel:Ed,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");let t=r.formattedValue;return Hi(t)||(e+=t),e},labelColor(r){let t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){let t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ed,afterBody:Ed,beforeFooter:Ed,footer:Ed,afterFooter:Ed}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},BZe=Object.freeze({__proto__:null,Decimation:lZe,Filler:CZe,Legend:AZe,SubTitle:IZe,Title:OZe,Tooltip:NZe}),jZe=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);HZe=(r,e)=>r===null?null:al(Math.round(r),0,e),W1=class extends Qm{constructor(e){super(e);this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let n=this.getLabels();for(let{index:i,label:a}of t)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Hi(e))return null;let n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:UZe(n,e,Qn(t,e),this._addedLabels),HZe(t,n.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){let e=this.min,t=this.max,n=this.options.offset,i=[],a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=e;l<=t;l++)i.push({value:l});return i}getLabelForValue(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}};W1.id="category";W1.defaults={ticks:{callback:W1.prototype.getLabelForValue}};V1=class extends Qm{constructor(e){super(e);this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Hi(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:i,max:a}=this,l=b=>i=t?i:b,h=b=>a=n?a:b;if(e){let b=Ah(i),S=Ah(a);b<0&&S<0?h(0):b>0&&S>0&&l(0)}if(i===a){let b=1;(a>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(b=Math.abs(a*.05)),h(a+b),e||l(i-b)}this.min=i,this.max=a}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,n=this.getTickLimit();n=Math.max(2,n);let i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=WZe(i,a);return e.bounds==="ticks"&&WF(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){let e=this.ticks,t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){let i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return n0(e,this.chart.options.locale,this.options.ticks.format)}},wT=class extends V1{determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=es(e)?e:0,this.max=es(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,n=Rf(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}};wT.id="linear";wT.defaults={ticks:{callback:xT.formatters.numeric}};ST=class extends Qm{constructor(e){super(e);this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let n=V1.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return es(n)&&n>0?n:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=es(e)?Math.max(0,e):null,this.max=es(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),n=this.min,i=this.max,a=b=>n=e?n:b,l=b=>i=t?i:b,h=(b,S)=>Math.pow(10,Math.floor(af(b))+S);n===i&&(n<=0?(a(1),l(10)):(a(h(n,-1)),l(h(i,1)))),n<=0&&a(h(i,-1)),i<=0&&l(h(n,1)),this._zero&&this.min!==this._suggestedMin&&n===h(this.min,0)&&a(h(n,-1)),this.min=n,this.max=i}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},n=VZe(t,this);return e.bounds==="ticks"&&WF(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":n0(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=af(e),this._valueRange=af(this.max)-af(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(af(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};ST.id="logarithmic";ST.defaults={ticks:{callback:xT.formatters.logarithmic,major:{enabled:!0}}};s0=class extends V1{constructor(e){super(e);this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Yl(Dq(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=es(e)&&!isNaN(e)?e:0,this.max=es(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Dq(this.options))}generateTickLabels(e){V1.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{let i=Bo(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){let e=this.options;e.display&&e.pointLabels.display?GZe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){let t=Do/(this._pointLabels.length||1),n=this.options.startAngle||0;return Sc(e*t+Rf(n))}getDistanceFromCenterForValue(e){if(Hi(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Hi(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let n=t[e];return tXe(this.getContext(),e,n)}}getPointPosition(e,t,n=0){let i=this.getIndexAngle(e)-Fa+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:n,right:i,bottom:a}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:a}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let n=this.ctx;n.save(),n.beginPath(),_oe(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:n,grid:i}=t,a=this._pointLabels.length,l,h,b;if(t.pointLabels.display&&QZe(this,a),i.display&&this.ticks.forEach((S,E)=>{if(E!==0){h=this.getDistanceFromCenterForValue(S.value);let O=i.setContext(this.getContext(E-1));eXe(this,O,h,a)}}),n.display){for(e.save(),l=a-1;l>=0;l--){let S=n.setContext(this.getPointLabelContext(l)),{color:E,lineWidth:O}=S;!O||!E||(e.lineWidth=O,e.strokeStyle=E,e.setLineDash(S.borderDash),e.lineDashOffset=S.borderDashOffset,h=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),b=this.getPointPosition(l,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(b.x,b.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;let i=this.getIndexAngle(0),a,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((h,b)=>{if(b===0&&!t.reverse)return;let S=n.setContext(this.getContext(b)),E=Ps(S.font);if(a=this.getDistanceFromCenterForValue(this.ticks[b].value),S.showLabelBackdrop){e.font=E.string,l=e.measureText(h.label).width,e.fillStyle=S.backdropColor;let O=Yl(S.backdropPadding);e.fillRect(-l/2-O.left,-a-E.size/2-O.top,l+O.width,E.size+O.height)}Zm(e,h.label,0,-a,E,{color:S.color})}),e.restore()}drawTitle(){}};s0.id="radialLinear";s0.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:xT.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(r){return r},padding:5,centerPointLabels:!1}};s0.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};s0.descriptors={angleLines:{_fallback:"grid"}};kT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kc=Object.keys(kT);l0=class extends Qm{constructor(e){super(e);this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){let n=e.time||(e.time={}),i=this._adapter=new Iq._date(e.adapters.date);Jb(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Vie(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,n=e.time.unit||"day",{min:i,max:a,minDefined:l,maxDefined:h}=this.getUserBounds();function b(S){!l&&!isNaN(S.min)&&(i=Math.min(i,S.min)),!h&&!isNaN(S.max)&&(a=Math.max(a,S.max))}(!l||!h)&&(b(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&b(this.getMinMax(!1))),i=es(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=es(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){let e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let a=this.min,l=this.max,h=Vne(i,a,l);return this._unit=t.unit||(n.autoSkip?$ie(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):nXe(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:iXe(this._unit),this.initOffsets(i),e.reverse&&h.reverse(),Kie(this,h,this._majorUnit)}initOffsets(e){let t=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);let l=e.length<3?.5:.25;t=al(t,0,l),n=al(n,0,l),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){let e=this._adapter,t=this.min,n=this.max,i=this.options,a=i.time,l=a.unit||$ie(a.minUnit,t,n,this._getLabelCapacity(t)),h=Qn(a.stepSize,1),b=l==="week"?a.isoWeekday:!1,S=Qb(b)||b===!0,E={},O=t,P,q;if(S&&(O=+e.startOf(O,"isoWeek",b)),O=+e.startOf(O,S?"day":l),e.diff(n,t,l)>1e5*h)throw new Error(t+" and "+n+" are too far apart with stepSize of "+h+" "+l);let z=i.ticks.source==="data"&&this.getDataTimestamps();for(P=O,q=0;P<n;P=+e.add(P,h,l),q++)Gie(E,P,z);return(P===n||i.bounds==="ticks"||q===1)&&Gie(E,P,z),Object.keys(E).sort((N,V)=>N-V).map(N=>+N)}getLabelForValue(e){let t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,i){let a=this.options,l=a.time.displayFormats,h=this._unit,b=this._majorUnit,S=h&&l[h],E=b&&l[b],O=n[t],P=b&&E&&O&&O.major,q=this._adapter.format(e,i||(P?E:S)),z=a.ticks.callback;return z?Bo(z,[q,t,n],this):q}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){let t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,n=this.ctx.measureText(e).width,i=Rf(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),l=Math.sin(i),h=this._resolveTickFontOptions(0).size;return{w:n*a+h*l,h:n*l+h*a}}_getLabelCapacity(e){let t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,Kie(this,[e],this._majorUnit),i),l=this._getLabelSize(a),h=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],t,n;if(e.length)return e;let i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(Vie(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return tq(e.sort(rXe))}};l0.id="time";l0.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};CT=class extends l0{constructor(e){super(e);this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=dT(t,this.min),this._tableRange=dT(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:n}=this,i=[],a=[],l,h,b,S,E;for(l=0,h=e.length;l<h;++l)S=e[l],S>=t&&S<=n&&i.push(S);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(l=0,h=i.length;l<h;++l)E=i[l+1],b=i[l-1],S=i[l],Math.round((E+b)/2)!==S&&a.push({time:S,pos:l/(h-1)});return a}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(dT(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return dT(this._table,n*this._tableRange+this._minPos,!0)}};CT.id="timeseries";CT.defaults=l0.defaults;aXe=Object.freeze({__proto__:null,CategoryScale:W1,LinearScale:wT,LogarithmicScale:ST,RadialLinearScale:s0,TimeScale:l0,TimeSeriesScale:CT}),woe=[LKe,iZe,BZe,aXe]});var Soe,koe=He(()=>{Rq();a0.register(...woe);Soe=a0});function yn(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}var qa=He(()=>{});function ar(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}var pn=He(()=>{});function Cr(r){ar(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}var Yn=He(()=>{pn()});function u0(r,e){ar(2,arguments);var t=Cr(r),n=yn(e);return isNaN(n)?new Date(NaN):(n&&t.setDate(t.getDate()+n),t)}var Fq=He(()=>{qa();Yn();pn()});function eg(r,e){ar(2,arguments);var t=Cr(r),n=yn(e);if(isNaN(n))return new Date(NaN);if(!n)return t;var i=t.getDate(),a=new Date(t.getTime());a.setMonth(t.getMonth()+n+1,0);var l=a.getDate();return i>=l?a:(t.setFullYear(a.getFullYear(),a.getMonth(),i),t)}var ET=He(()=>{qa();Yn();pn()});function qf(r,e){ar(2,arguments);var t=Cr(r).getTime(),n=yn(e);return new Date(t+n)}var c0=He(()=>{qa();Yn();pn()});function TT(r,e){ar(2,arguments);var t=yn(e);return qf(r,t*sXe)}var sXe,Coe=He(()=>{qa();c0();pn();sXe=36e5});function ew(r,e){ar(1,arguments);var t=e||{},n=t.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:yn(i),l=t.weekStartsOn==null?a:yn(t.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Cr(r),b=h.getDay(),S=(b<l?7:0)+b-l;return h.setDate(h.getDate()-S),h.setHours(0,0,0,0),h}var Eoe=He(()=>{Yn();qa();pn()});function tg(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}var AT=He(()=>{});function Tv(r){ar(1,arguments);var e=Cr(r);return e.setHours(0,0,0,0),e}var qq=He(()=>{Yn();pn()});function zq(r,e){ar(2,arguments);var t=Tv(r),n=Tv(e),i=t.getTime()-tg(t),a=n.getTime()-tg(n);return Math.round((i-a)/lXe)}var lXe,Toe=He(()=>{AT();qq();pn();lXe=864e5});function DT(r,e){ar(2,arguments);var t=yn(e);return qf(r,t*uXe)}var uXe,Aoe=He(()=>{qa();c0();pn();uXe=6e4});function OT(r,e){ar(2,arguments);var t=yn(e),n=t*3;return eg(r,n)}var Doe=He(()=>{qa();ET();pn()});function IT(r,e){ar(2,arguments);var t=yn(e);return qf(r,t*1e3)}var Ooe=He(()=>{qa();c0();pn()});function MT(r,e){ar(2,arguments);var t=yn(e),n=t*7;return u0(r,n)}var Ioe=He(()=>{qa();Fq();pn()});function PT(r,e){ar(2,arguments);var t=yn(e);return eg(r,t*12)}var Moe=He(()=>{qa();ET();pn()});function rg(r,e){ar(2,arguments);var t=Cr(r),n=Cr(e),i=t.getTime()-n.getTime();return i<0?-1:i>0?1:i}var Nq=He(()=>{Yn();pn()});var cXe,tw,rw,hCt,nw=He(()=>{cXe=Math.pow(10,8)*24*60*60*1e3,tw=6e4,rw=36e5,hCt=-cXe});function Bq(r){return ar(1,arguments),r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}var Poe=He(()=>{pn()});function f0(r){if(ar(1,arguments),!Bq(r)&&typeof r!="number")return!1;var e=Cr(r);return!isNaN(Number(e))}var jq=He(()=>{Poe();Yn();pn()});function Uq(r,e){ar(2,arguments);var t=Cr(r),n=Cr(e),i=t.getFullYear()-n.getFullYear(),a=t.getMonth()-n.getMonth();return i*12+a}var Loe=He(()=>{Yn();pn()});function Hq(r,e){ar(2,arguments);var t=Cr(r),n=Cr(e);return t.getFullYear()-n.getFullYear()}var Roe=He(()=>{Yn();pn()});function Foe(r,e){var t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function h0(r,e){ar(2,arguments);var t=Cr(r),n=Cr(e),i=Foe(t,n),a=Math.abs(zq(t,n));t.setDate(t.getDate()-i*a);var l=Number(Foe(t,n)===-i),h=i*(a-l);return h===0?0:h}var Wq=He(()=>{Yn();Toe();pn()});function Od(r,e){return ar(2,arguments),Cr(r).getTime()-Cr(e).getTime()}var iw=He(()=>{Yn();pn()});function Id(r){return r?qoe[r]:qoe[fXe]}var qoe,fXe,d0=He(()=>{qoe={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},fXe="trunc"});function LT(r,e,t){ar(2,arguments);var n=Od(r,e)/rw;return Id(t?.roundingMethod)(n)}var zoe=He(()=>{nw();iw();pn();d0()});function RT(r,e,t){ar(2,arguments);var n=Od(r,e)/tw;return Id(t?.roundingMethod)(n)}var Noe=He(()=>{nw();iw();pn();d0()});function p0(r){ar(1,arguments);var e=Cr(r);return e.setHours(23,59,59,999),e}var Vq=He(()=>{Yn();pn()});function m0(r){ar(1,arguments);var e=Cr(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}var $q=He(()=>{Yn();pn()});function Gq(r){ar(1,arguments);var e=Cr(r);return p0(e).getTime()===m0(e).getTime()}var Boe=He(()=>{Yn();Vq();$q();pn()});function g0(r,e){ar(2,arguments);var t=Cr(r),n=Cr(e),i=rg(t,n),a=Math.abs(Uq(t,n)),l;if(a<1)l=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*a);var h=rg(t,n)===-i;Gq(Cr(r))&&a===1&&rg(r,n)===1&&(h=!1),l=i*(a-Number(h))}return l===0?0:l}var Kq=He(()=>{Yn();Loe();Nq();pn();Boe()});function FT(r,e,t){ar(2,arguments);var n=g0(r,e)/3;return Id(t?.roundingMethod)(n)}var joe=He(()=>{Kq();pn();d0()});function qT(r,e,t){ar(2,arguments);var n=Od(r,e)/1e3;return Id(t?.roundingMethod)(n)}var Uoe=He(()=>{iw();pn();d0()});function zT(r,e,t){ar(2,arguments);var n=h0(r,e)/7;return Id(t?.roundingMethod)(n)}var Hoe=He(()=>{Wq();pn();d0()});function NT(r,e){ar(2,arguments);var t=Cr(r),n=Cr(e),i=rg(t,n),a=Math.abs(Hq(t,n));t.setFullYear(1584),n.setFullYear(1584);var l=rg(t,n)===-i,h=i*(a-Number(l));return h===0?0:h}var Woe=He(()=>{Yn();Roe();Nq();pn()});function BT(r){ar(1,arguments);var e=Cr(r);return e.setSeconds(0,0),e}var Voe=He(()=>{Yn();pn()});function jT(r){ar(1,arguments);var e=Cr(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}var $oe=He(()=>{Yn();pn()});function UT(r){ar(1,arguments);var e=Cr(r);return e.setDate(1),e.setHours(0,0,0,0),e}var Goe=He(()=>{Yn();pn()});function HT(r){ar(1,arguments);var e=Cr(r),t=new Date(0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}var Koe=He(()=>{Yn();pn()});function WT(r){ar(1,arguments);var e=Cr(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}var Yoe=He(()=>{Yn();pn()});function VT(r){ar(1,arguments);var e=Cr(r);return e.setMinutes(59,59,999),e}var Zoe=He(()=>{Yn();pn()});function $T(r,e){ar(1,arguments);var t=e||{},n=t.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:yn(i),l=t.weekStartsOn==null?a:yn(t.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Cr(r),b=h.getDay(),S=(b<l?-7:0)+6-(b-l);return h.setDate(h.getDate()+S),h.setHours(23,59,59,999),h}var Xoe=He(()=>{Yn();qa();pn()});function GT(r){ar(1,arguments);var e=Cr(r);return e.setSeconds(59,999),e}var Joe=He(()=>{Yn();pn()});function KT(r){ar(1,arguments);var e=Cr(r),t=e.getMonth(),n=t-t%3+3;return e.setMonth(n,0),e.setHours(23,59,59,999),e}var Qoe=He(()=>{Yn();pn()});function YT(r){ar(1,arguments);var e=Cr(r);return e.setMilliseconds(999),e}var eae=He(()=>{Yn();pn()});var hXe,dXe,tae,rae=He(()=>{hXe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dXe=function(r,e,t){var n,i=hXe[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n},tae=dXe});function ow(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var nae=He(()=>{});var pXe,mXe,gXe,vXe,iae,oae=He(()=>{nae();pXe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mXe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gXe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vXe={date:ow({formats:pXe,defaultWidth:"full"}),time:ow({formats:mXe,defaultWidth:"full"}),dateTime:ow({formats:gXe,defaultWidth:"full"})},iae=vXe});var yXe,bXe,aae,sae=He(()=>{yXe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bXe=function(r,e,t,n){return yXe[r]},aae=bXe});function Av(r){return function(e,t){var n=t||{},i=n.context?String(n.context):"standalone",a;if(i==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,h=n.width?String(n.width):l;a=r.formattingValues[h]||r.formattingValues[l]}else{var b=r.defaultWidth,S=n.width?String(n.width):r.defaultWidth;a=r.values[S]||r.values[b]}var E=r.argumentCallback?r.argumentCallback(e):e;return a[E]}}var lae=He(()=>{});var xXe,_Xe,wXe,SXe,kXe,CXe,EXe,TXe,uae,cae=He(()=>{lae();xXe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_Xe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wXe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SXe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kXe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CXe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EXe=function(r,e){var t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},TXe={ordinalNumber:EXe,era:Av({values:xXe,defaultWidth:"wide"}),quarter:Av({values:_Xe,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:Av({values:wXe,defaultWidth:"wide"}),day:Av({values:SXe,defaultWidth:"wide"}),dayPeriod:Av({values:kXe,defaultWidth:"wide",formattingValues:CXe,defaultFormattingWidth:"wide"})},uae=TXe});function Dv(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;var l=a[0],h=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],b=Array.isArray(h)?DXe(h,function(O){return O.test(l)}):AXe(h,function(O){return O.test(l)}),S;S=r.valueCallback?r.valueCallback(b):b,S=t.valueCallback?t.valueCallback(S):S;var E=e.slice(l.length);return{value:S,rest:E}}}function AXe(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function DXe(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}var fae=He(()=>{});function Yq(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var i=n[0],a=e.match(r.parsePattern);if(!a)return null;var l=r.valueCallback?r.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;var h=e.slice(i.length);return{value:l,rest:h}}}var hae=He(()=>{});var OXe,IXe,MXe,PXe,LXe,RXe,FXe,qXe,zXe,NXe,BXe,jXe,UXe,dae,pae=He(()=>{fae();hae();OXe=/^(\d+)(th|st|nd|rd)?/i,IXe=/\d+/i,MXe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PXe={any:[/^b/i,/^(a|c)/i]},LXe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RXe={any:[/1/i,/2/i,/3/i,/4/i]},FXe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qXe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zXe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NXe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BXe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jXe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},UXe={ordinalNumber:Yq({matchPattern:OXe,parsePattern:IXe,valueCallback:function(r){return parseInt(r,10)}}),era:Dv({matchPatterns:MXe,defaultMatchWidth:"wide",parsePatterns:PXe,defaultParseWidth:"any"}),quarter:Dv({matchPatterns:LXe,defaultMatchWidth:"wide",parsePatterns:RXe,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:Dv({matchPatterns:FXe,defaultMatchWidth:"wide",parsePatterns:qXe,defaultParseWidth:"any"}),day:Dv({matchPatterns:zXe,defaultMatchWidth:"wide",parsePatterns:NXe,defaultParseWidth:"any"}),dayPeriod:Dv({matchPatterns:BXe,defaultMatchWidth:"any",parsePatterns:jXe,defaultParseWidth:"any"})},dae=UXe});var HXe,ZT,Zq=He(()=>{rae();oae();sae();cae();pae();HXe={code:"en-US",formatDistance:tae,formatLong:iae,formatRelative:aae,localize:uae,match:dae,options:{weekStartsOn:0,firstWeekContainsDate:1}},ZT=HXe});function aw(r,e){ar(2,arguments);var t=yn(e);return qf(r,-t)}var Xq=He(()=>{qa();c0();pn()});function Jq(r){ar(1,arguments);var e=Cr(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=t-n;return Math.floor(i/WXe)+1}var WXe,mae=He(()=>{Yn();pn();WXe=864e5});function Oh(r){ar(1,arguments);var e=1,t=Cr(r),n=t.getUTCDay(),i=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}var sw=He(()=>{Yn();pn()});function lw(r){ar(1,arguments);var e=Cr(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var i=Oh(n),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var l=Oh(a);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}var Qq=He(()=>{Yn();pn();sw()});function e3(r){ar(1,arguments);var e=lw(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Oh(t);return n}var gae=He(()=>{Qq();sw();pn()});function uw(r){ar(1,arguments);var e=Cr(r),t=Oh(e).getTime()-e3(e).getTime();return Math.round(t/VXe)+1}var VXe,t3=He(()=>{Yn();sw();gae();pn();VXe=6048e5});function zf(r,e){ar(1,arguments);var t=e||{},n=t.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:yn(i),l=t.weekStartsOn==null?a:yn(t.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Cr(r),b=h.getUTCDay(),S=(b<l?7:0)+b-l;return h.setUTCDate(h.getUTCDate()-S),h.setUTCHours(0,0,0,0),h}var cw=He(()=>{Yn();pn();qa()});function Ov(r,e){ar(1,arguments);var t=Cr(r),n=t.getUTCFullYear(),i=e||{},a=i.locale,l=a&&a.options&&a.options.firstWeekContainsDate,h=l==null?1:yn(l),b=i.firstWeekContainsDate==null?h:yn(i.firstWeekContainsDate);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setUTCFullYear(n+1,0,b),S.setUTCHours(0,0,0,0);var E=zf(S,e),O=new Date(0);O.setUTCFullYear(n,0,b),O.setUTCHours(0,0,0,0);var P=zf(O,e);return t.getTime()>=E.getTime()?n+1:t.getTime()>=P.getTime()?n:n-1}var XT=He(()=>{Yn();pn();cw();qa()});function r3(r,e){ar(1,arguments);var t=e||{},n=t.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:yn(i),l=t.firstWeekContainsDate==null?a:yn(t.firstWeekContainsDate),h=Ov(r,e),b=new Date(0);b.setUTCFullYear(h,0,l),b.setUTCHours(0,0,0,0);var S=zf(b,e);return S}var vae=He(()=>{XT();pn();cw();qa()});function fw(r,e){ar(1,arguments);var t=Cr(r),n=zf(t,e).getTime()-r3(t,e).getTime();return Math.round(n/$Xe)+1}var $Xe,n3=He(()=>{Yn();cw();vae();pn();$Xe=6048e5});function Yi(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var i3=He(()=>{});var GXe,jp,yae=He(()=>{i3();GXe={y:function(r,e){var t=r.getUTCFullYear(),n=t>0?t:1-t;return Yi(e==="yy"?n%100:n,e.length)},M:function(r,e){var t=r.getUTCMonth();return e==="M"?String(t+1):Yi(t+1,2)},d:function(r,e){return Yi(r.getUTCDate(),e.length)},a:function(r,e){var t=r.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(r,e){return Yi(r.getUTCHours()%12||12,e.length)},H:function(r,e){return Yi(r.getUTCHours(),e.length)},m:function(r,e){return Yi(r.getUTCMinutes(),e.length)},s:function(r,e){return Yi(r.getUTCSeconds(),e.length)},S:function(r,e){var t=e.length,n=r.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,t-3));return Yi(i,e.length)}},jp=GXe});function bae(r,e){var t=r>0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),a=n%60;if(a===0)return t+String(i);var l=e||"";return t+String(i)+l+Yi(a,2)}function xae(r,e){if(r%60===0){var t=r>0?"-":"+";return t+Yi(Math.abs(r)/60,2)}return Iv(r,e)}function Iv(r,e){var t=e||"",n=r>0?"-":"+",i=Math.abs(r),a=Yi(Math.floor(i/60),2),l=Yi(i%60,2);return n+a+t+l}var v0,KXe,_ae,wae=He(()=>{mae();t3();Qq();n3();XT();i3();yae();v0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KXe={G:function(r,e,t){var n=r.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){var n=r.getUTCFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return jp.y(r,e)},Y:function(r,e,t,n){var i=Ov(r,n),a=i>0?i:1-i;if(e==="YY"){var l=a%100;return Yi(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Yi(a,e.length)},R:function(r,e){var t=lw(r);return Yi(t,e.length)},u:function(r,e){var t=r.getUTCFullYear();return Yi(t,e.length)},Q:function(r,e,t){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Yi(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Yi(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){var n=r.getUTCMonth();switch(e){case"M":case"MM":return jp.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){var n=r.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return Yi(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){var i=fw(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Yi(i,e.length)},I:function(r,e,t){var n=uw(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Yi(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getUTCDate(),{unit:"date"}):jp.d(r,e)},D:function(r,e,t){var n=Jq(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Yi(n,e.length)},E:function(r,e,t){var n=r.getUTCDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){var i=r.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Yi(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){var i=r.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Yi(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){var n=r.getUTCDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Yi(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){var n=r.getUTCHours(),i=n/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){var n=r.getUTCHours(),i;switch(n===12?i=v0.noon:n===0?i=v0.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){var n=r.getUTCHours(),i;switch(n>=17?i=v0.evening:n>=12?i=v0.afternoon:n>=4?i=v0.morning:i=v0.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){var n=r.getUTCHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return jp.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getUTCHours(),{unit:"hour"}):jp.H(r,e)},K:function(r,e,t){var n=r.getUTCHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Yi(n,e.length)},k:function(r,e,t){var n=r.getUTCHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Yi(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):jp.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):jp.s(r,e)},S:function(r,e){return jp.S(r,e)},X:function(r,e,t,n){var i=n._originalDate||r,a=i.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return xae(a);case"XXXX":case"XX":return Iv(a);case"XXXXX":case"XXX":default:return Iv(a,":")}},x:function(r,e,t,n){var i=n._originalDate||r,a=i.getTimezoneOffset();switch(e){case"x":return xae(a);case"xxxx":case"xx":return Iv(a);case"xxxxx":case"xxx":default:return Iv(a,":")}},O:function(r,e,t,n){var i=n._originalDate||r,a=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bae(a,":");case"OOOO":default:return"GMT"+Iv(a,":")}},z:function(r,e,t,n){var i=n._originalDate||r,a=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bae(a,":");case"zzzz":default:return"GMT"+Iv(a,":")}},t:function(r,e,t,n){var i=n._originalDate||r,a=Math.floor(i.getTime()/1e3);return Yi(a,e.length)},T:function(r,e,t,n){var i=n._originalDate||r,a=i.getTime();return Yi(a,e.length)}};_ae=KXe});function Sae(r,e){switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function kae(r,e){switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function YXe(r,e){var t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return Sae(r,e);var a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Sae(n,e)).replace("{{time}}",kae(i,e))}var ZXe,JT,o3=He(()=>{ZXe={p:kae,P:YXe},JT=ZXe});function QT(r){return XXe.indexOf(r)!==-1}function eA(r){return JXe.indexOf(r)!==-1}function y0(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var XXe,JXe,a3=He(()=>{XXe=["D","DD"],JXe=["YY","YYYY"]});function tA(r,e,t){ar(2,arguments);var n=String(e),i=t||{},a=i.locale||ZT,l=a.options&&a.options.firstWeekContainsDate,h=l==null?1:yn(l),b=i.firstWeekContainsDate==null?h:yn(i.firstWeekContainsDate);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=a.options&&a.options.weekStartsOn,E=S==null?0:yn(S),O=i.weekStartsOn==null?E:yn(i.weekStartsOn);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var P=Cr(r);if(!f0(P))throw new RangeError("Invalid time value");var q=tg(P),z=aw(P,q),N={firstWeekContainsDate:b,weekStartsOn:O,locale:a,_originalDate:P},V=n.match(eJe).map(function(Y){var J=Y[0];if(J==="p"||J==="P"){var se=JT[J];return se(Y,a.formatLong,N)}return Y}).join("").match(QXe).map(function(Y){if(Y==="''")return"'";var J=Y[0];if(J==="'")return iJe(Y);var se=_ae[J];if(se)return!i.useAdditionalWeekYearTokens&&eA(Y)&&y0(Y,e,r),!i.useAdditionalDayOfYearTokens&&QT(Y)&&y0(Y,e,r),se(z,Y,a.localize,N);if(J.match(nJe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");return Y}).join("");return V}function iJe(r){return r.match(tJe)[1].replace(rJe,"'")}var QXe,eJe,tJe,rJe,nJe,Cae=He(()=>{jq();Zq();Xq();Yn();wae();o3();AT();a3();qa();pn();QXe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eJe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tJe=/^'([^]*?)'?$/,rJe=/''/g,nJe=/[a-zA-Z]/});function s3(r,e){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");e=e||{};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}var Eae=He(()=>{});function hw(r,e,t){ar(2,arguments);var n=t||{},i=n.locale,a=i&&i.options&&i.options.weekStartsOn,l=a==null?0:yn(a),h=n.weekStartsOn==null?l:yn(n.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=Cr(r),S=yn(e),E=b.getUTCDay(),O=S%7,P=(O+7)%7,q=(P<h?7:0)+S-E;return b.setUTCDate(b.getUTCDate()+q),b}var Tae=He(()=>{Yn();pn();qa()});function l3(r,e){ar(2,arguments);var t=yn(e);t%7===0&&(t=t-7);var n=1,i=Cr(r),a=i.getUTCDay(),l=t%7,h=(l+7)%7,b=(h<n?7:0)+t-a;return i.setUTCDate(i.getUTCDate()+b),i}var Aae=He(()=>{Yn();pn();qa()});function u3(r,e){ar(2,arguments);var t=Cr(r),n=yn(e),i=uw(t)-n;return t.setUTCDate(t.getUTCDate()-i*7),t}var Dae=He(()=>{qa();Yn();t3();pn()});function c3(r,e,t){ar(2,arguments);var n=Cr(r),i=yn(e),a=fw(n,t)-i;return n.setUTCDate(n.getUTCDate()-a*7),n}var Oae=He(()=>{qa();Yn();n3();pn()});function za(r,e,t){var n=e.match(r);if(!n)return null;var i=parseInt(n[0],10);return{value:t?t(i):i,rest:e.slice(n[0].length)}}function Pd(r,e){var t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*oJe+a*aJe+l*sJe),rest:e.slice(t[0].length)}}function Iae(r,e){return za(ys.anyDigitsSigned,r,e)}function ts(r,e,t){switch(r){case 1:return za(ys.singleDigit,e,t);case 2:return za(ys.twoDigits,e,t);case 3:return za(ys.threeDigits,e,t);case 4:return za(ys.fourDigits,e,t);default:return za(new RegExp("^\\d{1,"+r+"}"),e,t)}}function rA(r,e,t){switch(r){case 1:return za(ys.singleDigitSigned,e,t);case 2:return za(ys.twoDigitsSigned,e,t);case 3:return za(ys.threeDigitsSigned,e,t);case 4:return za(ys.fourDigitsSigned,e,t);default:return za(new RegExp("^-?\\d{1,"+r+"}"),e,t)}}function f3(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Mae(r,e){var t=e>0,n=t?e:1-e,i;if(n<=50)i=r||100;else{var a=n+50,l=Math.floor(a/100)*100,h=r>=a%100;i=r+l-(h?100:0)}return t?i:1-i}function Pae(r){return r%400===0||r%4===0&&r%100!==0}var oJe,aJe,sJe,ys,Md,lJe,uJe,cJe,Lae,Rae=He(()=>{XT();Tae();Aae();Dae();Oae();sw();cw();oJe=36e5,aJe=6e4,sJe=1e3,ys={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Md={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};lJe=[31,28,31,30,31,30,31,31,30,31,30,31],uJe=[31,29,31,30,31,30,31,31,30,31,30,31];cJe={G:{priority:140,parse:function(r,e,t,n){switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"})||t.era(r,{width:"narrow"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})||t.era(r,{width:"abbreviated"})||t.era(r,{width:"narrow"})}},set:function(r,e,t,n){return e.era=t,r.setUTCFullYear(t,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(r,e,t,n){var i=function(a){return{year:a,isTwoDigitYear:e==="yy"}};switch(e){case"y":return ts(4,r,i);case"yo":return t.ordinalNumber(r,{unit:"year",valueCallback:i});default:return ts(e.length,r,i)}},validate:function(r,e,t){return e.isTwoDigitYear||e.year>0},set:function(r,e,t,n){var i=r.getUTCFullYear();if(t.isTwoDigitYear){var a=Mae(t.year,i);return r.setUTCFullYear(a,0,1),r.setUTCHours(0,0,0,0),r}var l=!("era"in e)||e.era===1?t.year:1-t.year;return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(r,e,t,n){var i=function(a){return{year:a,isTwoDigitYear:e==="YY"}};switch(e){case"Y":return ts(4,r,i);case"Yo":return t.ordinalNumber(r,{unit:"year",valueCallback:i});default:return ts(e.length,r,i)}},validate:function(r,e,t){return e.isTwoDigitYear||e.year>0},set:function(r,e,t,n){var i=Ov(r,n);if(t.isTwoDigitYear){var a=Mae(t.year,i);return r.setUTCFullYear(a,0,n.firstWeekContainsDate),r.setUTCHours(0,0,0,0),zf(r,n)}var l=!("era"in e)||e.era===1?t.year:1-t.year;return r.setUTCFullYear(l,0,n.firstWeekContainsDate),r.setUTCHours(0,0,0,0),zf(r,n)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(r,e,t,n){return rA(e==="R"?4:e.length,r)},set:function(r,e,t,n){var i=new Date(0);return i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0),Oh(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(r,e,t,n){return rA(e==="u"?4:e.length,r)},set:function(r,e,t,n){return r.setUTCFullYear(t,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(r,e,t,n){switch(e){case"Q":case"QQ":return ts(e.length,r);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"})||t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})||t.quarter(r,{width:"abbreviated",context:"formatting"})||t.quarter(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=1&&e<=4},set:function(r,e,t,n){return r.setUTCMonth((t-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(r,e,t,n){switch(e){case"q":case"qq":return ts(e.length,r);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"})||t.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})||t.quarter(r,{width:"abbreviated",context:"standalone"})||t.quarter(r,{width:"narrow",context:"standalone"})}},validate:function(r,e,t){return e>=1&&e<=4},set:function(r,e,t,n){return r.setUTCMonth((t-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(r,e,t,n){var i=function(a){return a-1};switch(e){case"M":return za(ys.month,r,i);case"MM":return ts(2,r,i);case"Mo":return t.ordinalNumber(r,{unit:"month",valueCallback:i});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"})||t.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})||t.month(r,{width:"abbreviated",context:"formatting"})||t.month(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=0&&e<=11},set:function(r,e,t,n){return r.setUTCMonth(t,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(r,e,t,n){var i=function(a){return a-1};switch(e){case"L":return za(ys.month,r,i);case"LL":return ts(2,r,i);case"Lo":return t.ordinalNumber(r,{unit:"month",valueCallback:i});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"})||t.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})||t.month(r,{width:"abbreviated",context:"standalone"})||t.month(r,{width:"narrow",context:"standalone"})}},validate:function(r,e,t){return e>=0&&e<=11},set:function(r,e,t,n){return r.setUTCMonth(t,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(r,e,t,n){switch(e){case"w":return za(ys.week,r);case"wo":return t.ordinalNumber(r,{unit:"week"});default:return ts(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=53},set:function(r,e,t,n){return zf(c3(r,t,n),n)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(r,e,t,n){switch(e){case"I":return za(ys.week,r);case"Io":return t.ordinalNumber(r,{unit:"week"});default:return ts(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=53},set:function(r,e,t,n){return Oh(u3(r,t,n),n)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(r,e,t,n){switch(e){case"d":return za(ys.date,r);case"do":return t.ordinalNumber(r,{unit:"date"});default:return ts(e.length,r)}},validate:function(r,e,t){var n=r.getUTCFullYear(),i=Pae(n),a=r.getUTCMonth();return i?e>=1&&e<=uJe[a]:e>=1&&e<=lJe[a]},set:function(r,e,t,n){return r.setUTCDate(t),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(r,e,t,n){switch(e){case"D":case"DD":return za(ys.dayOfYear,r);case"Do":return t.ordinalNumber(r,{unit:"date"});default:return ts(e.length,r)}},validate:function(r,e,t){var n=r.getUTCFullYear(),i=Pae(n);return i?e>=1&&e<=366:e>=1&&e<=365},set:function(r,e,t,n){return r.setUTCMonth(0,t),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(r,e,t,n){switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})||t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=0&&e<=6},set:function(r,e,t,n){return r=hw(r,t,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(r,e,t,n){var i=function(a){var l=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+l};switch(e){case"e":case"ee":return ts(e.length,r,i);case"eo":return t.ordinalNumber(r,{unit:"day",valueCallback:i});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})||t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=0&&e<=6},set:function(r,e,t,n){return r=hw(r,t,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(r,e,t,n){var i=function(a){var l=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+l};switch(e){case"c":case"cc":return ts(e.length,r,i);case"co":return t.ordinalNumber(r,{unit:"day",valueCallback:i});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"})||t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})||t.day(r,{width:"abbreviated",context:"standalone"})||t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"})}},validate:function(r,e,t){return e>=0&&e<=6},set:function(r,e,t,n){return r=hw(r,t,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(r,e,t,n){var i=function(a){return a===0?7:a};switch(e){case"i":case"ii":return ts(e.length,r);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting",valueCallback:i})||t.day(r,{width:"short",context:"formatting",valueCallback:i})||t.day(r,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return t.day(r,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return t.day(r,{width:"short",context:"formatting",valueCallback:i})||t.day(r,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return t.day(r,{width:"wide",context:"formatting",valueCallback:i})||t.day(r,{width:"abbreviated",context:"formatting",valueCallback:i})||t.day(r,{width:"short",context:"formatting",valueCallback:i})||t.day(r,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(r,e,t){return e>=1&&e<=7},set:function(r,e,t,n){return r=l3(r,t,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(r,e,t,n){switch(e){case"a":case"aa":case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,e,t,n){return r.setUTCHours(f3(t),0,0,0),r},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(r,e,t,n){switch(e){case"b":case"bb":case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,e,t,n){return r.setUTCHours(f3(t),0,0,0),r},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(r,e,t,n){switch(e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,e,t,n){return r.setUTCHours(f3(t),0,0,0),r},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(r,e,t,n){switch(e){case"h":return za(ys.hour12h,r);case"ho":return t.ordinalNumber(r,{unit:"hour"});default:return ts(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=12},set:function(r,e,t,n){var i=r.getUTCHours()>=12;return i&&t<12?r.setUTCHours(t+12,0,0,0):!i&&t===12?r.setUTCHours(0,0,0,0):r.setUTCHours(t,0,0,0),r},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(r,e,t,n){switch(e){case"H":return za(ys.hour23h,r);case"Ho":return t.ordinalNumber(r,{unit:"hour"});default:return ts(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=23},set:function(r,e,t,n){return r.setUTCHours(t,0,0,0),r},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(r,e,t,n){switch(e){case"K":return za(ys.hour11h,r);case"Ko":return t.ordinalNumber(r,{unit:"hour"});default:return ts(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=11},set:function(r,e,t,n){var i=r.getUTCHours()>=12;return i&&t<12?r.setUTCHours(t+12,0,0,0):r.setUTCHours(t,0,0,0),r},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(r,e,t,n){switch(e){case"k":return za(ys.hour24h,r);case"ko":return t.ordinalNumber(r,{unit:"hour"});default:return ts(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=24},set:function(r,e,t,n){var i=t<=24?t%24:t;return r.setUTCHours(i,0,0,0),r},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(r,e,t,n){switch(e){case"m":return za(ys.minute,r);case"mo":return t.ordinalNumber(r,{unit:"minute"});default:return ts(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=59},set:function(r,e,t,n){return r.setUTCMinutes(t,0,0),r},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(r,e,t,n){switch(e){case"s":return za(ys.second,r);case"so":return t.ordinalNumber(r,{unit:"second"});default:return ts(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=59},set:function(r,e,t,n){return r.setUTCSeconds(t,0),r},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(r,e,t,n){var i=function(a){return Math.floor(a*Math.pow(10,-e.length+3))};return ts(e.length,r,i)},set:function(r,e,t,n){return r.setUTCMilliseconds(t),r},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(r,e,t,n){switch(e){case"X":return Pd(Md.basicOptionalMinutes,r);case"XX":return Pd(Md.basic,r);case"XXXX":return Pd(Md.basicOptionalSeconds,r);case"XXXXX":return Pd(Md.extendedOptionalSeconds,r);case"XXX":default:return Pd(Md.extended,r)}},set:function(r,e,t,n){return e.timestampIsSet?r:new Date(r.getTime()-t)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(r,e,t,n){switch(e){case"x":return Pd(Md.basicOptionalMinutes,r);case"xx":return Pd(Md.basic,r);case"xxxx":return Pd(Md.basicOptionalSeconds,r);case"xxxxx":return Pd(Md.extendedOptionalSeconds,r);case"xxx":default:return Pd(Md.extended,r)}},set:function(r,e,t,n){return e.timestampIsSet?r:new Date(r.getTime()-t)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(r,e,t,n){return Iae(r)},set:function(r,e,t,n){return[new Date(t*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(r,e,t,n){return Iae(r)},set:function(r,e,t,n){return[new Date(t),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Lae=cJe});function nA(r,e,t,n){ar(3,arguments);var i=String(r),a=String(e),l=n||{},h=l.locale||ZT;if(!h.match)throw new RangeError("locale must contain match property");var b=h.options&&h.options.firstWeekContainsDate,S=b==null?1:yn(b),E=l.firstWeekContainsDate==null?S:yn(l.firstWeekContainsDate);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=h.options&&h.options.weekStartsOn,P=O==null?0:yn(O),q=l.weekStartsOn==null?P:yn(l.weekStartsOn);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(a==="")return i===""?Cr(t):new Date(NaN);var z={firstWeekContainsDate:E,weekStartsOn:q,locale:h},N=[{priority:fJe,subPriority:-1,set:yJe,index:0}],V,Y=a.match(dJe).map(function(ie){var pe=ie[0];if(pe==="p"||pe==="P"){var je=JT[pe];return je(ie,h.formatLong,z)}return ie}).join("").match(hJe),J=[];for(V=0;V<Y.length;V++){var se=Y[V];!l.useAdditionalWeekYearTokens&&eA(se)&&y0(se,a,r),!l.useAdditionalDayOfYearTokens&&QT(se)&&y0(se,a,r);var _=se[0],me=Lae[_];if(me){var ne=me.incompatibleTokens;if(Array.isArray(ne)){for(var de=void 0,he=0;he<J.length;he++){var be=J[he].token;if(ne.indexOf(be)!==-1||be===_){de=J[he];break}}if(de)throw new RangeError("The format string mustn't contain `".concat(de.fullToken,"` and `").concat(se,"` at the same time"))}else if(me.incompatibleTokens==="*"&&J.length)throw new RangeError("The format string mustn't contain `".concat(se,"` and any other token at the same time"));J.push({token:_,fullToken:se});var xe=me.parse(i,se,h.match,z);if(!xe)return new Date(NaN);N.push({priority:me.priority,subPriority:me.subPriority||0,set:me.set,validate:me.validate,value:xe.value,index:N.length}),i=xe.rest}else{if(_.match(vJe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(se==="''"?se="'":_==="'"&&(se=bJe(se)),i.indexOf(se)===0)i=i.slice(se.length);else return new Date(NaN)}}if(i.length>0&&gJe.test(i))return new Date(NaN);var We=N.map(function(ie){return ie.priority}).sort(function(ie,pe){return pe-ie}).filter(function(ie,pe,je){return je.indexOf(ie)===pe}).map(function(ie){return N.filter(function(pe){return pe.priority===ie}).sort(function(pe,je){return je.subPriority-pe.subPriority})}).map(function(ie){return ie[0]}),R=Cr(t);if(isNaN(R))return new Date(NaN);var G=aw(R,tg(R)),ae={};for(V=0;V<We.length;V++){var Ce=We[V];if(Ce.validate&&!Ce.validate(G,Ce.value,z))return new Date(NaN);var re=Ce.set(G,ae,Ce.value,z);re[0]?(G=re[0],s3(ae,re[1])):G=re}return G}function yJe(r,e){if(e.timestampIsSet)return r;var t=new Date(0);return t.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),t.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),t}function bJe(r){return r.match(pJe)[1].replace(mJe,"'")}var fJe,hJe,dJe,pJe,mJe,gJe,vJe,Fae=He(()=>{Zq();Xq();Yn();Eae();o3();AT();a3();qa();Rae();pn();fJe=10,hJe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dJe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pJe=/^'([^]*?)'?$/,mJe=/''/g,gJe=/\S/,vJe=/[a-zA-Z]/});function iA(r){ar(1,arguments);var e=Cr(r);return e.setMinutes(0,0,0),e}var qae=He(()=>{Yn();pn()});function oA(r){ar(1,arguments);var e=Cr(r);return e.setMilliseconds(0),e}var zae=He(()=>{Yn();pn()});function sA(r,e){ar(1,arguments);var t=e||{},n=t.additionalDigits==null?2:yn(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var i=SJe(r),a;if(i.date){var l=kJe(i.date,n);a=CJe(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var h=a.getTime(),b=0,S;if(i.time&&(b=EJe(i.time),isNaN(b)))return new Date(NaN);if(i.timezone){if(S=TJe(i.timezone),isNaN(S))return new Date(NaN)}else{var E=new Date(h+b),O=new Date(0);return O.setFullYear(E.getUTCFullYear(),E.getUTCMonth(),E.getUTCDate()),O.setHours(E.getUTCHours(),E.getUTCMinutes(),E.getUTCSeconds(),E.getUTCMilliseconds()),O}return new Date(h+b+S)}function SJe(r){var e={},t=r.split(aA.dateTimeDelimiter),n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],aA.timeZoneDelimiter.test(e.date)&&(e.date=r.split(aA.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){var i=aA.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function kJe(r,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function CJe(r,e){if(e===null)return new Date(NaN);var t=r.match(xJe);if(!t)return new Date(NaN);var n=!!t[4],i=dw(t[1]),a=dw(t[2])-1,l=dw(t[3]),h=dw(t[4]),b=dw(t[5])-1;if(n)return MJe(e,h,b)?AJe(e,h,b):new Date(NaN);var S=new Date(0);return!OJe(e,a,l)||!IJe(e,i)?new Date(NaN):(S.setUTCFullYear(e,a,Math.max(i,l)),S)}function dw(r){return r?parseInt(r):1}function EJe(r){var e=r.match(_Je);if(!e)return NaN;var t=h3(e[1]),n=h3(e[2]),i=h3(e[3]);return PJe(t,n,i)?t*rw+n*tw+i*1e3:NaN}function h3(r){return r&&parseFloat(r.replace(",","."))||0}function TJe(r){if(r==="Z")return 0;var e=r.match(wJe);if(!e)return 0;var t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return LJe(n,i)?t*(n*rw+i*tw):NaN}function AJe(r,e,t){var n=new Date(0);n.setUTCFullYear(r,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}function Nae(r){return r%400===0||r%4===0&&r%100!==0}function OJe(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(DJe[e]||(Nae(r)?29:28))}function IJe(r,e){return e>=1&&e<=(Nae(r)?366:365)}function MJe(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function PJe(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function LJe(r,e){return e>=0&&e<=59}var aA,xJe,_Je,wJe,DJe,Bae=He(()=>{nw();pn();qa();aA={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xJe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,_Je=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wJe=/^([+-])(\d{2})(?::?(\d{2}))?$/;DJe=[31,null,31,30,31,30,31,31,30,31,30,31]});var jae=He(()=>{Fq();Coe();c0();Aoe();ET();Doe();Ooe();Ioe();Moe();Wq();zoe();iw();Noe();Kq();joe();Uoe();Hoe();Woe();Vq();Zoe();Joe();$q();Qoe();eae();Xoe();Yoe();Cae();jq();Fae();Bae();qq();qae();Voe();Goe();$oe();zae();Eoe();Koe();Yn();nw()});var RJe,Uae=He(()=>{Rq();jae();RJe={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};Iq._date.override({_id:"date-fns",formats:function(){return RJe},parse:function(r,e){if(r===null||typeof r>"u")return null;let t=typeof r;return t==="number"||r instanceof Date?r=Cr(r):t==="string"&&(typeof e=="string"?r=nA(r,e,new Date,this.options):r=sA(r,this.options)),f0(r)?r.getTime():null},format:function(r,e){return tA(r,e,this.options)},add:function(r,e,t){switch(t){case"millisecond":return qf(r,e);case"second":return IT(r,e);case"minute":return DT(r,e);case"hour":return TT(r,e);case"day":return u0(r,e);case"week":return MT(r,e);case"month":return eg(r,e);case"quarter":return OT(r,e);case"year":return PT(r,e);default:return r}},diff:function(r,e,t){switch(t){case"millisecond":return Od(r,e);case"second":return qT(r,e);case"minute":return RT(r,e);case"hour":return LT(r,e);case"day":return h0(r,e);case"week":return zT(r,e);case"month":return g0(r,e);case"quarter":return FT(r,e);case"year":return NT(r,e);default:return 0}},startOf:function(r,e,t){switch(e){case"second":return oA(r);case"minute":return BT(r);case"hour":return iA(r);case"day":return Tv(r);case"week":return ew(r);case"isoWeek":return ew(r,{weekStartsOn:+t});case"month":return UT(r);case"quarter":return jT(r);case"year":return HT(r);default:return r}},endOf:function(r,e){switch(e){case"second":return YT(r);case"minute":return GT(r);case"hour":return VT(r);case"day":return p0(r);case"week":return $T(r);case"month":return m0(r);case"quarter":return KT(r);case"year":return WT(r);default:return r}}})});var Hae,Wae=He(()=>{Hae=So(cne());koe();Uae();Hae.default.use(Soe)});var Vae=He(()=>{document.addEventListener("direct-upload:initialize",r=>{let{target:e,detail:t}=r,{id:n,file:i}=t;e.insertAdjacentHTML("beforebegin",`
    <div id="direct-upload-${n}" class="direct-upload direct-upload--pending">
      <div id="direct-upload-progress-${n}" class="direct-upload__progress" style="width: 0%"></div>
      <span class="direct-upload__filename"></span>
    </div>
  `),e.previousElementSibling.querySelector(".direct-upload__filename").textContent=i.name});document.addEventListener("direct-upload:start",r=>{let{id:e}=r.detail;document.getElementById(`direct-upload-${e}`).classList.remove("direct-upload--pending")});document.addEventListener("direct-upload:progress",r=>{let{id:e,progress:t}=r.detail,n=document.getElementById(`direct-upload-progress-${e}`);n.style.width=`${t}%`});document.addEventListener("direct-upload:error",r=>{r.preventDefault();let{id:e,error:t}=r.detail,n=document.getElementById(`direct-upload-${e}`);n.classList.add("direct-upload--error"),n.setAttribute("title",t)});document.addEventListener("direct-upload:end",r=>{let{id:e}=r.detail;document.getElementById(`direct-upload-${e}`).classList.add("direct-upload--complete")})});var $ae=He(()=>{(function(r,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.Mapkick=e())})(void 0,function(){"use strict";function r(z,N){N===void 0&&(N={});var V=N.insertAt;if(!(!z||typeof document>"u")){var Y=document.head||document.getElementsByTagName("head")[0],J=document.createElement("style");J.type="text/css",V==="top"&&Y.firstChild?Y.insertBefore(J,Y.firstChild):Y.appendChild(J),J.styleSheet?J.styleSheet.cssText=z:J.appendChild(document.createTextNode(z))}}var e=`.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-moz-box-shadow:0 0 2px rgba(0,0,0,.1);-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;-moz-animation:mapboxgl-spin 2s infinite linear;-o-animation:mapboxgl-spin 2s infinite linear;-ms-animation:mapboxgl-spin 2s infinite linear;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@-moz-keyframes mapboxgl-spin{0%{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(1turn)}}@-o-keyframes mapboxgl-spin{0%{-o-transform:rotate(0deg)}to{-o-transform:rotate(1turn)}}@-ms-keyframes mapboxgl-spin{0%{-ms-transform:rotate(0deg)}to{-ms-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-flex;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;-moz-animation:mapboxgl-user-location-dot-pulse 2s infinite;-ms-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@-ms-keyframes mapboxgl-user-location-dot-pulse{0%{-ms-transform:scale(1);opacity:1}70%{-ms-transform:scale(3);opacity:0}to{-ms-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}`;r(e);var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n={},i={get exports(){return n},set exports(z){n=z}};(function(z,N){(function(V,Y){z.exports=Y()})(t,function(){var V,Y,J;function se(_,me){if(!V)V=me;else if(!Y)Y=me;else{var ne="var sharedChunk = {}; ("+V+")(sharedChunk); ("+Y+")(sharedChunk);",de={};V(de),J=me(de),typeof window<"u"&&(J.workerUrl=window.URL.createObjectURL(new Blob([ne],{type:"text/javascript"})))}}return se(["exports"],function(_){function me(s,c){return s(c={exports:{}},c.exports),c.exports}var ne=de;function de(s,c,d,k){this.cx=3*s,this.bx=3*(d-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(k-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=k,this.p2x=d,this.p2y=k}de.prototype.sampleCurveX=function(s){return((this.ax*s+this.bx)*s+this.cx)*s},de.prototype.sampleCurveY=function(s){return((this.ay*s+this.by)*s+this.cy)*s},de.prototype.sampleCurveDerivativeX=function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},de.prototype.solveCurveX=function(s,c){var d,k,A,I,F;for(c===void 0&&(c=1e-6),A=s,F=0;F<8;F++){if(I=this.sampleCurveX(A)-s,Math.abs(I)<c)return A;var H=this.sampleCurveDerivativeX(A);if(Math.abs(H)<1e-6)break;A-=I/H}if((A=s)<(d=0))return d;if(A>(k=1))return k;for(;d<k;){if(I=this.sampleCurveX(A),Math.abs(I-s)<c)return A;s>I?d=A:k=A,A=.5*(k-d)+d}return A},de.prototype.solve=function(s,c){return this.sampleCurveY(this.solveCurveX(s,c))};var he=be;function be(s,c){this.x=s,this.y=c}be.prototype={clone:function(){return new be(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,c){return this.clone()._rotateAround(s,c)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var c=s.x-this.x,d=s.y-this.y;return c*c+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,c){return Math.atan2(this.x*c-this.y*s,this.x*s+this.y*c)},_matMult:function(s){var c=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=c,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var c=Math.cos(s),d=Math.sin(s),k=d*this.x+c*this.y;return this.x=c*this.x-d*this.y,this.y=k,this},_rotateAround:function(s,c){var d=Math.cos(s),k=Math.sin(s),A=c.y+k*(this.x-c.x)+d*(this.y-c.y);return this.x=c.x+d*(this.x-c.x)-k*(this.y-c.y),this.y=A,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},be.convert=function(s){return s instanceof be?s:Array.isArray(s)?new be(s[0],s[1]):s};var xe=typeof self<"u"?self:{},We=Math.pow(2,53)-1;function R(s,c,d,k){var A=new ne(s,c,d,k);return function(I){return A.solve(I)}}var G=R(.25,.1,.25,1);function ae(s,c,d){return Math.min(d,Math.max(c,s))}function Ce(s,c,d){var k=d-c,A=((s-c)%k+k)%k+c;return A===c?d:A}function re(s){for(var c=arguments,d=[],k=arguments.length-1;k-- >0;)d[k]=c[k+1];for(var A=0,I=d;A<I.length;A+=1){var F=I[A];for(var H in F)s[H]=F[H]}return s}var ie=1;function pe(){return ie++}function je(){return function s(c){return c?(c^16*Math.random()>>c/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,s)}()}function K(s){return!!s&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s)}function W(s,c){s.forEach(function(d){c[d]&&(c[d]=c[d].bind(c))})}function Ze(s,c){return s.indexOf(c,s.length-c.length)!==-1}function ot(s,c,d){var k={};for(var A in s)k[A]=c.call(d||this,s[A],A,s);return k}function et(s,c,d){var k={};for(var A in s)c.call(d||this,s[A],A,s)&&(k[A]=s[A]);return k}function Pt(s){return Array.isArray(s)?s.map(Pt):typeof s=="object"&&s?ot(s,Pt):s}var Tt={};function Ht(s){Tt[s]||(typeof console<"u"&&console.warn(s),Tt[s]=!0)}function Lt(s,c,d){return(d.y-s.y)*(c.x-s.x)>(c.y-s.y)*(d.x-s.x)}function tr(s){for(var c=0,d=0,k=s.length,A=k-1,I=void 0,F=void 0;d<k;A=d++)c+=((F=s[A]).x-(I=s[d]).x)*(I.y+F.y);return c}function or(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function br(s){var c={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(k,A,I,F){var H=I||F;return c[A]=!H||H.toLowerCase(),""}),c["max-age"]){var d=parseInt(c["max-age"],10);isNaN(d)?delete c["max-age"]:c["max-age"]=d}return c}var Kt=null;function kt(s){if(Kt==null){var c=s.navigator?s.navigator.userAgent:null;Kt=!!s.safari||!(!c||!(/\b(iPad|iPhone|iPod)\b/.test(c)||c.match("Safari")&&!c.match("Chrome")))}return Kt}function yt(s){try{var c=xe[s];return c.setItem("_mapbox_test_",1),c.removeItem("_mapbox_test_"),!0}catch{return!1}}var rt,oe,ke,qe,Yt=xe.performance&&xe.performance.now?xe.performance.now.bind(xe.performance):Date.now.bind(Date),st=xe.requestAnimationFrame||xe.mozRequestAnimationFrame||xe.webkitRequestAnimationFrame||xe.msRequestAnimationFrame,It=xe.cancelAnimationFrame||xe.mozCancelAnimationFrame||xe.webkitCancelAnimationFrame||xe.msCancelAnimationFrame,Ct={now:Yt,frame:function(s){var c=st(s);return{cancel:function(){return It(c)}}},getImageData:function(s,c){c===void 0&&(c=0);var d=xe.document.createElement("canvas"),k=d.getContext("2d");if(!k)throw new Error("failed to create canvas 2d context");return d.width=s.width,d.height=s.height,k.drawImage(s,0,0,s.width,s.height),k.getImageData(-c,-c,s.width+2*c,s.height+2*c)},resolveURL:function(s){return rt||(rt=xe.document.createElement("a")),rt.href=s,rt.href},hardwareConcurrency:xe.navigator&&xe.navigator.hardwareConcurrency||4,get devicePixelRatio(){return xe.devicePixelRatio},get prefersReducedMotion(){return!!xe.matchMedia&&(oe==null&&(oe=xe.matchMedia("(prefers-reduced-motion: reduce)")),oe.matches)}},ur={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},sr={supported:!1,testSupport:function(s){!xr&&qe&&(fr?Ve(s):ke=s)}},xr=!1,fr=!1;function Ve(s){var c=s.createTexture();s.bindTexture(s.TEXTURE_2D,c);try{if(s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,qe),s.isContextLost())return;sr.supported=!0}catch{}s.deleteTexture(c),xr=!0}xe.document&&((qe=xe.document.createElement("img")).onload=function(){ke&&Ve(ke),ke=null,fr=!0},qe.onerror=function(){xr=!0,ke=null},qe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var at="01",Ut=function(s,c){this._transformRequestFn=s,this._customAccessToken=c,this._createSkuToken()};function vr(s){return s.indexOf("mapbox:")===0}Ut.prototype._createSkuToken=function(){var s=function(){for(var c="",d=0;d<10;d++)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",at,c].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=s.token,this._skuTokenExpiresAt=s.tokenExpiresAt},Ut.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ut.prototype.transformRequest=function(s,c){return this._transformRequestFn&&this._transformRequestFn(s,c)||{url:s}},Ut.prototype.normalizeStyleURL=function(s,c){if(!vr(s))return s;var d=gt(s);return d.path="/styles/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||c)},Ut.prototype.normalizeGlyphsURL=function(s,c){if(!vr(s))return s;var d=gt(s);return d.path="/fonts/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||c)},Ut.prototype.normalizeSourceURL=function(s,c){if(!vr(s))return s;var d=gt(s);return d.path="/v4/"+d.authority+".json",d.params.push("secure"),this._makeAPIURL(d,this._customAccessToken||c)},Ut.prototype.normalizeSpriteURL=function(s,c,d,k){var A=gt(s);return vr(s)?(A.path="/styles/v1"+A.path+"/sprite"+c+d,this._makeAPIURL(A,this._customAccessToken||k)):(A.path+=""+c+d,Dt(A))},Ut.prototype.normalizeTileURL=function(s,c){if(this._isSkuTokenExpired()&&this._createSkuToken(),s&&!vr(s))return s;var d=gt(s);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Ct.devicePixelRatio>=2||c===512?"@2x":"")+(sr.supported?".webp":"$1")),d.path=d.path.replace(/^.+\/v4\//,"/"),d.path="/v4"+d.path;var k=this._customAccessToken||function(A){for(var I=0,F=A;I<F.length;I+=1){var H=F[I].match(/^access_token=(.*)$/);if(H)return H[1]}return null}(d.params)||ur.ACCESS_TOKEN;return ur.REQUIRE_ACCESS_TOKEN&&k&&this._skuToken&&d.params.push("sku="+this._skuToken),this._makeAPIURL(d,k)},Ut.prototype.canonicalizeTileURL=function(s,c){var d=gt(s);if(!d.path.match(/(^\/v4\/)/)||!d.path.match(/\.[\w]+$/))return s;var k="mapbox://tiles/";k+=d.path.replace("/v4/","");var A=d.params;return c&&(A=A.filter(function(I){return!I.match(/^access_token=/)})),A.length&&(k+="?"+A.join("&")),k},Ut.prototype.canonicalizeTileset=function(s,c){for(var d=!!c&&vr(c),k=[],A=0,I=s.tiles||[];A<I.length;A+=1){var F=I[A];_r(F)?k.push(this.canonicalizeTileURL(F,d)):k.push(F)}return k},Ut.prototype._makeAPIURL=function(s,c){var d="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",k=gt(ur.API_URL);if(s.protocol=k.protocol,s.authority=k.authority,s.protocol==="http"){var A=s.params.indexOf("secure");A>=0&&s.params.splice(A,1)}if(k.path!=="/"&&(s.path=""+k.path+s.path),!ur.REQUIRE_ACCESS_TOKEN)return Dt(s);if(!(c=c||ur.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+d);if(c[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+d);return s.params=s.params.filter(function(I){return I.indexOf("access_token")===-1}),s.params.push("access_token="+c),Dt(s)};var Xn=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function _r(s){return Xn.test(s)}var $r=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function gt(s){var c=s.match($r);if(!c)throw new Error("Unable to parse URL object");return{protocol:c[1],authority:c[2],path:c[3]||"/",params:c[4]?c[4].split("&"):[]}}function Dt(s){var c=s.params.length?"?"+s.params.join("&"):"";return s.protocol+"://"+s.authority+s.path+c}function hr(s){if(!s)return null;var c=s.split(".");if(!c||c.length!==3)return null;try{return JSON.parse(decodeURIComponent(xe.atob(c[1]).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var zr=function(s){this.type=s,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};zr.prototype.getStorageKey=function(s){var c,d=hr(ur.ACCESS_TOKEN);return c=d&&d.u?xe.btoa(encodeURIComponent(d.u).replace(/%([0-9A-F]{2})/g,function(k,A){return String.fromCharCode(Number("0x"+A))})):ur.ACCESS_TOKEN||"",s?"mapbox.eventData."+s+":"+c:"mapbox.eventData:"+c},zr.prototype.fetchEventData=function(){var s=yt("localStorage"),c=this.getStorageKey(),d=this.getStorageKey("uuid");if(s)try{var k=xe.localStorage.getItem(c);k&&(this.eventData=JSON.parse(k));var A=xe.localStorage.getItem(d);A&&(this.anonId=A)}catch{Ht("Unable to read from LocalStorage")}},zr.prototype.saveEventData=function(){var s=yt("localStorage"),c=this.getStorageKey(),d=this.getStorageKey("uuid");if(s)try{xe.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&xe.localStorage.setItem(c,JSON.stringify(this.eventData))}catch{Ht("Unable to write to LocalStorage")}},zr.prototype.processRequests=function(s){},zr.prototype.postEvent=function(s,c,d,k){var A=this;if(ur.EVENTS_URL){var I=gt(ur.EVENTS_URL);I.params.push("access_token="+(k||ur.ACCESS_TOKEN||""));var F={event:this.type,created:new Date(s).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.3",skuId:at,userId:this.anonId},H=c?re(F,c):F,ee={url:Dt(I),headers:{"Content-Type":"text/plain"},body:JSON.stringify([H])};this.pendingRequest=zn(ee,function(le){A.pendingRequest=null,d(le),A.saveEventData(),A.processRequests(k)})}},zr.prototype.queueRequest=function(s,c){this.queue.push(s),this.processRequests(c)};var wr,Gr,mn=function(s){function c(){s.call(this,"map.load"),this.success={},this.skuToken=""}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.postMapLoadEvent=function(d,k,A,I){this.skuToken=A;var F=!(!I&&!ur.ACCESS_TOKEN),H=Array.isArray(d)&&d.some(function(ee){return vr(ee)||_r(ee)});ur.EVENTS_URL&&F&&H&&this.queueRequest({id:k,timestamp:Date.now()},I)},c.prototype.processRequests=function(d){var k=this;if(!this.pendingRequest&&this.queue.length!==0){var A=this.queue.shift(),I=A.id,F=A.timestamp;I&&this.success[I]||(this.anonId||this.fetchEventData(),K(this.anonId)||(this.anonId=je()),this.postEvent(F,{skuToken:this.skuToken},function(H){H||I&&(k.success[I]=!0)},d))}},c}(zr),ai=new(function(s){function c(d){s.call(this,"appUserTurnstile"),this._customAccessToken=d}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.postTurnstileEvent=function(d,k){ur.EVENTS_URL&&ur.ACCESS_TOKEN&&Array.isArray(d)&&d.some(function(A){return vr(A)||_r(A)})&&this.queueRequest(Date.now(),k)},c.prototype.processRequests=function(d){var k=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var A=hr(ur.ACCESS_TOKEN),I=A?A.u:ur.ACCESS_TOKEN,F=I!==this.eventData.tokenU;K(this.anonId)||(this.anonId=je(),F=!0);var H=this.queue.shift();if(this.eventData.lastSuccess){var ee=new Date(this.eventData.lastSuccess),le=new Date(H),ge=(H-this.eventData.lastSuccess)/864e5;F=F||ge>=1||ge<-1||ee.getDate()!==le.getDate()}else F=!0;if(!F)return this.processRequests();this.postEvent(H,{"enabled.telemetry":!1},function(_e){_e||(k.eventData.lastSuccess=H,k.eventData.tokenU=I)},d)}},c}(zr)),Ue=ai.postTurnstileEvent.bind(ai),Xe=new mn,bt=Xe.postMapLoadEvent.bind(Xe),Gt=500,gr=50;function rr(){xe.caches&&!wr&&(wr=xe.caches.open("mapbox-tiles"))}function Ur(s){var c=s.indexOf("?");return c<0?s:s.slice(0,c)}var Fr,vn=1/0;function xn(){return Fr==null&&(Fr=xe.OffscreenCanvas&&new xe.OffscreenCanvas(1,1).getContext("2d")&&typeof xe.createImageBitmap=="function"),Fr}var In={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(In);var Pi=function(s){function c(d,k,A){k===401&&_r(A)&&(d+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),s.call(this,d),this.status=k,this.url=A,this.name=this.constructor.name,this.message=d}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},c}(Error),Vn=or()?function(){return self.worker&&self.worker.referrer}:function(){return(xe.location.protocol==="blob:"?xe.parent:xe).location.href},Oo,$n,Xi=function(s,c){if(!(/^file:/.test(d=s.url)||/^file:/.test(Vn())&&!/^\w+:/.test(d))){if(xe.fetch&&xe.Request&&xe.AbortController&&xe.Request.prototype.hasOwnProperty("signal"))return function(k,A){var I,F=new xe.AbortController,H=new xe.Request(k.url,{method:k.method||"GET",body:k.body,credentials:k.credentials,headers:k.headers,referrer:Vn(),signal:F.signal}),ee=!1,le=!1,ge=(I=H.url).indexOf("sku=")>0&&_r(I);k.type==="json"&&H.headers.set("Accept","application/json");var _e=function(Me,Qe,tt){if(!le){if(Me&&Me.message!=="SecurityError"&&Ht(Me),Qe&&tt)return Te(Qe);var dt=Date.now();xe.fetch(H).then(function(lt){if(lt.ok){var vt=ge?lt.clone():null;return Te(lt,vt,dt)}return A(new Pi(lt.statusText,lt.status,k.url))}).catch(function(lt){lt.code!==20&&A(new Error(lt.message))})}},Te=function(Me,Qe,tt){(k.type==="arrayBuffer"?Me.arrayBuffer():k.type==="json"?Me.json():Me.text()).then(function(dt){le||(Qe&&tt&&function(lt,vt,Ot){if(rr(),wr){var qt={status:vt.status,statusText:vt.statusText,headers:new xe.Headers};vt.headers.forEach(function(Jt,cr){return qt.headers.set(cr,Jt)});var Bt=br(vt.headers.get("Cache-Control")||"");Bt["no-store"]||(Bt["max-age"]&&qt.headers.set("Expires",new Date(Ot+1e3*Bt["max-age"]).toUTCString()),new Date(qt.headers.get("Expires")).getTime()-Ot<42e4||function(Jt,cr){if(Gr===void 0)try{new Response(new ReadableStream),Gr=!0}catch{Gr=!1}Gr?cr(Jt.body):Jt.blob().then(cr)}(vt,function(Jt){var cr=new xe.Response(Jt,qt);rr(),wr&&wr.then(function(yr){return yr.put(Ur(lt.url),cr)}).catch(function(yr){return Ht(yr.message)})}))}}(H,Qe,tt),ee=!0,A(null,dt,Me.headers.get("Cache-Control"),Me.headers.get("Expires")))}).catch(function(dt){le||A(new Error(dt.message))})};return ge?function(Me,Qe){if(rr(),!wr)return Qe(null);var tt=Ur(Me.url);wr.then(function(dt){dt.match(tt).then(function(lt){var vt=function(Ot){if(!Ot)return!1;var qt=new Date(Ot.headers.get("Expires")||0),Bt=br(Ot.headers.get("Cache-Control")||"");return qt>Date.now()&&!Bt["no-cache"]}(lt);dt.delete(tt),vt&&dt.put(tt,lt.clone()),Qe(null,lt,vt)}).catch(Qe)}).catch(Qe)}(H,_e):_e(null,null),{cancel:function(){le=!0,ee||F.abort()}}}(s,c);if(or()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,c,void 0,!0)}var d;return function(k,A){var I=new xe.XMLHttpRequest;for(var F in I.open(k.method||"GET",k.url,!0),k.type==="arrayBuffer"&&(I.responseType="arraybuffer"),k.headers)I.setRequestHeader(F,k.headers[F]);return k.type==="json"&&(I.responseType="text",I.setRequestHeader("Accept","application/json")),I.withCredentials=k.credentials==="include",I.onerror=function(){A(new Error(I.statusText))},I.onload=function(){if((I.status>=200&&I.status<300||I.status===0)&&I.response!==null){var H=I.response;if(k.type==="json")try{H=JSON.parse(I.response)}catch(ee){return A(ee)}A(null,H,I.getResponseHeader("Cache-Control"),I.getResponseHeader("Expires"))}else A(new Pi(I.statusText,I.status,k.url))},I.send(k.body),{cancel:function(){return I.abort()}}}(s,c)},ea=function(s,c){return Xi(re(s,{type:"arrayBuffer"}),c)},zn=function(s,c){return Xi(re(s,{method:"POST"}),c)},ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Oo=[],$n=0;var Ee=function(s,c){if(sr.supported&&(s.headers||(s.headers={}),s.headers.accept="image/webp,*/*"),$n>=ur.MAX_PARALLEL_IMAGE_REQUESTS){var d={requestParameters:s,callback:c,cancelled:!1,cancel:function(){this.cancelled=!0}};return Oo.push(d),d}$n++;var k=!1,A=function(){if(!k)for(k=!0,$n--;Oo.length&&$n<ur.MAX_PARALLEL_IMAGE_REQUESTS;){var F=Oo.shift();F.cancelled||(F.cancel=Ee(F.requestParameters,F.callback).cancel)}},I=ea(s,function(F,H,ee,le){A(),F?c(F):H&&(xn()?function(ge,_e){var Te=new xe.Blob([new Uint8Array(ge)],{type:"image/png"});xe.createImageBitmap(Te).then(function(Me){_e(null,Me)}).catch(function(Me){_e(new Error("Could not load image because of "+Me.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(H,c):function(ge,_e,Te,Me){var Qe=new xe.Image,tt=xe.URL;Qe.onload=function(){_e(null,Qe),tt.revokeObjectURL(Qe.src),Qe.onload=null,xe.requestAnimationFrame(function(){Qe.src=ve})},Qe.onerror=function(){return _e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var dt=new xe.Blob([new Uint8Array(ge)],{type:"image/png"});Qe.cacheControl=Te,Qe.expires=Me,Qe.src=ge.byteLength?tt.createObjectURL(dt):ve}(H,c,ee,le))});return{cancel:function(){I.cancel(),A()}}};function Oe(s,c,d){d[s]&&d[s].indexOf(c)!==-1||(d[s]=d[s]||[],d[s].push(c))}function Be(s,c,d){if(d&&d[s]){var k=d[s].indexOf(c);k!==-1&&d[s].splice(k,1)}}var Ye=function(s,c){c===void 0&&(c={}),re(this,c),this.type=s},ht=function(s){function c(d,k){k===void 0&&(k={}),s.call(this,"error",re({error:d},k))}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(Ye),ut=function(){};ut.prototype.on=function(s,c){return this._listeners=this._listeners||{},Oe(s,c,this._listeners),this},ut.prototype.off=function(s,c){return Be(s,c,this._listeners),Be(s,c,this._oneTimeListeners),this},ut.prototype.once=function(s,c){return this._oneTimeListeners=this._oneTimeListeners||{},Oe(s,c,this._oneTimeListeners),this},ut.prototype.fire=function(s,c){typeof s=="string"&&(s=new Ye(s,c||{}));var d=s.type;if(this.listens(d)){s.target=this;for(var k=0,A=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];k<A.length;k+=1)A[k].call(this,s);for(var I=0,F=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];I<F.length;I+=1){var H=F[I];Be(d,H,this._oneTimeListeners),H.call(this,s)}var ee=this._eventedParent;ee&&(re(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ee.fire(s))}else s instanceof ht&&console.error(s.error);return this},ut.prototype.listens=function(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)},ut.prototype.setEventedParent=function(s,c){return this._eventedParent=s,this._eventedParentData=c,this};var Ie={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ne=function(s,c,d,k){this.message=(s?s+": ":"")+d,k&&(this.identifier=k),c!=null&&c.__line__&&(this.line=c.__line__)};function xt(s){var c=s.value;return c?[new Ne(s.key,c,"constants have been deprecated as of v8")]:[]}function Vt(s){for(var c=arguments,d=[],k=arguments.length-1;k-- >0;)d[k]=c[k+1];for(var A=0,I=d;A<I.length;A+=1){var F=I[A];for(var H in F)s[H]=F[H]}return s}function Et(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function St(s){if(Array.isArray(s))return s.map(St);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){var c={};for(var d in s)c[d]=St(s[d]);return c}return Et(s)}var Qt=function(s){function c(d,k){s.call(this,k),this.message=k,this.key=d}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(Error),we=function(s,c){c===void 0&&(c=[]),this.parent=s,this.bindings={};for(var d=0,k=c;d<k.length;d+=1){var A=k[d];this.bindings[A[0]]=A[1]}};we.prototype.concat=function(s){return new we(this,s)},we.prototype.get=function(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(s+" not found in scope.")},we.prototype.has=function(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)};var Pe={kind:"null"},Ae={kind:"number"},Q={kind:"string"},Z={kind:"boolean"},ue={kind:"color"},Fe={kind:"object"},it={kind:"value"},Mt={kind:"collator"},Wt={kind:"formatted"},dr={kind:"resolvedImage"};function Sr(s,c){return{kind:"array",itemType:s,N:c}}function Zt(s){if(s.kind==="array"){var c=Zt(s.itemType);return typeof s.N=="number"?"array<"+c+", "+s.N+">":s.itemType.kind==="value"?"array":"array<"+c+">"}return s.kind}var tn=[Pe,Ae,Q,Z,ue,Wt,Fe,Sr(it),dr];function un(s,c){if(c.kind==="error")return null;if(s.kind==="array"){if(c.kind==="array"&&(c.N===0&&c.itemType.kind==="value"||!un(s.itemType,c.itemType))&&(typeof s.N!="number"||s.N===c.N))return null}else{if(s.kind===c.kind)return null;if(s.kind==="value"){for(var d=0,k=tn;d<k.length;d+=1)if(!un(k[d],c))return null}}return"Expected "+Zt(s)+" but found "+Zt(c)+" instead."}function Br(s,c){return c.some(function(d){return d.kind===s.kind})}function Lr(s,c){return c.some(function(d){return d==="null"?s===null:d==="array"?Array.isArray(s):d==="object"?s&&!Array.isArray(s)&&typeof s=="object":d===typeof s})}var cn=me(function(s,c){var d={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function k(H){return(H=Math.round(H))<0?0:H>255?255:H}function A(H){return k(H[H.length-1]==="%"?parseFloat(H)/100*255:parseInt(H))}function I(H){return(ee=H[H.length-1]==="%"?parseFloat(H)/100:parseFloat(H))<0?0:ee>1?1:ee;var ee}function F(H,ee,le){return le<0?le+=1:le>1&&(le-=1),6*le<1?H+(ee-H)*le*6:2*le<1?ee:3*le<2?H+(ee-H)*(2/3-le)*6:H}try{c.parseCSSColor=function(H){var ee,le=H.replace(/ /g,"").toLowerCase();if(le in d)return d[le].slice();if(le[0]==="#")return le.length===4?(ee=parseInt(le.substr(1),16))>=0&&ee<=4095?[(3840&ee)>>4|(3840&ee)>>8,240&ee|(240&ee)>>4,15&ee|(15&ee)<<4,1]:null:le.length===7&&(ee=parseInt(le.substr(1),16))>=0&&ee<=16777215?[(16711680&ee)>>16,(65280&ee)>>8,255&ee,1]:null;var ge=le.indexOf("("),_e=le.indexOf(")");if(ge!==-1&&_e+1===le.length){var Te=le.substr(0,ge),Me=le.substr(ge+1,_e-(ge+1)).split(","),Qe=1;switch(Te){case"rgba":if(Me.length!==4)return null;Qe=I(Me.pop());case"rgb":return Me.length!==3?null:[A(Me[0]),A(Me[1]),A(Me[2]),Qe];case"hsla":if(Me.length!==4)return null;Qe=I(Me.pop());case"hsl":if(Me.length!==3)return null;var tt=(parseFloat(Me[0])%360+360)%360/360,dt=I(Me[1]),lt=I(Me[2]),vt=lt<=.5?lt*(dt+1):lt+dt-lt*dt,Ot=2*lt-vt;return[k(255*F(Ot,vt,tt+1/3)),k(255*F(Ot,vt,tt)),k(255*F(Ot,vt,tt-1/3)),Qe];default:return null}}return null}}catch{}}).parseCSSColor,Mn=function(s,c,d,k){k===void 0&&(k=1),this.r=s,this.g=c,this.b=d,this.a=k};Mn.parse=function(s){if(s){if(s instanceof Mn)return s;if(typeof s=="string"){var c=cn(s);if(c)return new Mn(c[0]/255*c[3],c[1]/255*c[3],c[2]/255*c[3],c[3])}}},Mn.prototype.toString=function(){var s=this.toArray(),c=s[1],d=s[2],k=s[3];return"rgba("+Math.round(s[0])+","+Math.round(c)+","+Math.round(d)+","+k+")"},Mn.prototype.toArray=function(){var s=this.a;return s===0?[0,0,0,0]:[255*this.r/s,255*this.g/s,255*this.b/s,s]},Mn.black=new Mn(0,0,0,1),Mn.white=new Mn(1,1,1,1),Mn.transparent=new Mn(0,0,0,0),Mn.red=new Mn(1,0,0,1);var Ji=function(s,c,d){this.sensitivity=s?c?"variant":"case":c?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Ji.prototype.compare=function(s,c){return this.collator.compare(s,c)},Ji.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var zs=function(s,c,d,k,A){this.text=s,this.image=c,this.scale=d,this.fontStack=k,this.textColor=A},Pn=function(s){this.sections=s};Pn.fromString=function(s){return new Pn([new zs(s,null,null,null,null)])},Pn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(s){return s.text.length!==0||s.image&&s.image.name.length!==0})},Pn.factory=function(s){return s instanceof Pn?s:Pn.fromString(s)},Pn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(s){return s.text}).join("")},Pn.prototype.serialize=function(){for(var s=["format"],c=0,d=this.sections;c<d.length;c+=1){var k=d[c];if(k.image)s.push(["image",k.image.name]);else{s.push(k.text);var A={};k.fontStack&&(A["text-font"]=["literal",k.fontStack.split(",")]),k.scale&&(A["font-scale"]=k.scale),k.textColor&&(A["text-color"]=["rgba"].concat(k.textColor.toArray())),s.push(A)}}return s};var fi=function(s){this.name=s.name,this.available=s.available};function ta(s,c,d,k){return typeof s=="number"&&s>=0&&s<=255&&typeof c=="number"&&c>=0&&c<=255&&typeof d=="number"&&d>=0&&d<=255?k===void 0||typeof k=="number"&&k>=0&&k<=1?null:"Invalid rgba value ["+[s,c,d,k].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof k=="number"?[s,c,d,k]:[s,c,d]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Dl(s){if(s===null||typeof s=="string"||typeof s=="boolean"||typeof s=="number"||s instanceof Mn||s instanceof Ji||s instanceof Pn||s instanceof fi)return!0;if(Array.isArray(s)){for(var c=0,d=s;c<d.length;c+=1)if(!Dl(d[c]))return!1;return!0}if(typeof s=="object"){for(var k in s)if(!Dl(s[k]))return!1;return!0}return!1}function vi(s){if(s===null)return Pe;if(typeof s=="string")return Q;if(typeof s=="boolean")return Z;if(typeof s=="number")return Ae;if(s instanceof Mn)return ue;if(s instanceof Ji)return Mt;if(s instanceof Pn)return Wt;if(s instanceof fi)return dr;if(Array.isArray(s)){for(var c,d=s.length,k=0,A=s;k<A.length;k+=1){var I=vi(A[k]);if(c){if(c===I)continue;c=it;break}c=I}return Sr(c||it,d)}return Fe}function Ns(s){var c=typeof s;return s===null?"":c==="string"||c==="number"||c==="boolean"?String(s):s instanceof Mn||s instanceof Pn||s instanceof fi?s.toString():JSON.stringify(s)}fi.prototype.toString=function(){return this.name},fi.fromString=function(s){return s?new fi({name:s,available:!1}):null},fi.prototype.serialize=function(){return["image",this.name]};var Ai=function(s,c){this.type=s,this.value=c};Ai.parse=function(s,c){if(s.length!==2)return c.error("'literal' expression requires exactly one argument, but found "+(s.length-1)+" instead.");if(!Dl(s[1]))return c.error("invalid value");var d=s[1],k=vi(d),A=c.expectedType;return k.kind!=="array"||k.N!==0||!A||A.kind!=="array"||typeof A.N=="number"&&A.N!==0||(k=A),new Ai(k,d)},Ai.prototype.evaluate=function(){return this.value},Ai.prototype.eachChild=function(){},Ai.prototype.outputDefined=function(){return!0},Ai.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Mn?["rgba"].concat(this.value.toArray()):this.value instanceof Pn?this.value.serialize():this.value};var Qi=function(s){this.name="ExpressionEvaluationError",this.message=s};Qi.prototype.toJSON=function(){return this.message};var so={string:Q,number:Ae,boolean:Z,object:Fe},Dn=function(s,c){this.type=s,this.args=c};Dn.parse=function(s,c){if(s.length<2)return c.error("Expected at least one argument.");var d,k=1,A=s[0];if(A==="array"){var I,F;if(s.length>2){var H=s[1];if(typeof H!="string"||!(H in so)||H==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);I=so[H],k++}else I=it;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return c.error('The length argument to "array" must be a positive integer literal',2);F=s[2],k++}d=Sr(I,F)}else d=so[A];for(var ee=[];k<s.length;k++){var le=c.parse(s[k],k,it);if(!le)return null;ee.push(le)}return new Dn(d,ee)},Dn.prototype.evaluate=function(s){for(var c=0;c<this.args.length;c++){var d=this.args[c].evaluate(s);if(!un(this.type,vi(d)))return d;if(c===this.args.length-1)throw new Qi("Expected value to be of type "+Zt(this.type)+", but found "+Zt(vi(d))+" instead.")}return null},Dn.prototype.eachChild=function(s){this.args.forEach(s)},Dn.prototype.outputDefined=function(){return this.args.every(function(s){return s.outputDefined()})},Dn.prototype.serialize=function(){var s=this.type,c=[s.kind];if(s.kind==="array"){var d=s.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){c.push(d.kind);var k=s.N;(typeof k=="number"||this.args.length>1)&&c.push(k)}}return c.concat(this.args.map(function(A){return A.serialize()}))};var ra=function(s){this.type=Wt,this.sections=s};ra.parse=function(s,c){if(s.length<2)return c.error("Expected at least one argument.");var d=s[1];if(!Array.isArray(d)&&typeof d=="object")return c.error("First argument must be an image or text section.");for(var k=[],A=!1,I=1;I<=s.length-1;++I){var F=s[I];if(A&&typeof F=="object"&&!Array.isArray(F)){A=!1;var H=null;if(F["font-scale"]&&!(H=c.parse(F["font-scale"],1,Ae)))return null;var ee=null;if(F["text-font"]&&!(ee=c.parse(F["text-font"],1,Sr(Q))))return null;var le=null;if(F["text-color"]&&!(le=c.parse(F["text-color"],1,ue)))return null;var ge=k[k.length-1];ge.scale=H,ge.font=ee,ge.textColor=le}else{var _e=c.parse(s[I],1,it);if(!_e)return null;var Te=_e.type.kind;if(Te!=="string"&&Te!=="value"&&Te!=="null"&&Te!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");A=!0,k.push({content:_e,scale:null,font:null,textColor:null})}}return new ra(k)},ra.prototype.evaluate=function(s){return new Pn(this.sections.map(function(c){var d=c.content.evaluate(s);return vi(d)===dr?new zs("",d,null,null,null):new zs(Ns(d),null,c.scale?c.scale.evaluate(s):null,c.font?c.font.evaluate(s).join(","):null,c.textColor?c.textColor.evaluate(s):null)}))},ra.prototype.eachChild=function(s){for(var c=0,d=this.sections;c<d.length;c+=1){var k=d[c];s(k.content),k.scale&&s(k.scale),k.font&&s(k.font),k.textColor&&s(k.textColor)}},ra.prototype.outputDefined=function(){return!1},ra.prototype.serialize=function(){for(var s=["format"],c=0,d=this.sections;c<d.length;c+=1){var k=d[c];s.push(k.content.serialize());var A={};k.scale&&(A["font-scale"]=k.scale.serialize()),k.font&&(A["text-font"]=k.font.serialize()),k.textColor&&(A["text-color"]=k.textColor.serialize()),s.push(A)}return s};var na=function(s){this.type=dr,this.input=s};na.parse=function(s,c){if(s.length!==2)return c.error("Expected two arguments.");var d=c.parse(s[1],1,Q);return d?new na(d):c.error("No image name provided.")},na.prototype.evaluate=function(s){var c=this.input.evaluate(s),d=fi.fromString(c);return d&&s.availableImages&&(d.available=s.availableImages.indexOf(c)>-1),d},na.prototype.eachChild=function(s){s(this.input)},na.prototype.outputDefined=function(){return!1},na.prototype.serialize=function(){return["image",this.input.serialize()]};var Gu={"to-boolean":Z,"to-color":ue,"to-number":Ae,"to-string":Q},mo=function(s,c){this.type=s,this.args=c};mo.parse=function(s,c){if(s.length<2)return c.error("Expected at least one argument.");var d=s[0];if((d==="to-boolean"||d==="to-string")&&s.length!==2)return c.error("Expected one argument.");for(var k=Gu[d],A=[],I=1;I<s.length;I++){var F=c.parse(s[I],I,it);if(!F)return null;A.push(F)}return new mo(k,A)},mo.prototype.evaluate=function(s){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(s));if(this.type.kind==="color"){for(var c,d,k=0,A=this.args;k<A.length;k+=1){if(d=null,(c=A[k].evaluate(s))instanceof Mn)return c;if(typeof c=="string"){var I=s.parseColor(c);if(I)return I}else if(Array.isArray(c)&&!(d=c.length<3||c.length>4?"Invalid rbga value "+JSON.stringify(c)+": expected an array containing either three or four numeric values.":ta(c[0],c[1],c[2],c[3])))return new Mn(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Qi(d||"Could not parse color from value '"+(typeof c=="string"?c:String(JSON.stringify(c)))+"'")}if(this.type.kind==="number"){for(var F=null,H=0,ee=this.args;H<ee.length;H+=1){if((F=ee[H].evaluate(s))===null)return 0;var le=Number(F);if(!isNaN(le))return le}throw new Qi("Could not convert "+JSON.stringify(F)+" to number.")}return this.type.kind==="formatted"?Pn.fromString(Ns(this.args[0].evaluate(s))):this.type.kind==="resolvedImage"?fi.fromString(Ns(this.args[0].evaluate(s))):Ns(this.args[0].evaluate(s))},mo.prototype.eachChild=function(s){this.args.forEach(s)},mo.prototype.outputDefined=function(){return this.args.every(function(s){return s.outputDefined()})},mo.prototype.serialize=function(){if(this.type.kind==="formatted")return new ra([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new na(this.args[0]).serialize();var s=["to-"+this.type.kind];return this.eachChild(function(c){s.push(c.serialize())}),s};var Vf=["Unknown","Point","LineString","Polygon"],Uo=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Uo.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Uo.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Vf[this.feature.type]:this.feature.type:null},Uo.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Uo.prototype.canonicalID=function(){return this.canonical},Uo.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Uo.prototype.parseColor=function(s){var c=this._parseColorCache[s];return c||(c=this._parseColorCache[s]=Mn.parse(s)),c};var Vi=function(s,c,d,k){this.name=s,this.type=c,this._evaluate=d,this.args=k};Vi.prototype.evaluate=function(s){return this._evaluate(s,this.args)},Vi.prototype.eachChild=function(s){this.args.forEach(s)},Vi.prototype.outputDefined=function(){return!1},Vi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(s){return s.serialize()}))},Vi.parse=function(s,c){var d,k=s[0],A=Vi.definitions[k];if(!A)return c.error('Unknown expression "'+k+'". If you wanted a literal array, use ["literal", [...]].',0);for(var I=Array.isArray(A)?A[0]:A.type,F=Array.isArray(A)?[[A[1],A[2]]]:A.overloads,H=F.filter(function(en){var Pr=en[0];return!Array.isArray(Pr)||Pr.length===s.length-1}),ee=null,le=0,ge=H;le<ge.length;le+=1){var _e=ge[le],Te=_e[0],Me=_e[1];ee=new Io(c.registry,c.path,null,c.scope);for(var Qe=[],tt=!1,dt=1;dt<s.length;dt++){var lt=s[dt],vt=Array.isArray(Te)?Te[dt-1]:Te.type,Ot=ee.parse(lt,1+Qe.length,vt);if(!Ot){tt=!0;break}Qe.push(Ot)}if(!tt)if(Array.isArray(Te)&&Te.length!==Qe.length)ee.error("Expected "+Te.length+" arguments, but found "+Qe.length+" instead.");else{for(var qt=0;qt<Qe.length;qt++){var Bt=Array.isArray(Te)?Te[qt]:Te.type,Jt=Qe[qt];ee.concat(qt+1).checkSubtype(Bt,Jt.type)}if(ee.errors.length===0)return new Vi(k,I,Me,Qe)}}if(H.length===1)(d=c.errors).push.apply(d,ee.errors);else{for(var cr=(H.length?H:F).map(function(en){var Pr;return Pr=en[0],Array.isArray(Pr)?"("+Pr.map(Zt).join(", ")+")":"("+Zt(Pr.type)+"...)"}).join(" | "),yr=[],Xr=1;Xr<s.length;Xr++){var Or=c.parse(s[Xr],1+yr.length);if(!Or)return null;yr.push(Zt(Or.type))}c.error("Expected arguments of type "+cr+", but found ("+yr.join(", ")+") instead.")}return null},Vi.register=function(s,c){for(var d in Vi.definitions=c,c)s[d]=Vi};var ns=function(s,c,d){this.type=Mt,this.locale=d,this.caseSensitive=s,this.diacriticSensitive=c};function jn(s,c){s[0]=Math.min(s[0],c[0]),s[1]=Math.min(s[1],c[1]),s[2]=Math.max(s[2],c[0]),s[3]=Math.max(s[3],c[1])}function sl(s,c){return!(s[0]<=c[0]||s[2]>=c[2]||s[1]<=c[1]||s[3]>=c[3])}function pf(s,c){var d=(180+s[0])/360,k=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s[1]*Math.PI/360)))/360,A=Math.pow(2,c.z);return[Math.round(d*A*8192),Math.round(k*A*8192)]}function Pc(s,c,d){return c[1]>s[1]!=d[1]>s[1]&&s[0]<(d[0]-c[0])*(s[1]-c[1])/(d[1]-c[1])+c[0]}function is(s,c){for(var d,k,A,I,F,H,ee,le=!1,ge=0,_e=c.length;ge<_e;ge++)for(var Te=c[ge],Me=0,Qe=Te.length;Me<Qe-1;Me++){if((I=(d=s)[0]-(k=Te[Me])[0])*(ee=d[1]-(A=Te[Me+1])[1])-(H=d[0]-A[0])*(F=d[1]-k[1])==0&&I*H<=0&&F*ee<=0)return!1;Pc(s,Te[Me],Te[Me+1])&&(le=!le)}return le}function _s(s,c){for(var d=0;d<c.length;d++)if(is(s,c[d]))return!0;return!1}function Xl(s,c,d,k){var A=k[0]-d[0],I=k[1]-d[1],F=(s[0]-d[0])*I-A*(s[1]-d[1]),H=(c[0]-d[0])*I-A*(c[1]-d[1]);return F>0&&H<0||F<0&&H>0}function Jl(s,c,d){for(var k=0,A=d;k<A.length;k+=1)for(var I=A[k],F=0;F<I.length-1;++F)if((_e=[(ge=I[F+1])[0]-(le=I[F])[0],ge[1]-le[1]])[0]*(Te=[(ee=c)[0]-(H=s)[0],ee[1]-H[1]])[1]-_e[1]*Te[0]!=0&&Xl(H,ee,le,ge)&&Xl(le,ge,H,ee))return!0;var H,ee,le,ge,_e,Te;return!1}function Ku(s,c){for(var d=0;d<s.length;++d)if(!is(s[d],c))return!1;for(var k=0;k<s.length-1;++k)if(Jl(s[k],s[k+1],c))return!1;return!0}function Ol(s,c){for(var d=0;d<c.length;d++)if(Ku(s,c[d]))return!0;return!1}function zi(s,c,d){for(var k=[],A=0;A<s.length;A++){for(var I=[],F=0;F<s[A].length;F++){var H=pf(s[A][F],d);jn(c,H),I.push(H)}k.push(I)}return k}function mf(s,c,d){for(var k=[],A=0;A<s.length;A++){var I=zi(s[A],c,d);k.push(I)}return k}function Ql(s,c,d,k){if(s[0]<d[0]||s[0]>d[2]){var A=.5*k,I=s[0]-d[0]>A?-k:d[0]-s[0]>A?k:0;I===0&&(I=s[0]-d[2]>A?-k:d[2]-s[0]>A?k:0),s[0]+=I}jn(c,s)}function Ua(s,c,d,k){for(var A=8192*Math.pow(2,k.z),I=[8192*k.x,8192*k.y],F=[],H=0,ee=s;H<ee.length;H+=1)for(var le=0,ge=ee[H];le<ge.length;le+=1){var _e=ge[le],Te=[_e.x+I[0],_e.y+I[1]];Ql(Te,c,d,A),F.push(Te)}return F}function $f(s,c,d,k){for(var A,I=8192*Math.pow(2,k.z),F=[8192*k.x,8192*k.y],H=[],ee=0,le=s;ee<le.length;ee+=1){for(var ge=[],_e=0,Te=le[ee];_e<Te.length;_e+=1){var Me=Te[_e],Qe=[Me.x+F[0],Me.y+F[1]];jn(c,Qe),ge.push(Qe)}H.push(ge)}if(c[2]-c[0]<=I/2){(A=c)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(var tt=0,dt=H;tt<dt.length;tt+=1)for(var lt=0,vt=dt[tt];lt<vt.length;lt+=1)Ql(vt[lt],c,d,I)}return H}ns.parse=function(s,c){if(s.length!==2)return c.error("Expected one argument.");var d=s[1];if(typeof d!="object"||Array.isArray(d))return c.error("Collator options argument must be an object.");var k=c.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,Z);if(!k)return null;var A=c.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,Z);if(!A)return null;var I=null;return d.locale&&!(I=c.parse(d.locale,1,Q))?null:new ns(k,A,I)},ns.prototype.evaluate=function(s){return new Ji(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)},ns.prototype.eachChild=function(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)},ns.prototype.outputDefined=function(){return!1},ns.prototype.serialize=function(){var s={};return s["case-sensitive"]=this.caseSensitive.serialize(),s["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(s.locale=this.locale.serialize()),["collator",s]};var ia=function(s,c){this.type=Z,this.geojson=s,this.geometries=c};function ll(s){if(s instanceof Vi&&(s.name==="get"&&s.args.length===1||s.name==="feature-state"||s.name==="has"&&s.args.length===1||s.name==="properties"||s.name==="geometry-type"||s.name==="id"||/^filter-/.test(s.name))||s instanceof ia)return!1;var c=!0;return s.eachChild(function(d){c&&!ll(d)&&(c=!1)}),c}function Aa(s){if(s instanceof Vi&&s.name==="feature-state")return!1;var c=!0;return s.eachChild(function(d){c&&!Aa(d)&&(c=!1)}),c}function Da(s,c){if(s instanceof Vi&&c.indexOf(s.name)>=0)return!1;var d=!0;return s.eachChild(function(k){d&&!Da(k,c)&&(d=!1)}),d}ia.parse=function(s,c){if(s.length!==2)return c.error("'within' expression requires exactly one argument, but found "+(s.length-1)+" instead.");if(Dl(s[1])){var d=s[1];if(d.type==="FeatureCollection")for(var k=0;k<d.features.length;++k){var A=d.features[k].geometry.type;if(A==="Polygon"||A==="MultiPolygon")return new ia(d,d.features[k].geometry)}else if(d.type==="Feature"){var I=d.geometry.type;if(I==="Polygon"||I==="MultiPolygon")return new ia(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new ia(d,d)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")},ia.prototype.evaluate=function(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,d){var k=[1/0,1/0,-1/0,-1/0],A=[1/0,1/0,-1/0,-1/0],I=c.canonicalID();if(d.type==="Polygon"){var F=zi(d.coordinates,A,I),H=Ua(c.geometry(),k,A,I);if(!sl(k,A))return!1;for(var ee=0,le=H;ee<le.length;ee+=1)if(!is(le[ee],F))return!1}if(d.type==="MultiPolygon"){var ge=mf(d.coordinates,A,I),_e=Ua(c.geometry(),k,A,I);if(!sl(k,A))return!1;for(var Te=0,Me=_e;Te<Me.length;Te+=1)if(!_s(Me[Te],ge))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,d){var k=[1/0,1/0,-1/0,-1/0],A=[1/0,1/0,-1/0,-1/0],I=c.canonicalID();if(d.type==="Polygon"){var F=zi(d.coordinates,A,I),H=$f(c.geometry(),k,A,I);if(!sl(k,A))return!1;for(var ee=0,le=H;ee<le.length;ee+=1)if(!Ku(le[ee],F))return!1}if(d.type==="MultiPolygon"){var ge=mf(d.coordinates,A,I),_e=$f(c.geometry(),k,A,I);if(!sl(k,A))return!1;for(var Te=0,Me=_e;Te<Me.length;Te+=1)if(!Ol(Me[Te],ge))return!1}return!0}(s,this.geometries)}return!1},ia.prototype.eachChild=function(){},ia.prototype.outputDefined=function(){return!0},ia.prototype.serialize=function(){return["within",this.geojson]};var ul=function(s,c){this.type=c.type,this.name=s,this.boundExpression=c};ul.parse=function(s,c){if(s.length!==2||typeof s[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");var d=s[1];return c.scope.has(d)?new ul(d,c.scope.get(d)):c.error('Unknown variable "'+d+'". Make sure "'+d+'" has been bound in an enclosing "let" expression before using it.',1)},ul.prototype.evaluate=function(s){return this.boundExpression.evaluate(s)},ul.prototype.eachChild=function(){},ul.prototype.outputDefined=function(){return!1},ul.prototype.serialize=function(){return["var",this.name]};var Io=function(s,c,d,k,A){c===void 0&&(c=[]),k===void 0&&(k=new we),A===void 0&&(A=[]),this.registry=s,this.path=c,this.key=c.map(function(I){return"["+I+"]"}).join(""),this.scope=k,this.errors=A,this.expectedType=d};function Lc(s,c){for(var d,k=s.length-1,A=0,I=k,F=0;A<=I;)if((d=s[F=Math.floor((A+I)/2)])<=c){if(F===k||c<s[F+1])return F;A=F+1}else{if(!(d>c))throw new Qi("Input is not a number.");I=F-1}return 0}Io.prototype.parse=function(s,c,d,k,A){return A===void 0&&(A={}),c?this.concat(c,d,k)._parse(s,A):this._parse(s,A)},Io.prototype._parse=function(s,c){function d(le,ge,_e){return _e==="assert"?new Dn(ge,[le]):_e==="coerce"?new mo(ge,[le]):le}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var k=s[0];if(typeof k!="string")return this.error("Expression name must be a string, but found "+typeof k+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var A=this.registry[k];if(A){var I=A.parse(s,this);if(!I)return null;if(this.expectedType){var F=this.expectedType,H=I.type;if(F.kind!=="string"&&F.kind!=="number"&&F.kind!=="boolean"&&F.kind!=="object"&&F.kind!=="array"||H.kind!=="value")if(F.kind!=="color"&&F.kind!=="formatted"&&F.kind!=="resolvedImage"||H.kind!=="value"&&H.kind!=="string"){if(this.checkSubtype(F,H))return null}else I=d(I,F,c.typeAnnotation||"coerce");else I=d(I,F,c.typeAnnotation||"assert")}if(!(I instanceof Ai)&&I.type.kind!=="resolvedImage"&&function le(ge){if(ge instanceof ul)return le(ge.boundExpression);if(ge instanceof Vi&&ge.name==="error"||ge instanceof ns||ge instanceof ia)return!1;var _e=ge instanceof mo||ge instanceof Dn,Te=!0;return ge.eachChild(function(Me){Te=_e?Te&&le(Me):Te&&Me instanceof Ai}),!!Te&&ll(ge)&&Da(ge,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(I)){var ee=new Uo;try{I=new Ai(I.type,I.evaluate(ee))}catch(le){return this.error(le.message),null}}return I}return this.error('Unknown expression "'+k+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof s+" instead.")},Io.prototype.concat=function(s,c,d){var k=typeof s=="number"?this.path.concat(s):this.path,A=d?this.scope.concat(d):this.scope;return new Io(this.registry,k,c||null,A,this.errors)},Io.prototype.error=function(s){for(var c=arguments,d=[],k=arguments.length-1;k-- >0;)d[k]=c[k+1];var A=""+this.key+d.map(function(I){return"["+I+"]"}).join("");this.errors.push(new Qt(A,s))},Io.prototype.checkSubtype=function(s,c){var d=un(s,c);return d&&this.error(d),d};var Ha=function(s,c,d){this.type=s,this.input=c,this.labels=[],this.outputs=[];for(var k=0,A=d;k<A.length;k+=1){var I=A[k],F=I[1];this.labels.push(I[0]),this.outputs.push(F)}};function Ni(s,c,d){return s*(1-d)+c*d}Ha.parse=function(s,c){if(s.length-1<4)return c.error("Expected at least 4 arguments, but found only "+(s.length-1)+".");if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");var d=c.parse(s[1],1,Ae);if(!d)return null;var k=[],A=null;c.expectedType&&c.expectedType.kind!=="value"&&(A=c.expectedType);for(var I=1;I<s.length;I+=2){var F=I===1?-1/0:s[I],H=s[I+1],ee=I,le=I+1;if(typeof F!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ee);if(k.length&&k[k.length-1][0]>=F)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ee);var ge=c.parse(H,le,A);if(!ge)return null;A=A||ge.type,k.push([F,ge])}return new Ha(A,d,k)},Ha.prototype.evaluate=function(s){var c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);var k=this.input.evaluate(s);if(k<=c[0])return d[0].evaluate(s);var A=c.length;return k>=c[A-1]?d[A-1].evaluate(s):d[Lc(c,k)].evaluate(s)},Ha.prototype.eachChild=function(s){s(this.input);for(var c=0,d=this.outputs;c<d.length;c+=1)s(d[c])},Ha.prototype.outputDefined=function(){return this.outputs.every(function(s){return s.outputDefined()})},Ha.prototype.serialize=function(){for(var s=["step",this.input.serialize()],c=0;c<this.labels.length;c++)c>0&&s.push(this.labels[c]),s.push(this.outputs[c].serialize());return s};var gf=Object.freeze({__proto__:null,number:Ni,color:function(s,c,d){return new Mn(Ni(s.r,c.r,d),Ni(s.g,c.g,d),Ni(s.b,c.b,d),Ni(s.a,c.a,d))},array:function(s,c,d){return s.map(function(k,A){return Ni(k,c[A],d)})}}),Bd=6/29*3*(6/29),Kp=Math.PI/180,_g=180/Math.PI;function Fh(s){return s>.008856451679035631?Math.pow(s,1/3):s/Bd+4/29}function qh(s){return s>6/29?s*s*s:Bd*(s-4/29)}function jd(s){return 255*(s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055)}function zh(s){return(s/=255)<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function Yp(s){var c=zh(s.r),d=zh(s.g),k=zh(s.b),A=Fh((.4124564*c+.3575761*d+.1804375*k)/.95047),I=Fh((.2126729*c+.7151522*d+.072175*k)/1);return{l:116*I-16,a:500*(A-I),b:200*(I-Fh((.0193339*c+.119192*d+.9503041*k)/1.08883)),alpha:s.a}}function Ud(s){var c=(s.l+16)/116,d=isNaN(s.a)?c:c+s.a/500,k=isNaN(s.b)?c:c-s.b/200;return c=1*qh(c),d=.95047*qh(d),k=1.08883*qh(k),new Mn(jd(3.2404542*d-1.5371385*c-.4985314*k),jd(-.969266*d+1.8760108*c+.041556*k),jd(.0556434*d-.2040259*c+1.0572252*k),s.alpha)}function Gf(s,c,d){var k=c-s;return s+d*(k>180||k<-180?k-360*Math.round(k/360):k)}var eu={forward:Yp,reverse:Ud,interpolate:function(s,c,d){return{l:Ni(s.l,c.l,d),a:Ni(s.a,c.a,d),b:Ni(s.b,c.b,d),alpha:Ni(s.alpha,c.alpha,d)}}},vf={forward:function(s){var c=Yp(s),d=c.l,k=c.a,A=c.b,I=Math.atan2(A,k)*_g;return{h:I<0?I+360:I,c:Math.sqrt(k*k+A*A),l:d,alpha:s.a}},reverse:function(s){var c=s.h*Kp,d=s.c;return Ud({l:s.l,a:Math.cos(c)*d,b:Math.sin(c)*d,alpha:s.alpha})},interpolate:function(s,c,d){return{h:Gf(s.h,c.h,d),c:Ni(s.c,c.c,d),l:Ni(s.l,c.l,d),alpha:Ni(s.alpha,c.alpha,d)}}},Kf=Object.freeze({__proto__:null,lab:eu,hcl:vf}),go=function(s,c,d,k,A){this.type=s,this.operator=c,this.interpolation=d,this.input=k,this.labels=[],this.outputs=[];for(var I=0,F=A;I<F.length;I+=1){var H=F[I],ee=H[1];this.labels.push(H[0]),this.outputs.push(ee)}};function Rc(s,c,d,k){var A=k-d,I=s-d;return A===0?0:c===1?I/A:(Math.pow(c,I)-1)/(Math.pow(c,A)-1)}go.interpolationFactor=function(s,c,d,k){var A=0;if(s.name==="exponential")A=Rc(c,s.base,d,k);else if(s.name==="linear")A=Rc(c,1,d,k);else if(s.name==="cubic-bezier"){var I=s.controlPoints;A=new ne(I[0],I[1],I[2],I[3]).solve(Rc(c,1,d,k))}return A},go.parse=function(s,c){var d=s[0],k=s[1],A=s[2],I=s.slice(3);if(!Array.isArray(k)||k.length===0)return c.error("Expected an interpolation type expression.",1);if(k[0]==="linear")k={name:"linear"};else if(k[0]==="exponential"){var F=k[1];if(typeof F!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);k={name:"exponential",base:F}}else{if(k[0]!=="cubic-bezier")return c.error("Unknown interpolation type "+String(k[0]),1,0);var H=k.slice(1);if(H.length!==4||H.some(function(dt){return typeof dt!="number"||dt<0||dt>1}))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);k={name:"cubic-bezier",controlPoints:H}}if(s.length-1<4)return c.error("Expected at least 4 arguments, but found only "+(s.length-1)+".");if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(!(A=c.parse(A,2,Ae)))return null;var ee=[],le=null;d==="interpolate-hcl"||d==="interpolate-lab"?le=ue:c.expectedType&&c.expectedType.kind!=="value"&&(le=c.expectedType);for(var ge=0;ge<I.length;ge+=2){var _e=I[ge],Te=I[ge+1],Me=ge+3,Qe=ge+4;if(typeof _e!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Me);if(ee.length&&ee[ee.length-1][0]>=_e)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Me);var tt=c.parse(Te,Qe,le);if(!tt)return null;le=le||tt.type,ee.push([_e,tt])}return le.kind==="number"||le.kind==="color"||le.kind==="array"&&le.itemType.kind==="number"&&typeof le.N=="number"?new go(le,d,k,A,ee):c.error("Type "+Zt(le)+" is not interpolatable.")},go.prototype.evaluate=function(s){var c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);var k=this.input.evaluate(s);if(k<=c[0])return d[0].evaluate(s);var A=c.length;if(k>=c[A-1])return d[A-1].evaluate(s);var I=Lc(c,k),F=go.interpolationFactor(this.interpolation,k,c[I],c[I+1]),H=d[I].evaluate(s),ee=d[I+1].evaluate(s);return this.operator==="interpolate"?gf[this.type.kind.toLowerCase()](H,ee,F):this.operator==="interpolate-hcl"?vf.reverse(vf.interpolate(vf.forward(H),vf.forward(ee),F)):eu.reverse(eu.interpolate(eu.forward(H),eu.forward(ee),F))},go.prototype.eachChild=function(s){s(this.input);for(var c=0,d=this.outputs;c<d.length;c+=1)s(d[c])},go.prototype.outputDefined=function(){return this.outputs.every(function(s){return s.outputDefined()})},go.prototype.serialize=function(){var s;s=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var c=[this.operator,s,this.input.serialize()],d=0;d<this.labels.length;d++)c.push(this.labels[d],this.outputs[d].serialize());return c};var eo=function(s,c){this.type=s,this.args=c};eo.parse=function(s,c){if(s.length<2)return c.error("Expectected at least one argument.");var d=null,k=c.expectedType;k&&k.kind!=="value"&&(d=k);for(var A=[],I=0,F=s.slice(1);I<F.length;I+=1){var H=c.parse(F[I],1+A.length,d,void 0,{typeAnnotation:"omit"});if(!H)return null;d=d||H.type,A.push(H)}var ee=k&&A.some(function(le){return un(k,le.type)});return new eo(ee?it:d,A)},eo.prototype.evaluate=function(s){for(var c,d=null,k=0,A=0,I=this.args;A<I.length&&(k++,(d=I[A].evaluate(s))&&d instanceof fi&&!d.available&&(c||(c=d.name),d=null,k===this.args.length&&(d=c)),d===null);A+=1);return d},eo.prototype.eachChild=function(s){this.args.forEach(s)},eo.prototype.outputDefined=function(){return this.args.every(function(s){return s.outputDefined()})},eo.prototype.serialize=function(){var s=["coalesce"];return this.eachChild(function(c){s.push(c.serialize())}),s};var Yu=function(s,c){this.type=c.type,this.bindings=[].concat(s),this.result=c};Yu.prototype.evaluate=function(s){return this.result.evaluate(s)},Yu.prototype.eachChild=function(s){for(var c=0,d=this.bindings;c<d.length;c+=1)s(d[c][1]);s(this.result)},Yu.parse=function(s,c){if(s.length<4)return c.error("Expected at least 3 arguments, but found "+(s.length-1)+" instead.");for(var d=[],k=1;k<s.length-1;k+=2){var A=s[k];if(typeof A!="string")return c.error("Expected string, but found "+typeof A+" instead.",k);if(/[^a-zA-Z0-9_]/.test(A))return c.error("Variable names must contain only alphanumeric characters or '_'.",k);var I=c.parse(s[k+1],k+1);if(!I)return null;d.push([A,I])}var F=c.parse(s[s.length-1],s.length-1,c.expectedType,d);return F?new Yu(d,F):null},Yu.prototype.outputDefined=function(){return this.result.outputDefined()},Yu.prototype.serialize=function(){for(var s=["let"],c=0,d=this.bindings;c<d.length;c+=1){var k=d[c];s.push(k[0],k[1].serialize())}return s.push(this.result.serialize()),s};var cl=function(s,c,d){this.type=s,this.index=c,this.input=d};cl.parse=function(s,c){if(s.length!==3)return c.error("Expected 2 arguments, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1,Ae),k=c.parse(s[2],2,Sr(c.expectedType||it));return d&&k?new cl(k.type.itemType,d,k):null},cl.prototype.evaluate=function(s){var c=this.index.evaluate(s),d=this.input.evaluate(s);if(c<0)throw new Qi("Array index out of bounds: "+c+" < 0.");if(c>=d.length)throw new Qi("Array index out of bounds: "+c+" > "+(d.length-1)+".");if(c!==Math.floor(c))throw new Qi("Array index must be an integer, but found "+c+" instead.");return d[c]},cl.prototype.eachChild=function(s){s(this.index),s(this.input)},cl.prototype.outputDefined=function(){return!1},cl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Di=function(s,c){this.type=Z,this.needle=s,this.haystack=c};Di.parse=function(s,c){if(s.length!==3)return c.error("Expected 2 arguments, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1,it),k=c.parse(s[2],2,it);return d&&k?Br(d.type,[Z,Q,Ae,Pe,it])?new Di(d,k):c.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(d.type)+" instead"):null},Di.prototype.evaluate=function(s){var c=this.needle.evaluate(s),d=this.haystack.evaluate(s);if(!d)return!1;if(!Lr(c,["boolean","string","number","null"]))throw new Qi("Expected first argument to be of type boolean, string, number or null, but found "+Zt(vi(c))+" instead.");if(!Lr(d,["string","array"]))throw new Qi("Expected second argument to be of type array or string, but found "+Zt(vi(d))+" instead.");return d.indexOf(c)>=0},Di.prototype.eachChild=function(s){s(this.needle),s(this.haystack)},Di.prototype.outputDefined=function(){return!0},Di.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Zu=function(s,c,d){this.type=Ae,this.needle=s,this.haystack=c,this.fromIndex=d};Zu.parse=function(s,c){if(s.length<=2||s.length>=5)return c.error("Expected 3 or 4 arguments, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1,it),k=c.parse(s[2],2,it);if(!d||!k)return null;if(!Br(d.type,[Z,Q,Ae,Pe,it]))return c.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(d.type)+" instead");if(s.length===4){var A=c.parse(s[3],3,Ae);return A?new Zu(d,k,A):null}return new Zu(d,k)},Zu.prototype.evaluate=function(s){var c=this.needle.evaluate(s),d=this.haystack.evaluate(s);if(!Lr(c,["boolean","string","number","null"]))throw new Qi("Expected first argument to be of type boolean, string, number or null, but found "+Zt(vi(c))+" instead.");if(!Lr(d,["string","array"]))throw new Qi("Expected second argument to be of type array or string, but found "+Zt(vi(d))+" instead.");if(this.fromIndex){var k=this.fromIndex.evaluate(s);return d.indexOf(c,k)}return d.indexOf(c)},Zu.prototype.eachChild=function(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)},Zu.prototype.outputDefined=function(){return!1},Zu.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var s=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),s]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Au=function(s,c,d,k,A,I){this.inputType=s,this.type=c,this.input=d,this.cases=k,this.outputs=A,this.otherwise=I};Au.parse=function(s,c){if(s.length<5)return c.error("Expected at least 4 arguments, but found only "+(s.length-1)+".");if(s.length%2!=1)return c.error("Expected an even number of arguments.");var d,k;c.expectedType&&c.expectedType.kind!=="value"&&(k=c.expectedType);for(var A={},I=[],F=2;F<s.length-1;F+=2){var H=s[F],ee=s[F+1];Array.isArray(H)||(H=[H]);var le=c.concat(F);if(H.length===0)return le.error("Expected at least one branch label.");for(var ge=0,_e=H;ge<_e.length;ge+=1){var Te=_e[ge];if(typeof Te!="number"&&typeof Te!="string")return le.error("Branch labels must be numbers or strings.");if(typeof Te=="number"&&Math.abs(Te)>Number.MAX_SAFE_INTEGER)return le.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Te=="number"&&Math.floor(Te)!==Te)return le.error("Numeric branch labels must be integer values.");if(d){if(le.checkSubtype(d,vi(Te)))return null}else d=vi(Te);if(A[String(Te)]!==void 0)return le.error("Branch labels must be unique.");A[String(Te)]=I.length}var Me=c.parse(ee,F,k);if(!Me)return null;k=k||Me.type,I.push(Me)}var Qe=c.parse(s[1],1,it);if(!Qe)return null;var tt=c.parse(s[s.length-1],s.length-1,k);return tt?Qe.type.kind!=="value"&&c.concat(1).checkSubtype(d,Qe.type)?null:new Au(d,k,Qe,A,I,tt):null},Au.prototype.evaluate=function(s){var c=this.input.evaluate(s);return(vi(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(s)},Au.prototype.eachChild=function(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)},Au.prototype.outputDefined=function(){return this.outputs.every(function(s){return s.outputDefined()})&&this.otherwise.outputDefined()},Au.prototype.serialize=function(){for(var s=this,c=["match",this.input.serialize()],d=[],k={},A=0,I=Object.keys(this.cases).sort();A<I.length;A+=1){var F=I[A];(_e=k[this.cases[F]])===void 0?(k[this.cases[F]]=d.length,d.push([this.cases[F],[F]])):d[_e][1].push(F)}for(var H=function(Me){return s.inputType.kind==="number"?Number(Me):Me},ee=0,le=d;ee<le.length;ee+=1){var ge=le[ee],_e=ge[0],Te=ge[1];c.push(Te.length===1?H(Te[0]):Te.map(H)),c.push(this.outputs[outputIndex$1].serialize())}return c.push(this.otherwise.serialize()),c};var Il=function(s,c,d){this.type=s,this.branches=c,this.otherwise=d};Il.parse=function(s,c){if(s.length<4)return c.error("Expected at least 3 arguments, but found only "+(s.length-1)+".");if(s.length%2!=0)return c.error("Expected an odd number of arguments.");var d;c.expectedType&&c.expectedType.kind!=="value"&&(d=c.expectedType);for(var k=[],A=1;A<s.length-1;A+=2){var I=c.parse(s[A],A,Z);if(!I)return null;var F=c.parse(s[A+1],A+1,d);if(!F)return null;k.push([I,F]),d=d||F.type}var H=c.parse(s[s.length-1],s.length-1,d);return H?new Il(d,k,H):null},Il.prototype.evaluate=function(s){for(var c=0,d=this.branches;c<d.length;c+=1){var k=d[c],A=k[1];if(k[0].evaluate(s))return A.evaluate(s)}return this.otherwise.evaluate(s)},Il.prototype.eachChild=function(s){for(var c=0,d=this.branches;c<d.length;c+=1){var k=d[c],A=k[1];s(k[0]),s(A)}s(this.otherwise)},Il.prototype.outputDefined=function(){return this.branches.every(function(s){return s[1].outputDefined()})&&this.otherwise.outputDefined()},Il.prototype.serialize=function(){var s=["case"];return this.eachChild(function(c){s.push(c.serialize())}),s};var tu=function(s,c,d,k){this.type=s,this.input=c,this.beginIndex=d,this.endIndex=k};function Nh(s,c){return s==="=="||s==="!="?c.kind==="boolean"||c.kind==="string"||c.kind==="number"||c.kind==="null"||c.kind==="value":c.kind==="string"||c.kind==="number"||c.kind==="value"}function Zp(s,c,d,k){return k.compare(c,d)===0}function si(s,c,d){var k=s!=="=="&&s!=="!=";return function(){function A(I,F,H){this.type=Z,this.lhs=I,this.rhs=F,this.collator=H,this.hasUntypedArgument=I.type.kind==="value"||F.type.kind==="value"}return A.parse=function(I,F){if(I.length!==3&&I.length!==4)return F.error("Expected two or three arguments.");var H=I[0],ee=F.parse(I[1],1,it);if(!ee)return null;if(!Nh(H,ee.type))return F.concat(1).error('"'+H+`" comparisons are not supported for type '`+Zt(ee.type)+"'.");var le=F.parse(I[2],2,it);if(!le)return null;if(!Nh(H,le.type))return F.concat(2).error('"'+H+`" comparisons are not supported for type '`+Zt(le.type)+"'.");if(ee.type.kind!==le.type.kind&&ee.type.kind!=="value"&&le.type.kind!=="value")return F.error("Cannot compare types '"+Zt(ee.type)+"' and '"+Zt(le.type)+"'.");k&&(ee.type.kind==="value"&&le.type.kind!=="value"?ee=new Dn(le.type,[ee]):ee.type.kind!=="value"&&le.type.kind==="value"&&(le=new Dn(ee.type,[le])));var ge=null;if(I.length===4){if(ee.type.kind!=="string"&&le.type.kind!=="string"&&ee.type.kind!=="value"&&le.type.kind!=="value")return F.error("Cannot use collator to compare non-string types.");if(!(ge=F.parse(I[3],3,Mt)))return null}return new A(ee,le,ge)},A.prototype.evaluate=function(I){var F=this.lhs.evaluate(I),H=this.rhs.evaluate(I);if(k&&this.hasUntypedArgument){var ee=vi(F),le=vi(H);if(ee.kind!==le.kind||ee.kind!=="string"&&ee.kind!=="number")throw new Qi('Expected arguments for "'+s+'" to be (string, string) or (number, number), but found ('+ee.kind+", "+le.kind+") instead.")}if(this.collator&&!k&&this.hasUntypedArgument){var ge=vi(F),_e=vi(H);if(ge.kind!=="string"||_e.kind!=="string")return c(I,F,H)}return this.collator?d(I,F,H,this.collator.evaluate(I)):c(I,F,H)},A.prototype.eachChild=function(I){I(this.lhs),I(this.rhs),this.collator&&I(this.collator)},A.prototype.outputDefined=function(){return!0},A.prototype.serialize=function(){var I=[s];return this.eachChild(function(F){I.push(F.serialize())}),I},A}()}tu.parse=function(s,c){if(s.length<=2||s.length>=5)return c.error("Expected 3 or 4 arguments, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1,it),k=c.parse(s[2],2,Ae);if(!d||!k)return null;if(!Br(d.type,[Sr(it),Q,it]))return c.error("Expected first argument to be of type array or string, but found "+Zt(d.type)+" instead");if(s.length===4){var A=c.parse(s[3],3,Ae);return A?new tu(d.type,d,k,A):null}return new tu(d.type,d,k)},tu.prototype.evaluate=function(s){var c=this.input.evaluate(s),d=this.beginIndex.evaluate(s);if(!Lr(c,["string","array"]))throw new Qi("Expected first argument to be of type array or string, but found "+Zt(vi(c))+" instead.");if(this.endIndex){var k=this.endIndex.evaluate(s);return c.slice(d,k)}return c.slice(d)},tu.prototype.eachChild=function(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)},tu.prototype.outputDefined=function(){return!1},tu.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var s=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),s]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Hd=si("==",function(s,c,d){return c===d},Zp),Yf=si("!=",function(s,c,d){return c!==d},function(s,c,d,k){return!Zp(0,c,d,k)}),Xp=si("<",function(s,c,d){return c<d},function(s,c,d,k){return k.compare(c,d)<0}),Fc=si(">",function(s,c,d){return c>d},function(s,c,d,k){return k.compare(c,d)>0}),Ml=si("<=",function(s,c,d){return c<=d},function(s,c,d,k){return k.compare(c,d)<=0}),Zf=si(">=",function(s,c,d){return c>=d},function(s,c,d,k){return k.compare(c,d)>=0}),Bs=function(s,c,d,k,A){this.type=Q,this.number=s,this.locale=c,this.currency=d,this.minFractionDigits=k,this.maxFractionDigits=A};Bs.parse=function(s,c){if(s.length!==3)return c.error("Expected two arguments.");var d=c.parse(s[1],1,Ae);if(!d)return null;var k=s[2];if(typeof k!="object"||Array.isArray(k))return c.error("NumberFormat options argument must be an object.");var A=null;if(k.locale&&!(A=c.parse(k.locale,1,Q)))return null;var I=null;if(k.currency&&!(I=c.parse(k.currency,1,Q)))return null;var F=null;if(k["min-fraction-digits"]&&!(F=c.parse(k["min-fraction-digits"],1,Ae)))return null;var H=null;return k["max-fraction-digits"]&&!(H=c.parse(k["max-fraction-digits"],1,Ae))?null:new Bs(d,A,I,F,H)},Bs.prototype.evaluate=function(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))},Bs.prototype.eachChild=function(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)},Bs.prototype.outputDefined=function(){return!1},Bs.prototype.serialize=function(){var s={};return this.locale&&(s.locale=this.locale.serialize()),this.currency&&(s.currency=this.currency.serialize()),this.minFractionDigits&&(s["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(s["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),s]};var Oa=function(s){this.type=Ae,this.input=s};Oa.parse=function(s,c){if(s.length!==2)return c.error("Expected 1 argument, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?c.error("Expected argument of type string or array, but found "+Zt(d.type)+" instead."):new Oa(d):null},Oa.prototype.evaluate=function(s){var c=this.input.evaluate(s);if(typeof c=="string"||Array.isArray(c))return c.length;throw new Qi("Expected value to be of type string or array, but found "+Zt(vi(c))+" instead.")},Oa.prototype.eachChild=function(s){s(this.input)},Oa.prototype.outputDefined=function(){return!1},Oa.prototype.serialize=function(){var s=["length"];return this.eachChild(function(c){s.push(c.serialize())}),s};var oa={"==":Hd,"!=":Yf,">":Fc,"<":Xp,">=":Zf,"<=":Ml,array:Dn,at:cl,boolean:Dn,case:Il,coalesce:eo,collator:ns,format:ra,image:na,in:Di,"index-of":Zu,interpolate:go,"interpolate-hcl":go,"interpolate-lab":go,length:Oa,let:Yu,literal:Ai,match:Au,number:Dn,"number-format":Bs,object:Dn,slice:tu,step:Ha,string:Dn,"to-boolean":mo,"to-color":mo,"to-number":mo,"to-string":mo,var:ul,within:ia};function ru(s,c){var d=c[0],k=c[1],A=c[2],I=c[3];d=d.evaluate(s),k=k.evaluate(s),A=A.evaluate(s);var F=I?I.evaluate(s):1,H=ta(d,k,A,F);if(H)throw new Qi(H);return new Mn(d/255*F,k/255*F,A/255*F,F)}function Xf(s,c){return s in c}function fl(s,c){var d=c[s];return d===void 0?null:d}function ws(s){return{type:s}}function Bh(s){return{result:"success",value:s}}function Xu(s){return{result:"error",value:s}}function nu(s){return s["property-type"]==="data-driven"||s["property-type"]==="cross-faded-data-driven"}function qc(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function os(s){return!!s.expression&&s.expression.interpolated}function hi(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":s===null?"null":typeof s}function iu(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}function ou(s){return s}function zc(s,c,d){return s!==void 0?s:c!==void 0?c:d!==void 0?d:void 0}function Wd(s,c,d,k,A){return zc(typeof d===A?k[d]:void 0,s.default,c.default)}function Jp(s,c,d){if(hi(d)!=="number")return zc(s.default,c.default);var k=s.stops.length;if(k===1||d<=s.stops[0][0])return s.stops[0][1];if(d>=s.stops[k-1][0])return s.stops[k-1][1];var A=Lc(s.stops.map(function(I){return I[0]}),d);return s.stops[A][1]}function Vd(s,c,d){var k=s.base!==void 0?s.base:1;if(hi(d)!=="number")return zc(s.default,c.default);var A=s.stops.length;if(A===1||d<=s.stops[0][0])return s.stops[0][1];if(d>=s.stops[A-1][0])return s.stops[A-1][1];var I=Lc(s.stops.map(function(_e){return _e[0]}),d),F=function(_e,Te,Me,Qe){var tt=Qe-Me,dt=_e-Me;return tt===0?0:Te===1?dt/tt:(Math.pow(Te,dt)-1)/(Math.pow(Te,tt)-1)}(d,k,s.stops[I][0],s.stops[I+1][0]),H=s.stops[I][1],ee=s.stops[I+1][1],le=gf[c.type]||ou;if(s.colorSpace&&s.colorSpace!=="rgb"){var ge=Kf[s.colorSpace];le=function(_e,Te){return ge.reverse(ge.interpolate(ge.forward(_e),ge.forward(Te),F))}}return typeof H.evaluate=="function"?{evaluate:function(){for(var _e=arguments,Te=[],Me=arguments.length;Me--;)Te[Me]=_e[Me];var Qe=H.evaluate.apply(void 0,Te),tt=ee.evaluate.apply(void 0,Te);if(Qe!==void 0&&tt!==void 0)return le(Qe,tt,F)}}:le(H,ee,F)}function Ju(s,c,d){return c.type==="color"?d=Mn.parse(d):c.type==="formatted"?d=Pn.fromString(d.toString()):c.type==="resolvedImage"?d=fi.fromString(d.toString()):hi(d)===c.type||c.type==="enum"&&c.values[d]||(d=void 0),zc(d,s.default,c.default)}Vi.register(oa,{error:[{kind:"error"},[Q],function(s,c){throw new Qi(c[0].evaluate(s))}],typeof:[Q,[it],function(s,c){return Zt(vi(c[0].evaluate(s)))}],"to-rgba":[Sr(Ae,4),[ue],function(s,c){return c[0].evaluate(s).toArray()}],rgb:[ue,[Ae,Ae,Ae],ru],rgba:[ue,[Ae,Ae,Ae,Ae],ru],has:{type:Z,overloads:[[[Q],function(s,c){return Xf(c[0].evaluate(s),s.properties())}],[[Q,Fe],function(s,c){var d=c[1];return Xf(c[0].evaluate(s),d.evaluate(s))}]]},get:{type:it,overloads:[[[Q],function(s,c){return fl(c[0].evaluate(s),s.properties())}],[[Q,Fe],function(s,c){var d=c[1];return fl(c[0].evaluate(s),d.evaluate(s))}]]},"feature-state":[it,[Q],function(s,c){return fl(c[0].evaluate(s),s.featureState||{})}],properties:[Fe,[],function(s){return s.properties()}],"geometry-type":[Q,[],function(s){return s.geometryType()}],id:[it,[],function(s){return s.id()}],zoom:[Ae,[],function(s){return s.globals.zoom}],"heatmap-density":[Ae,[],function(s){return s.globals.heatmapDensity||0}],"line-progress":[Ae,[],function(s){return s.globals.lineProgress||0}],accumulated:[it,[],function(s){return s.globals.accumulated===void 0?null:s.globals.accumulated}],"+":[Ae,ws(Ae),function(s,c){for(var d=0,k=0,A=c;k<A.length;k+=1)d+=A[k].evaluate(s);return d}],"*":[Ae,ws(Ae),function(s,c){for(var d=1,k=0,A=c;k<A.length;k+=1)d*=A[k].evaluate(s);return d}],"-":{type:Ae,overloads:[[[Ae,Ae],function(s,c){var d=c[1];return c[0].evaluate(s)-d.evaluate(s)}],[[Ae],function(s,c){return-c[0].evaluate(s)}]]},"/":[Ae,[Ae,Ae],function(s,c){var d=c[1];return c[0].evaluate(s)/d.evaluate(s)}],"%":[Ae,[Ae,Ae],function(s,c){var d=c[1];return c[0].evaluate(s)%d.evaluate(s)}],ln2:[Ae,[],function(){return Math.LN2}],pi:[Ae,[],function(){return Math.PI}],e:[Ae,[],function(){return Math.E}],"^":[Ae,[Ae,Ae],function(s,c){var d=c[1];return Math.pow(c[0].evaluate(s),d.evaluate(s))}],sqrt:[Ae,[Ae],function(s,c){return Math.sqrt(c[0].evaluate(s))}],log10:[Ae,[Ae],function(s,c){return Math.log(c[0].evaluate(s))/Math.LN10}],ln:[Ae,[Ae],function(s,c){return Math.log(c[0].evaluate(s))}],log2:[Ae,[Ae],function(s,c){return Math.log(c[0].evaluate(s))/Math.LN2}],sin:[Ae,[Ae],function(s,c){return Math.sin(c[0].evaluate(s))}],cos:[Ae,[Ae],function(s,c){return Math.cos(c[0].evaluate(s))}],tan:[Ae,[Ae],function(s,c){return Math.tan(c[0].evaluate(s))}],asin:[Ae,[Ae],function(s,c){return Math.asin(c[0].evaluate(s))}],acos:[Ae,[Ae],function(s,c){return Math.acos(c[0].evaluate(s))}],atan:[Ae,[Ae],function(s,c){return Math.atan(c[0].evaluate(s))}],min:[Ae,ws(Ae),function(s,c){return Math.min.apply(Math,c.map(function(d){return d.evaluate(s)}))}],max:[Ae,ws(Ae),function(s,c){return Math.max.apply(Math,c.map(function(d){return d.evaluate(s)}))}],abs:[Ae,[Ae],function(s,c){return Math.abs(c[0].evaluate(s))}],round:[Ae,[Ae],function(s,c){var d=c[0].evaluate(s);return d<0?-Math.round(-d):Math.round(d)}],floor:[Ae,[Ae],function(s,c){return Math.floor(c[0].evaluate(s))}],ceil:[Ae,[Ae],function(s,c){return Math.ceil(c[0].evaluate(s))}],"filter-==":[Z,[Q,it],function(s,c){var d=c[0],k=c[1];return s.properties()[d.value]===k.value}],"filter-id-==":[Z,[it],function(s,c){var d=c[0];return s.id()===d.value}],"filter-type-==":[Z,[Q],function(s,c){var d=c[0];return s.geometryType()===d.value}],"filter-<":[Z,[Q,it],function(s,c){var d=c[0],k=c[1],A=s.properties()[d.value],I=k.value;return typeof A==typeof I&&A<I}],"filter-id-<":[Z,[it],function(s,c){var d=c[0],k=s.id(),A=d.value;return typeof k==typeof A&&k<A}],"filter->":[Z,[Q,it],function(s,c){var d=c[0],k=c[1],A=s.properties()[d.value],I=k.value;return typeof A==typeof I&&A>I}],"filter-id->":[Z,[it],function(s,c){var d=c[0],k=s.id(),A=d.value;return typeof k==typeof A&&k>A}],"filter-<=":[Z,[Q,it],function(s,c){var d=c[0],k=c[1],A=s.properties()[d.value],I=k.value;return typeof A==typeof I&&A<=I}],"filter-id-<=":[Z,[it],function(s,c){var d=c[0],k=s.id(),A=d.value;return typeof k==typeof A&&k<=A}],"filter->=":[Z,[Q,it],function(s,c){var d=c[0],k=c[1],A=s.properties()[d.value],I=k.value;return typeof A==typeof I&&A>=I}],"filter-id->=":[Z,[it],function(s,c){var d=c[0],k=s.id(),A=d.value;return typeof k==typeof A&&k>=A}],"filter-has":[Z,[it],function(s,c){return c[0].value in s.properties()}],"filter-has-id":[Z,[],function(s){return s.id()!==null&&s.id()!==void 0}],"filter-type-in":[Z,[Sr(Q)],function(s,c){return c[0].value.indexOf(s.geometryType())>=0}],"filter-id-in":[Z,[Sr(it)],function(s,c){return c[0].value.indexOf(s.id())>=0}],"filter-in-small":[Z,[Q,Sr(it)],function(s,c){var d=c[0];return c[1].value.indexOf(s.properties()[d.value])>=0}],"filter-in-large":[Z,[Q,Sr(it)],function(s,c){var d=c[0],k=c[1];return function(A,I,F,H){for(;F<=H;){var ee=F+H>>1;if(I[ee]===A)return!0;I[ee]>A?H=ee-1:F=ee+1}return!1}(s.properties()[d.value],k.value,0,k.value.length-1)}],all:{type:Z,overloads:[[[Z,Z],function(s,c){var d=c[1];return c[0].evaluate(s)&&d.evaluate(s)}],[ws(Z),function(s,c){for(var d=0,k=c;d<k.length;d+=1)if(!k[d].evaluate(s))return!1;return!0}]]},any:{type:Z,overloads:[[[Z,Z],function(s,c){var d=c[1];return c[0].evaluate(s)||d.evaluate(s)}],[ws(Z),function(s,c){for(var d=0,k=c;d<k.length;d+=1)if(k[d].evaluate(s))return!0;return!1}]]},"!":[Z,[Z],function(s,c){return!c[0].evaluate(s)}],"is-supported-script":[Z,[Q],function(s,c){var d=s.globals&&s.globals.isSupportedScript;return!d||d(c[0].evaluate(s))}],upcase:[Q,[Q],function(s,c){return c[0].evaluate(s).toUpperCase()}],downcase:[Q,[Q],function(s,c){return c[0].evaluate(s).toLowerCase()}],concat:[Q,ws(it),function(s,c){return c.map(function(d){return Ns(d.evaluate(s))}).join("")}],"resolved-locale":[Q,[Mt],function(s,c){return c[0].evaluate(s).resolvedLocale()}]});var Qu=function(s,c){this.expression=s,this._warningHistory={},this._evaluator=new Uo,this._defaultValue=c?function(d){return d.type==="color"&&iu(d.default)?new Mn(0,0,0,0):d.type==="color"?Mn.parse(d.default)||null:d.default===void 0?null:d.default}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null};function Nc(s){return Array.isArray(s)&&s.length>0&&typeof s[0]=="string"&&s[0]in oa}function au(s,c){var d=new Io(oa,[],c?function(A){var I={color:ue,string:Q,number:Ae,enum:Q,boolean:Z,formatted:Wt,resolvedImage:dr};return A.type==="array"?Sr(I[A.value]||it,A.length):I[A.type]}(c):void 0),k=d.parse(s,void 0,void 0,void 0,c&&c.type==="string"?{typeAnnotation:"coerce"}:void 0);return k?Bh(new Qu(k,c)):Xu(d.errors)}Qu.prototype.evaluateWithoutErrorHandling=function(s,c,d,k,A,I){return this._evaluator.globals=s,this._evaluator.feature=c,this._evaluator.featureState=d,this._evaluator.canonical=k,this._evaluator.availableImages=A||null,this._evaluator.formattedSection=I,this.expression.evaluate(this._evaluator)},Qu.prototype.evaluate=function(s,c,d,k,A,I){this._evaluator.globals=s,this._evaluator.feature=c||null,this._evaluator.featureState=d||null,this._evaluator.canonical=k,this._evaluator.availableImages=A||null,this._evaluator.formattedSection=I||null;try{var F=this.expression.evaluate(this._evaluator);if(F==null||typeof F=="number"&&F!=F)return this._defaultValue;if(this._enumValues&&!(F in this._enumValues))throw new Qi("Expected value to be one of "+Object.keys(this._enumValues).map(function(H){return JSON.stringify(H)}).join(", ")+", but found "+JSON.stringify(F)+" instead.");return F}catch(H){return this._warningHistory[H.message]||(this._warningHistory[H.message]=!0,typeof console<"u"&&console.warn(H.message)),this._defaultValue}};var Du=function(s,c){this.kind=s,this._styleExpression=c,this.isStateDependent=s!=="constant"&&!Aa(c.expression)};Du.prototype.evaluateWithoutErrorHandling=function(s,c,d,k,A,I){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,k,A,I)},Du.prototype.evaluate=function(s,c,d,k,A,I){return this._styleExpression.evaluate(s,c,d,k,A,I)};var ec=function(s,c,d,k){this.kind=s,this.zoomStops=d,this._styleExpression=c,this.isStateDependent=s!=="camera"&&!Aa(c.expression),this.interpolationType=k};function yf(s,c){if((s=au(s,c)).result==="error")return s;var d=s.value.expression,k=ll(d);if(!k&&!nu(c))return Xu([new Qt("","data expressions not supported")]);var A=Da(d,["zoom"]);if(!A&&!qc(c))return Xu([new Qt("","zoom expressions not supported")]);var I=function F(H){var ee=null;if(H instanceof Yu)ee=F(H.result);else if(H instanceof eo)for(var le=0,ge=H.args;le<ge.length&&!(ee=F(ge[le]));le+=1);else(H instanceof Ha||H instanceof go)&&H.input instanceof Vi&&H.input.name==="zoom"&&(ee=H);return ee instanceof Qt||H.eachChild(function(_e){var Te=F(_e);Te instanceof Qt?ee=Te:!ee&&Te?ee=new Qt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):ee&&Te&&ee!==Te&&(ee=new Qt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),ee}(d);return I||A?I instanceof Qt?Xu([I]):I instanceof go&&!os(c)?Xu([new Qt("",'"interpolate" expressions cannot be used with this property')]):Bh(I?new ec(k?"camera":"composite",s.value,I.labels,I instanceof go?I.interpolation:void 0):new Du(k?"constant":"source",s.value)):Xu([new Qt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}ec.prototype.evaluateWithoutErrorHandling=function(s,c,d,k,A,I){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,k,A,I)},ec.prototype.evaluate=function(s,c,d,k,A,I){return this._styleExpression.evaluate(s,c,d,k,A,I)},ec.prototype.interpolationFactor=function(s,c,d){return this.interpolationType?go.interpolationFactor(this.interpolationType,s,c,d):0};var aa=function(s,c){this._parameters=s,this._specification=c,Vt(this,function d(k,A){var I,F,H,ee=A.type==="color",le=k.stops&&typeof k.stops[0][0]=="object",ge=le||!(le||k.property!==void 0),_e=k.type||(os(A)?"exponential":"interval");if(ee&&((k=Vt({},k)).stops&&(k.stops=k.stops.map(function(Or){return[Or[0],Mn.parse(Or[1])]})),k.default=Mn.parse(k.default?k.default:A.default)),k.colorSpace&&k.colorSpace!=="rgb"&&!Kf[k.colorSpace])throw new Error("Unknown color space: "+k.colorSpace);if(_e==="exponential")I=Vd;else if(_e==="interval")I=Jp;else if(_e==="categorical"){I=Wd,F=Object.create(null);for(var Te=0,Me=k.stops;Te<Me.length;Te+=1){var Qe=Me[Te];F[Qe[0]]=Qe[1]}H=typeof k.stops[0][0]}else{if(_e!=="identity")throw new Error('Unknown function type "'+_e+'"');I=Ju}if(le){for(var tt={},dt=[],lt=0;lt<k.stops.length;lt++){var vt=k.stops[lt],Ot=vt[0].zoom;tt[Ot]===void 0&&(tt[Ot]={zoom:Ot,type:k.type,property:k.property,default:k.default,stops:[]},dt.push(Ot)),tt[Ot].stops.push([vt[0].value,vt[1]])}for(var qt=[],Bt=0,Jt=dt;Bt<Jt.length;Bt+=1){var cr=Jt[Bt];qt.push([tt[cr].zoom,d(tt[cr],A)])}var yr={name:"linear"};return{kind:"composite",interpolationType:yr,interpolationFactor:go.interpolationFactor.bind(void 0,yr),zoomStops:qt.map(function(Or){return Or[0]}),evaluate:function(Or,en){var Pr=Or.zoom;return Vd({stops:qt,base:k.base},A,Pr).evaluate(Pr,en)}}}if(ge){var Xr=_e==="exponential"?{name:"exponential",base:k.base!==void 0?k.base:1}:null;return{kind:"camera",interpolationType:Xr,interpolationFactor:go.interpolationFactor.bind(void 0,Xr),zoomStops:k.stops.map(function(Or){return Or[0]}),evaluate:function(Or){return I(k,A,Or.zoom,F,H)}}}return{kind:"source",evaluate:function(Or,en){var Pr=en&&en.properties?en.properties[k.property]:void 0;return Pr===void 0?zc(k.default,A.default):I(k,A,Pr,F,H)}}}(this._parameters,this._specification))};function js(s){var c=s.key,d=s.value,k=s.valueSpec||{},A=s.objectElementValidators||{},I=s.style,F=s.styleSpec,H=[],ee=hi(d);if(ee!=="object")return[new Ne(c,d,"object expected, "+ee+" found")];for(var le in d){var ge=le.split(".")[0],_e=k[ge]||k["*"],Te=void 0;if(A[ge])Te=A[ge];else if(k[ge])Te=Ln;else if(A["*"])Te=A["*"];else{if(!k["*"]){H.push(new Ne(c,d[le],'unknown property "'+le+'"'));continue}Te=Ln}H=H.concat(Te({key:(c&&c+".")+le,value:d[le],valueSpec:_e,style:I,styleSpec:F,object:d,objectKey:le},d))}for(var Me in k)A[Me]||k[Me].required&&k[Me].default===void 0&&d[Me]===void 0&&H.push(new Ne(c,d,'missing required property "'+Me+'"'));return H}function Bc(s){var c=s.value,d=s.valueSpec,k=s.style,A=s.styleSpec,I=s.key,F=s.arrayElementValidator||Ln;if(hi(c)!=="array")return[new Ne(I,c,"array expected, "+hi(c)+" found")];if(d.length&&c.length!==d.length)return[new Ne(I,c,"array length "+d.length+" expected, length "+c.length+" found")];if(d["min-length"]&&c.length<d["min-length"])return[new Ne(I,c,"array length at least "+d["min-length"]+" expected, length "+c.length+" found")];var H={type:d.value,values:d.values};A.$version<7&&(H.function=d.function),hi(d.value)==="object"&&(H=d.value);for(var ee=[],le=0;le<c.length;le++)ee=ee.concat(F({array:c,arrayIndex:le,value:c[le],valueSpec:H,style:k,styleSpec:A,key:I+"["+le+"]"}));return ee}function Ss(s){var c=s.key,d=s.value,k=s.valueSpec,A=hi(d);return A==="number"&&d!=d&&(A="NaN"),A!=="number"?[new Ne(c,d,"number expected, "+A+" found")]:"minimum"in k&&d<k.minimum?[new Ne(c,d,d+" is less than the minimum value "+k.minimum)]:"maximum"in k&&d>k.maximum?[new Ne(c,d,d+" is greater than the maximum value "+k.maximum)]:[]}function jh(s){var c,d,k,A=s.valueSpec,I=Et(s.value.type),F={},H=I!=="categorical"&&s.value.property===void 0,ee=!H,le=hi(s.value.stops)==="array"&&hi(s.value.stops[0])==="array"&&hi(s.value.stops[0][0])==="object",ge=js({key:s.key,value:s.value,valueSpec:s.styleSpec.function,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(Me){if(I==="identity")return[new Ne(Me.key,Me.value,'identity function may not have a "stops" property')];var Qe=[],tt=Me.value;return Qe=Qe.concat(Bc({key:Me.key,value:tt,valueSpec:Me.valueSpec,style:Me.style,styleSpec:Me.styleSpec,arrayElementValidator:_e})),hi(tt)==="array"&&tt.length===0&&Qe.push(new Ne(Me.key,tt,"array must have at least one stop")),Qe},default:function(Me){return Ln({key:Me.key,value:Me.value,valueSpec:A,style:Me.style,styleSpec:Me.styleSpec})}}});return I==="identity"&&H&&ge.push(new Ne(s.key,s.value,'missing required property "property"')),I==="identity"||s.value.stops||ge.push(new Ne(s.key,s.value,'missing required property "stops"')),I==="exponential"&&s.valueSpec.expression&&!os(s.valueSpec)&&ge.push(new Ne(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(ee&&!nu(s.valueSpec)?ge.push(new Ne(s.key,s.value,"property functions not supported")):H&&!qc(s.valueSpec)&&ge.push(new Ne(s.key,s.value,"zoom functions not supported"))),I!=="categorical"&&!le||s.value.property!==void 0||ge.push(new Ne(s.key,s.value,'"property" property is required')),ge;function _e(Me){var Qe=[],tt=Me.value,dt=Me.key;if(hi(tt)!=="array")return[new Ne(dt,tt,"array expected, "+hi(tt)+" found")];if(tt.length!==2)return[new Ne(dt,tt,"array length 2 expected, length "+tt.length+" found")];if(le){if(hi(tt[0])!=="object")return[new Ne(dt,tt,"object expected, "+hi(tt[0])+" found")];if(tt[0].zoom===void 0)return[new Ne(dt,tt,"object stop key must have zoom")];if(tt[0].value===void 0)return[new Ne(dt,tt,"object stop key must have value")];if(k&&k>Et(tt[0].zoom))return[new Ne(dt,tt[0].zoom,"stop zoom values must appear in ascending order")];Et(tt[0].zoom)!==k&&(k=Et(tt[0].zoom),d=void 0,F={}),Qe=Qe.concat(js({key:dt+"[0]",value:tt[0],valueSpec:{zoom:{}},style:Me.style,styleSpec:Me.styleSpec,objectElementValidators:{zoom:Ss,value:Te}}))}else Qe=Qe.concat(Te({key:dt+"[0]",value:tt[0],valueSpec:{},style:Me.style,styleSpec:Me.styleSpec},tt));return Nc(St(tt[1]))?Qe.concat([new Ne(dt+"[1]",tt[1],"expressions are not allowed in function stops.")]):Qe.concat(Ln({key:dt+"[1]",value:tt[1],valueSpec:A,style:Me.style,styleSpec:Me.styleSpec}))}function Te(Me,Qe){var tt=hi(Me.value),dt=Et(Me.value),lt=Me.value!==null?Me.value:Qe;if(c){if(tt!==c)return[new Ne(Me.key,lt,tt+" stop domain type must match previous stop domain type "+c)]}else c=tt;if(tt!=="number"&&tt!=="string"&&tt!=="boolean")return[new Ne(Me.key,lt,"stop domain value must be a number, string, or boolean")];if(tt!=="number"&&I!=="categorical"){var vt="number expected, "+tt+" found";return nu(A)&&I===void 0&&(vt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ne(Me.key,lt,vt)]}return I!=="categorical"||tt!=="number"||isFinite(dt)&&Math.floor(dt)===dt?I!=="categorical"&&tt==="number"&&d!==void 0&&dt<d?[new Ne(Me.key,lt,"stop domain values must appear in ascending order")]:(d=dt,I==="categorical"&&dt in F?[new Ne(Me.key,lt,"stop domain values must be unique")]:(F[dt]=!0,[])):[new Ne(Me.key,lt,"integer expected, found "+dt)]}}function su(s){var c=(s.expressionContext==="property"?yf:au)(St(s.value),s.valueSpec);if(c.result==="error")return c.value.map(function(k){return new Ne(""+s.key+k.key,s.value,k.message)});var d=c.value.expression||c.value._styleExpression.expression;if(s.expressionContext==="property"&&s.propertyKey==="text-font"&&!d.outputDefined())return[new Ne(s.key,s.value,'Invalid data expression for "'+s.propertyKey+'". Output values must be contained as literals within the expression.')];if(s.expressionContext==="property"&&s.propertyType==="layout"&&!Aa(d))return[new Ne(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if(s.expressionContext==="filter"&&!Aa(d))return[new Ne(s.key,s.value,'"feature-state" data expressions are not supported with filters.')];if(s.expressionContext&&s.expressionContext.indexOf("cluster")===0){if(!Da(d,["zoom","feature-state"]))return[new Ne(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(s.expressionContext==="cluster-initial"&&!ll(d))return[new Ne(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ou(s){var c=s.key,d=s.value,k=s.valueSpec,A=[];return Array.isArray(k.values)?k.values.indexOf(Et(d))===-1&&A.push(new Ne(c,d,"expected one of ["+k.values.join(", ")+"], "+JSON.stringify(d)+" found")):Object.keys(k.values).indexOf(Et(d))===-1&&A.push(new Ne(c,d,"expected one of ["+Object.keys(k.values).join(", ")+"], "+JSON.stringify(d)+" found")),A}function Jf(s){if(s===!0||s===!1)return!0;if(!Array.isArray(s)||s.length===0)return!1;switch(s[0]){case"has":return s.length>=2&&s[1]!=="$id"&&s[1]!=="$type";case"in":return s.length>=3&&(typeof s[1]!="string"||Array.isArray(s[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return s.length!==3||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(var c=0,d=s.slice(1);c<d.length;c+=1){var k=d[c];if(!Jf(k)&&typeof k!="boolean")return!1}return!0;default:return!0}}aa.deserialize=function(s){return new aa(s._parameters,s._specification)},aa.serialize=function(s){return{_parameters:s._parameters,_specification:s._specification}};var Uh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function bf(s){if(s==null)return{filter:function(){return!0},needGeometry:!1};Jf(s)||(s=Iu(s));var c=au(s,Uh);if(c.result==="error")throw new Error(c.value.map(function(d){return d.key+": "+d.message}).join(", "));return{filter:function(d,k,A){return c.value.evaluate(d,k,{},A)},needGeometry:function d(k){if(!Array.isArray(k))return!1;if(k[0]==="within")return!0;for(var A=1;A<k.length;A++)if(d(k[A]))return!0;return!1}(s)}}function jc(s,c){return s<c?-1:s>c?1:0}function Iu(s){if(!s)return!0;var c,d=s[0];return s.length<=1?d!=="any":d==="=="?tc(s[1],s[2],"=="):d==="!="?uu(tc(s[1],s[2],"==")):d==="<"||d===">"||d==="<="||d===">="?tc(s[1],s[2],d):d==="any"?(c=s.slice(1),["any"].concat(c.map(Iu))):d==="all"?["all"].concat(s.slice(1).map(Iu)):d==="none"?["all"].concat(s.slice(1).map(Iu).map(uu)):d==="in"?lu(s[1],s.slice(2)):d==="!in"?uu(lu(s[1],s.slice(2))):d==="has"?Mu(s[1]):d==="!has"?uu(Mu(s[1])):d!=="within"||s}function tc(s,c,d){switch(s){case"$type":return["filter-type-"+d,c];case"$id":return["filter-id-"+d,c];default:return["filter-"+d,s,c]}}function lu(s,c){if(c.length===0)return!1;switch(s){case"$type":return["filter-type-in",["literal",c]];case"$id":return["filter-id-in",["literal",c]];default:return c.length>200&&!c.some(function(d){return typeof d!=typeof c[0]})?["filter-in-large",s,["literal",c.sort(jc)]]:["filter-in-small",s,["literal",c]]}}function Mu(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function uu(s){return["!",s]}function Uc(s){return Jf(St(s.value))?su(Vt({},s,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function c(d){var k=d.value,A=d.key;if(hi(k)!=="array")return[new Ne(A,k,"array expected, "+hi(k)+" found")];var I,F=d.styleSpec,H=[];if(k.length<1)return[new Ne(A,k,"filter array must have at least 1 element")];switch(H=H.concat(Ou({key:A+"[0]",value:k[0],valueSpec:F.filter_operator,style:d.style,styleSpec:d.styleSpec})),Et(k[0])){case"<":case"<=":case">":case">=":k.length>=2&&Et(k[1])==="$type"&&H.push(new Ne(A,k,'"$type" cannot be use with operator "'+k[0]+'"'));case"==":case"!=":k.length!==3&&H.push(new Ne(A,k,'filter array for operator "'+k[0]+'" must have 3 elements'));case"in":case"!in":k.length>=2&&(I=hi(k[1]))!=="string"&&H.push(new Ne(A+"[1]",k[1],"string expected, "+I+" found"));for(var ee=2;ee<k.length;ee++)I=hi(k[ee]),Et(k[1])==="$type"?H=H.concat(Ou({key:A+"["+ee+"]",value:k[ee],valueSpec:F.geometry_type,style:d.style,styleSpec:d.styleSpec})):I!=="string"&&I!=="number"&&I!=="boolean"&&H.push(new Ne(A+"["+ee+"]",k[ee],"string, number, or boolean expected, "+I+" found"));break;case"any":case"all":case"none":for(var le=1;le<k.length;le++)H=H.concat(c({key:A+"["+le+"]",value:k[le],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":I=hi(k[1]),k.length!==2?H.push(new Ne(A,k,'filter array for "'+k[0]+'" operator must have 2 elements')):I!=="string"&&H.push(new Ne(A+"[1]",k[1],"string expected, "+I+" found"));break;case"within":I=hi(k[1]),k.length!==2?H.push(new Ne(A,k,'filter array for "'+k[0]+'" operator must have 2 elements')):I!=="object"&&H.push(new Ne(A+"[1]",k[1],"object expected, "+I+" found"))}return H}(s)}function Pl(s,c){var d=s.key,k=s.style,A=s.styleSpec,I=s.value,F=s.objectKey,H=A[c+"_"+s.layerType];if(!H)return[];var ee=F.match(/^(.*)-transition$/);if(c==="paint"&&ee&&H[ee[1]]&&H[ee[1]].transition)return Ln({key:d,value:I,valueSpec:A.transition,style:k,styleSpec:A});var le,ge=s.valueSpec||H[F];if(!ge)return[new Ne(d,I,'unknown property "'+F+'"')];if(hi(I)==="string"&&nu(ge)&&!ge.tokens&&(le=/^{([^}]+)}$/.exec(I)))return[new Ne(d,I,'"'+F+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(le[1])+" }`.")];var _e=[];return s.layerType==="symbol"&&(F==="text-field"&&k&&!k.glyphs&&_e.push(new Ne(d,I,'use of "text-field" requires a style "glyphs" property')),F==="text-font"&&iu(St(I))&&Et(I.type)==="identity"&&_e.push(new Ne(d,I,'"text-font" does not support identity functions'))),_e.concat(Ln({key:s.key,value:I,valueSpec:ge,style:k,styleSpec:A,expressionContext:"property",propertyType:c,propertyKey:F}))}function cu(s){return Pl(s,"paint")}function Mo(s){return Pl(s,"layout")}function as(s){var c=[],d=s.value,k=s.key,A=s.style,I=s.styleSpec;d.type||d.ref||c.push(new Ne(k,d,'either "type" or "ref" is required'));var F,H=Et(d.type),ee=Et(d.ref);if(d.id)for(var le=Et(d.id),ge=0;ge<s.arrayIndex;ge++){var _e=A.layers[ge];Et(_e.id)===le&&c.push(new Ne(k,d.id,'duplicate layer id "'+d.id+'", previously used at line '+_e.id.__line__))}if("ref"in d)["type","source","source-layer","filter","layout"].forEach(function(Qe){Qe in d&&c.push(new Ne(k,d[Qe],'"'+Qe+'" is prohibited for ref layers'))}),A.layers.forEach(function(Qe){Et(Qe.id)===ee&&(F=Qe)}),F?F.ref?c.push(new Ne(k,d.ref,"ref cannot reference another ref layer")):H=Et(F.type):c.push(new Ne(k,d.ref,'ref layer "'+ee+'" not found'));else if(H!=="background")if(d.source){var Te=A.sources&&A.sources[d.source],Me=Te&&Et(Te.type);Te?Me==="vector"&&H==="raster"?c.push(new Ne(k,d.source,'layer "'+d.id+'" requires a raster source')):Me==="raster"&&H!=="raster"?c.push(new Ne(k,d.source,'layer "'+d.id+'" requires a vector source')):Me!=="vector"||d["source-layer"]?Me==="raster-dem"&&H!=="hillshade"?c.push(new Ne(k,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):H!=="line"||!d.paint||!d.paint["line-gradient"]||Me==="geojson"&&Te.lineMetrics||c.push(new Ne(k,d,'layer "'+d.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):c.push(new Ne(k,d,'layer "'+d.id+'" must specify a "source-layer"')):c.push(new Ne(k,d.source,'source "'+d.source+'" not found'))}else c.push(new Ne(k,d,'missing required property "source"'));return c=c.concat(js({key:k,value:d,valueSpec:I.layer,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ln({key:k+".type",value:d.type,valueSpec:I.layer.type,style:s.style,styleSpec:s.styleSpec,object:d,objectKey:"type"})},filter:Uc,layout:function(Qe){return js({layer:d,key:Qe.key,value:Qe.value,style:Qe.style,styleSpec:Qe.styleSpec,objectElementValidators:{"*":function(tt){return Mo(Vt({layerType:H},tt))}}})},paint:function(Qe){return js({layer:d,key:Qe.key,value:Qe.value,style:Qe.style,styleSpec:Qe.styleSpec,objectElementValidators:{"*":function(tt){return cu(Vt({layerType:H},tt))}}})}}}))}function Ho(s){var c=s.value,d=s.key,k=hi(c);return k!=="string"?[new Ne(d,c,"string expected, "+k+" found")]:[]}var En={promoteId:function(s){var c=s.key,d=s.value;if(hi(d)==="string")return Ho({key:c,value:d});var k=[];for(var A in d)k.push.apply(k,Ho({key:c+"."+A,value:d[A]}));return k}};function Ll(s){var c=s.value,d=s.key,k=s.styleSpec,A=s.style;if(!c.type)return[new Ne(d,c,'"type" is required')];var I,F=Et(c.type);switch(F){case"vector":case"raster":case"raster-dem":return js({key:d,value:c,valueSpec:k["source_"+F.replace("-","_")],style:s.style,styleSpec:k,objectElementValidators:En});case"geojson":if(I=js({key:d,value:c,valueSpec:k.source_geojson,style:A,styleSpec:k,objectElementValidators:En}),c.cluster)for(var H in c.clusterProperties){var ee=c.clusterProperties[H],le=ee[0],ge=typeof le=="string"?[le,["accumulated"],["get",H]]:le;I.push.apply(I,su({key:d+"."+H+".map",value:ee[1],expressionContext:"cluster-map"})),I.push.apply(I,su({key:d+"."+H+".reduce",value:ge,expressionContext:"cluster-reduce"}))}return I;case"video":return js({key:d,value:c,valueSpec:k.source_video,style:A,styleSpec:k});case"image":return js({key:d,value:c,valueSpec:k.source_image,style:A,styleSpec:k});case"canvas":return[new Ne(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ou({key:d+".type",value:c.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:A,styleSpec:k})}}function ss(s){var c=s.value,d=s.styleSpec,k=d.light,A=s.style,I=[],F=hi(c);if(c===void 0)return I;if(F!=="object")return I.concat([new Ne("light",c,"object expected, "+F+" found")]);for(var H in c){var ee=H.match(/^(.*)-transition$/);I=I.concat(ee&&k[ee[1]]&&k[ee[1]].transition?Ln({key:H,value:c[H],valueSpec:d.transition,style:A,styleSpec:d}):k[H]?Ln({key:H,value:c[H],valueSpec:k[H],style:A,styleSpec:d}):[new Ne(H,c[H],'unknown property "'+H+'"')])}return I}var ls={"*":function(){return[]},array:Bc,boolean:function(s){var c=s.value,d=s.key,k=hi(c);return k!=="boolean"?[new Ne(d,c,"boolean expected, "+k+" found")]:[]},number:Ss,color:function(s){var c=s.key,d=s.value,k=hi(d);return k!=="string"?[new Ne(c,d,"color expected, "+k+" found")]:cn(d)===null?[new Ne(c,d,'color expected, "'+d+'" found')]:[]},constants:xt,enum:Ou,filter:Uc,function:jh,layer:as,object:js,source:Ll,light:ss,string:Ho,formatted:function(s){return Ho(s).length===0?[]:su(s)},resolvedImage:function(s){return Ho(s).length===0?[]:su(s)}};function Ln(s){var c=s.value,d=s.valueSpec,k=s.styleSpec;return d.expression&&iu(Et(c))?jh(s):d.expression&&Nc(St(c))?su(s):d.type&&ls[d.type]?ls[d.type](s):js(Vt({},s,{valueSpec:d.type?k[d.type]:d}))}function yi(s){var c=s.value,d=s.key,k=Ho(s);return k.length||(c.indexOf("{fontstack}")===-1&&k.push(new Ne(d,c,'"glyphs" url must include a "{fontstack}" token')),c.indexOf("{range}")===-1&&k.push(new Ne(d,c,'"glyphs" url must include a "{range}" token'))),k}function Wo(s,c){c===void 0&&(c=Ie);var d=[];return d=d.concat(Ln({key:"",value:s,valueSpec:c.$root,styleSpec:c,style:s,objectElementValidators:{glyphs:yi,"*":function(){return[]}}})),s.constants&&(d=d.concat(xt({key:"constants",value:s.constants,style:s,styleSpec:c}))),xf(d)}function xf(s){return[].concat(s).sort(function(c,d){return c.line-d.line})}function fu(s){return function(){for(var c=arguments,d=[],k=arguments.length;k--;)d[k]=c[k];return xf(s.apply(this,d))}}Wo.source=fu(Ll),Wo.light=fu(ss),Wo.layer=fu(as),Wo.filter=fu(Uc),Wo.paintProperty=fu(cu),Wo.layoutProperty=fu(Mo);var Pu=Wo,$d=Pu.light,Qf=Pu.paintProperty,Rl=Pu.layoutProperty;function hu(s,c){var d=!1;if(c&&c.length)for(var k=0,A=c;k<A.length;k+=1)s.fire(new ht(new Error(A[k].message))),d=!0;return d}var hl=Oi;function Oi(s,c,d){var k=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;var A=new Int32Array(this.arrayBuffer);s=A[0],this.d=(c=A[1])+2*(d=A[2]);for(var I=0;I<this.d*this.d;I++){var F=A[3+I],H=A[3+I+1];k.push(F===H?null:A.subarray(F,H))}var ee=A[3+k.length+1];this.keys=A.subarray(A[3+k.length],ee),this.bboxes=A.subarray(ee),this.insert=this._insertReadonly}else{this.d=c+2*d;for(var le=0;le<this.d*this.d;le++)k.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=s,this.padding=d,this.scale=c/s,this.uid=0;var ge=d/c*s;this.min=-ge,this.max=s+ge}Oi.prototype.insert=function(s,c,d,k,A){this._forEachCell(c,d,k,A,this._insertCell,this.uid++),this.keys.push(s),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(k),this.bboxes.push(A)},Oi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Oi.prototype._insertCell=function(s,c,d,k,A,I){this.cells[A].push(I)},Oi.prototype.query=function(s,c,d,k,A){var I=this.min,F=this.max;if(s<=I&&c<=I&&F<=d&&F<=k&&!A)return Array.prototype.slice.call(this.keys);var H=[];return this._forEachCell(s,c,d,k,this._queryCell,H,{},A),H},Oi.prototype._queryCell=function(s,c,d,k,A,I,F,H){var ee=this.cells[A];if(ee!==null)for(var le=this.keys,ge=this.bboxes,_e=0;_e<ee.length;_e++){var Te=ee[_e];if(F[Te]===void 0){var Me=4*Te;(H?H(ge[Me+0],ge[Me+1],ge[Me+2],ge[Me+3]):s<=ge[Me+2]&&c<=ge[Me+3]&&d>=ge[Me+0]&&k>=ge[Me+1])?(F[Te]=!0,I.push(le[Te])):F[Te]=!1}}},Oi.prototype._forEachCell=function(s,c,d,k,A,I,F,H){for(var ee=this._convertToCellCoord(s),le=this._convertToCellCoord(c),ge=this._convertToCellCoord(d),_e=this._convertToCellCoord(k),Te=ee;Te<=ge;Te++)for(var Me=le;Me<=_e;Me++){var Qe=this.d*Me+Te;if((!H||H(this._convertFromCellCoord(Te),this._convertFromCellCoord(Me),this._convertFromCellCoord(Te+1),this._convertFromCellCoord(Me+1)))&&A.call(this,s,c,d,k,Qe,I,F,H))return}},Oi.prototype._convertFromCellCoord=function(s){return(s-this.padding)/this.scale},Oi.prototype._convertToCellCoord=function(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))},Oi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var s=this.cells,c=3+this.cells.length+1+1,d=0,k=0;k<this.cells.length;k++)d+=this.cells[k].length;var A=new Int32Array(c+d+this.keys.length+this.bboxes.length);A[0]=this.extent,A[1]=this.n,A[2]=this.padding;for(var I=c,F=0;F<s.length;F++){var H=s[F];A[3+F]=I,A.set(H,I),I+=H.length}return A[3+s.length]=I,A.set(this.keys,I),A[3+s.length+1]=I+=this.keys.length,A.set(this.bboxes,I),I+=this.bboxes.length,A.buffer};var rc=xe.ImageData,Gd=xe.ImageBitmap,to={};function Ir(s,c,d){d===void 0&&(d={}),Object.defineProperty(c,"_classRegistryKey",{value:s,writeable:!1}),to[s]={klass:c,omit:d.omit||[],shallow:d.shallow||[]}}for(var Wa in Ir("Object",Object),hl.serialize=function(s,c){var d=s.toArrayBuffer();return c&&c.push(d),{buffer:d}},hl.deserialize=function(s){return new hl(s.buffer)},Ir("Grid",hl),Ir("Color",Mn),Ir("Error",Error),Ir("ResolvedImage",fi),Ir("StylePropertyFunction",aa),Ir("StyleExpression",Qu,{omit:["_evaluator"]}),Ir("ZoomDependentExpression",ec),Ir("ZoomConstantExpression",Du),Ir("CompoundExpression",Vi,{omit:["_evaluate"]}),oa)oa[Wa]._classRegistryKey||Ir("Expression_"+Wa,oa[Wa]);function Lu(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}function dl(s){return Gd&&s instanceof Gd}function Us(s,c){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp)return s;if(Lu(s)||dl(s))return c&&c.push(s),s;if(ArrayBuffer.isView(s)){var d=s;return c&&c.push(d.buffer),d}if(s instanceof rc)return c&&c.push(s.data.buffer),s;if(Array.isArray(s)){for(var k=[],A=0,I=s;A<I.length;A+=1)k.push(Us(I[A],c));return k}if(typeof s=="object"){var F=s.constructor,H=F._classRegistryKey;if(!H)throw new Error("can't serialize object of unregistered class");var ee=F.serialize?F.serialize(s,c):{};if(!F.serialize){for(var le in s)if(s.hasOwnProperty(le)&&!(to[H].omit.indexOf(le)>=0)){var ge=s[le];ee[le]=to[H].shallow.indexOf(le)>=0?ge:Us(ge,c)}s instanceof Error&&(ee.message=s.message)}if(ee.$name)throw new Error("$name property is reserved for worker serialization logic.");return H!=="Object"&&(ee.$name=H),ee}throw new Error("can't serialize object of type "+typeof s)}function Eo(s){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||Lu(s)||dl(s)||ArrayBuffer.isView(s)||s instanceof rc)return s;if(Array.isArray(s))return s.map(Eo);if(typeof s=="object"){var c=s.$name||"Object",d=to[c].klass;if(!d)throw new Error("can't deserialize unregistered class "+c);if(d.deserialize)return d.deserialize(s);for(var k=Object.create(d.prototype),A=0,I=Object.keys(s);A<I.length;A+=1){var F=I[A];if(F!=="$name"){var H=s[F];k[F]=to[c].shallow.indexOf(F)>=0?H:Eo(H)}}return k}throw new Error("can't deserialize object of type "+typeof s)}var nc=function(){this.first=!0};nc.prototype.update=function(s,c){var d=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=c),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=d,!0))};var pr={"Latin-1 Supplement":function(s){return s>=128&&s<=255},Arabic:function(s){return s>=1536&&s<=1791},"Arabic Supplement":function(s){return s>=1872&&s<=1919},"Arabic Extended-A":function(s){return s>=2208&&s<=2303},"Hangul Jamo":function(s){return s>=4352&&s<=4607},"Unified Canadian Aboriginal Syllabics":function(s){return s>=5120&&s<=5759},Khmer:function(s){return s>=6016&&s<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(s){return s>=6320&&s<=6399},"General Punctuation":function(s){return s>=8192&&s<=8303},"Letterlike Symbols":function(s){return s>=8448&&s<=8527},"Number Forms":function(s){return s>=8528&&s<=8591},"Miscellaneous Technical":function(s){return s>=8960&&s<=9215},"Control Pictures":function(s){return s>=9216&&s<=9279},"Optical Character Recognition":function(s){return s>=9280&&s<=9311},"Enclosed Alphanumerics":function(s){return s>=9312&&s<=9471},"Geometric Shapes":function(s){return s>=9632&&s<=9727},"Miscellaneous Symbols":function(s){return s>=9728&&s<=9983},"Miscellaneous Symbols and Arrows":function(s){return s>=11008&&s<=11263},"CJK Radicals Supplement":function(s){return s>=11904&&s<=12031},"Kangxi Radicals":function(s){return s>=12032&&s<=12255},"Ideographic Description Characters":function(s){return s>=12272&&s<=12287},"CJK Symbols and Punctuation":function(s){return s>=12288&&s<=12351},Hiragana:function(s){return s>=12352&&s<=12447},Katakana:function(s){return s>=12448&&s<=12543},Bopomofo:function(s){return s>=12544&&s<=12591},"Hangul Compatibility Jamo":function(s){return s>=12592&&s<=12687},Kanbun:function(s){return s>=12688&&s<=12703},"Bopomofo Extended":function(s){return s>=12704&&s<=12735},"CJK Strokes":function(s){return s>=12736&&s<=12783},"Katakana Phonetic Extensions":function(s){return s>=12784&&s<=12799},"Enclosed CJK Letters and Months":function(s){return s>=12800&&s<=13055},"CJK Compatibility":function(s){return s>=13056&&s<=13311},"CJK Unified Ideographs Extension A":function(s){return s>=13312&&s<=19903},"Yijing Hexagram Symbols":function(s){return s>=19904&&s<=19967},"CJK Unified Ideographs":function(s){return s>=19968&&s<=40959},"Yi Syllables":function(s){return s>=40960&&s<=42127},"Yi Radicals":function(s){return s>=42128&&s<=42191},"Hangul Jamo Extended-A":function(s){return s>=43360&&s<=43391},"Hangul Syllables":function(s){return s>=44032&&s<=55215},"Hangul Jamo Extended-B":function(s){return s>=55216&&s<=55295},"Private Use Area":function(s){return s>=57344&&s<=63743},"CJK Compatibility Ideographs":function(s){return s>=63744&&s<=64255},"Arabic Presentation Forms-A":function(s){return s>=64336&&s<=65023},"Vertical Forms":function(s){return s>=65040&&s<=65055},"CJK Compatibility Forms":function(s){return s>=65072&&s<=65103},"Small Form Variants":function(s){return s>=65104&&s<=65135},"Arabic Presentation Forms-B":function(s){return s>=65136&&s<=65279},"Halfwidth and Fullwidth Forms":function(s){return s>=65280&&s<=65519}};function Hc(s){for(var c=0,d=s;c<d.length;c+=1)if(Fl(d[c].charCodeAt(0)))return!0;return!1}function Fl(s){return!(s!==746&&s!==747&&(s<4352||!(pr["Bopomofo Extended"](s)||pr.Bopomofo(s)||pr["CJK Compatibility Forms"](s)&&!(s>=65097&&s<=65103)||pr["CJK Compatibility Ideographs"](s)||pr["CJK Compatibility"](s)||pr["CJK Radicals Supplement"](s)||pr["CJK Strokes"](s)||!(!pr["CJK Symbols and Punctuation"](s)||s>=12296&&s<=12305||s>=12308&&s<=12319||s===12336)||pr["CJK Unified Ideographs Extension A"](s)||pr["CJK Unified Ideographs"](s)||pr["Enclosed CJK Letters and Months"](s)||pr["Hangul Compatibility Jamo"](s)||pr["Hangul Jamo Extended-A"](s)||pr["Hangul Jamo Extended-B"](s)||pr["Hangul Jamo"](s)||pr["Hangul Syllables"](s)||pr.Hiragana(s)||pr["Ideographic Description Characters"](s)||pr.Kanbun(s)||pr["Kangxi Radicals"](s)||pr["Katakana Phonetic Extensions"](s)||pr.Katakana(s)&&s!==12540||!(!pr["Halfwidth and Fullwidth Forms"](s)||s===65288||s===65289||s===65293||s>=65306&&s<=65310||s===65339||s===65341||s===65343||s>=65371&&s<=65503||s===65507||s>=65512&&s<=65519)||!(!pr["Small Form Variants"](s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||pr["Unified Canadian Aboriginal Syllabics"](s)||pr["Unified Canadian Aboriginal Syllabics Extended"](s)||pr["Vertical Forms"](s)||pr["Yijing Hexagram Symbols"](s)||pr["Yi Syllables"](s)||pr["Yi Radicals"](s))))}function ql(s){return!(Fl(s)||function(c){return!!(pr["Latin-1 Supplement"](c)&&(c===167||c===169||c===174||c===177||c===188||c===189||c===190||c===215||c===247)||pr["General Punctuation"](c)&&(c===8214||c===8224||c===8225||c===8240||c===8241||c===8251||c===8252||c===8258||c===8263||c===8264||c===8265||c===8273)||pr["Letterlike Symbols"](c)||pr["Number Forms"](c)||pr["Miscellaneous Technical"](c)&&(c>=8960&&c<=8967||c>=8972&&c<=8991||c>=8996&&c<=9e3||c===9003||c>=9085&&c<=9114||c>=9150&&c<=9165||c===9167||c>=9169&&c<=9179||c>=9186&&c<=9215)||pr["Control Pictures"](c)&&c!==9251||pr["Optical Character Recognition"](c)||pr["Enclosed Alphanumerics"](c)||pr["Geometric Shapes"](c)||pr["Miscellaneous Symbols"](c)&&!(c>=9754&&c<=9759)||pr["Miscellaneous Symbols and Arrows"](c)&&(c>=11026&&c<=11055||c>=11088&&c<=11097||c>=11192&&c<=11243)||pr["CJK Symbols and Punctuation"](c)||pr.Katakana(c)||pr["Private Use Area"](c)||pr["CJK Compatibility Forms"](c)||pr["Small Form Variants"](c)||pr["Halfwidth and Fullwidth Forms"](c)||c===8734||c===8756||c===8757||c>=9984&&c<=10087||c>=10102&&c<=10131||c===65532||c===65533)}(s))}function sa(s){return s>=1424&&s<=2303||pr["Arabic Presentation Forms-A"](s)||pr["Arabic Presentation Forms-B"](s)}function lo(s,c){return!(!c&&sa(s)||s>=2304&&s<=3583||s>=3840&&s<=4255||pr.Khmer(s))}function Hs(s){for(var c=0,d=s;c<d.length;c+=1)if(sa(d[c].charCodeAt(0)))return!0;return!1}var zl=null,la="unavailable",us=null,Kd=function(s){s&&typeof s=="string"&&s.indexOf("NetworkError")>-1&&(la="error"),zl&&zl(s)};function pl(){du.fire(new Ye("pluginStateChange",{pluginStatus:la,pluginURL:us}))}var du=new ut,Yd=function(){return la},Ia=function(){if(la!=="deferred"||!us)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");la="loading",pl(),us&&ea({url:us},function(s){s?Kd(s):(la="loaded",pl())})},ua={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return la==="loaded"||ua.applyArabicShaping!=null},isLoading:function(){return la==="loading"},setState:function(s){la=s.pluginStatus,us=s.pluginURL},isParsed:function(){return ua.applyArabicShaping!=null&&ua.processBidirectionalText!=null&&ua.processStyledBidirectionalText!=null},getPluginURL:function(){return us}},Tn=function(s,c){this.zoom=s,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new nc,this.transition={})};Tn.prototype.isSupportedScript=function(s){return function(c,d){for(var k=0,A=c;k<A.length;k+=1)if(!lo(A[k].charCodeAt(0),d))return!1;return!0}(s,ua.isLoaded())},Tn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Tn.prototype.getCrossfadeParameters=function(){var s=this.zoom,c=s-Math.floor(s),d=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*c}};var pu=function(s,c){this.property=s,this.value=c,this.expression=function(d,k){if(iu(d))return new aa(d,k);if(Nc(d)){var A=yf(d,k);if(A.result==="error")throw new Error(A.value.map(function(F){return F.key+": "+F.message}).join(", "));return A.value}var I=d;return typeof d=="string"&&k.type==="color"&&(I=Mn.parse(d)),{kind:"constant",evaluate:function(){return I}}}(c===void 0?s.specification.default:c,s.specification)};pu.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},pu.prototype.possiblyEvaluate=function(s,c,d){return this.property.possiblyEvaluate(this,s,c,d)};var ml=function(s){this.property=s,this.value=new pu(s,void 0)};ml.prototype.transitioned=function(s,c){return new ro(this.property,this.value,c,re({},s.transition,this.transition),s.now)},ml.prototype.untransitioned=function(){return new ro(this.property,this.value,null,{},0)};var bi=function(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)};bi.prototype.getValue=function(s){return Pt(this._values[s].value.value)},bi.prototype.setValue=function(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new ml(this._values[s].property)),this._values[s].value=new pu(this._values[s].property,c===null?void 0:Pt(c))},bi.prototype.getTransition=function(s){return Pt(this._values[s].transition)},bi.prototype.setTransition=function(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new ml(this._values[s].property)),this._values[s].transition=Pt(c)||void 0},bi.prototype.serialize=function(){for(var s={},c=0,d=Object.keys(this._values);c<d.length;c+=1){var k=d[c],A=this.getValue(k);A!==void 0&&(s[k]=A);var I=this.getTransition(k);I!==void 0&&(s[k+"-transition"]=I)}return s},bi.prototype.transitioned=function(s,c){for(var d=new vo(this._properties),k=0,A=Object.keys(this._values);k<A.length;k+=1){var I=A[k];d._values[I]=this._values[I].transitioned(s,c._values[I])}return d},bi.prototype.untransitioned=function(){for(var s=new vo(this._properties),c=0,d=Object.keys(this._values);c<d.length;c+=1){var k=d[c];s._values[k]=this._values[k].untransitioned()}return s};var ro=function(s,c,d,k,A){this.property=s,this.value=c,this.begin=A+k.delay||0,this.end=this.begin+k.duration||0,s.specification.transition&&(k.delay||k.duration)&&(this.prior=d)};ro.prototype.possiblyEvaluate=function(s,c,d){var k=s.now||0,A=this.value.possiblyEvaluate(s,c,d),I=this.prior;if(I){if(k>this.end)return this.prior=null,A;if(this.value.isDataDriven())return this.prior=null,A;if(k<this.begin)return I.possiblyEvaluate(s,c,d);var F=(k-this.begin)/(this.end-this.begin);return this.property.interpolate(I.possiblyEvaluate(s,c,d),A,function(H){if(H<=0)return 0;if(H>=1)return 1;var ee=H*H,le=ee*H;return 4*(H<.5?le:3*(H-ee)+le-.75)}(F))}return A};var vo=function(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)};vo.prototype.possiblyEvaluate=function(s,c,d){for(var k=new Vo(this._properties),A=0,I=Object.keys(this._values);A<I.length;A+=1){var F=I[A];k._values[F]=this._values[F].possiblyEvaluate(s,c,d)}return k},vo.prototype.hasTransition=function(){for(var s=0,c=Object.keys(this._values);s<c.length;s+=1)if(this._values[c[s]].prior)return!0;return!1};var Rn=function(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)};Rn.prototype.getValue=function(s){return Pt(this._values[s].value)},Rn.prototype.setValue=function(s,c){this._values[s]=new pu(this._values[s].property,c===null?void 0:Pt(c))},Rn.prototype.serialize=function(){for(var s={},c=0,d=Object.keys(this._values);c<d.length;c+=1){var k=d[c],A=this.getValue(k);A!==void 0&&(s[k]=A)}return s},Rn.prototype.possiblyEvaluate=function(s,c,d){for(var k=new Vo(this._properties),A=0,I=Object.keys(this._values);A<I.length;A+=1){var F=I[A];k._values[F]=this._values[F].possiblyEvaluate(s,c,d)}return k};var Un=function(s,c,d){this.property=s,this.value=c,this.parameters=d};Un.prototype.isConstant=function(){return this.value.kind==="constant"},Un.prototype.constantOr=function(s){return this.value.kind==="constant"?this.value.value:s},Un.prototype.evaluate=function(s,c,d,k){return this.property.evaluate(this.value,this.parameters,s,c,d,k)};var Vo=function(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)};Vo.prototype.get=function(s){return this._values[s]};var kr=function(s){this.specification=s};kr.prototype.possiblyEvaluate=function(s,c){return s.expression.evaluate(c)},kr.prototype.interpolate=function(s,c,d){var k=gf[this.specification.type];return k?k(s,c,d):s};var Rr=function(s,c){this.specification=s,this.overrides=c};Rr.prototype.possiblyEvaluate=function(s,c,d,k){return new Un(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(c,null,{},d,k)}:s.expression,c)},Rr.prototype.interpolate=function(s,c,d){if(s.value.kind!=="constant"||c.value.kind!=="constant")return s;if(s.value.value===void 0||c.value.value===void 0)return new Un(this,{kind:"constant",value:void 0},s.parameters);var k=gf[this.specification.type];return k?new Un(this,{kind:"constant",value:k(s.value.value,c.value.value,d)},s.parameters):s},Rr.prototype.evaluate=function(s,c,d,k,A,I){return s.kind==="constant"?s.value:s.evaluate(c,d,k,A,I)};var Hh=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.possiblyEvaluate=function(d,k,A,I){if(d.value===void 0)return new Un(this,{kind:"constant",value:void 0},k);if(d.expression.kind==="constant"){var F=d.expression.evaluate(k,null,{},A,I),H=d.property.specification.type==="resolvedImage"&&typeof F!="string"?F.name:F,ee=this._calculate(H,H,H,k);return new Un(this,{kind:"constant",value:ee},k)}if(d.expression.kind==="camera"){var le=this._calculate(d.expression.evaluate({zoom:k.zoom-1}),d.expression.evaluate({zoom:k.zoom}),d.expression.evaluate({zoom:k.zoom+1}),k);return new Un(this,{kind:"constant",value:le},k)}return new Un(this,d.expression,k)},c.prototype.evaluate=function(d,k,A,I,F,H){if(d.kind==="source"){var ee=d.evaluate(k,A,I,F,H);return this._calculate(ee,ee,ee,k)}return d.kind==="composite"?this._calculate(d.evaluate({zoom:Math.floor(k.zoom)-1},A,I),d.evaluate({zoom:Math.floor(k.zoom)},A,I),d.evaluate({zoom:Math.floor(k.zoom)+1},A,I),k):d.value},c.prototype._calculate=function(d,k,A,I){return I.zoom>I.zoomHistory.lastIntegerZoom?{from:d,to:k}:{from:A,to:k}},c.prototype.interpolate=function(d){return d},c}(Rr),ca=function(s){this.specification=s};ca.prototype.possiblyEvaluate=function(s,c,d,k){if(s.value!==void 0){if(s.expression.kind==="constant"){var A=s.expression.evaluate(c,null,{},d,k);return this._calculate(A,A,A,c)}return this._calculate(s.expression.evaluate(new Tn(Math.floor(c.zoom-1),c)),s.expression.evaluate(new Tn(Math.floor(c.zoom),c)),s.expression.evaluate(new Tn(Math.floor(c.zoom+1),c)),c)}},ca.prototype._calculate=function(s,c,d,k){return k.zoom>k.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:d,to:c}},ca.prototype.interpolate=function(s){return s};var Ws=function(s){this.specification=s};Ws.prototype.possiblyEvaluate=function(s,c,d,k){return!!s.expression.evaluate(c,null,{},d,k)},Ws.prototype.interpolate=function(){return!1};var fa=function(s){for(var c in this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],s){var d=s[c];d.specification.overridable&&this.overridableProperties.push(c);var k=this.defaultPropertyValues[c]=new pu(d,void 0),A=this.defaultTransitionablePropertyValues[c]=new ml(d);this.defaultTransitioningPropertyValues[c]=A.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=k.possiblyEvaluate({})}};Ir("DataDrivenProperty",Rr),Ir("DataConstantProperty",kr),Ir("CrossFadedDataDrivenProperty",Hh),Ir("CrossFadedProperty",ca),Ir("ColorRampProperty",Ws);var gl=function(s){function c(d,k){if(s.call(this),this.id=d.id,this.type=d.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},d.type!=="custom"&&(this.metadata=(d=d).metadata,this.minzoom=d.minzoom,this.maxzoom=d.maxzoom,d.type!=="background"&&(this.source=d.source,this.sourceLayer=d["source-layer"],this.filter=d.filter),k.layout&&(this._unevaluatedLayout=new Rn(k.layout)),k.paint)){for(var A in this._transitionablePaint=new bi(k.paint),d.paint)this.setPaintProperty(A,d.paint[A],{validate:!1});for(var I in d.layout)this.setLayoutProperty(I,d.layout[I],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Vo(k.paint)}}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},c.prototype.getLayoutProperty=function(d){return d==="visibility"?this.visibility:this._unevaluatedLayout.getValue(d)},c.prototype.setLayoutProperty=function(d,k,A){A===void 0&&(A={}),k!=null&&this._validate(Rl,"layers."+this.id+".layout."+d,d,k,A)||(d!=="visibility"?this._unevaluatedLayout.setValue(d,k):this.visibility=k)},c.prototype.getPaintProperty=function(d){return Ze(d,"-transition")?this._transitionablePaint.getTransition(d.slice(0,-11)):this._transitionablePaint.getValue(d)},c.prototype.setPaintProperty=function(d,k,A){if(A===void 0&&(A={}),k!=null&&this._validate(Qf,"layers."+this.id+".paint."+d,d,k,A))return!1;if(Ze(d,"-transition"))return this._transitionablePaint.setTransition(d.slice(0,-11),k||void 0),!1;var I=this._transitionablePaint._values[d],F=I.property.specification["property-type"]==="cross-faded-data-driven",H=I.value.isDataDriven(),ee=I.value;this._transitionablePaint.setValue(d,k),this._handleSpecialPaintPropertyUpdate(d);var le=this._transitionablePaint._values[d].value;return le.isDataDriven()||H||F||this._handleOverridablePaintPropertyUpdate(d,ee,le)},c.prototype._handleSpecialPaintPropertyUpdate=function(d){},c.prototype._handleOverridablePaintPropertyUpdate=function(d,k,A){return!1},c.prototype.isHidden=function(d){return!!(this.minzoom&&d<this.minzoom)||!!(this.maxzoom&&d>=this.maxzoom)||this.visibility==="none"},c.prototype.updateTransitions=function(d){this._transitioningPaint=this._transitionablePaint.transitioned(d,this._transitioningPaint)},c.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},c.prototype.recalculate=function(d,k){d.getCrossfadeParameters&&(this._crossfadeParameters=d.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(d,void 0,k)),this.paint=this._transitioningPaint.possiblyEvaluate(d,void 0,k)},c.prototype.serialize=function(){var d={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(d.layout=d.layout||{},d.layout.visibility=this.visibility),et(d,function(k,A){return!(k===void 0||A==="layout"&&!Object.keys(k).length||A==="paint"&&!Object.keys(k).length)})},c.prototype._validate=function(d,k,A,I,F){return F===void 0&&(F={}),(!F||F.validate!==!1)&&hu(this,d.call(Pu,{key:k,layerType:this.type,objectKey:A,value:I,styleSpec:Ie,style:{glyphs:!0,sprite:!0}}))},c.prototype.is3D=function(){return!1},c.prototype.isTileClipped=function(){return!1},c.prototype.hasOffscreenPass=function(){return!1},c.prototype.resize=function(){},c.prototype.isStateDependent=function(){for(var d in this.paint._values){var k=this.paint.get(d);if(k instanceof Un&&nu(k.property.specification)&&(k.value.kind==="source"||k.value.kind==="composite")&&k.value.isStateDependent)return!0}return!1},c}(ut),eh={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Wc=function(s,c){this._structArray=s,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Hn=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function $o(s,c){c===void 0&&(c=1);var d=0,k=0;return{members:s.map(function(A){var I=eh[A.type].BYTES_PER_ELEMENT,F=d=th(d,Math.max(c,I)),H=A.components||1;return k=Math.max(k,I),d+=I*H,{name:A.name,type:A.type,components:H,offset:F}}),size:th(d,Math.max(k,c)),alignment:c}}function th(s,c){return Math.ceil(s/c)*c}Hn.serialize=function(s,c){return s._trim(),c&&(s.isTransferred=!0,c.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}},Hn.deserialize=function(s){var c=Object.create(this.prototype);return c.arrayBuffer=s.arrayBuffer,c.length=s.length,c.capacity=s.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c},Hn.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Hn.prototype.clear=function(){this.length=0},Hn.prototype.resize=function(s){this.reserve(s),this.length=s},Hn.prototype.reserve=function(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}},Hn.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Nl=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k){var A=this.length;return this.resize(A+1),this.emplace(A,d,k)},c.prototype.emplace=function(d,k,A){var I=2*d;return this.int16[I+0]=k,this.int16[I+1]=A,d},c}(Hn);Nl.prototype.bytesPerElement=4,Ir("StructArrayLayout2i4",Nl);var rh=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I){var F=this.length;return this.resize(F+1),this.emplace(F,d,k,A,I)},c.prototype.emplace=function(d,k,A,I,F){var H=4*d;return this.int16[H+0]=k,this.int16[H+1]=A,this.int16[H+2]=I,this.int16[H+3]=F,d},c}(Hn);rh.prototype.bytesPerElement=8,Ir("StructArrayLayout4i8",rh);var ks=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I,F,H){var ee=this.length;return this.resize(ee+1),this.emplace(ee,d,k,A,I,F,H)},c.prototype.emplace=function(d,k,A,I,F,H,ee){var le=6*d;return this.int16[le+0]=k,this.int16[le+1]=A,this.int16[le+2]=I,this.int16[le+3]=F,this.int16[le+4]=H,this.int16[le+5]=ee,d},c}(Hn);ks.prototype.bytesPerElement=12,Ir("StructArrayLayout2i4i12",ks);var Va=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I,F,H){var ee=this.length;return this.resize(ee+1),this.emplace(ee,d,k,A,I,F,H)},c.prototype.emplace=function(d,k,A,I,F,H,ee){var le=4*d,ge=8*d;return this.int16[le+0]=k,this.int16[le+1]=A,this.uint8[ge+4]=I,this.uint8[ge+5]=F,this.uint8[ge+6]=H,this.uint8[ge+7]=ee,d},c}(Hn);Va.prototype.bytesPerElement=8,Ir("StructArrayLayout2i4ub8",Va);var mu=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k){var A=this.length;return this.resize(A+1),this.emplace(A,d,k)},c.prototype.emplace=function(d,k,A){var I=2*d;return this.float32[I+0]=k,this.float32[I+1]=A,d},c}(Hn);mu.prototype.bytesPerElement=8,Ir("StructArrayLayout2f8",mu);var $i=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I,F,H,ee,le,ge,_e){var Te=this.length;return this.resize(Te+1),this.emplace(Te,d,k,A,I,F,H,ee,le,ge,_e)},c.prototype.emplace=function(d,k,A,I,F,H,ee,le,ge,_e,Te){var Me=10*d;return this.uint16[Me+0]=k,this.uint16[Me+1]=A,this.uint16[Me+2]=I,this.uint16[Me+3]=F,this.uint16[Me+4]=H,this.uint16[Me+5]=ee,this.uint16[Me+6]=le,this.uint16[Me+7]=ge,this.uint16[Me+8]=_e,this.uint16[Me+9]=Te,d},c}(Hn);$i.prototype.bytesPerElement=20,Ir("StructArrayLayout10ui20",$i);var nh=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I,F,H,ee,le,ge,_e,Te,Me){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,d,k,A,I,F,H,ee,le,ge,_e,Te,Me)},c.prototype.emplace=function(d,k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe){var tt=12*d;return this.int16[tt+0]=k,this.int16[tt+1]=A,this.int16[tt+2]=I,this.int16[tt+3]=F,this.uint16[tt+4]=H,this.uint16[tt+5]=ee,this.uint16[tt+6]=le,this.uint16[tt+7]=ge,this.int16[tt+8]=_e,this.int16[tt+9]=Te,this.int16[tt+10]=Me,this.int16[tt+11]=Qe,d},c}(Hn);nh.prototype.bytesPerElement=24,Ir("StructArrayLayout4i4ui4i24",nh);var Ru=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A){var I=this.length;return this.resize(I+1),this.emplace(I,d,k,A)},c.prototype.emplace=function(d,k,A,I){var F=3*d;return this.float32[F+0]=k,this.float32[F+1]=A,this.float32[F+2]=I,d},c}(Hn);Ru.prototype.bytesPerElement=12,Ir("StructArrayLayout3f12",Ru);var Cs=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d){var k=this.length;return this.resize(k+1),this.emplace(k,d)},c.prototype.emplace=function(d,k){return this.uint32[1*d+0]=k,d},c}(Hn);Cs.prototype.bytesPerElement=4,Ir("StructArrayLayout1ul4",Cs);var $a=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I,F,H,ee,le,ge){var _e=this.length;return this.resize(_e+1),this.emplace(_e,d,k,A,I,F,H,ee,le,ge)},c.prototype.emplace=function(d,k,A,I,F,H,ee,le,ge,_e){var Te=10*d,Me=5*d;return this.int16[Te+0]=k,this.int16[Te+1]=A,this.int16[Te+2]=I,this.int16[Te+3]=F,this.int16[Te+4]=H,this.int16[Te+5]=ee,this.uint32[Me+3]=le,this.uint16[Te+8]=ge,this.uint16[Te+9]=_e,d},c}(Hn);$a.prototype.bytesPerElement=20,Ir("StructArrayLayout6i1ul2ui20",$a);var Gn=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I,F,H){var ee=this.length;return this.resize(ee+1),this.emplace(ee,d,k,A,I,F,H)},c.prototype.emplace=function(d,k,A,I,F,H,ee){var le=6*d;return this.int16[le+0]=k,this.int16[le+1]=A,this.int16[le+2]=I,this.int16[le+3]=F,this.int16[le+4]=H,this.int16[le+5]=ee,d},c}(Hn);Gn.prototype.bytesPerElement=12,Ir("StructArrayLayout2i2i2i12",Gn);var xa=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I,F){var H=this.length;return this.resize(H+1),this.emplace(H,d,k,A,I,F)},c.prototype.emplace=function(d,k,A,I,F,H){var ee=4*d,le=8*d;return this.float32[ee+0]=k,this.float32[ee+1]=A,this.float32[ee+2]=I,this.int16[le+6]=F,this.int16[le+7]=H,d},c}(Hn);xa.prototype.bytesPerElement=16,Ir("StructArrayLayout2f1f2i16",xa);var To=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I){var F=this.length;return this.resize(F+1),this.emplace(F,d,k,A,I)},c.prototype.emplace=function(d,k,A,I,F){var H=12*d,ee=3*d;return this.uint8[H+0]=k,this.uint8[H+1]=A,this.float32[ee+1]=I,this.float32[ee+2]=F,d},c}(Hn);To.prototype.bytesPerElement=12,Ir("StructArrayLayout2ub2f12",To);var wn=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A){var I=this.length;return this.resize(I+1),this.emplace(I,d,k,A)},c.prototype.emplace=function(d,k,A,I){var F=3*d;return this.uint16[F+0]=k,this.uint16[F+1]=A,this.uint16[F+2]=I,d},c}(Hn);wn.prototype.bytesPerElement=6,Ir("StructArrayLayout3ui6",wn);var ha=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe,tt,dt,lt,vt){var Ot=this.length;return this.resize(Ot+1),this.emplace(Ot,d,k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe,tt,dt,lt,vt)},c.prototype.emplace=function(d,k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe,tt,dt,lt,vt,Ot){var qt=24*d,Bt=12*d,Jt=48*d;return this.int16[qt+0]=k,this.int16[qt+1]=A,this.uint16[qt+2]=I,this.uint16[qt+3]=F,this.uint32[Bt+2]=H,this.uint32[Bt+3]=ee,this.uint32[Bt+4]=le,this.uint16[qt+10]=ge,this.uint16[qt+11]=_e,this.uint16[qt+12]=Te,this.float32[Bt+7]=Me,this.float32[Bt+8]=Qe,this.uint8[Jt+36]=tt,this.uint8[Jt+37]=dt,this.uint8[Jt+38]=lt,this.uint32[Bt+10]=vt,this.int16[qt+22]=Ot,d},c}(Hn);ha.prototype.bytesPerElement=48,Ir("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ha);var Vs=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe,tt,dt,lt,vt,Ot,qt,Bt,Jt,cr,yr,Xr,Or,en,Pr,An){var fn=this.length;return this.resize(fn+1),this.emplace(fn,d,k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe,tt,dt,lt,vt,Ot,qt,Bt,Jt,cr,yr,Xr,Or,en,Pr,An)},c.prototype.emplace=function(d,k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe,tt,dt,lt,vt,Ot,qt,Bt,Jt,cr,yr,Xr,Or,en,Pr,An,fn){var Hr=34*d,qn=17*d;return this.int16[Hr+0]=k,this.int16[Hr+1]=A,this.int16[Hr+2]=I,this.int16[Hr+3]=F,this.int16[Hr+4]=H,this.int16[Hr+5]=ee,this.int16[Hr+6]=le,this.int16[Hr+7]=ge,this.uint16[Hr+8]=_e,this.uint16[Hr+9]=Te,this.uint16[Hr+10]=Me,this.uint16[Hr+11]=Qe,this.uint16[Hr+12]=tt,this.uint16[Hr+13]=dt,this.uint16[Hr+14]=lt,this.uint16[Hr+15]=vt,this.uint16[Hr+16]=Ot,this.uint16[Hr+17]=qt,this.uint16[Hr+18]=Bt,this.uint16[Hr+19]=Jt,this.uint16[Hr+20]=cr,this.uint16[Hr+21]=yr,this.uint16[Hr+22]=Xr,this.uint32[qn+12]=Or,this.float32[qn+13]=en,this.float32[qn+14]=Pr,this.float32[qn+15]=An,this.float32[qn+16]=fn,d},c}(Hn);Vs.prototype.bytesPerElement=68,Ir("StructArrayLayout8i15ui1ul4f68",Vs);var Ga=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d){var k=this.length;return this.resize(k+1),this.emplace(k,d)},c.prototype.emplace=function(d,k){return this.float32[1*d+0]=k,d},c}(Hn);Ga.prototype.bytesPerElement=4,Ir("StructArrayLayout1f4",Ga);var $s=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A){var I=this.length;return this.resize(I+1),this.emplace(I,d,k,A)},c.prototype.emplace=function(d,k,A,I){var F=3*d;return this.int16[F+0]=k,this.int16[F+1]=A,this.int16[F+2]=I,d},c}(Hn);$s.prototype.bytesPerElement=6,Ir("StructArrayLayout3i6",$s);var Vc=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A){var I=this.length;return this.resize(I+1),this.emplace(I,d,k,A)},c.prototype.emplace=function(d,k,A,I){var F=4*d;return this.uint32[2*d+0]=k,this.uint16[F+2]=A,this.uint16[F+3]=I,d},c}(Hn);Vc.prototype.bytesPerElement=8,Ir("StructArrayLayout1ul2ui8",Vc);var gu=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k){var A=this.length;return this.resize(A+1),this.emplace(A,d,k)},c.prototype.emplace=function(d,k,A){var I=2*d;return this.uint16[I+0]=k,this.uint16[I+1]=A,d},c}(Hn);gu.prototype.bytesPerElement=4,Ir("StructArrayLayout2ui4",gu);var Wh=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d){var k=this.length;return this.resize(k+1),this.emplace(k,d)},c.prototype.emplace=function(d,k){return this.uint16[1*d+0]=k,d},c}(Hn);Wh.prototype.bytesPerElement=2,Ir("StructArrayLayout1ui2",Wh);var ic=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,k,A,I){var F=this.length;return this.resize(F+1),this.emplace(F,d,k,A,I)},c.prototype.emplace=function(d,k,A,I,F){var H=4*d;return this.float32[H+0]=k,this.float32[H+1]=A,this.float32[H+2]=I,this.float32[H+3]=F,d},c}(Hn);ic.prototype.bytesPerElement=16,Ir("StructArrayLayout4f16",ic);var m=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var d={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return d.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},d.x1.get=function(){return this._structArray.int16[this._pos2+2]},d.y1.get=function(){return this._structArray.int16[this._pos2+3]},d.x2.get=function(){return this._structArray.int16[this._pos2+4]},d.y2.get=function(){return this._structArray.int16[this._pos2+5]},d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.anchorPoint.get=function(){return new he(this.anchorPointX,this.anchorPointY)},Object.defineProperties(c.prototype,d),c}(Wc);m.prototype.size=20;var x=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(d){return new m(this,d)},c}($a);Ir("CollisionBoxArray",x);var v=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},d.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},d.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},d.segment.get=function(){return this._structArray.uint16[this._pos2+10]},d.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},d.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},d.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},d.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},d.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},d.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},d.placedOrientation.set=function(k){this._structArray.uint8[this._pos1+37]=k},d.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},d.hidden.set=function(k){this._structArray.uint8[this._pos1+38]=k},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},d.crossTileID.set=function(k){this._structArray.uint32[this._pos4+10]=k},d.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(c.prototype,d),c}(Wc);v.prototype.size=48;var C=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(d){return new v(this,d)},c}(ha);Ir("PlacedSymbolArray",C);var M=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},d.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},d.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},d.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},d.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},d.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},d.key.get=function(){return this._structArray.uint16[this._pos2+8]},d.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},d.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},d.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},d.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},d.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},d.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},d.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},d.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},d.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},d.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},d.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},d.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},d.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},d.crossTileID.set=function(k){this._structArray.uint32[this._pos4+12]=k},d.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},d.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},d.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},d.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(c.prototype,d),c}(Wc);M.prototype.size=68;var B=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(d){return new M(this,d)},c}(Vs);Ir("SymbolInstanceArray",B);var U=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.getoffsetX=function(d){return this.float32[1*d+0]},c}(Ga);Ir("GlyphOffsetArray",U);var X=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.getx=function(d){return this.int16[3*d+0]},c.prototype.gety=function(d){return this.int16[3*d+1]},c.prototype.gettileUnitDistanceFromAnchor=function(d){return this.int16[3*d+2]},c}($s);Ir("SymbolLineVertexArray",X);var ce=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var d={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(c.prototype,d),c}(Wc);ce.prototype.size=8;var Se=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(d){return new ce(this,d)},c}(Vc);Ir("FeatureIndexArray",Se);var Le=$o([{name:"a_pos",components:2,type:"Int16"}],4).members,Re=function(s){s===void 0&&(s=[]),this.segments=s};function ze(s,c){return 256*(s=ae(Math.floor(s),0,255))+ae(Math.floor(c),0,255)}Re.prototype.prepareSegment=function(s,c,d,k){var A=this.segments[this.segments.length-1];return s>Re.MAX_VERTEX_ARRAY_LENGTH&&Ht("Max vertices per segment is "+Re.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+s),(!A||A.vertexLength+s>Re.MAX_VERTEX_ARRAY_LENGTH||A.sortKey!==k)&&(A={vertexOffset:c.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},k!==void 0&&(A.sortKey=k),this.segments.push(A)),A},Re.prototype.get=function(){return this.segments},Re.prototype.destroy=function(){for(var s=0,c=this.segments;s<c.length;s+=1){var d=c[s];for(var k in d.vaos)d.vaos[k].destroy()}},Re.simpleSegment=function(s,c,d,k){return new Re([{vertexOffset:s,primitiveOffset:c,vertexLength:d,primitiveLength:k,vaos:{},sortKey:0}])},Re.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ir("SegmentVector",Re);var nt=$o([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Je=me(function(s){s.exports=function(c,d){var k,A,I,F,H,ee,le,ge;for(A=c.length-(k=3&c.length),I=d,H=3432918353,ee=461845907,ge=0;ge<A;)le=255&c.charCodeAt(ge)|(255&c.charCodeAt(++ge))<<8|(255&c.charCodeAt(++ge))<<16|(255&c.charCodeAt(++ge))<<24,++ge,I=27492+(65535&(F=5*(65535&(I=(I^=le=(65535&(le=(le=(65535&le)*H+(((le>>>16)*H&65535)<<16)&4294967295)<<15|le>>>17))*ee+(((le>>>16)*ee&65535)<<16)&4294967295)<<13|I>>>19))+((5*(I>>>16)&65535)<<16)&4294967295))+((58964+(F>>>16)&65535)<<16);switch(le=0,k){case 3:le^=(255&c.charCodeAt(ge+2))<<16;case 2:le^=(255&c.charCodeAt(ge+1))<<8;case 1:I^=le=(65535&(le=(le=(65535&(le^=255&c.charCodeAt(ge)))*H+(((le>>>16)*H&65535)<<16)&4294967295)<<15|le>>>17))*ee+(((le>>>16)*ee&65535)<<16)&4294967295}return I^=c.length,I=2246822507*(65535&(I^=I>>>16))+((2246822507*(I>>>16)&65535)<<16)&4294967295,I=3266489909*(65535&(I^=I>>>13))+((3266489909*(I>>>16)&65535)<<16)&4294967295,(I^=I>>>16)>>>0}}),ft=me(function(s){s.exports=function(c,d){for(var k,A=c.length,I=d^A,F=0;A>=4;)k=1540483477*(65535&(k=255&c.charCodeAt(F)|(255&c.charCodeAt(++F))<<8|(255&c.charCodeAt(++F))<<16|(255&c.charCodeAt(++F))<<24))+((1540483477*(k>>>16)&65535)<<16),I=1540483477*(65535&I)+((1540483477*(I>>>16)&65535)<<16)^(k=1540483477*(65535&(k^=k>>>24))+((1540483477*(k>>>16)&65535)<<16)),A-=4,++F;switch(A){case 3:I^=(255&c.charCodeAt(F+2))<<16;case 2:I^=(255&c.charCodeAt(F+1))<<8;case 1:I=1540483477*(65535&(I^=255&c.charCodeAt(F)))+((1540483477*(I>>>16)&65535)<<16)}return I=1540483477*(65535&(I^=I>>>13))+((1540483477*(I>>>16)&65535)<<16),(I^=I>>>15)>>>0}}),Ge=Je,ct=ft;Ge.murmur3=Je,Ge.murmur2=ct;var mt=function(){this.ids=[],this.positions=[],this.indexed=!1};mt.prototype.add=function(s,c,d,k){this.ids.push(zt(s)),this.positions.push(c,d,k)},mt.prototype.getPositions=function(s){for(var c=zt(s),d=0,k=this.ids.length-1;d<k;){var A=d+k>>1;this.ids[A]>=c?k=A:d=A+1}for(var I=[];this.ids[d]===c;)I.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return I},mt.serialize=function(s,c){var d=new Float64Array(s.ids),k=new Uint32Array(s.positions);return function A(I,F,H,ee){for(;H<ee;){for(var le=I[H+ee>>1],ge=H-1,_e=ee+1;;){do ge++;while(I[ge]<le);do _e--;while(I[_e]>le);if(ge>=_e)break;Rt(I,ge,_e),Rt(F,3*ge,3*_e),Rt(F,3*ge+1,3*_e+1),Rt(F,3*ge+2,3*_e+2)}_e-H<ee-_e?(A(I,F,H,_e),H=_e+1):(A(I,F,_e+1,ee),ee=_e)}}(d,k,0,d.length-1),c&&c.push(d.buffer,k.buffer),{ids:d,positions:k}},mt.deserialize=function(s){var c=new mt;return c.ids=s.ids,c.positions=s.positions,c.indexed=!0,c};var wt=Math.pow(2,53)-1;function zt(s){var c=+s;return!isNaN(c)&&c<=wt?c:Ge(String(s))}function Rt(s,c,d){var k=s[c];s[c]=s[d],s[d]=k}Ir("FeaturePositionMap",mt);var jt=function(s,c){this.gl=s.gl,this.location=c},er=function(s){function c(d,k){s.call(this,d,k),this.current=0}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))},c}(jt),nr=function(s){function c(d,k){s.call(this,d,k),this.current=0}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))},c}(jt),lr=function(s){function c(d,k){s.call(this,d,k),this.current=[0,0]}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))},c}(jt),Er=function(s){function c(d,k){s.call(this,d,k),this.current=[0,0,0]}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))},c}(jt),Ar=function(s){function c(d,k){s.call(this,d,k),this.current=[0,0,0,0]}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3]))},c}(jt),Kr=function(s){function c(d,k){s.call(this,d,k),this.current=Mn.transparent}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a))},c}(jt),Vr=new Float32Array(16),On=function(s){function c(d,k){s.call(this,d,k),this.current=Vr}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(var k=1;k<16;k++)if(d[k]!==this.current[k]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}},c}(jt);function Dr(s){return[ze(255*s.r,255*s.g),ze(255*s.b,255*s.a)]}var an=function(s,c,d){this.value=s,this.uniformNames=c.map(function(k){return"u_"+k}),this.type=d};an.prototype.setUniform=function(s,c,d){s.set(d.constantOr(this.value))},an.prototype.getBinding=function(s,c,d){return this.type==="color"?new Kr(s,c):new nr(s,c)};var gn=function(s,c){this.uniformNames=c.map(function(d){return"u_"+d}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};gn.prototype.setConstantPatternPositions=function(s,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=s.tlbr},gn.prototype.setUniform=function(s,c,d,k){var A=k==="u_pattern_to"?this.patternTo:k==="u_pattern_from"?this.patternFrom:k==="u_pixel_ratio_to"?this.pixelRatioTo:k==="u_pixel_ratio_from"?this.pixelRatioFrom:null;A&&s.set(A)},gn.prototype.getBinding=function(s,c,d){return d.substr(0,9)==="u_pattern"?new Ar(s,c):new nr(s,c)};var rn=function(s,c,d,k){this.expression=s,this.type=d,this.maxValue=0,this.paintVertexAttributes=c.map(function(A){return{name:"a_"+A,type:"Float32",components:d==="color"?2:1,offset:0}}),this.paintVertexArray=new k};rn.prototype.populatePaintArray=function(s,c,d,k,A){var I=this.paintVertexArray.length,F=this.expression.evaluate(new Tn(0),c,{},k,[],A);this.paintVertexArray.resize(s),this._setPaintValue(I,s,F)},rn.prototype.updatePaintArray=function(s,c,d,k){var A=this.expression.evaluate({zoom:0},d,k);this._setPaintValue(s,c,A)},rn.prototype._setPaintValue=function(s,c,d){if(this.type==="color")for(var k=Dr(d),A=s;A<c;A++)this.paintVertexArray.emplace(A,k[0],k[1]);else{for(var I=s;I<c;I++)this.paintVertexArray.emplace(I,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}},rn.prototype.upload=function(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},rn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var sn=function(s,c,d,k,A,I){this.expression=s,this.uniformNames=c.map(function(F){return"u_"+F+"_t"}),this.type=d,this.useIntegerZoom=k,this.zoom=A,this.maxValue=0,this.paintVertexAttributes=c.map(function(F){return{name:"a_"+F,type:"Float32",components:d==="color"?4:2,offset:0}}),this.paintVertexArray=new I};sn.prototype.populatePaintArray=function(s,c,d,k,A){var I=this.expression.evaluate(new Tn(this.zoom),c,{},k,[],A),F=this.expression.evaluate(new Tn(this.zoom+1),c,{},k,[],A),H=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(H,s,I,F)},sn.prototype.updatePaintArray=function(s,c,d,k){var A=this.expression.evaluate({zoom:this.zoom},d,k),I=this.expression.evaluate({zoom:this.zoom+1},d,k);this._setPaintValue(s,c,A,I)},sn.prototype._setPaintValue=function(s,c,d,k){if(this.type==="color")for(var A=Dr(d),I=Dr(k),F=s;F<c;F++)this.paintVertexArray.emplace(F,A[0],A[1],I[0],I[1]);else{for(var H=s;H<c;H++)this.paintVertexArray.emplace(H,d,k);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(k))}},sn.prototype.upload=function(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},sn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},sn.prototype.setUniform=function(s,c){var d=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,k=ae(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);s.set(k)},sn.prototype.getBinding=function(s,c,d){return new nr(s,c)};var dn=function(s,c,d,k,A,I){this.expression=s,this.type=c,this.useIntegerZoom=d,this.zoom=k,this.layerId=I,this.zoomInPaintVertexArray=new A,this.zoomOutPaintVertexArray=new A};dn.prototype.populatePaintArray=function(s,c,d){var k=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(k,s,c.patterns&&c.patterns[this.layerId],d)},dn.prototype.updatePaintArray=function(s,c,d,k,A){this._setPaintValues(s,c,d.patterns&&d.patterns[this.layerId],A)},dn.prototype._setPaintValues=function(s,c,d,k){if(k&&d){var A=k[d.min],I=k[d.mid],F=k[d.max];if(A&&I&&F)for(var H=s;H<c;H++)this.zoomInPaintVertexArray.emplace(H,I.tl[0],I.tl[1],I.br[0],I.br[1],A.tl[0],A.tl[1],A.br[0],A.br[1],I.pixelRatio,A.pixelRatio),this.zoomOutPaintVertexArray.emplace(H,I.tl[0],I.tl[1],I.br[0],I.br[1],F.tl[0],F.tl[1],F.br[0],F.br[1],I.pixelRatio,F.pixelRatio)}},dn.prototype.upload=function(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,nt.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,nt.members,this.expression.isStateDependent))},dn.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Qr=function(s,c,d){this.binders={},this._buffers=[];var k=[];for(var A in s.paint._values)if(d(A)){var I=s.paint.get(A);if(I instanceof Un&&nu(I.property.specification)){var F=yo(A,s.type),H=I.value,ee=I.property.specification.type,le=I.property.useIntegerZoom,ge=I.property.specification["property-type"],_e=ge==="cross-faded"||ge==="cross-faded-data-driven";if(H.kind==="constant")this.binders[A]=_e?new gn(H.value,F):new an(H.value,F,ee),k.push("/u_"+A);else if(H.kind==="source"||_e){var Te=Si(A,ee,"source");this.binders[A]=_e?new dn(H,ee,le,c,Te,s.id):new rn(H,F,ee,Te),k.push("/a_"+A)}else{var Me=Si(A,ee,"composite");this.binders[A]=new sn(H,F,ee,le,c,Me),k.push("/z_"+A)}}}this.cacheKey=k.sort().join("")};Qr.prototype.getMaxValue=function(s){var c=this.binders[s];return c instanceof rn||c instanceof sn?c.maxValue:0},Qr.prototype.populatePaintArrays=function(s,c,d,k,A){for(var I in this.binders){var F=this.binders[I];(F instanceof rn||F instanceof sn||F instanceof dn)&&F.populatePaintArray(s,c,d,k,A)}},Qr.prototype.setConstantPatternPositions=function(s,c){for(var d in this.binders){var k=this.binders[d];k instanceof gn&&k.setConstantPatternPositions(s,c)}},Qr.prototype.updatePaintArrays=function(s,c,d,k,A){var I=!1;for(var F in s)for(var H=0,ee=c.getPositions(F);H<ee.length;H+=1){var le=ee[H],ge=d.feature(le.index);for(var _e in this.binders){var Te=this.binders[_e];if((Te instanceof rn||Te instanceof sn||Te instanceof dn)&&Te.expression.isStateDependent===!0){var Me=k.paint.get(_e);Te.expression=Me.value,Te.updatePaintArray(le.start,le.end,ge,s[F],A),I=!0}}}return I},Qr.prototype.defines=function(){var s=[];for(var c in this.binders){var d=this.binders[c];(d instanceof an||d instanceof gn)&&s.push.apply(s,d.uniformNames.map(function(k){return"#define HAS_UNIFORM_"+k}))}return s},Qr.prototype.getBinderAttributes=function(){var s=[];for(var c in this.binders){var d=this.binders[c];if(d instanceof rn||d instanceof sn)for(var k=0;k<d.paintVertexAttributes.length;k++)s.push(d.paintVertexAttributes[k].name);else if(d instanceof dn)for(var A=0;A<nt.members.length;A++)s.push(nt.members[A].name)}return s},Qr.prototype.getBinderUniforms=function(){var s=[];for(var c in this.binders){var d=this.binders[c];if(d instanceof an||d instanceof gn||d instanceof sn)for(var k=0,A=d.uniformNames;k<A.length;k+=1)s.push(A[k])}return s},Qr.prototype.getPaintVertexBuffers=function(){return this._buffers},Qr.prototype.getUniforms=function(s,c){var d=[];for(var k in this.binders){var A=this.binders[k];if(A instanceof an||A instanceof gn||A instanceof sn)for(var I=0,F=A.uniformNames;I<F.length;I+=1){var H=F[I];if(c[H]){var ee=A.getBinding(s,c[H],H);d.push({name:H,property:k,binding:ee})}}}return d},Qr.prototype.setUniforms=function(s,c,d,k){for(var A=0,I=c;A<I.length;A+=1){var F=I[A],H=F.name,ee=F.property;this.binders[ee].setUniform(F.binding,k,d.get(ee),H)}},Qr.prototype.updatePaintBuffers=function(s){for(var c in this._buffers=[],this.binders){var d=this.binders[c];if(s&&d instanceof dn){var k=s.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;k&&this._buffers.push(k)}else(d instanceof rn||d instanceof sn)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}},Qr.prototype.upload=function(s){for(var c in this.binders){var d=this.binders[c];(d instanceof rn||d instanceof sn||d instanceof dn)&&d.upload(s)}this.updatePaintBuffers()},Qr.prototype.destroy=function(){for(var s in this.binders){var c=this.binders[s];(c instanceof rn||c instanceof sn||c instanceof dn)&&c.destroy()}};var Jr=function(s,c,d){d===void 0&&(d=function(){return!0}),this.programConfigurations={};for(var k=0,A=s;k<A.length;k+=1){var I=A[k];this.programConfigurations[I.id]=new Qr(I,c,d)}this.needsUpload=!1,this._featureMap=new mt,this._bufferOffset=0};function yo(s,c){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[s]||[s.replace(c+"-","").replace(/-/g,"_")]}function Si(s,c,d){var k={color:{source:mu,composite:ic},number:{source:Ga,composite:mu}},A=function(I){return{"line-pattern":{source:$i,composite:$i},"fill-pattern":{source:$i,composite:$i},"fill-extrusion-pattern":{source:$i,composite:$i}}[I]}(s);return A&&A[d]||k[c][d]}Jr.prototype.populatePaintArrays=function(s,c,d,k,A,I){for(var F in this.programConfigurations)this.programConfigurations[F].populatePaintArrays(s,c,k,A,I);c.id!==void 0&&this._featureMap.add(c.id,d,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0},Jr.prototype.updatePaintArrays=function(s,c,d,k){for(var A=0,I=d;A<I.length;A+=1){var F=I[A];this.needsUpload=this.programConfigurations[F.id].updatePaintArrays(s,this._featureMap,c,F,k)||this.needsUpload}},Jr.prototype.get=function(s){return this.programConfigurations[s]},Jr.prototype.upload=function(s){if(this.needsUpload){for(var c in this.programConfigurations)this.programConfigurations[c].upload(s);this.needsUpload=!1}},Jr.prototype.destroy=function(){for(var s in this.programConfigurations)this.programConfigurations[s].destroy()},Ir("ConstantBinder",an),Ir("CrossFadedConstantBinder",gn),Ir("SourceExpressionBinder",rn),Ir("CrossFadedCompositeBinder",dn),Ir("CompositeExpressionBinder",sn),Ir("ProgramConfiguration",Qr,{omit:["_buffers"]}),Ir("ProgramConfigurationSet",Jr);var Ao=Math.pow(2,14)-1,Go=-Ao-1;function xi(s){for(var c=8192/s.extent,d=s.loadGeometry(),k=0;k<d.length;k++)for(var A=d[k],I=0;I<A.length;I++){var F=A[I],H=Math.round(F.x*c),ee=Math.round(F.y*c);F.x=ae(H,Go,Ao),F.y=ae(ee,Go,Ao),(H<F.x||H>F.x+1||ee<F.y||ee>F.y+1)&&Ht("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return d}function Li(s,c){return{type:s.type,id:s.id,properties:s.properties,geometry:c?xi(s):[]}}function da(s,c,d,k,A){s.emplaceBack(2*c+(k+1)/2,2*d+(A+1)/2)}var Po=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Nl,this.indexArray=new wn,this.segments=new Re,this.programConfigurations=new Jr(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};function Ka(s,c){for(var d=0;d<s.length;d++)if(Es(c,s[d]))return!0;for(var k=0;k<c.length;k++)if(Es(s,c[k]))return!0;return!!Gs(s,c)}function Ko(s,c,d){return!!Es(s,c)||!!Ks(c,s,d)}function cs(s,c){if(s.length===1)return jl(c,s[0]);for(var d=0;d<c.length;d++)for(var k=c[d],A=0;A<k.length;A++)if(Es(s,k[A]))return!0;for(var I=0;I<s.length;I++)if(jl(c,s[I]))return!0;for(var F=0;F<c.length;F++)if(Gs(s,c[F]))return!0;return!1}function Ma(s,c,d){if(s.length>1){if(Gs(s,c))return!0;for(var k=0;k<c.length;k++)if(Ks(c[k],s,d))return!0}for(var A=0;A<s.length;A++)if(Ks(s[A],c,d))return!0;return!1}function Gs(s,c){if(s.length===0||c.length===0)return!1;for(var d=0;d<s.length-1;d++)for(var k=s[d],A=s[d+1],I=0;I<c.length-1;I++)if(Bl(k,A,c[I],c[I+1]))return!0;return!1}function Bl(s,c,d,k){return Lt(s,d,k)!==Lt(c,d,k)&&Lt(s,c,d)!==Lt(s,c,k)}function Ks(s,c,d){var k=d*d;if(c.length===1)return s.distSqr(c[0])<k;for(var A=1;A<c.length;A++)if(Ys(s,c[A-1],c[A])<k)return!0;return!1}function Ys(s,c,d){var k=c.distSqr(d);if(k===0)return s.distSqr(c);var A=((s.x-c.x)*(d.x-c.x)+(s.y-c.y)*(d.y-c.y))/k;return s.distSqr(A<0?c:A>1?d:d.sub(c)._mult(A)._add(c))}function jl(s,c){for(var d,k,A,I=!1,F=0;F<s.length;F++)for(var H=0,ee=(d=s[F]).length-1;H<d.length;ee=H++)(k=d[H]).y>c.y!=(A=d[ee]).y>c.y&&c.x<(A.x-k.x)*(c.y-k.y)/(A.y-k.y)+k.x&&(I=!I);return I}function Es(s,c){for(var d=!1,k=0,A=s.length-1;k<s.length;A=k++){var I=s[k],F=s[A];I.y>c.y!=F.y>c.y&&c.x<(F.x-I.x)*(c.y-I.y)/(F.y-I.y)+I.x&&(d=!d)}return d}function ih(s,c,d){var k=d[0],A=d[2];if(s.x<k.x&&c.x<k.x||s.x>A.x&&c.x>A.x||s.y<k.y&&c.y<k.y||s.y>A.y&&c.y>A.y)return!1;var I=Lt(s,c,d[0]);return I!==Lt(s,c,d[1])||I!==Lt(s,c,d[2])||I!==Lt(s,c,d[3])}function Ul(s,c,d){var k=c.paint.get(s).value;return k.kind==="constant"?k.value:d.programConfigurations.get(c.id).getMaxValue(s)}function ni(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function vu(s,c,d,k,A){if(!c[0]&&!c[1])return s;var I=he.convert(c)._mult(A);d==="viewport"&&I._rotate(-k);for(var F=[],H=0;H<s.length;H++)F.push(s[H].sub(I));return F}Po.prototype.populate=function(s,c,d){var k=this.layers[0],A=[],I=null;k.type==="circle"&&(I=k.layout.get("circle-sort-key"));for(var F=0,H=s;F<H.length;F+=1){var ee=H[F],le=ee.feature,ge=ee.id,_e=ee.index,Te=ee.sourceLayerIndex,Me=this.layers[0]._featureFilter.needGeometry,Qe=Li(le,Me);if(this.layers[0]._featureFilter.filter(new Tn(this.zoom),Qe,d)){var tt=I?I.evaluate(Qe,{},d):void 0,dt={id:ge,properties:le.properties,type:le.type,sourceLayerIndex:Te,index:_e,geometry:Me?Qe.geometry:xi(le),patterns:{},sortKey:tt};A.push(dt)}}I&&A.sort(function(yr,Xr){return yr.sortKey-Xr.sortKey});for(var lt=0,vt=A;lt<vt.length;lt+=1){var Ot=vt[lt],qt=Ot.geometry,Bt=Ot.index,Jt=Ot.sourceLayerIndex,cr=s[Bt].feature;this.addFeature(Ot,qt,Bt,d),c.featureIndex.insert(cr,qt,Bt,Jt,this.index)}},Po.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},Po.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Po.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Po.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Le),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0},Po.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Po.prototype.addFeature=function(s,c,d,k){for(var A=0,I=c;A<I.length;A+=1)for(var F=0,H=I[A];F<H.length;F+=1){var ee=H[F],le=ee.x,ge=ee.y;if(!(le<0||le>=8192||ge<0||ge>=8192)){var _e=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,s.sortKey),Te=_e.vertexLength;da(this.layoutVertexArray,le,ge,-1,-1),da(this.layoutVertexArray,le,ge,1,-1),da(this.layoutVertexArray,le,ge,1,1),da(this.layoutVertexArray,le,ge,-1,1),this.indexArray.emplaceBack(Te,Te+1,Te+2),this.indexArray.emplaceBack(Te,Te+3,Te+2),_e.vertexLength+=4,_e.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,{},k)},Ir("CircleBucket",Po,{omit:["layers"]});var oc=new fa({"circle-sort-key":new Rr(Ie.layout_circle["circle-sort-key"])}),Lo={paint:new fa({"circle-radius":new Rr(Ie.paint_circle["circle-radius"]),"circle-color":new Rr(Ie.paint_circle["circle-color"]),"circle-blur":new Rr(Ie.paint_circle["circle-blur"]),"circle-opacity":new Rr(Ie.paint_circle["circle-opacity"]),"circle-translate":new kr(Ie.paint_circle["circle-translate"]),"circle-translate-anchor":new kr(Ie.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new kr(Ie.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new kr(Ie.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Rr(Ie.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Rr(Ie.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Rr(Ie.paint_circle["circle-stroke-opacity"])}),layout:oc},Kn=typeof Float32Array<"u"?Float32Array:Array;function Ts(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Ya(s,c,d){var k=c[0],A=c[1],I=c[2],F=c[3],H=c[4],ee=c[5],le=c[6],ge=c[7],_e=c[8],Te=c[9],Me=c[10],Qe=c[11],tt=c[12],dt=c[13],lt=c[14],vt=c[15],Ot=d[0],qt=d[1],Bt=d[2],Jt=d[3];return s[0]=Ot*k+qt*H+Bt*_e+Jt*tt,s[1]=Ot*A+qt*ee+Bt*Te+Jt*dt,s[2]=Ot*I+qt*le+Bt*Me+Jt*lt,s[3]=Ot*F+qt*ge+Bt*Qe+Jt*vt,s[4]=(Ot=d[4])*k+(qt=d[5])*H+(Bt=d[6])*_e+(Jt=d[7])*tt,s[5]=Ot*A+qt*ee+Bt*Te+Jt*dt,s[6]=Ot*I+qt*le+Bt*Me+Jt*lt,s[7]=Ot*F+qt*ge+Bt*Qe+Jt*vt,s[8]=(Ot=d[8])*k+(qt=d[9])*H+(Bt=d[10])*_e+(Jt=d[11])*tt,s[9]=Ot*A+qt*ee+Bt*Te+Jt*dt,s[10]=Ot*I+qt*le+Bt*Me+Jt*lt,s[11]=Ot*F+qt*ge+Bt*Qe+Jt*vt,s[12]=(Ot=d[12])*k+(qt=d[13])*H+(Bt=d[14])*_e+(Jt=d[15])*tt,s[13]=Ot*A+qt*ee+Bt*Te+Jt*dt,s[14]=Ot*I+qt*le+Bt*Me+Jt*lt,s[15]=Ot*F+qt*ge+Bt*Qe+Jt*vt,s}Math.hypot||(Math.hypot=function(){for(var s=arguments,c=0,d=arguments.length;d--;)c+=s[d]*s[d];return Math.sqrt(c)});var ac,Qp=Ya;function oh(s,c,d){var k=c[0],A=c[1],I=c[2],F=c[3];return s[0]=d[0]*k+d[4]*A+d[8]*I+d[12]*F,s[1]=d[1]*k+d[5]*A+d[9]*I+d[13]*F,s[2]=d[2]*k+d[6]*A+d[10]*I+d[14]*F,s[3]=d[3]*k+d[7]*A+d[11]*I+d[15]*F,s}ac=new Kn(3),Kn!=Float32Array&&(ac[0]=0,ac[1]=0,ac[2]=0),function(){var s=new Kn(4);Kn!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0,s[3]=0)}();var em=(function(){var s=new Kn(2);Kn!=Float32Array&&(s[0]=0,s[1]=0)}(),function(s){function c(d){s.call(this,d,Lo)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.createBucket=function(d){return new Po(d)},c.prototype.queryRadius=function(d){var k=d;return Ul("circle-radius",this,k)+Ul("circle-stroke-width",this,k)+ni(this.paint.get("circle-translate"))},c.prototype.queryIntersectsFeature=function(d,k,A,I,F,H,ee,le){for(var ge=vu(d,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),H.angle,ee),_e=this.paint.get("circle-radius").evaluate(k,A)+this.paint.get("circle-stroke-width").evaluate(k,A),Te=this.paint.get("circle-pitch-alignment")==="map",Me=Te?ge:function(cr,yr){return cr.map(function(Xr){return vl(Xr,yr)})}(ge,le),Qe=Te?_e*ee:_e,tt=0,dt=I;tt<dt.length;tt+=1)for(var lt=0,vt=dt[tt];lt<vt.length;lt+=1){var Ot=vt[lt],qt=Te?Ot:vl(Ot,le),Bt=Qe,Jt=oh([],[Ot.x,Ot.y,0,1],le);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Bt*=Jt[3]/H.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Bt*=H.cameraToCenterDistance/Jt[3]),Ko(Me,qt,Bt))return!0}return!1},c}(gl));function vl(s,c){var d=oh([],[s.x,s.y,0,1],c);return new he(d[0]/d[3],d[1]/d[3])}var _f=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(Po);function Fu(s,c,d,k){var A=c.width,I=c.height;if(k){if(k instanceof Uint8ClampedArray)k=new Uint8Array(k.buffer);else if(k.length!==A*I*d)throw new RangeError("mismatched image size")}else k=new Uint8Array(A*I*d);return s.width=A,s.height=I,s.data=k,s}function fs(s,c,d){var k=c.width,A=c.height;if(k!==s.width||A!==s.height){var I=Fu({},{width:k,height:A},d);Zs(s,I,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,k),height:Math.min(s.height,A)},d),s.width=k,s.height=A,s.data=I.data}}function Zs(s,c,d,k,A,I){if(A.width===0||A.height===0)return c;if(A.width>s.width||A.height>s.height||d.x>s.width-A.width||d.y>s.height-A.height)throw new RangeError("out of range source coordinates for image copy");if(A.width>c.width||A.height>c.height||k.x>c.width-A.width||k.y>c.height-A.height)throw new RangeError("out of range destination coordinates for image copy");for(var F=s.data,H=c.data,ee=0;ee<A.height;ee++)for(var le=((d.y+ee)*s.width+d.x)*I,ge=((k.y+ee)*c.width+k.x)*I,_e=0;_e<A.width*I;_e++)H[ge+_e]=F[le+_e];return c}Ir("HeatmapBucket",_f,{omit:["layers"]});var sc=function(s,c){Fu(this,s,1,c)};sc.prototype.resize=function(s){fs(this,s,1)},sc.prototype.clone=function(){return new sc({width:this.width,height:this.height},new Uint8Array(this.data))},sc.copy=function(s,c,d,k,A){Zs(s,c,d,k,A,1)};var _a=function(s,c){Fu(this,s,4,c)};_a.prototype.resize=function(s){fs(this,s,4)},_a.prototype.replace=function(s,c){c?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s},_a.prototype.clone=function(){return new _a({width:this.width,height:this.height},new Uint8Array(this.data))},_a.copy=function(s,c,d,k,A){Zs(s,c,d,k,A,4)},Ir("AlphaImage",sc),Ir("RGBAImage",_a);var yl={paint:new fa({"heatmap-radius":new Rr(Ie.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Rr(Ie.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new kr(Ie.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ws(Ie.paint_heatmap["heatmap-color"]),"heatmap-opacity":new kr(Ie.paint_heatmap["heatmap-opacity"])})};function wg(s){var c={},d=s.resolution||256,k=s.clips?s.clips.length:1,A=s.image||new _a({width:d,height:k}),I=function(Qe,tt,dt){c[s.evaluationKey]=dt;var lt=s.expression.evaluate(c);A.data[Qe+tt+0]=Math.floor(255*lt.r/lt.a),A.data[Qe+tt+1]=Math.floor(255*lt.g/lt.a),A.data[Qe+tt+2]=Math.floor(255*lt.b/lt.a),A.data[Qe+tt+3]=Math.floor(255*lt.a)};if(s.clips)for(var F=0,H=0;F<k;++F,H+=4*d)for(var ee=0,le=0;ee<d;ee++,le+=4){var ge=ee/(d-1),_e=s.clips[F];I(H,le,_e.start*(1-ge)+_e.end*ge)}else for(var Te=0,Me=0;Te<d;Te++,Me+=4)I(0,Me,Te/(d-1));return A}var ny=function(s){function c(d){s.call(this,d,yl),this._updateColorRamp()}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.createBucket=function(d){return new _f(d)},c.prototype._handleSpecialPaintPropertyUpdate=function(d){d==="heatmap-color"&&this._updateColorRamp()},c.prototype._updateColorRamp=function(){this.colorRamp=wg({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},c.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},c.prototype.queryRadius=function(){return 0},c.prototype.queryIntersectsFeature=function(){return!1},c.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},c}(gl),ah={paint:new fa({"hillshade-illumination-direction":new kr(Ie.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new kr(Ie.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new kr(Ie.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new kr(Ie.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new kr(Ie.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new kr(Ie.paint_hillshade["hillshade-accent-color"])})},Zd=function(s){function c(d){s.call(this,d,ah)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},c}(gl),sh=$o([{name:"a_pos",components:2,type:"Int16"}],4).members,Vh=qu,$h=qu;function qu(s,c,d){d=d||2;var k,A,I,F,H,ee,le,ge=c&&c.length,_e=ge?c[0]*d:s.length,Te=tm(s,0,_e,d,!0),Me=[];if(!Te||Te.next===Te.prev)return Me;if(ge&&(Te=function(tt,dt,lt,vt){var Ot,qt,Bt,Jt=[];for(Ot=0,qt=dt.length;Ot<qt;Ot++)(Bt=tm(tt,dt[Ot]*vt,Ot<qt-1?dt[Ot+1]*vt:tt.length,vt,!1))===Bt.next&&(Bt.steiner=!0),Jt.push(Jd(Bt));for(Jt.sort(iy),Ot=0;Ot<Jt.length;Ot++)Sf(Jt[Ot],lt),lt=bl(lt,lt.next);return lt}(s,c,Te,d)),s.length>80*d){k=I=s[0],A=F=s[1];for(var Qe=d;Qe<_e;Qe+=d)(H=s[Qe])<k&&(k=H),(ee=s[Qe+1])<A&&(A=ee),H>I&&(I=H),ee>F&&(F=ee);le=(le=Math.max(I-k,F-A))!==0?1/le:0}return wf(Te,Me,d,k,A,le),Me}function tm(s,c,d,k,A){var I,F;if(A===kg(s,c,d,k)>0)for(I=c;I<d;I+=k)F=om(I,s[I],s[I+1],F);else for(I=d-k;I>=c;I-=k)F=om(I,s[I],s[I+1],F);return F&&lh(F,F.next)&&(uc(F),F=F.next),F}function bl(s,c){if(!s)return s;c||(c=s);var d,k=s;do if(d=!1,k.steiner||!lh(k,k.next)&&Ro(k.prev,k,k.next)!==0)k=k.next;else{if(uc(k),(k=c=k.prev)===k.next)break;d=!0}while(d||k!==c);return c}function wf(s,c,d,k,A,I,F){if(s){!F&&I&&function(ge,_e,Te,Me){var Qe=ge;do Qe.z===null&&(Qe.z=rm(Qe.x,Qe.y,_e,Te,Me)),Qe.prevZ=Qe.prev,Qe.nextZ=Qe.next,Qe=Qe.next;while(Qe!==ge);Qe.prevZ.nextZ=null,Qe.prevZ=null,function(tt){var dt,lt,vt,Ot,qt,Bt,Jt,cr,yr=1;do{for(lt=tt,tt=null,qt=null,Bt=0;lt;){for(Bt++,vt=lt,Jt=0,dt=0;dt<yr&&(Jt++,vt=vt.nextZ);dt++);for(cr=yr;Jt>0||cr>0&&vt;)Jt!==0&&(cr===0||!vt||lt.z<=vt.z)?(Ot=lt,lt=lt.nextZ,Jt--):(Ot=vt,vt=vt.nextZ,cr--),qt?qt.nextZ=Ot:tt=Ot,Ot.prevZ=qt,qt=Ot;lt=vt}qt.nextZ=null,yr*=2}while(Bt>1)}(Qe)}(s,k,A,I);for(var H,ee,le=s;s.prev!==s.next;)if(H=s.prev,ee=s.next,I?Gh(s,k,A,I):nx(s))c.push(H.i/d),c.push(s.i/d),c.push(ee.i/d),uc(s),s=ee.next,le=ee.next;else if((s=ee)===le){F?F===1?wf(s=Xd(bl(s),c,d),c,d,k,A,I,2):F===2&&ix(s,c,d,k,A,I):wf(bl(s),c,d,k,A,I,1);break}}}function nx(s){var c=s.prev,d=s,k=s.next;if(Ro(c,d,k)>=0)return!1;for(var A=s.next.next;A!==s.prev;){if($c(c.x,c.y,d.x,d.y,k.x,k.y,A.x,A.y)&&Ro(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function Gh(s,c,d,k){var A=s.prev,I=s,F=s.next;if(Ro(A,I,F)>=0)return!1;for(var H=A.x>I.x?A.x>F.x?A.x:F.x:I.x>F.x?I.x:F.x,ee=A.y>I.y?A.y>F.y?A.y:F.y:I.y>F.y?I.y:F.y,le=rm(A.x<I.x?A.x<F.x?A.x:F.x:I.x<F.x?I.x:F.x,A.y<I.y?A.y<F.y?A.y:F.y:I.y<F.y?I.y:F.y,c,d,k),ge=rm(H,ee,c,d,k),_e=s.prevZ,Te=s.nextZ;_e&&_e.z>=le&&Te&&Te.z<=ge;){if(_e!==s.prev&&_e!==s.next&&$c(A.x,A.y,I.x,I.y,F.x,F.y,_e.x,_e.y)&&Ro(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,Te!==s.prev&&Te!==s.next&&$c(A.x,A.y,I.x,I.y,F.x,F.y,Te.x,Te.y)&&Ro(Te.prev,Te,Te.next)>=0))return!1;Te=Te.nextZ}for(;_e&&_e.z>=le;){if(_e!==s.prev&&_e!==s.next&&$c(A.x,A.y,I.x,I.y,F.x,F.y,_e.x,_e.y)&&Ro(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;Te&&Te.z<=ge;){if(Te!==s.prev&&Te!==s.next&&$c(A.x,A.y,I.x,I.y,F.x,F.y,Te.x,Te.y)&&Ro(Te.prev,Te,Te.next)>=0)return!1;Te=Te.nextZ}return!0}function Xd(s,c,d){var k=s;do{var A=k.prev,I=k.next.next;!lh(A,I)&&nm(A,k,k.next,I)&&lc(A,I)&&lc(I,A)&&(c.push(A.i/d),c.push(k.i/d),c.push(I.i/d),uc(k),uc(k.next),k=s=I),k=k.next}while(k!==s);return bl(k)}function ix(s,c,d,k,A,I){var F=s;do{for(var H=F.next.next;H!==F.prev;){if(F.i!==H.i&&Sg(F,H)){var ee=Kh(F,H);return F=bl(F,F.next),ee=bl(ee,ee.next),wf(F,c,d,k,A,I),void wf(ee,c,d,k,A,I)}H=H.next}F=F.next}while(F!==s)}function iy(s,c){return s.x-c.x}function Sf(s,c){if(c=function(k,A){var I,F=A,H=k.x,ee=k.y,le=-1/0;do{if(ee<=F.y&&ee>=F.next.y&&F.next.y!==F.y){var ge=F.x+(ee-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(ge<=H&&ge>le){if(le=ge,ge===H){if(ee===F.y)return F;if(ee===F.next.y)return F.next}I=F.x<F.next.x?F:F.next}}F=F.next}while(F!==A);if(!I)return null;if(H===le)return I;var _e,Te=I,Me=I.x,Qe=I.y,tt=1/0;F=I;do H>=F.x&&F.x>=Me&&H!==F.x&&$c(ee<Qe?H:le,ee,Me,Qe,ee<Qe?le:H,ee,F.x,F.y)&&(_e=Math.abs(ee-F.y)/(H-F.x),lc(F,k)&&(_e<tt||_e===tt&&(F.x>I.x||F.x===I.x&&oy(I,F)))&&(I=F,tt=_e)),F=F.next;while(F!==Te);return I}(s,c)){var d=Kh(c,s);bl(c,c.next),bl(d,d.next)}}function oy(s,c){return Ro(s.prev,s,c.prev)<0&&Ro(c.next,s,s.next)<0}function rm(s,c,d,k,A){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=32767*(s-d)*A)|s<<8))|s<<4))|s<<2))|s<<1))|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-k)*A)|c<<8))|c<<4))|c<<2))|c<<1))<<1}function Jd(s){var c=s,d=s;do(c.x<d.x||c.x===d.x&&c.y<d.y)&&(d=c),c=c.next;while(c!==s);return d}function $c(s,c,d,k,A,I,F,H){return(A-F)*(c-H)-(s-F)*(I-H)>=0&&(s-F)*(k-H)-(d-F)*(c-H)>=0&&(d-F)*(I-H)-(A-F)*(k-H)>=0}function Sg(s,c){return s.next.i!==c.i&&s.prev.i!==c.i&&!function(d,k){var A=d;do{if(A.i!==d.i&&A.next.i!==d.i&&A.i!==k.i&&A.next.i!==k.i&&nm(A,A.next,d,k))return!0;A=A.next}while(A!==d);return!1}(s,c)&&(lc(s,c)&&lc(c,s)&&function(d,k){var A=d,I=!1,F=(d.x+k.x)/2,H=(d.y+k.y)/2;do A.y>H!=A.next.y>H&&A.next.y!==A.y&&F<(A.next.x-A.x)*(H-A.y)/(A.next.y-A.y)+A.x&&(I=!I),A=A.next;while(A!==d);return I}(s,c)&&(Ro(s.prev,s,c.prev)||Ro(s,c.prev,c))||lh(s,c)&&Ro(s.prev,s,s.next)>0&&Ro(c.prev,c,c.next)>0)}function Ro(s,c,d){return(c.y-s.y)*(d.x-c.x)-(c.x-s.x)*(d.y-c.y)}function lh(s,c){return s.x===c.x&&s.y===c.y}function nm(s,c,d,k){var A=uh(Ro(s,c,d)),I=uh(Ro(s,c,k)),F=uh(Ro(d,k,s)),H=uh(Ro(d,k,c));return A!==I&&F!==H||!(A!==0||!im(s,d,c))||!(I!==0||!im(s,k,c))||!(F!==0||!im(d,s,k))||!(H!==0||!im(d,c,k))}function im(s,c,d){return c.x<=Math.max(s.x,d.x)&&c.x>=Math.min(s.x,d.x)&&c.y<=Math.max(s.y,d.y)&&c.y>=Math.min(s.y,d.y)}function uh(s){return s>0?1:s<0?-1:0}function lc(s,c){return Ro(s.prev,s,s.next)<0?Ro(s,c,s.next)>=0&&Ro(s,s.prev,c)>=0:Ro(s,c,s.prev)<0||Ro(s,s.next,c)<0}function Kh(s,c){var d=new ch(s.i,s.x,s.y),k=new ch(c.i,c.x,c.y),A=s.next,I=c.prev;return s.next=c,c.prev=s,d.next=A,A.prev=d,k.next=d,d.prev=k,I.next=k,k.prev=I,k}function om(s,c,d,k){var A=new ch(s,c,d);return k?(A.next=k.next,A.prev=k,k.next.prev=A,k.next=A):(A.prev=A,A.next=A),A}function uc(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function ch(s,c,d){this.i=s,this.x=c,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function kg(s,c,d,k){for(var A=0,I=c,F=d-k;I<d;I+=k)A+=(s[F]-s[I])*(s[I+1]+s[F+1]),F=I;return A}function ay(s,c,d,k,A){(function I(F,H,ee,le,ge){for(;le>ee;){if(le-ee>600){var _e=le-ee+1,Te=H-ee+1,Me=Math.log(_e),Qe=.5*Math.exp(2*Me/3),tt=.5*Math.sqrt(Me*Qe*(_e-Qe)/_e)*(Te-_e/2<0?-1:1);I(F,H,Math.max(ee,Math.floor(H-Te*Qe/_e+tt)),Math.min(le,Math.floor(H+(_e-Te)*Qe/_e+tt)),ge)}var dt=F[H],lt=ee,vt=le;for(Qd(F,ee,H),ge(F[le],dt)>0&&Qd(F,ee,le);lt<vt;){for(Qd(F,lt,vt),lt++,vt--;ge(F[lt],dt)<0;)lt++;for(;ge(F[vt],dt)>0;)vt--}ge(F[ee],dt)===0?Qd(F,ee,vt):Qd(F,++vt,le),vt<=H&&(ee=vt+1),H<=vt&&(le=vt-1)}})(s,c,d||0,k||s.length-1,A||sy)}function Qd(s,c,d){var k=s[c];s[c]=s[d],s[d]=k}function sy(s,c){return s<c?-1:s>c?1:0}function Cg(s,c){var d=s.length;if(d<=1)return[s];for(var k,A,I=[],F=0;F<d;F++){var H=tr(s[F]);H!==0&&(s[F].area=Math.abs(H),A===void 0&&(A=H<0),A===H<0?(k&&I.push(k),k=[s[F]]):k.push(s[F]))}if(k&&I.push(k),c>1)for(var ee=0;ee<I.length;ee++)I[ee].length<=c||(ay(I[ee],c,1,I[ee].length-1,ox),I[ee]=I[ee].slice(0,c));return I}function ox(s,c){return c.area-s.area}function ep(s,c,d){for(var k=d.patternDependencies,A=!1,I=0,F=c;I<F.length;I+=1){var H=F[I].paint.get(s+"-pattern");H.isConstant()||(A=!0);var ee=H.constantOr(null);ee&&(A=!0,k[ee.to]=!0,k[ee.from]=!0)}return A}function tp(s,c,d,k,A){for(var I=A.patternDependencies,F=0,H=c;F<H.length;F+=1){var ee=H[F],le=ee.paint.get(s+"-pattern").value;if(le.kind!=="constant"){var ge=le.evaluate({zoom:k-1},d,{},A.availableImages),_e=le.evaluate({zoom:k},d,{},A.availableImages),Te=le.evaluate({zoom:k+1},d,{},A.availableImages);_e=_e&&_e.name?_e.name:_e,Te=Te&&Te.name?Te.name:Te,I[ge=ge&&ge.name?ge.name:ge]=!0,I[_e]=!0,I[Te]=!0,d.patterns[ee.id]={min:ge,mid:_e,max:Te}}}return d}qu.deviation=function(s,c,d,k){var A=c&&c.length,I=Math.abs(kg(s,0,A?c[0]*d:s.length,d));if(A)for(var F=0,H=c.length;F<H;F++)I-=Math.abs(kg(s,c[F]*d,F<H-1?c[F+1]*d:s.length,d));var ee=0;for(F=0;F<k.length;F+=3){var le=k[F]*d,ge=k[F+1]*d,_e=k[F+2]*d;ee+=Math.abs((s[le]-s[_e])*(s[ge+1]-s[le+1])-(s[le]-s[ge])*(s[_e+1]-s[le+1]))}return I===0&&ee===0?0:Math.abs((ee-I)/I)},qu.flatten=function(s){for(var c=s[0][0].length,d={vertices:[],holes:[],dimensions:c},k=0,A=0;A<s.length;A++){for(var I=0;I<s[A].length;I++)for(var F=0;F<c;F++)d.vertices.push(s[A][I][F]);A>0&&d.holes.push(k+=s[A-1].length)}return d},Vh.default=$h;var yu=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Nl,this.indexArray=new wn,this.indexArray2=new gu,this.programConfigurations=new Jr(s.layers,s.zoom),this.segments=new Re,this.segments2=new Re,this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};yu.prototype.populate=function(s,c,d){this.hasPattern=ep("fill",this.layers,c);for(var k=this.layers[0].layout.get("fill-sort-key"),A=[],I=0,F=s;I<F.length;I+=1){var H=F[I],ee=H.feature,le=H.id,ge=H.index,_e=H.sourceLayerIndex,Te=this.layers[0]._featureFilter.needGeometry,Me=Li(ee,Te);if(this.layers[0]._featureFilter.filter(new Tn(this.zoom),Me,d)){var Qe=k?k.evaluate(Me,{},d,c.availableImages):void 0,tt={id:le,properties:ee.properties,type:ee.type,sourceLayerIndex:_e,index:ge,geometry:Te?Me.geometry:xi(ee),patterns:{},sortKey:Qe};A.push(tt)}}k&&A.sort(function(cr,yr){return cr.sortKey-yr.sortKey});for(var dt=0,lt=A;dt<lt.length;dt+=1){var vt=lt[dt],Ot=vt.geometry,qt=vt.index,Bt=vt.sourceLayerIndex;if(this.hasPattern){var Jt=tp("fill",this.layers,vt,this.zoom,c);this.patternFeatures.push(Jt)}else this.addFeature(vt,Ot,qt,d,{});c.featureIndex.insert(s[qt].feature,Ot,qt,Bt,this.index)}},yu.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},yu.prototype.addFeatures=function(s,c,d){for(var k=0,A=this.patternFeatures;k<A.length;k+=1){var I=A[k];this.addFeature(I,I.geometry,I.index,c,d)}},yu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},yu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},yu.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,sh),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0},yu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},yu.prototype.addFeature=function(s,c,d,k,A){for(var I=0,F=Cg(c,500);I<F.length;I+=1){for(var H=F[I],ee=0,le=0,ge=H;le<ge.length;le+=1)ee+=ge[le].length;for(var _e=this.segments.prepareSegment(ee,this.layoutVertexArray,this.indexArray),Te=_e.vertexLength,Me=[],Qe=[],tt=0,dt=H;tt<dt.length;tt+=1){var lt=dt[tt];if(lt.length!==0){lt!==H[0]&&Qe.push(Me.length/2);var vt=this.segments2.prepareSegment(lt.length,this.layoutVertexArray,this.indexArray2),Ot=vt.vertexLength;this.layoutVertexArray.emplaceBack(lt[0].x,lt[0].y),this.indexArray2.emplaceBack(Ot+lt.length-1,Ot),Me.push(lt[0].x),Me.push(lt[0].y);for(var qt=1;qt<lt.length;qt++)this.layoutVertexArray.emplaceBack(lt[qt].x,lt[qt].y),this.indexArray2.emplaceBack(Ot+qt-1,Ot+qt),Me.push(lt[qt].x),Me.push(lt[qt].y);vt.vertexLength+=lt.length,vt.primitiveLength+=lt.length}}for(var Bt=Vh(Me,Qe),Jt=0;Jt<Bt.length;Jt+=3)this.indexArray.emplaceBack(Te+Bt[Jt],Te+Bt[Jt+1],Te+Bt[Jt+2]);_e.vertexLength+=ee,_e.primitiveLength+=Bt.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,A,k)},Ir("FillBucket",yu,{omit:["layers","patternFeatures"]});var ly=new fa({"fill-sort-key":new Rr(Ie.layout_fill["fill-sort-key"])}),am={paint:new fa({"fill-antialias":new kr(Ie.paint_fill["fill-antialias"]),"fill-opacity":new Rr(Ie.paint_fill["fill-opacity"]),"fill-color":new Rr(Ie.paint_fill["fill-color"]),"fill-outline-color":new Rr(Ie.paint_fill["fill-outline-color"]),"fill-translate":new kr(Ie.paint_fill["fill-translate"]),"fill-translate-anchor":new kr(Ie.paint_fill["fill-translate-anchor"]),"fill-pattern":new Hh(Ie.paint_fill["fill-pattern"])}),layout:ly},fh=function(s){function c(d){s.call(this,d,am)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.recalculate=function(d,k){s.prototype.recalculate.call(this,d,k);var A=this.paint._values["fill-outline-color"];A.value.kind==="constant"&&A.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},c.prototype.createBucket=function(d){return new yu(d)},c.prototype.queryRadius=function(){return ni(this.paint.get("fill-translate"))},c.prototype.queryIntersectsFeature=function(d,k,A,I,F,H,ee){return cs(vu(d,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),H.angle,ee),I)},c.prototype.isTileClipped=function(){return!0},c}(gl),uy=$o([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Yh=zu;function zu(s,c,d,k,A){this.properties={},this.extent=d,this.type=0,this._pbf=s,this._geometry=-1,this._keys=k,this._values=A,s.readFields(cy,this,c)}function cy(s,c,d){s==1?c.id=d.readVarint():s==2?function(k,A){for(var I=k.readVarint()+k.pos;k.pos<I;){var F=A._keys[k.readVarint()],H=A._values[k.readVarint()];A.properties[F]=H}}(d,c):s==3?c.type=d.readVarint():s==4&&(c._geometry=d.pos)}function sm(s){for(var c,d,k=0,A=0,I=s.length,F=I-1;A<I;F=A++)k+=((d=s[F]).x-(c=s[A]).x)*(c.y+d.y);return k}zu.types=["Unknown","Point","LineString","Polygon"],zu.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var c,d=s.readVarint()+s.pos,k=1,A=0,I=0,F=0,H=[];s.pos<d;){if(A<=0){var ee=s.readVarint();k=7&ee,A=ee>>3}if(A--,k===1||k===2)I+=s.readSVarint(),F+=s.readSVarint(),k===1&&(c&&H.push(c),c=[]),c.push(new he(I,F));else{if(k!==7)throw new Error("unknown command "+k);c&&c.push(c[0].clone())}}return c&&H.push(c),H},zu.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var c=s.readVarint()+s.pos,d=1,k=0,A=0,I=0,F=1/0,H=-1/0,ee=1/0,le=-1/0;s.pos<c;){if(k<=0){var ge=s.readVarint();d=7&ge,k=ge>>3}if(k--,d===1||d===2)(A+=s.readSVarint())<F&&(F=A),A>H&&(H=A),(I+=s.readSVarint())<ee&&(ee=I),I>le&&(le=I);else if(d!==7)throw new Error("unknown command "+d)}return[F,ee,H,le]},zu.prototype.toGeoJSON=function(s,c,d){var k,A,I=this.extent*Math.pow(2,d),F=this.extent*s,H=this.extent*c,ee=this.loadGeometry(),le=zu.types[this.type];function ge(Me){for(var Qe=0;Qe<Me.length;Qe++){var tt=Me[Qe];Me[Qe]=[360*(tt.x+F)/I-180,360/Math.PI*Math.atan(Math.exp((180-360*(tt.y+H)/I)*Math.PI/180))-90]}}switch(this.type){case 1:var _e=[];for(k=0;k<ee.length;k++)_e[k]=ee[k][0];ge(ee=_e);break;case 2:for(k=0;k<ee.length;k++)ge(ee[k]);break;case 3:for(ee=function(Me){var Qe=Me.length;if(Qe<=1)return[Me];for(var tt,dt,lt=[],vt=0;vt<Qe;vt++){var Ot=sm(Me[vt]);Ot!==0&&(dt===void 0&&(dt=Ot<0),dt===Ot<0?(tt&&lt.push(tt),tt=[Me[vt]]):tt.push(Me[vt]))}return tt&&lt.push(tt),lt}(ee),k=0;k<ee.length;k++)for(A=0;A<ee[k].length;A++)ge(ee[k][A])}ee.length===1?ee=ee[0]:le="Multi"+le;var Te={type:"Feature",geometry:{type:le,coordinates:ee},properties:this.properties};return"id"in this&&(Te.id=this.id),Te};var uo=fy;function fy(s,c){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(Eg,this,c),this.length=this._features.length}function Eg(s,c,d){s===15?c.version=d.readVarint():s===1?c.name=d.readString():s===5?c.extent=d.readVarint():s===2?c._features.push(d.pos):s===3?c._keys.push(d.readString()):s===4&&c._values.push(function(k){for(var A=null,I=k.readVarint()+k.pos;k.pos<I;){var F=k.readVarint()>>3;A=F===1?k.readString():F===2?k.readFloat():F===3?k.readDouble():F===4?k.readVarint64():F===5?k.readVarint():F===6?k.readSVarint():F===7?k.readBoolean():null}return A}(d))}function Bi(s,c,d){if(s===3){var k=new uo(d,d.readVarint()+d.pos);k.length&&(c[k.name]=k)}}fy.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var c=this._pbf.readVarint()+this._pbf.pos;return new Yh(this._pbf,c,this.extent,this._keys,this._values)};var As={VectorTile:function(s,c){this.layers=s.readFields(Bi,{},c)},VectorTileFeature:Yh,VectorTileLayer:uo},Zh=As.VectorTileFeature.types,Gc=Math.pow(2,13);function Ds(s,c,d,k,A,I,F,H){s.emplaceBack(c,d,2*Math.floor(k*Gc)+F,A*Gc*2,I*Gc*2,Math.round(H))}var Xs=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new ks,this.indexArray=new wn,this.programConfigurations=new Jr(s.layers,s.zoom),this.segments=new Re,this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};function lm(s,c){return s.x===c.x&&(s.x<0||s.x>8192)||s.y===c.y&&(s.y<0||s.y>8192)}Xs.prototype.populate=function(s,c,d){this.features=[],this.hasPattern=ep("fill-extrusion",this.layers,c);for(var k=0,A=s;k<A.length;k+=1){var I=A[k],F=I.feature,H=I.id,ee=I.index,le=I.sourceLayerIndex,ge=this.layers[0]._featureFilter.needGeometry,_e=Li(F,ge);if(this.layers[0]._featureFilter.filter(new Tn(this.zoom),_e,d)){var Te={id:H,sourceLayerIndex:le,index:ee,geometry:ge?_e.geometry:xi(F),properties:F.properties,type:F.type,patterns:{}};this.hasPattern?this.features.push(tp("fill-extrusion",this.layers,Te,this.zoom,c)):this.addFeature(Te,Te.geometry,ee,d,{}),c.featureIndex.insert(F,Te.geometry,ee,le,this.index,!0)}}},Xs.prototype.addFeatures=function(s,c,d){for(var k=0,A=this.features;k<A.length;k+=1){var I=A[k];this.addFeature(I,I.geometry,I.index,c,d)}},Xs.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},Xs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Xs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Xs.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,uy),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0},Xs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Xs.prototype.addFeature=function(s,c,d,k,A){for(var I=0,F=Cg(c,500);I<F.length;I+=1){for(var H=F[I],ee=0,le=0,ge=H;le<ge.length;le+=1)ee+=ge[le].length;for(var _e=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Te=0,Me=H;Te<Me.length;Te+=1){var Qe=Me[Te];if(Qe.length!==0&&!((qn=Qe).every(function(_n){return _n.x<0})||qn.every(function(_n){return _n.x>8192})||qn.every(function(_n){return _n.y<0})||qn.every(function(_n){return _n.y>8192})))for(var tt=0,dt=0;dt<Qe.length;dt++){var lt=Qe[dt];if(dt>=1){var vt=Qe[dt-1];if(!lm(lt,vt)){_e.vertexLength+4>Re.MAX_VERTEX_ARRAY_LENGTH&&(_e=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Ot=lt.sub(vt)._perp()._unit(),qt=vt.dist(lt);tt+qt>32768&&(tt=0),Ds(this.layoutVertexArray,lt.x,lt.y,Ot.x,Ot.y,0,0,tt),Ds(this.layoutVertexArray,lt.x,lt.y,Ot.x,Ot.y,0,1,tt),Ds(this.layoutVertexArray,vt.x,vt.y,Ot.x,Ot.y,0,0,tt+=qt),Ds(this.layoutVertexArray,vt.x,vt.y,Ot.x,Ot.y,0,1,tt);var Bt=_e.vertexLength;this.indexArray.emplaceBack(Bt,Bt+2,Bt+1),this.indexArray.emplaceBack(Bt+1,Bt+2,Bt+3),_e.vertexLength+=4,_e.primitiveLength+=2}}}}if(_e.vertexLength+ee>Re.MAX_VERTEX_ARRAY_LENGTH&&(_e=this.segments.prepareSegment(ee,this.layoutVertexArray,this.indexArray)),Zh[s.type]==="Polygon"){for(var Jt=[],cr=[],yr=_e.vertexLength,Xr=0,Or=H;Xr<Or.length;Xr+=1){var en=Or[Xr];if(en.length!==0){en!==H[0]&&cr.push(Jt.length/2);for(var Pr=0;Pr<en.length;Pr++){var An=en[Pr];Ds(this.layoutVertexArray,An.x,An.y,0,0,1,1,0),Jt.push(An.x),Jt.push(An.y)}}}for(var fn=Vh(Jt,cr),Hr=0;Hr<fn.length;Hr+=3)this.indexArray.emplaceBack(yr+fn[Hr],yr+fn[Hr+2],yr+fn[Hr+1]);_e.primitiveLength+=fn.length/3,_e.vertexLength+=ee}}var qn;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,A,k)},Ir("FillExtrusionBucket",Xs,{omit:["layers","features"]});var Tg={paint:new fa({"fill-extrusion-opacity":new kr(Ie["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Rr(Ie["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new kr(Ie["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new kr(Ie["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Hh(Ie["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Rr(Ie["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Rr(Ie["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new kr(Ie["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ag=function(s){function c(d){s.call(this,d,Tg)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.createBucket=function(d){return new Xs(d)},c.prototype.queryRadius=function(){return ni(this.paint.get("fill-extrusion-translate"))},c.prototype.is3D=function(){return!0},c.prototype.queryIntersectsFeature=function(d,k,A,I,F,H,ee,le){var ge=vu(d,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),H.angle,ee),_e=this.paint.get("fill-extrusion-height").evaluate(k,A),Te=this.paint.get("fill-extrusion-base").evaluate(k,A),Me=function(tt,dt,lt,vt){for(var Ot=[],qt=0,Bt=tt;qt<Bt.length;qt+=1){var Jt=Bt[qt],cr=[Jt.x,Jt.y,0,1];oh(cr,cr,dt),Ot.push(new he(cr[0]/cr[3],cr[1]/cr[3]))}return Ot}(ge,le),Qe=function(tt,dt,lt,vt){for(var Ot=[],qt=[],Bt=vt[8]*dt,Jt=vt[9]*dt,cr=vt[10]*dt,yr=vt[11]*dt,Xr=vt[8]*lt,Or=vt[9]*lt,en=vt[10]*lt,Pr=vt[11]*lt,An=0,fn=tt;An<fn.length;An+=1){for(var Hr=[],qn=[],_n=0,Jn=fn[An];_n<Jn.length;_n+=1){var on=Jn[_n],li=on.x,_o=on.y,Zo=vt[0]*li+vt[4]*_o+vt[12],qo=vt[1]*li+vt[5]*_o+vt[13],wo=vt[2]*li+vt[6]*_o+vt[14],Xo=vt[3]*li+vt[7]*_o+vt[15],Xa=wo+cr,Ja=Xo+yr,xl=Zo+Xr,ps=qo+Or,_l=wo+en,pa=Xo+Pr,ms=new he((Zo+Bt)/Ja,(qo+Jt)/Ja);ms.z=Xa/Ja,Hr.push(ms);var Bn=new he(xl/pa,ps/pa);Bn.z=_l/pa,qn.push(Bn)}Ot.push(Hr),qt.push(qn)}return[Ot,qt]}(I,Te,_e,le);return function(tt,dt,lt){var vt=1/0;cs(lt,dt)&&(vt=Jh(lt,dt[0]));for(var Ot=0;Ot<dt.length;Ot++)for(var qt=dt[Ot],Bt=tt[Ot],Jt=0;Jt<qt.length-1;Jt++){var cr=qt[Jt],yr=[cr,qt[Jt+1],Bt[Jt+1],Bt[Jt],cr];Ka(lt,yr)&&(vt=Math.min(vt,Jh(lt,yr)))}return vt!==1/0&&vt}(Qe[0],Qe[1],Me)},c}(gl);function Xh(s,c){return s.x*c.x+s.y*c.y}function Jh(s,c){if(s.length===1){for(var d,k=0,A=c[k++];!d||A.equals(d);)if(!(d=c[k++]))return 1/0;for(;k<c.length;k++){var I=c[k],F=s[0],H=d.sub(A),ee=I.sub(A),le=F.sub(A),ge=Xh(H,H),_e=Xh(H,ee),Te=Xh(ee,ee),Me=Xh(le,H),Qe=Xh(le,ee),tt=ge*Te-_e*_e,dt=(Te*Me-_e*Qe)/tt,lt=(ge*Qe-_e*Me)/tt,vt=A.z*(1-dt-lt)+d.z*dt+I.z*lt;if(isFinite(vt))return vt}return 1/0}for(var Ot=1/0,qt=0,Bt=c;qt<Bt.length;qt+=1)Ot=Math.min(Ot,Bt[qt].z);return Ot}var Dg=$o([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ri=$o([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,um=As.VectorTileFeature.types,hy=Math.cos(Math.PI/180*37.5),ii=Math.pow(2,14)/.5,Za=function(s){var c=this;this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(d){return d.id}),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(d){c.gradients[d.id]={}}),this.layoutVertexArray=new Va,this.layoutVertexArray2=new mu,this.indexArray=new wn,this.programConfigurations=new Jr(s.layers,s.zoom),this.segments=new Re,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(d){return d.isStateDependent()}).map(function(d){return d.id})};Za.prototype.populate=function(s,c,d){this.hasPattern=ep("line",this.layers,c);for(var k=this.layers[0].layout.get("line-sort-key"),A=[],I=0,F=s;I<F.length;I+=1){var H=F[I],ee=H.feature,le=H.id,ge=H.index,_e=H.sourceLayerIndex,Te=this.layers[0]._featureFilter.needGeometry,Me=Li(ee,Te);if(this.layers[0]._featureFilter.filter(new Tn(this.zoom),Me,d)){var Qe=k?k.evaluate(Me,{},d):void 0,tt={id:le,properties:ee.properties,type:ee.type,sourceLayerIndex:_e,index:ge,geometry:Te?Me.geometry:xi(ee),patterns:{},sortKey:Qe};A.push(tt)}}k&&A.sort(function(cr,yr){return cr.sortKey-yr.sortKey});for(var dt=0,lt=A;dt<lt.length;dt+=1){var vt=lt[dt],Ot=vt.geometry,qt=vt.index,Bt=vt.sourceLayerIndex;if(this.hasPattern){var Jt=tp("line",this.layers,vt,this.zoom,c);this.patternFeatures.push(Jt)}else this.addFeature(vt,Ot,qt,d,{});c.featureIndex.insert(s[qt].feature,Ot,qt,Bt,this.index)}},Za.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},Za.prototype.addFeatures=function(s,c,d){for(var k=0,A=this.patternFeatures;k<A.length;k+=1){var I=A[k];this.addFeature(I,I.geometry,I.index,c,d)}},Za.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Za.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Za.prototype.upload=function(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,Ri)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Dg),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0},Za.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Za.prototype.lineFeatureClips=function(s){if(s.properties&&s.properties.hasOwnProperty("mapbox_clip_start")&&s.properties.hasOwnProperty("mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}},Za.prototype.addFeature=function(s,c,d,k,A){var I=this.layers[0].layout,F=I.get("line-join").evaluate(s,{}),H=I.get("line-cap"),ee=I.get("line-miter-limit"),le=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(var ge=0,_e=c;ge<_e.length;ge+=1)this.addLine(_e[ge],s,F,H,ee,le);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,A,k)},Za.prototype.addLine=function(s,c,d,k,A,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var F=0;F<s.length-1;F++)this.totalDistance+=s[F].dist(s[F+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var H=um[c.type]==="Polygon",ee=s.length;ee>=2&&s[ee-1].equals(s[ee-2]);)ee--;for(var le=0;le<ee-1&&s[le].equals(s[le+1]);)le++;if(!(ee<(H?3:2))){d==="bevel"&&(A=1.05);var ge,_e=this.overscaling<=16?122880/(512*this.overscaling):0,Te=this.segments.prepareSegment(10*ee,this.layoutVertexArray,this.indexArray),Me=void 0,Qe=void 0,tt=void 0,dt=void 0;this.e1=this.e2=-1,H&&(dt=s[le].sub(ge=s[ee-2])._unit()._perp());for(var lt=le;lt<ee;lt++)if(!(Qe=lt===ee-1?H?s[le+1]:void 0:s[lt+1])||!s[lt].equals(Qe)){dt&&(tt=dt),ge&&(Me=ge),ge=s[lt],dt=Qe?Qe.sub(ge)._unit()._perp():tt;var vt=(tt=tt||dt).add(dt);vt.x===0&&vt.y===0||vt._unit();var Ot=tt.x*dt.x+tt.y*dt.y,qt=vt.x*dt.x+vt.y*dt.y,Bt=qt!==0?1/qt:1/0,Jt=2*Math.sqrt(2-2*qt),cr=qt<hy&&Me&&Qe,yr=tt.x*dt.y-tt.y*dt.x>0;if(cr&&lt>le){var Xr=ge.dist(Me);if(Xr>2*_e){var Or=ge.sub(ge.sub(Me)._mult(_e/Xr)._round());this.updateDistance(Me,Or),this.addCurrentVertex(Or,tt,0,0,Te),Me=Or}}var en=Me&&Qe,Pr=en?d:H?"butt":k;if(en&&Pr==="round"&&(Bt<I?Pr="miter":Bt<=2&&(Pr="fakeround")),Pr==="miter"&&Bt>A&&(Pr="bevel"),Pr==="bevel"&&(Bt>2&&(Pr="flipbevel"),Bt<A&&(Pr="miter")),Me&&this.updateDistance(Me,ge),Pr==="miter")vt._mult(Bt),this.addCurrentVertex(ge,vt,0,0,Te);else if(Pr==="flipbevel"){if(Bt>100)vt=dt.mult(-1);else{var An=Bt*tt.add(dt).mag()/tt.sub(dt).mag();vt._perp()._mult(An*(yr?-1:1))}this.addCurrentVertex(ge,vt,0,0,Te),this.addCurrentVertex(ge,vt.mult(-1),0,0,Te)}else if(Pr==="bevel"||Pr==="fakeround"){var fn=-Math.sqrt(Bt*Bt-1),Hr=yr?fn:0,qn=yr?0:fn;if(Me&&this.addCurrentVertex(ge,tt,Hr,qn,Te),Pr==="fakeround")for(var _n=Math.round(180*Jt/Math.PI/20),Jn=1;Jn<_n;Jn++){var on=Jn/_n;if(on!==.5){var li=on-.5;on+=on*li*(on-1)*((1.0904+Ot*(Ot*(3.55645-1.43519*Ot)-3.2452))*li*li+(.848013+Ot*(.215638*Ot-1.06021)))}var _o=dt.sub(tt)._mult(on)._add(tt)._unit()._mult(yr?-1:1);this.addHalfVertex(ge,_o.x,_o.y,!1,yr,0,Te)}Qe&&this.addCurrentVertex(ge,dt,-Hr,-qn,Te)}else if(Pr==="butt")this.addCurrentVertex(ge,vt,0,0,Te);else if(Pr==="square"){var Zo=Me?1:-1;this.addCurrentVertex(ge,vt,Zo,Zo,Te)}else Pr==="round"&&(Me&&(this.addCurrentVertex(ge,tt,0,0,Te),this.addCurrentVertex(ge,tt,1,1,Te,!0)),Qe&&(this.addCurrentVertex(ge,dt,-1,-1,Te,!0),this.addCurrentVertex(ge,dt,0,0,Te)));if(cr&&lt<ee-1){var qo=ge.dist(Qe);if(qo>2*_e){var wo=ge.add(Qe.sub(ge)._mult(_e/qo)._round());this.updateDistance(ge,wo),this.addCurrentVertex(wo,dt,0,0,Te),ge=wo}}}}},Za.prototype.addCurrentVertex=function(s,c,d,k,A,I){I===void 0&&(I=!1);var F=c.y*k-c.x,H=-c.y-c.x*k;this.addHalfVertex(s,c.x+c.y*d,c.y-c.x*d,I,!1,d,A),this.addHalfVertex(s,F,H,I,!0,-k,A),this.distance>ii/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(s,c,d,k,A,I))},Za.prototype.addHalfVertex=function(s,c,d,k,A,I,F){var H=.5*(this.lineClips?this.scaledDistance*(ii-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s.x<<1)+(k?1:0),(s.y<<1)+(A?1:0),Math.round(63*c)+128,Math.round(63*d)+128,1+(I===0?0:I<0?-1:1)|(63&H)<<2,H>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var ee=F.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ee),F.primitiveLength++),A?this.e2=ee:this.e1=ee},Za.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Za.prototype.updateDistance=function(s,c){this.distance+=s.dist(c),this.updateScaledDistance()},Ir("LineBucket",Za,{omit:["layers","patternFeatures"]});var cm=new fa({"line-cap":new kr(Ie.layout_line["line-cap"]),"line-join":new Rr(Ie.layout_line["line-join"]),"line-miter-limit":new kr(Ie.layout_line["line-miter-limit"]),"line-round-limit":new kr(Ie.layout_line["line-round-limit"]),"line-sort-key":new Rr(Ie.layout_line["line-sort-key"])}),hh={paint:new fa({"line-opacity":new Rr(Ie.paint_line["line-opacity"]),"line-color":new Rr(Ie.paint_line["line-color"]),"line-translate":new kr(Ie.paint_line["line-translate"]),"line-translate-anchor":new kr(Ie.paint_line["line-translate-anchor"]),"line-width":new Rr(Ie.paint_line["line-width"]),"line-gap-width":new Rr(Ie.paint_line["line-gap-width"]),"line-offset":new Rr(Ie.paint_line["line-offset"]),"line-blur":new Rr(Ie.paint_line["line-blur"]),"line-dasharray":new ca(Ie.paint_line["line-dasharray"]),"line-pattern":new Hh(Ie.paint_line["line-pattern"]),"line-gradient":new Ws(Ie.paint_line["line-gradient"])}),layout:cm},Fo=new(function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.possiblyEvaluate=function(d,k){return k=new Tn(Math.floor(k.zoom),{now:k.now,fadeDuration:k.fadeDuration,zoomHistory:k.zoomHistory,transition:k.transition}),s.prototype.possiblyEvaluate.call(this,d,k)},c.prototype.evaluate=function(d,k,A,I){return k=re({},k,{zoom:Math.floor(k.zoom)}),s.prototype.evaluate.call(this,d,k,A,I)},c}(Rr))(hh.paint.properties["line-width"].specification);Fo.useIntegerZoom=!0;var fm=function(s){function c(d){s.call(this,d,hh),this.gradientVersion=0}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._handleSpecialPaintPropertyUpdate=function(d){d==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ha,this.gradientVersion=(this.gradientVersion+1)%We)},c.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},c.prototype.recalculate=function(d,k){s.prototype.recalculate.call(this,d,k),this.paint._values["line-floorwidth"]=Fo.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,d)},c.prototype.createBucket=function(d){return new Za(d)},c.prototype.queryRadius=function(d){var k=d,A=dy(Ul("line-width",this,k),Ul("line-gap-width",this,k)),I=Ul("line-offset",this,k);return A/2+Math.abs(I)+ni(this.paint.get("line-translate"))},c.prototype.queryIntersectsFeature=function(d,k,A,I,F,H,ee){var le=vu(d,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),H.angle,ee),ge=ee/2*dy(this.paint.get("line-width").evaluate(k,A),this.paint.get("line-gap-width").evaluate(k,A)),_e=this.paint.get("line-offset").evaluate(k,A);return _e&&(I=function(Te,Me){for(var Qe=[],tt=new he(0,0),dt=0;dt<Te.length;dt++){for(var lt=Te[dt],vt=[],Ot=0;Ot<lt.length;Ot++){var qt=lt[Ot],Bt=lt[Ot+1],Jt=Ot===0?tt:qt.sub(lt[Ot-1])._unit()._perp(),cr=Ot===lt.length-1?tt:Bt.sub(qt)._unit()._perp(),yr=Jt._add(cr)._unit();yr._mult(1/(yr.x*cr.x+yr.y*cr.y)),vt.push(yr._mult(Me)._add(qt))}Qe.push(vt)}return Qe}(I,_e*ee)),function(Te,Me,Qe){for(var tt=0;tt<Me.length;tt++){var dt=Me[tt];if(Te.length>=3){for(var lt=0;lt<dt.length;lt++)if(Es(Te,dt[lt]))return!0}if(Ma(Te,dt,Qe))return!0}return!1}(le,I,ge)},c.prototype.isTileClipped=function(){return!0},c}(gl);function dy(s,c){return c>0?c+2*s:s}var Yo=$o([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),hm=$o([{name:"a_projected_pos",components:3,type:"Float32"}],4),f=($o([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),$o([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),g=($o([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),$o([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),T=$o([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function o(s,c,d){return s.sections.forEach(function(k){k.text=function(A,I,F){var H=I.layout.get("text-transform").evaluate(F,{});return H==="uppercase"?A=A.toLocaleUpperCase():H==="lowercase"&&(A=A.toLocaleLowerCase()),ua.applyArabicShaping&&(A=ua.applyArabicShaping(A)),A}(k.text,c,d)}),s}$o([{name:"triangle",components:3,type:"Uint16"}]),$o([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),$o([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),$o([{type:"Float32",name:"offsetX"}]),$o([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var u={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},p=function(s,c,d,k,A){var I,F,H=8*A-k-1,ee=(1<<H)-1,le=ee>>1,ge=-7,_e=d?A-1:0,Te=d?-1:1,Me=s[c+_e];for(_e+=Te,I=Me&(1<<-ge)-1,Me>>=-ge,ge+=H;ge>0;I=256*I+s[c+_e],_e+=Te,ge-=8);for(F=I&(1<<-ge)-1,I>>=-ge,ge+=k;ge>0;F=256*F+s[c+_e],_e+=Te,ge-=8);if(I===0)I=1-le;else{if(I===ee)return F?NaN:1/0*(Me?-1:1);F+=Math.pow(2,k),I-=le}return(Me?-1:1)*F*Math.pow(2,I-k)},y=function(s,c,d,k,A,I){var F,H,ee,le=8*I-A-1,ge=(1<<le)-1,_e=ge>>1,Te=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,Me=k?0:I-1,Qe=k?1:-1,tt=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(H=isNaN(c)?1:0,F=ge):(F=Math.floor(Math.log(c)/Math.LN2),c*(ee=Math.pow(2,-F))<1&&(F--,ee*=2),(c+=F+_e>=1?Te/ee:Te*Math.pow(2,1-_e))*ee>=2&&(F++,ee/=2),F+_e>=ge?(H=0,F=ge):F+_e>=1?(H=(c*ee-1)*Math.pow(2,A),F+=_e):(H=c*Math.pow(2,_e-1)*Math.pow(2,A),F=0));A>=8;s[d+Me]=255&H,Me+=Qe,H/=256,A-=8);for(F=F<<A|H,le+=A;le>0;s[d+Me]=255&F,Me+=Qe,F/=256,le-=8);s[d+Me-Qe]|=128*tt},w=D;function D(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}D.Varint=0,D.Fixed64=1,D.Bytes=2,D.Fixed32=5;var L=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function j(s){return s.type===D.Bytes?s.readVarint()+s.pos:s.pos+1}function $(s,c,d){return d?4294967296*c+(s>>>0):4294967296*(c>>>0)+(s>>>0)}function te(s,c,d){var k=c<=16383?1:c<=2097151?2:c<=268435455?3:Math.floor(Math.log(c)/(7*Math.LN2));d.realloc(k);for(var A=d.pos-1;A>=s;A--)d.buf[A+k]=d.buf[A]}function ye(s,c){for(var d=0;d<s.length;d++)c.writeVarint(s[d])}function De(s,c){for(var d=0;d<s.length;d++)c.writeSVarint(s[d])}function $e(s,c){for(var d=0;d<s.length;d++)c.writeFloat(s[d])}function Ke(s,c){for(var d=0;d<s.length;d++)c.writeDouble(s[d])}function pt(s,c){for(var d=0;d<s.length;d++)c.writeBoolean(s[d])}function _t(s,c){for(var d=0;d<s.length;d++)c.writeFixed32(s[d])}function At(s,c){for(var d=0;d<s.length;d++)c.writeSFixed32(s[d])}function Nt(s,c){for(var d=0;d<s.length;d++)c.writeFixed64(s[d])}function Xt(s,c){for(var d=0;d<s.length;d++)c.writeSFixed64(s[d])}function $t(s,c){return(s[c]|s[c+1]<<8|s[c+2]<<16)+16777216*s[c+3]}function ir(s,c,d){s[d]=c,s[d+1]=c>>>8,s[d+2]=c>>>16,s[d+3]=c>>>24}function Mr(s,c){return(s[c]|s[c+1]<<8|s[c+2]<<16)+(s[c+3]<<24)}function Nr(s,c,d){s===1&&d.readMessage(nn,c)}function nn(s,c,d){if(s===3){var k=d.readMessage(Nn,{}),A=k.width,I=k.height,F=k.left,H=k.top,ee=k.advance;c.push({id:k.id,bitmap:new sc({width:A+6,height:I+6},k.bitmap),metrics:{width:A,height:I,left:F,top:H,advance:ee}})}}function Nn(s,c,d){s===1?c.id=d.readVarint():s===2?c.bitmap=d.readBytes():s===3?c.width=d.readVarint():s===4?c.height=d.readVarint():s===5?c.left=d.readSVarint():s===6?c.top=d.readSVarint():s===7&&(c.advance=d.readVarint())}function di(s){for(var c=0,d=0,k=0,A=s;k<A.length;k+=1){var I=A[k];c+=I.w*I.h,d=Math.max(d,I.w)}s.sort(function(tt,dt){return dt.h-tt.h});for(var F=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(c/.95)),d),h:1/0}],H=0,ee=0,le=0,ge=s;le<ge.length;le+=1)for(var _e=ge[le],Te=F.length-1;Te>=0;Te--){var Me=F[Te];if(!(_e.w>Me.w||_e.h>Me.h)){if(_e.x=Me.x,_e.y=Me.y,ee=Math.max(ee,_e.y+_e.h),H=Math.max(H,_e.x+_e.w),_e.w===Me.w&&_e.h===Me.h){var Qe=F.pop();Te<F.length&&(F[Te]=Qe)}else _e.h===Me.h?(Me.x+=_e.w,Me.w-=_e.w):_e.w===Me.w?(Me.y+=_e.h,Me.h-=_e.h):(F.push({x:Me.x+_e.w,y:Me.y,w:Me.w-_e.w,h:_e.h}),Me.y+=_e.h,Me.h-=_e.h);break}}return{w:H,h:ee,fill:c/(H*ee)||0}}D.prototype={destroy:function(){this.buf=null},readFields:function(s,c,d){for(d=d||this.length;this.pos<d;){var k=this.readVarint(),A=k>>3,I=this.pos;this.type=7&k,s(A,c,this),this.pos===I&&this.skip(k)}return c},readMessage:function(s,c){return this.readFields(s,c,this.readVarint()+this.pos)},readFixed32:function(){var s=$t(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=Mr(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=$t(this.buf,this.pos)+4294967296*$t(this.buf,this.pos+4);return this.pos+=8,s},readSFixed64:function(){var s=$t(this.buf,this.pos)+4294967296*Mr(this.buf,this.pos+4);return this.pos+=8,s},readFloat:function(){var s=p(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=p(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var c,d,k=this.buf;return c=127&(d=k[this.pos++]),d<128?c:(c|=(127&(d=k[this.pos++]))<<7,d<128?c:(c|=(127&(d=k[this.pos++]))<<14,d<128?c:(c|=(127&(d=k[this.pos++]))<<21,d<128?c:function(A,I,F){var H,ee,le=F.buf;if(H=(112&(ee=le[F.pos++]))>>4,ee<128||(H|=(127&(ee=le[F.pos++]))<<3,ee<128)||(H|=(127&(ee=le[F.pos++]))<<10,ee<128)||(H|=(127&(ee=le[F.pos++]))<<17,ee<128)||(H|=(127&(ee=le[F.pos++]))<<24,ee<128)||(H|=(1&(ee=le[F.pos++]))<<31,ee<128))return $(A,H,I);throw new Error("Expected varint not more than 10 bytes")}(c|=(15&(d=k[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var s=this.readVarint()+this.pos,c=this.pos;return this.pos=s,s-c>=12&&L?function(d,k,A){return L.decode(d.subarray(k,A))}(this.buf,c,s):function(d,k,A){for(var I="",F=k;F<A;){var H,ee,le,ge=d[F],_e=null,Te=ge>239?4:ge>223?3:ge>191?2:1;if(F+Te>A)break;Te===1?ge<128&&(_e=ge):Te===2?(192&(H=d[F+1]))==128&&(_e=(31&ge)<<6|63&H)<=127&&(_e=null):Te===3?(ee=d[F+2],(192&(H=d[F+1]))==128&&(192&ee)==128&&((_e=(15&ge)<<12|(63&H)<<6|63&ee)<=2047||_e>=55296&&_e<=57343)&&(_e=null)):Te===4&&(ee=d[F+2],le=d[F+3],(192&(H=d[F+1]))==128&&(192&ee)==128&&(192&le)==128&&((_e=(15&ge)<<18|(63&H)<<12|(63&ee)<<6|63&le)<=65535||_e>=1114112)&&(_e=null)),_e===null?(_e=65533,Te=1):_e>65535&&(_e-=65536,I+=String.fromCharCode(_e>>>10&1023|55296),_e=56320|1023&_e),I+=String.fromCharCode(_e),F+=Te}return I}(this.buf,c,s)},readBytes:function(){var s=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,s);return this.pos=s,c},readPackedVarint:function(s,c){if(this.type!==D.Bytes)return s.push(this.readVarint(c));var d=j(this);for(s=s||[];this.pos<d;)s.push(this.readVarint(c));return s},readPackedSVarint:function(s){if(this.type!==D.Bytes)return s.push(this.readSVarint());var c=j(this);for(s=s||[];this.pos<c;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==D.Bytes)return s.push(this.readBoolean());var c=j(this);for(s=s||[];this.pos<c;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==D.Bytes)return s.push(this.readFloat());var c=j(this);for(s=s||[];this.pos<c;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==D.Bytes)return s.push(this.readDouble());var c=j(this);for(s=s||[];this.pos<c;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==D.Bytes)return s.push(this.readFixed32());var c=j(this);for(s=s||[];this.pos<c;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==D.Bytes)return s.push(this.readSFixed32());var c=j(this);for(s=s||[];this.pos<c;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==D.Bytes)return s.push(this.readFixed64());var c=j(this);for(s=s||[];this.pos<c;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==D.Bytes)return s.push(this.readSFixed64());var c=j(this);for(s=s||[];this.pos<c;)s.push(this.readSFixed64());return s},skip:function(s){var c=7&s;if(c===D.Varint)for(;this.buf[this.pos++]>127;);else if(c===D.Bytes)this.pos=this.readVarint()+this.pos;else if(c===D.Fixed32)this.pos+=4;else{if(c!==D.Fixed64)throw new Error("Unimplemented type: "+c);this.pos+=8}},writeTag:function(s,c){this.writeVarint(s<<3|c)},realloc:function(s){for(var c=this.length||16;c<this.pos+s;)c*=2;if(c!==this.length){var d=new Uint8Array(c);d.set(this.buf),this.buf=d,this.length=c}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),ir(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),ir(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),ir(this.buf,-1&s,this.pos),ir(this.buf,Math.floor(s*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),ir(this.buf,-1&s,this.pos),ir(this.buf,Math.floor(s*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(c,d){var k,A;if(c>=0?(k=c%4294967296|0,A=c/4294967296|0):(A=~(-c/4294967296),4294967295^(k=~(-c%4294967296))?k=k+1|0:(k=0,A=A+1|0)),c>=18446744073709552e3||c<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(I,F,H){H.buf[H.pos++]=127&I|128,I>>>=7,H.buf[H.pos++]=127&I|128,I>>>=7,H.buf[H.pos++]=127&I|128,I>>>=7,H.buf[H.pos++]=127&I|128,H.buf[H.pos]=127&(I>>>=7)}(k,0,d),function(I,F){var H=(7&I)<<4;F.buf[F.pos++]|=H|((I>>>=3)?128:0),I&&(F.buf[F.pos++]=127&I|((I>>>=7)?128:0),I&&(F.buf[F.pos++]=127&I|((I>>>=7)?128:0),I&&(F.buf[F.pos++]=127&I|((I>>>=7)?128:0),I&&(F.buf[F.pos++]=127&I|((I>>>=7)?128:0),I&&(F.buf[F.pos++]=127&I)))))}(A,d)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(Boolean(s))},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var c=this.pos;this.pos=function(k,A,I){for(var F,H,ee=0;ee<A.length;ee++){if((F=A.charCodeAt(ee))>55295&&F<57344){if(!H){F>56319||ee+1===A.length?(k[I++]=239,k[I++]=191,k[I++]=189):H=F;continue}if(F<56320){k[I++]=239,k[I++]=191,k[I++]=189,H=F;continue}F=H-55296<<10|F-56320|65536,H=null}else H&&(k[I++]=239,k[I++]=191,k[I++]=189,H=null);F<128?k[I++]=F:(F<2048?k[I++]=F>>6|192:(F<65536?k[I++]=F>>12|224:(k[I++]=F>>18|240,k[I++]=F>>12&63|128),k[I++]=F>>6&63|128),k[I++]=63&F|128)}return I}(this.buf,s,this.pos);var d=this.pos-c;d>=128&&te(c,d,this),this.pos=c-1,this.writeVarint(d),this.pos+=d},writeFloat:function(s){this.realloc(4),y(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),y(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var c=s.length;this.writeVarint(c),this.realloc(c);for(var d=0;d<c;d++)this.buf[this.pos++]=s[d]},writeRawMessage:function(s,c){this.pos++;var d=this.pos;s(c,this);var k=this.pos-d;k>=128&&te(d,k,this),this.pos=d-1,this.writeVarint(k),this.pos+=k},writeMessage:function(s,c,d){this.writeTag(s,D.Bytes),this.writeRawMessage(c,d)},writePackedVarint:function(s,c){c.length&&this.writeMessage(s,ye,c)},writePackedSVarint:function(s,c){c.length&&this.writeMessage(s,De,c)},writePackedBoolean:function(s,c){c.length&&this.writeMessage(s,pt,c)},writePackedFloat:function(s,c){c.length&&this.writeMessage(s,$e,c)},writePackedDouble:function(s,c){c.length&&this.writeMessage(s,Ke,c)},writePackedFixed32:function(s,c){c.length&&this.writeMessage(s,_t,c)},writePackedSFixed32:function(s,c){c.length&&this.writeMessage(s,At,c)},writePackedFixed64:function(s,c){c.length&&this.writeMessage(s,Nt,c)},writePackedSFixed64:function(s,c){c.length&&this.writeMessage(s,Xt,c)},writeBytesField:function(s,c){this.writeTag(s,D.Bytes),this.writeBytes(c)},writeFixed32Field:function(s,c){this.writeTag(s,D.Fixed32),this.writeFixed32(c)},writeSFixed32Field:function(s,c){this.writeTag(s,D.Fixed32),this.writeSFixed32(c)},writeFixed64Field:function(s,c){this.writeTag(s,D.Fixed64),this.writeFixed64(c)},writeSFixed64Field:function(s,c){this.writeTag(s,D.Fixed64),this.writeSFixed64(c)},writeVarintField:function(s,c){this.writeTag(s,D.Varint),this.writeVarint(c)},writeSVarintField:function(s,c){this.writeTag(s,D.Varint),this.writeSVarint(c)},writeStringField:function(s,c){this.writeTag(s,D.Bytes),this.writeString(c)},writeFloatField:function(s,c){this.writeTag(s,D.Fixed32),this.writeFloat(c)},writeDoubleField:function(s,c){this.writeTag(s,D.Fixed64),this.writeDouble(c)},writeBooleanField:function(s,c){this.writeVarintField(s,Boolean(c))}};var Cn=function(s,c){var d=c.pixelRatio,k=c.version,A=c.stretchX,I=c.stretchY,F=c.content;this.paddedRect=s,this.pixelRatio=d,this.stretchX=A,this.stretchY=I,this.content=F,this.version=k},ki={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};ki.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},ki.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},ki.tlbr.get=function(){return this.tl.concat(this.br)},ki.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Cn.prototype,ki);var oi=function(s,c){var d={},k={};this.haveRenderCallbacks=[];var A=[];this.addImages(s,d,A),this.addImages(c,k,A);var I=di(A),F=new _a({width:I.w||1,height:I.h||1});for(var H in s){var ee=s[H],le=d[H].paddedRect;_a.copy(ee.data,F,{x:0,y:0},{x:le.x+1,y:le.y+1},ee.data)}for(var ge in c){var _e=c[ge],Te=k[ge].paddedRect,Me=Te.x+1,Qe=Te.y+1,tt=_e.data.width,dt=_e.data.height;_a.copy(_e.data,F,{x:0,y:0},{x:Me,y:Qe},_e.data),_a.copy(_e.data,F,{x:0,y:dt-1},{x:Me,y:Qe-1},{width:tt,height:1}),_a.copy(_e.data,F,{x:0,y:0},{x:Me,y:Qe+dt},{width:tt,height:1}),_a.copy(_e.data,F,{x:tt-1,y:0},{x:Me-1,y:Qe},{width:1,height:dt}),_a.copy(_e.data,F,{x:0,y:0},{x:Me+tt,y:Qe},{width:1,height:dt})}this.image=F,this.iconPositions=d,this.patternPositions=k};oi.prototype.addImages=function(s,c,d){for(var k in s){var A=s[k],I={x:0,y:0,w:A.data.width+2,h:A.data.height+2};d.push(I),c[k]=new Cn(I,A),A.hasRenderCallback&&this.haveRenderCallbacks.push(k)}},oi.prototype.patchUpdatedImages=function(s,c){for(var d in s.dispatchRenderCallbacks(this.haveRenderCallbacks),s.updatedImages)this.patchUpdatedImage(this.iconPositions[d],s.getImage(d),c),this.patchUpdatedImage(this.patternPositions[d],s.getImage(d),c)},oi.prototype.patchUpdatedImage=function(s,c,d){if(s&&c&&s.version!==c.version){s.version=c.version;var k=s.tl;d.update(c.data,void 0,{x:k[0],y:k[1]})}},Ir("ImagePosition",Cn),Ir("ImageAtlas",oi);var bn={horizontal:1,vertical:2,horizontalOnly:3},Wn=function(){this.scale=1,this.fontStack="",this.imageName=null};Wn.forText=function(s,c){var d=new Wn;return d.scale=s||1,d.fontStack=c,d},Wn.forImage=function(s){var c=new Wn;return c.imageName=s,c};var hn=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function ti(s,c,d,k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe,tt){var dt,lt=hn.fromFeature(s,A);_e===bn.vertical&&lt.verticalizePunctuation();var vt=ua.processBidirectionalText,Ot=ua.processStyledBidirectionalText;if(vt&&lt.sections.length===1){dt=[];for(var qt=0,Bt=vt(lt.toString(),Sa(lt,le,I,c,k,Me,Qe));qt<Bt.length;qt+=1){var Jt=Bt[qt],cr=new hn;cr.text=Jt,cr.sections=lt.sections;for(var yr=0;yr<Jt.length;yr++)cr.sectionIndex.push(0);dt.push(cr)}}else if(Ot){dt=[];for(var Xr=0,Or=Ot(lt.text,lt.sectionIndex,Sa(lt,le,I,c,k,Me,Qe));Xr<Or.length;Xr+=1){var en=Or[Xr],Pr=new hn;Pr.text=en[0],Pr.sectionIndex=en[1],Pr.sections=lt.sections,dt.push(Pr)}}else dt=function(Hr,qn){for(var _n=[],Jn=Hr.text,on=0,li=0,_o=qn;li<_o.length;li+=1){var Zo=_o[li];_n.push(Hr.substring(on,Zo)),on=Zo}return on<Jn.length&&_n.push(Hr.substring(on,Jn.length)),_n}(lt,Sa(lt,le,I,c,k,Me,Qe));var An=[],fn={positionedLines:An,text:lt.toString(),top:ge[1],bottom:ge[1],left:ge[0],right:ge[0],writingMode:_e,iconsInText:!1,verticalizable:!1};return function(Hr,qn,_n,Jn,on,li,_o,Zo,qo,wo,Xo,Xa){for(var Ja=0,xl=-17,ps=0,_l=0,pa=Zo==="right"?1:Zo==="left"?0:.5,ms=0,Bn=0,Ui=on;Bn<Ui.length;Bn+=1){var Ii=Ui[Bn];Ii.trim();var ri=Ii.getMaxScale(),Hl=24*(ri-1),Qs={positionedGlyphs:[],lineOffset:0};Hr.positionedLines[ms]=Qs;var fo=Qs.positionedGlyphs,ka=0;if(Ii.length()){for(var el=0;el<Ii.length();el++){var ui=Ii.getSection(el),Qh=Ii.getSectionIndex(el),cc=Ii.getCharCode(el),ed=0,ma=null,td=null,kf=null,xy=24,Pg=!(qo===bn.horizontal||!Xo&&!Fl(cc)||Xo&&(ji[cc]||(ap=cc,pr.Arabic(ap)||pr["Arabic Supplement"](ap)||pr["Arabic Extended-A"](ap)||pr["Arabic Presentation Forms-A"](ap)||pr["Arabic Presentation Forms-B"](ap))));if(ui.imageName){var _y=Jn[ui.imageName];if(!_y)continue;kf=ui.imageName,Hr.iconsInText=Hr.iconsInText||!0,td=_y.paddedRect;var op=_y.displaySize;ui.scale=24*ui.scale/Xa,ed=Hl+(24-op[1]*ui.scale),xy=(ma={width:op[0],height:op[1],left:1,top:-3,advance:Pg?op[1]:op[0]}).advance;var wy=Pg?op[0]*ui.scale-24*ri:op[1]*ui.scale-24*ri;wy>0&&wy>ka&&(ka=wy)}else{var kS=_n[ui.fontStack],Sy=kS&&kS[cc];if(Sy&&Sy.rect)td=Sy.rect,ma=Sy.metrics;else{var ux=qn[ui.fontStack],CS=ux&&ux[cc];if(!CS)continue;ma=CS.metrics}ed=24*(ri-ui.scale)}Pg?(Hr.verticalizable=!0,fo.push({glyph:cc,imageName:kf,x:Ja,y:xl+ed,vertical:Pg,scale:ui.scale,fontStack:ui.fontStack,sectionIndex:Qh,metrics:ma,rect:td}),Ja+=xy*ui.scale+wo):(fo.push({glyph:cc,imageName:kf,x:Ja,y:xl+ed,vertical:Pg,scale:ui.scale,fontStack:ui.fontStack,sectionIndex:Qh,metrics:ma,rect:td}),Ja+=ma.advance*ui.scale+wo)}fo.length!==0&&(ps=Math.max(Ja-wo,ps),Kc(fo,0,fo.length-1,pa,ka)),Ja=0;var ES=li*ri+ka;Qs.lineOffset=Math.max(ka,Hl),xl+=ES,_l=Math.max(ES,_l),++ms}else xl+=li,++ms}var ap,cx=xl- -17,ky=no(_o),pm=ky.horizontalAlign,Cy=ky.verticalAlign;(function(TS,AS,fx,hx,DS,dx,px,mx,OS){var Ey,IS=(AS-fx)*DS;Ey=dx!==px?-mx*hx- -17:(-hx*OS+.5)*px;for(var Ty=0,gx=TS;Ty<gx.length;Ty+=1)for(var Lg=0,vx=gx[Ty].positionedGlyphs;Lg<vx.length;Lg+=1){var Ay=vx[Lg];Ay.x+=IS,Ay.y+=Ey}})(Hr.positionedLines,pa,pm,Cy,ps,_l,li,cx,on.length),Hr.top+=-Cy*cx,Hr.bottom=Hr.top+cx,Hr.left+=-pm*ps,Hr.right=Hr.left+ps}(fn,c,d,k,dt,F,H,ee,_e,le,Te,tt),!function(Hr){for(var qn=0,_n=Hr;qn<_n.length;qn+=1)if(_n[qn].positionedGlyphs.length!==0)return!1;return!0}(An)&&fn}hn.fromFeature=function(s,c){for(var d=new hn,k=0;k<s.sections.length;k++){var A=s.sections[k];A.image?d.addImageSection(A):d.addTextSection(A,c)}return d},hn.prototype.length=function(){return this.text.length},hn.prototype.getSection=function(s){return this.sections[this.sectionIndex[s]]},hn.prototype.getSectionIndex=function(s){return this.sectionIndex[s]},hn.prototype.getCharCode=function(s){return this.text.charCodeAt(s)},hn.prototype.verticalizePunctuation=function(){this.text=function(s){for(var c="",d=0;d<s.length;d++){var k=s.charCodeAt(d+1)||null,A=s.charCodeAt(d-1)||null;c+=k&&ql(k)&&!u[s[d+1]]||A&&ql(A)&&!u[s[d-1]]||!u[s[d]]?s[d]:u[s[d]]}return c}(this.text)},hn.prototype.trim=function(){for(var s=0,c=0;c<this.text.length&&ji[this.text.charCodeAt(c)];c++)s++;for(var d=this.text.length,k=this.text.length-1;k>=0&&k>=s&&ji[this.text.charCodeAt(k)];k--)d--;this.text=this.text.substring(s,d),this.sectionIndex=this.sectionIndex.slice(s,d)},hn.prototype.substring=function(s,c){var d=new hn;return d.text=this.text.substring(s,c),d.sectionIndex=this.sectionIndex.slice(s,c),d.sections=this.sections,d},hn.prototype.toString=function(){return this.text},hn.prototype.getMaxScale=function(){var s=this;return this.sectionIndex.reduce(function(c,d){return Math.max(c,s.sections[d].scale)},0)},hn.prototype.addTextSection=function(s,c){this.text+=s.text,this.sections.push(Wn.forText(s.scale,s.fontStack||c));for(var d=this.sections.length-1,k=0;k<s.text.length;++k)this.sectionIndex.push(d)},hn.prototype.addImageSection=function(s){var c=s.image?s.image.name:"";if(c.length!==0){var d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Wn.forImage(c)),this.sectionIndex.push(this.sections.length-1)):Ht("Reached maximum number of images 6401")}else Ht("Can't add FormattedSection with an empty image.")},hn.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var ji={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Fn={};function Ci(s,c,d,k,A,I){if(c.imageName){var F=k[c.imageName];return F?F.displaySize[0]*c.scale*24/I+A:0}var H=d[c.fontStack],ee=H&&H[s];return ee?ee.metrics.advance*c.scale+A:0}function Os(s,c,d,k){var A=Math.pow(s-c,2);return k?s<c?A/2:2*A:A+Math.abs(d)*d}function co(s,c,d){var k=0;return s===10&&(k-=1e4),d&&(k+=150),s!==40&&s!==65288||(k+=50),c!==41&&c!==65289||(k+=50),k}function wa(s,c,d,k,A,I){for(var F=null,H=Os(c,d,A,I),ee=0,le=k;ee<le.length;ee+=1){var ge=le[ee],_e=Os(c-ge.x,d,A,I)+ge.badness;_e<=H&&(F=ge,H=_e)}return{index:s,x:c,priorBreak:F,badness:H}}function Sa(s,c,d,k,A,I,F){if(I!=="point")return[];if(!s)return[];for(var H,ee=[],le=function(dt,lt,vt,Ot,qt,Bt){for(var Jt=0,cr=0;cr<dt.length();cr++){var yr=dt.getSection(cr);Jt+=Ci(dt.getCharCode(cr),yr,Ot,qt,lt,Bt)}return Jt/Math.max(1,Math.ceil(Jt/vt))}(s,c,d,k,A,F),ge=s.text.indexOf("\u200B")>=0,_e=0,Te=0;Te<s.length();Te++){var Me=s.getSection(Te),Qe=s.getCharCode(Te);if(ji[Qe]||(_e+=Ci(Qe,Me,k,A,c,F)),Te<s.length()-1){var tt=!((H=Qe)<11904||!(pr["Bopomofo Extended"](H)||pr.Bopomofo(H)||pr["CJK Compatibility Forms"](H)||pr["CJK Compatibility Ideographs"](H)||pr["CJK Compatibility"](H)||pr["CJK Radicals Supplement"](H)||pr["CJK Strokes"](H)||pr["CJK Symbols and Punctuation"](H)||pr["CJK Unified Ideographs Extension A"](H)||pr["CJK Unified Ideographs"](H)||pr["Enclosed CJK Letters and Months"](H)||pr["Halfwidth and Fullwidth Forms"](H)||pr.Hiragana(H)||pr["Ideographic Description Characters"](H)||pr["Kangxi Radicals"](H)||pr["Katakana Phonetic Extensions"](H)||pr.Katakana(H)||pr["Vertical Forms"](H)||pr["Yi Radicals"](H)||pr["Yi Syllables"](H)));(Fn[Qe]||tt||Me.imageName)&&ee.push(wa(Te+1,_e,le,ee,co(Qe,s.getCharCode(Te+1),tt&&ge),!1))}}return function dt(lt){return lt?dt(lt.priorBreak).concat(lt.index):[]}(wa(s.length(),_e,le,ee,0,!0))}function no(s){var c=.5,d=.5;switch(s){case"right":case"top-right":case"bottom-right":c=1;break;case"left":case"top-left":case"bottom-left":c=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:c,verticalAlign:d}}function Kc(s,c,d,k,A){if(k||A)for(var I=s[d],F=(s[d].x+I.metrics.advance*I.scale)*k,H=c;H<=d;H++)s[H].x-=F,s[H].y+=A}function bo(s,c,d,k,A,I){var F,H=s.image;if(H.content){var ee=H.content,le=H.pixelRatio||1;F=[ee[0]/le,ee[1]/le,H.displaySize[0]-ee[2]/le,H.displaySize[1]-ee[3]/le]}var ge,_e,Te,Me,Qe=c.left*I,tt=c.right*I;d==="width"||d==="both"?(Me=A[0]+Qe-k[3],_e=A[0]+tt+k[1]):_e=(Me=A[0]+(Qe+tt-H.displaySize[0])/2)+H.displaySize[0];var dt=c.top*I,lt=c.bottom*I;return d==="height"||d==="both"?(ge=A[1]+dt-k[0],Te=A[1]+lt+k[2]):Te=(ge=A[1]+(dt+lt-H.displaySize[1])/2)+H.displaySize[1],{image:H,top:ge,right:_e,bottom:Te,left:Me,collisionPadding:F}}Fn[10]=!0,Fn[32]=!0,Fn[38]=!0,Fn[40]=!0,Fn[41]=!0,Fn[43]=!0,Fn[45]=!0,Fn[47]=!0,Fn[173]=!0,Fn[183]=!0,Fn[8203]=!0,Fn[8208]=!0,Fn[8211]=!0,Fn[8231]=!0;var hs=function(s){function c(d,k,A,I){s.call(this,d,k),this.angle=A,I!==void 0&&(this.segment=I)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.clone=function(){return new c(this.x,this.y,this.angle,this.segment)},c}(he);function Nu(s,c){var d=c.expression;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new Tn(s+1))};if(d.kind==="source")return{kind:"source"};for(var k=d.zoomStops,A=d.interpolationType,I=0;I<k.length&&k[I]<=s;)I++;for(var F=I=Math.max(0,I-1);F<k.length&&k[F]<s+1;)F++;F=Math.min(k.length-1,F);var H=k[I],ee=k[F];return d.kind==="composite"?{kind:"composite",minZoom:H,maxZoom:ee,interpolationType:A}:{kind:"camera",minZoom:H,maxZoom:ee,minSize:d.evaluate(new Tn(H)),maxSize:d.evaluate(new Tn(ee)),interpolationType:A}}function Js(s,c,d){var k=c.uSize,A=d.lowerSize;return s.kind==="source"?A/128:s.kind==="composite"?Ni(A/128,d.upperSize/128,c.uSizeT):k}function rp(s,c){var d=0,k=0;if(s.kind==="constant")k=s.layoutSize;else if(s.kind!=="source"){var A=s.interpolationType,I=A?ae(go.interpolationFactor(A,c,s.minZoom,s.maxZoom),0,1):0;s.kind==="camera"?k=Ni(s.minSize,s.maxSize,I):d=I}return{uSizeT:d,uSize:k}}Ir("Anchor",hs);var ax=Object.freeze({__proto__:null,getSizeData:Nu,evaluateSizeForFeature:Js,evaluateSizeForZoom:rp,SIZE_PACK_FACTOR:128});function jB(s,c,d,k,A){if(c.segment===void 0)return!0;for(var I=c,F=c.segment+1,H=0;H>-d/2;){if(--F<0)return!1;H-=s[F].dist(I),I=s[F]}H+=s[F].dist(s[F+1]),F++;for(var ee=[],le=0;H<d/2;){var ge=s[F],_e=s[F+1];if(!_e)return!1;var Te=s[F-1].angleTo(ge)-ge.angleTo(_e);for(Te=Math.abs((Te+3*Math.PI)%(2*Math.PI)-Math.PI),ee.push({distance:H,angleDelta:Te}),le+=Te;H-ee[0].distance>k;)le-=ee.shift().angleDelta;if(le>A)return!1;F++,H+=ge.dist(_e)}return!0}function UB(s){for(var c=0,d=0;d<s.length-1;d++)c+=s[d].dist(s[d+1]);return c}function HB(s,c,d){return s?.6*c*d:0}function WB(s,c){return Math.max(s?s.right-s.left:0,c?c.right-c.left:0)}function Ibe(s,c,d,k,A,I){for(var F=HB(d,A,I),H=WB(d,k)*I,ee=0,le=UB(s)/2,ge=0;ge<s.length-1;ge++){var _e=s[ge],Te=s[ge+1],Me=_e.dist(Te);if(ee+Me>le){var Qe=(le-ee)/Me,tt=Ni(_e.x,Te.x,Qe),dt=Ni(_e.y,Te.y,Qe),lt=new hs(tt,dt,Te.angleTo(_e),ge);return lt._round(),!F||jB(s,lt,H,F,c)?lt:void 0}ee+=Me}}function Mbe(s,c,d,k,A,I,F,H,ee){var le=HB(k,I,F),ge=WB(k,A),_e=ge*F,Te=s[0].x===0||s[0].x===ee||s[0].y===0||s[0].y===ee;return c-_e<c/4&&(c=_e+c/4),function Me(Qe,tt,dt,lt,vt,Ot,qt,Bt,Jt){for(var cr=Ot/2,yr=UB(Qe),Xr=0,Or=tt-dt,en=[],Pr=0;Pr<Qe.length-1;Pr++){for(var An=Qe[Pr],fn=Qe[Pr+1],Hr=An.dist(fn),qn=fn.angleTo(An);Or+dt<Xr+Hr;){var _n=((Or+=dt)-Xr)/Hr,Jn=Ni(An.x,fn.x,_n),on=Ni(An.y,fn.y,_n);if(Jn>=0&&Jn<Jt&&on>=0&&on<Jt&&Or-cr>=0&&Or+cr<=yr){var li=new hs(Jn,on,qn,Pr);li._round(),lt&&!jB(Qe,li,Ot,lt,vt)||en.push(li)}}Xr+=Hr}return Bt||en.length||qt||(en=Me(Qe,Xr/2,dt,lt,vt,Ot,qt,!0,Jt)),en}(s,Te?c/2*H%c:(ge/2+2*I)*F*H%c,c,le,d,_e,Te,!1,ee)}function VB(s,c,d,k,A){for(var I=[],F=0;F<s.length;F++)for(var H=s[F],ee=void 0,le=0;le<H.length-1;le++){var ge=H[le],_e=H[le+1];ge.x<c&&_e.x<c||(ge.x<c?ge=new he(c,ge.y+(c-ge.x)/(_e.x-ge.x)*(_e.y-ge.y))._round():_e.x<c&&(_e=new he(c,ge.y+(c-ge.x)/(_e.x-ge.x)*(_e.y-ge.y))._round()),ge.y<d&&_e.y<d||(ge.y<d?ge=new he(ge.x+(d-ge.y)/(_e.y-ge.y)*(_e.x-ge.x),d)._round():_e.y<d&&(_e=new he(ge.x+(d-ge.y)/(_e.y-ge.y)*(_e.x-ge.x),d)._round()),ge.x>=k&&_e.x>=k||(ge.x>=k?ge=new he(k,ge.y+(k-ge.x)/(_e.x-ge.x)*(_e.y-ge.y))._round():_e.x>=k&&(_e=new he(k,ge.y+(k-ge.x)/(_e.x-ge.x)*(_e.y-ge.y))._round()),ge.y>=A&&_e.y>=A||(ge.y>=A?ge=new he(ge.x+(A-ge.y)/(_e.y-ge.y)*(_e.x-ge.x),A)._round():_e.y>=A&&(_e=new he(ge.x+(A-ge.y)/(_e.y-ge.y)*(_e.x-ge.x),A)._round()),ee&&ge.equals(ee[ee.length-1])||I.push(ee=[ge]),ee.push(_e)))))}return I}function $B(s,c,d,k){var A=[],I=s.image,F=I.pixelRatio,H=I.paddedRect.w-2,ee=I.paddedRect.h-2,le=s.right-s.left,ge=s.bottom-s.top,_e=I.stretchX||[[0,H]],Te=I.stretchY||[[0,ee]],Me=function(Jn,on){return Jn+on[1]-on[0]},Qe=_e.reduce(Me,0),tt=Te.reduce(Me,0),dt=H-Qe,lt=ee-tt,vt=0,Ot=Qe,qt=0,Bt=tt,Jt=0,cr=dt,yr=0,Xr=lt;if(I.content&&k){var Or=I.content;vt=gS(_e,0,Or[0]),qt=gS(Te,0,Or[1]),Ot=gS(_e,Or[0],Or[2]),Bt=gS(Te,Or[1],Or[3]),Jt=Or[0]-vt,yr=Or[1]-qt,cr=Or[2]-Or[0]-Ot,Xr=Or[3]-Or[1]-Bt}var en=function(Jn,on,li,_o){var Zo=vS(Jn.stretch-vt,Ot,le,s.left),qo=yS(Jn.fixed-Jt,cr,Jn.stretch,Qe),wo=vS(on.stretch-qt,Bt,ge,s.top),Xo=yS(on.fixed-yr,Xr,on.stretch,tt),Xa=vS(li.stretch-vt,Ot,le,s.left),Ja=yS(li.fixed-Jt,cr,li.stretch,Qe),xl=vS(_o.stretch-qt,Bt,ge,s.top),ps=yS(_o.fixed-yr,Xr,_o.stretch,tt),_l=new he(Zo,wo),pa=new he(Xa,wo),ms=new he(Xa,xl),Bn=new he(Zo,xl),Ui=new he(qo/F,Xo/F),Ii=new he(Ja/F,ps/F),ri=c*Math.PI/180;if(ri){var Hl=Math.sin(ri),Qs=Math.cos(ri),fo=[Qs,-Hl,Hl,Qs];_l._matMult(fo),pa._matMult(fo),Bn._matMult(fo),ms._matMult(fo)}var ka=Jn.stretch+Jn.fixed,el=on.stretch+on.fixed;return{tl:_l,tr:pa,bl:Bn,br:ms,tex:{x:I.paddedRect.x+1+ka,y:I.paddedRect.y+1+el,w:li.stretch+li.fixed-ka,h:_o.stretch+_o.fixed-el},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ui,pixelOffsetBR:Ii,minFontScaleX:cr/F/le,minFontScaleY:Xr/F/ge,isSDF:d}};if(k&&(I.stretchX||I.stretchY))for(var Pr=GB(_e,dt,Qe),An=GB(Te,lt,tt),fn=0;fn<Pr.length-1;fn++)for(var Hr=Pr[fn],qn=Pr[fn+1],_n=0;_n<An.length-1;_n++)A.push(en(Hr,An[_n],qn,An[_n+1]));else A.push(en({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:H+1},{fixed:0,stretch:ee+1}));return A}function gS(s,c,d){for(var k=0,A=0,I=s;A<I.length;A+=1){var F=I[A];k+=Math.max(c,Math.min(d,F[1]))-Math.max(c,Math.min(d,F[0]))}return k}function GB(s,c,d){for(var k=[{fixed:-1,stretch:0}],A=0,I=s;A<I.length;A+=1){var F=I[A],H=F[0],ee=F[1],le=k[k.length-1];k.push({fixed:H-le.stretch,stretch:le.stretch}),k.push({fixed:H-le.stretch,stretch:le.stretch+(ee-H)})}return k.push({fixed:c+1,stretch:d}),k}function vS(s,c,d,k){return s/c*d+k}function yS(s,c,d,k){return s-c*d/k}var bS=function(s,c,d,k,A,I,F,H,ee,le){if(this.boxStartIndex=s.length,ee){var ge=I.top,_e=I.bottom,Te=I.collisionPadding;Te&&(ge-=Te[1],_e+=Te[3]);var Me=_e-ge;Me>0&&(Me=Math.max(10,Me),this.circleDiameter=Me)}else{var Qe=I.top*F-H,tt=I.bottom*F+H,dt=I.left*F-H,lt=I.right*F+H,vt=I.collisionPadding;if(vt&&(dt-=vt[0]*F,Qe-=vt[1]*F,lt+=vt[2]*F,tt+=vt[3]*F),le){var Ot=new he(dt,Qe),qt=new he(lt,Qe),Bt=new he(dt,tt),Jt=new he(lt,tt),cr=le*Math.PI/180;Ot._rotate(cr),qt._rotate(cr),Bt._rotate(cr),Jt._rotate(cr),dt=Math.min(Ot.x,qt.x,Bt.x,Jt.x),lt=Math.max(Ot.x,qt.x,Bt.x,Jt.x),Qe=Math.min(Ot.y,qt.y,Bt.y,Jt.y),tt=Math.max(Ot.y,qt.y,Bt.y,Jt.y)}s.emplaceBack(c.x,c.y,dt,Qe,lt,tt,d,k,A)}this.boxEndIndex=s.length},py=function(s,c){if(s===void 0&&(s=[]),c===void 0&&(c=Pbe),this.data=s,this.length=this.data.length,this.compare=c,this.length>0)for(var d=(this.length>>1)-1;d>=0;d--)this._down(d)};function Pbe(s,c){return s<c?-1:s>c?1:0}function Lbe(s,c,d){c===void 0&&(c=1),d===void 0&&(d=!1);for(var k=1/0,A=1/0,I=-1/0,F=-1/0,H=s[0],ee=0;ee<H.length;ee++){var le=H[ee];(!ee||le.x<k)&&(k=le.x),(!ee||le.y<A)&&(A=le.y),(!ee||le.x>I)&&(I=le.x),(!ee||le.y>F)&&(F=le.y)}var ge=Math.min(I-k,F-A),_e=ge/2,Te=new py([],Rbe);if(ge===0)return new he(k,A);for(var Me=k;Me<I;Me+=ge)for(var Qe=A;Qe<F;Qe+=ge)Te.push(new my(Me+_e,Qe+_e,_e,s));for(var tt=function(vt){for(var Ot=0,qt=0,Bt=0,Jt=vt[0],cr=0,yr=Jt.length,Xr=yr-1;cr<yr;Xr=cr++){var Or=Jt[cr],en=Jt[Xr],Pr=Or.x*en.y-en.x*Or.y;qt+=(Or.x+en.x)*Pr,Bt+=(Or.y+en.y)*Pr,Ot+=3*Pr}return new my(qt/Ot,Bt/Ot,0,vt)}(s),dt=Te.length;Te.length;){var lt=Te.pop();(lt.d>tt.d||!tt.d)&&(tt=lt,d&&console.log("found best %d after %d probes",Math.round(1e4*lt.d)/1e4,dt)),lt.max-tt.d<=c||(Te.push(new my(lt.p.x-(_e=lt.h/2),lt.p.y-_e,_e,s)),Te.push(new my(lt.p.x+_e,lt.p.y-_e,_e,s)),Te.push(new my(lt.p.x-_e,lt.p.y+_e,_e,s)),Te.push(new my(lt.p.x+_e,lt.p.y+_e,_e,s)),dt+=4)}return d&&(console.log("num probes: "+dt),console.log("best distance: "+tt.d)),tt.p}function Rbe(s,c){return c.max-s.max}function my(s,c,d,k){this.p=new he(s,c),this.h=d,this.d=function(A,I){for(var F=!1,H=1/0,ee=0;ee<I.length;ee++)for(var le=I[ee],ge=0,_e=le.length,Te=_e-1;ge<_e;Te=ge++){var Me=le[ge],Qe=le[Te];Me.y>A.y!=Qe.y>A.y&&A.x<(Qe.x-Me.x)*(A.y-Me.y)/(Qe.y-Me.y)+Me.x&&(F=!F),H=Math.min(H,Ys(A,Me,Qe))}return(F?1:-1)*Math.sqrt(H)}(this.p,k),this.max=this.d+this.h*Math.SQRT2}py.prototype.push=function(s){this.data.push(s),this.length++,this._up(this.length-1)},py.prototype.pop=function(){if(this.length!==0){var s=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),s}},py.prototype.peek=function(){return this.data[0]},py.prototype._up=function(s){for(var c=this.data,d=this.compare,k=c[s];s>0;){var A=s-1>>1,I=c[A];if(d(k,I)>=0)break;c[s]=I,s=A}c[s]=k},py.prototype._down=function(s){for(var c=this.data,d=this.compare,k=this.length>>1,A=c[s];s<k;){var I=1+(s<<1),F=c[I],H=I+1;if(H<this.length&&d(c[H],F)<0&&(I=H,F=c[H]),d(F,A)>=0)break;c[s]=F,s=I}c[s]=A};var kD=Number.POSITIVE_INFINITY;function KB(s,c){return c[1]!==kD?function(d,k,A){var I=0,F=0;switch(k=Math.abs(k),A=Math.abs(A),d){case"top-right":case"top-left":case"top":F=A-7;break;case"bottom-right":case"bottom-left":case"bottom":F=7-A}switch(d){case"top-right":case"bottom-right":case"right":I=-k;break;case"top-left":case"bottom-left":case"left":I=k}return[I,F]}(s,c[0],c[1]):function(d,k){var A=0,I=0;k<0&&(k=0);var F=k/Math.sqrt(2);switch(d){case"top-right":case"top-left":I=F-7;break;case"bottom-right":case"bottom-left":I=7-F;break;case"bottom":I=7-k;break;case"top":I=k-7}switch(d){case"top-right":case"bottom-right":A=-F;break;case"top-left":case"bottom-left":A=F;break;case"left":A=k;break;case"right":A=-k}return[A,I]}(s,c[0])}function CD(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function YB(s,c,d,k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe){var tt=function(qt,Bt,Jt,cr,yr,Xr,Or,en){for(var Pr=cr.layout.get("text-rotate").evaluate(Xr,{})*Math.PI/180,An=[],fn=0,Hr=Bt.positionedLines;fn<Hr.length;fn+=1)for(var qn=Hr[fn],_n=0,Jn=qn.positionedGlyphs;_n<Jn.length;_n+=1){var on=Jn[_n];if(on.rect){var li=on.rect||{},_o=4,Zo=!0,qo=1,wo=0,Xo=(yr||en)&&on.vertical,Xa=on.metrics.advance*on.scale/2;if(en&&Bt.verticalizable&&(wo=qn.lineOffset/2-(on.imageName?-(24-on.metrics.width*on.scale)/2:24*(on.scale-1))),on.imageName){var Ja=Or[on.imageName];Zo=Ja.sdf,_o=1/(qo=Ja.pixelRatio)}var xl=yr?[on.x+Xa,on.y]:[0,0],ps=yr?[0,0]:[on.x+Xa+Jt[0],on.y+Jt[1]-wo],_l=[0,0];Xo&&(_l=ps,ps=[0,0]);var pa=(on.metrics.left-_o)*on.scale-Xa+ps[0],ms=(-on.metrics.top-_o)*on.scale+ps[1],Bn=pa+li.w*on.scale/qo,Ui=ms+li.h*on.scale/qo,Ii=new he(pa,ms),ri=new he(Bn,ms),Hl=new he(pa,Ui),Qs=new he(Bn,Ui);if(Xo){var fo=new he(-Xa,Xa- -17),ka=-Math.PI/2,el=12-Xa,ui=new he(22-el,-(on.imageName?el:0)),Qh=new(Function.prototype.bind.apply(he,[null].concat(_l)));Ii._rotateAround(ka,fo)._add(ui)._add(Qh),ri._rotateAround(ka,fo)._add(ui)._add(Qh),Hl._rotateAround(ka,fo)._add(ui)._add(Qh),Qs._rotateAround(ka,fo)._add(ui)._add(Qh)}if(Pr){var cc=Math.sin(Pr),ed=Math.cos(Pr),ma=[ed,-cc,cc,ed];Ii._matMult(ma),ri._matMult(ma),Hl._matMult(ma),Qs._matMult(ma)}var td=new he(0,0),kf=new he(0,0);An.push({tl:Ii,tr:ri,bl:Hl,br:Qs,tex:li,writingMode:Bt.writingMode,glyphOffset:xl,sectionIndex:on.sectionIndex,isSDF:Zo,pixelOffsetTL:td,pixelOffsetBR:kf,minFontScaleX:0,minFontScaleY:0})}}return An}(0,d,H,A,I,F,k,s.allowVerticalPlacement),dt=s.textSizeData,lt=null;dt.kind==="source"?(lt=[128*A.layout.get("text-size").evaluate(F,{})])[0]>32640&&Ht(s.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):dt.kind==="composite"&&((lt=[128*Me.compositeTextSizes[0].evaluate(F,{},Qe),128*Me.compositeTextSizes[1].evaluate(F,{},Qe)])[0]>32640||lt[1]>32640)&&Ht(s.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),s.addSymbols(s.text,tt,lt,H,I,F,le,c,ee.lineStartIndex,ee.lineLength,Te,Qe);for(var vt=0,Ot=ge;vt<Ot.length;vt+=1)_e[Ot[vt]]=s.text.placedSymbolArray.length-1;return 4*tt.length}function ZB(s){for(var c in s)return s[c];return null}function Fbe(s,c,d,k){var A=s.compareText;if(c in A){for(var I=A[c],F=I.length-1;F>=0;F--)if(k.dist(I[F])<d)return!0}else A[c]=[];return A[c].push(k),!1}var qbe=As.VectorTileFeature.types,zbe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function xS(s,c,d,k,A,I,F,H,ee,le,ge,_e,Te){var Me=H?Math.min(32640,Math.round(H[0])):0,Qe=H?Math.min(32640,Math.round(H[1])):0;s.emplaceBack(c,d,Math.round(32*k),Math.round(32*A),I,F,(Me<<1)+(ee?1:0),Qe,16*le,16*ge,256*_e,256*Te)}function ED(s,c,d){s.emplaceBack(c.x,c.y,d),s.emplaceBack(c.x,c.y,d),s.emplaceBack(c.x,c.y,d),s.emplaceBack(c.x,c.y,d)}function Nbe(s){for(var c=0,d=s.sections;c<d.length;c+=1)if(Hs(d[c].text))return!0;return!1}var gy=function(s){this.layoutVertexArray=new nh,this.indexArray=new wn,this.programConfigurations=s,this.segments=new Re,this.dynamicLayoutVertexArray=new Ru,this.opacityVertexArray=new Cs,this.placedSymbolArray=new C};gy.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},gy.prototype.upload=function(s,c,d,k){this.isEmpty()||(d&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Yo.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,hm.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,zbe,!0),this.opacityVertexBuffer.itemSize=1),(d||k)&&this.programConfigurations.upload(s))},gy.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ir("SymbolBuffers",gy);var sx=function(s,c,d){this.layoutVertexArray=new s,this.layoutAttributes=c,this.indexArray=new d,this.segments=new Re,this.collisionVertexArray=new To};sx.prototype.upload=function(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,f.members,!0)},sx.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ir("CollisionBuffers",sx);var Fi=function(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ts([]),this.placementViewportMatrix=Ts([]);var c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Nu(this.zoom,c["text-size"]),this.iconSizeData=Nu(this.zoom,c["icon-size"]);var d=this.layers[0].layout,k=d.get("symbol-sort-key"),A=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=A!=="viewport-y"&&k.constantOr(1)!==void 0,this.sortFeaturesByY=(A==="viewport-y"||A==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(function(I){return bn[I]})),this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id}),this.sourceID=s.sourceID};Fi.prototype.createArrays=function(){this.text=new gy(new Jr(this.layers,this.zoom,function(s){return/^text/.test(s)})),this.icon=new gy(new Jr(this.layers,this.zoom,function(s){return/^icon/.test(s)})),this.glyphOffsetArray=new U,this.lineVertexArray=new X,this.symbolInstances=new B},Fi.prototype.calculateGlyphDependencies=function(s,c,d,k,A){for(var I=0;I<s.length;I++)if(c[s.charCodeAt(I)]=!0,(d||k)&&A){var F=u[s.charAt(I)];F&&(c[F.charCodeAt(0)]=!0)}},Fi.prototype.populate=function(s,c,d){var k=this.layers[0],A=k.layout,I=A.get("text-font"),F=A.get("text-field"),H=A.get("icon-image"),ee=(F.value.kind!=="constant"||F.value.value instanceof Pn&&!F.value.value.isEmpty()||F.value.value.toString().length>0)&&(I.value.kind!=="constant"||I.value.value.length>0),le=H.value.kind!=="constant"||!!H.value.value||Object.keys(H.parameters).length>0,ge=A.get("symbol-sort-key");if(this.features=[],ee||le){for(var _e=c.iconDependencies,Te=c.glyphDependencies,Me=c.availableImages,Qe=new Tn(this.zoom),tt=0,dt=s;tt<dt.length;tt+=1){var lt=dt[tt],vt=lt.feature,Ot=lt.id,qt=lt.index,Bt=lt.sourceLayerIndex,Jt=k._featureFilter.needGeometry,cr=Li(vt,Jt);if(k._featureFilter.filter(Qe,cr,d)){Jt||(cr.geometry=xi(vt));var yr=void 0;if(ee){var Xr=k.getValueAndResolveTokens("text-field",cr,d,Me),Or=Pn.factory(Xr);Nbe(Or)&&(this.hasRTLText=!0),(!this.hasRTLText||Yd()==="unavailable"||this.hasRTLText&&ua.isParsed())&&(yr=o(Or,k,cr))}var en=void 0;if(le){var Pr=k.getValueAndResolveTokens("icon-image",cr,d,Me);en=Pr instanceof fi?Pr:fi.fromString(Pr)}if(yr||en){var An=this.sortFeaturesByKey?ge.evaluate(cr,{},d):void 0;if(this.features.push({id:Ot,text:yr,icon:en,index:qt,sourceLayerIndex:Bt,geometry:cr.geometry,properties:vt.properties,type:qbe[vt.type],sortKey:An}),en&&(_e[en.name]=!0),yr){var fn=I.evaluate(cr,{},d).join(","),Hr=A.get("text-rotation-alignment")==="map"&&A.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(bn.vertical)>=0;for(var qn=0,_n=yr.sections;qn<_n.length;qn+=1){var Jn=_n[qn];if(Jn.image)_e[Jn.image.name]=!0;else{var on=Hc(yr.toString()),li=Jn.fontStack||fn,_o=Te[li]=Te[li]||{};this.calculateGlyphDependencies(Jn.text,_o,Hr,this.allowVerticalPlacement,on)}}}}}}A.get("symbol-placement")==="line"&&(this.features=function(Zo){var qo={},wo={},Xo=[],Xa=0;function Ja(fo){Xo.push(Zo[fo]),Xa++}function xl(fo,ka,el){var ui=wo[fo];return delete wo[fo],wo[ka]=ui,Xo[ui].geometry[0].pop(),Xo[ui].geometry[0]=Xo[ui].geometry[0].concat(el[0]),ui}function ps(fo,ka,el){var ui=qo[ka];return delete qo[ka],qo[fo]=ui,Xo[ui].geometry[0].shift(),Xo[ui].geometry[0]=el[0].concat(Xo[ui].geometry[0]),ui}function _l(fo,ka,el){var ui=el?ka[0][ka[0].length-1]:ka[0][0];return fo+":"+ui.x+":"+ui.y}for(var pa=0;pa<Zo.length;pa++){var ms=Zo[pa],Bn=ms.geometry,Ui=ms.text?ms.text.toString():null;if(Ui){var Ii=_l(Ui,Bn),ri=_l(Ui,Bn,!0);if(Ii in wo&&ri in qo&&wo[Ii]!==qo[ri]){var Hl=ps(Ii,ri,Bn),Qs=xl(Ii,ri,Xo[Hl].geometry);delete qo[Ii],delete wo[ri],wo[_l(Ui,Xo[Qs].geometry,!0)]=Qs,Xo[Hl].geometry=null}else Ii in wo?xl(Ii,ri,Bn):ri in qo?ps(Ii,ri,Bn):(Ja(pa),qo[Ii]=Xa-1,wo[ri]=Xa-1)}else Ja(pa)}return Xo.filter(function(fo){return fo.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Zo,qo){return Zo.sortKey-qo.sortKey})}},Fi.prototype.update=function(s,c,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,c,this.layers,d),this.icon.programConfigurations.updatePaintArrays(s,c,this.layers,d))},Fi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Fi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Fi.prototype.upload=function(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Fi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Fi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Fi.prototype.addToLineVertexArray=function(s,c){var d=this.lineVertexArray.length;if(s.segment!==void 0){for(var k=s.dist(c[s.segment+1]),A=s.dist(c[s.segment]),I={},F=s.segment+1;F<c.length;F++)I[F]={x:c[F].x,y:c[F].y,tileUnitDistanceFromAnchor:k},F<c.length-1&&(k+=c[F+1].dist(c[F]));for(var H=s.segment||0;H>=0;H--)I[H]={x:c[H].x,y:c[H].y,tileUnitDistanceFromAnchor:A},H>0&&(A+=c[H-1].dist(c[H]));for(var ee=0;ee<c.length;ee++){var le=I[ee];this.lineVertexArray.emplaceBack(le.x,le.y,le.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}},Fi.prototype.addSymbols=function(s,c,d,k,A,I,F,H,ee,le,ge,_e){for(var Te=s.indexArray,Me=s.layoutVertexArray,Qe=s.segments.prepareSegment(4*c.length,Me,Te,this.canOverlap?I.sortKey:void 0),tt=this.glyphOffsetArray.length,dt=Qe.vertexLength,lt=this.allowVerticalPlacement&&F===bn.vertical?Math.PI/2:0,vt=I.text&&I.text.sections,Ot=0;Ot<c.length;Ot++){var qt=c[Ot],Bt=qt.tl,Jt=qt.tr,cr=qt.bl,yr=qt.br,Xr=qt.tex,Or=qt.pixelOffsetTL,en=qt.pixelOffsetBR,Pr=qt.minFontScaleX,An=qt.minFontScaleY,fn=qt.glyphOffset,Hr=qt.isSDF,qn=qt.sectionIndex,_n=Qe.vertexLength,Jn=fn[1];xS(Me,H.x,H.y,Bt.x,Jn+Bt.y,Xr.x,Xr.y,d,Hr,Or.x,Or.y,Pr,An),xS(Me,H.x,H.y,Jt.x,Jn+Jt.y,Xr.x+Xr.w,Xr.y,d,Hr,en.x,Or.y,Pr,An),xS(Me,H.x,H.y,cr.x,Jn+cr.y,Xr.x,Xr.y+Xr.h,d,Hr,Or.x,en.y,Pr,An),xS(Me,H.x,H.y,yr.x,Jn+yr.y,Xr.x+Xr.w,Xr.y+Xr.h,d,Hr,en.x,en.y,Pr,An),ED(s.dynamicLayoutVertexArray,H,lt),Te.emplaceBack(_n,_n+1,_n+2),Te.emplaceBack(_n+1,_n+2,_n+3),Qe.vertexLength+=4,Qe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(fn[0]),Ot!==c.length-1&&qn===c[Ot+1].sectionIndex||s.programConfigurations.populatePaintArrays(Me.length,I,I.index,{},_e,vt&&vt[qn])}s.placedSymbolArray.emplaceBack(H.x,H.y,tt,this.glyphOffsetArray.length-tt,dt,ee,le,H.segment,d?d[0]:0,d?d[1]:0,k[0],k[1],F,0,!1,0,ge)},Fi.prototype._addCollisionDebugVertex=function(s,c,d,k,A,I){return c.emplaceBack(0,0),s.emplaceBack(d.x,d.y,k,A,Math.round(I.x),Math.round(I.y))},Fi.prototype.addCollisionDebugVertices=function(s,c,d,k,A,I,F){var H=A.segments.prepareSegment(4,A.layoutVertexArray,A.indexArray),ee=H.vertexLength,le=A.layoutVertexArray,ge=A.collisionVertexArray,_e=F.anchorX,Te=F.anchorY;this._addCollisionDebugVertex(le,ge,I,_e,Te,new he(s,c)),this._addCollisionDebugVertex(le,ge,I,_e,Te,new he(d,c)),this._addCollisionDebugVertex(le,ge,I,_e,Te,new he(d,k)),this._addCollisionDebugVertex(le,ge,I,_e,Te,new he(s,k)),H.vertexLength+=4;var Me=A.indexArray;Me.emplaceBack(ee,ee+1),Me.emplaceBack(ee+1,ee+2),Me.emplaceBack(ee+2,ee+3),Me.emplaceBack(ee+3,ee),H.primitiveLength+=4},Fi.prototype.addDebugCollisionBoxes=function(s,c,d,k){for(var A=s;A<c;A++){var I=this.collisionBoxArray.get(A);this.addCollisionDebugVertices(I.x1,I.y1,I.x2,I.y2,k?this.textCollisionBox:this.iconCollisionBox,I.anchorPoint,d)}},Fi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new sx(Gn,g.members,gu),this.iconCollisionBox=new sx(Gn,g.members,gu);for(var s=0;s<this.symbolInstances.length;s++){var c=this.symbolInstances.get(s);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}},Fi.prototype._deserializeCollisionBoxesForSymbol=function(s,c,d,k,A,I,F,H,ee){for(var le={},ge=c;ge<d;ge++){var _e=s.get(ge);le.textBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},le.textFeatureIndex=_e.featureIndex;break}for(var Te=k;Te<A;Te++){var Me=s.get(Te);le.verticalTextBox={x1:Me.x1,y1:Me.y1,x2:Me.x2,y2:Me.y2,anchorPointX:Me.anchorPointX,anchorPointY:Me.anchorPointY},le.verticalTextFeatureIndex=Me.featureIndex;break}for(var Qe=I;Qe<F;Qe++){var tt=s.get(Qe);le.iconBox={x1:tt.x1,y1:tt.y1,x2:tt.x2,y2:tt.y2,anchorPointX:tt.anchorPointX,anchorPointY:tt.anchorPointY},le.iconFeatureIndex=tt.featureIndex;break}for(var dt=H;dt<ee;dt++){var lt=s.get(dt);le.verticalIconBox={x1:lt.x1,y1:lt.y1,x2:lt.x2,y2:lt.y2,anchorPointX:lt.anchorPointX,anchorPointY:lt.anchorPointY},le.verticalIconFeatureIndex=lt.featureIndex;break}return le},Fi.prototype.deserializeCollisionBoxes=function(s){this.collisionArrays=[];for(var c=0;c<this.symbolInstances.length;c++){var d=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}},Fi.prototype.hasTextData=function(){return this.text.segments.get().length>0},Fi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Fi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Fi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Fi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Fi.prototype.addIndicesForPlacedSymbol=function(s,c){for(var d=s.placedSymbolArray.get(c),k=d.vertexStartIndex+4*d.numGlyphs,A=d.vertexStartIndex;A<k;A+=4)s.indexArray.emplaceBack(A,A+1,A+2),s.indexArray.emplaceBack(A+1,A+2,A+3)},Fi.prototype.getSortedSymbolIndexes=function(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var c=Math.sin(s),d=Math.cos(s),k=[],A=[],I=[],F=0;F<this.symbolInstances.length;++F){I.push(F);var H=this.symbolInstances.get(F);k.push(0|Math.round(c*H.anchorX+d*H.anchorY)),A.push(H.featureIndex)}return I.sort(function(ee,le){return k[ee]-k[le]||A[le]-A[ee]}),I},Fi.prototype.addToSortKeyRanges=function(s,c){var d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===c?d.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:s,symbolInstanceEnd:s+1})},Fi.prototype.sortFeatures=function(s){var c=this;if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var d=0,k=this.symbolInstanceIndexes;d<k.length;d+=1){var A=this.symbolInstances.get(k[d]);this.featureSortOrder.push(A.featureIndex),[A.rightJustifiedTextSymbolIndex,A.centerJustifiedTextSymbolIndex,A.leftJustifiedTextSymbolIndex].forEach(function(I,F,H){I>=0&&H.indexOf(I)===F&&c.addIndicesForPlacedSymbol(c.text,I)}),A.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,A.verticalPlacedTextSymbolIndex),A.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,A.placedIconSymbolIndex),A.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,A.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ir("SymbolBucket",Fi,{omit:["layers","collisionBoxArray","features","compareText"]}),Fi.MAX_GLYPHS=65535,Fi.addDynamicAttributes=ED;var Bbe=new fa({"symbol-placement":new kr(Ie.layout_symbol["symbol-placement"]),"symbol-spacing":new kr(Ie.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new kr(Ie.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Rr(Ie.layout_symbol["symbol-sort-key"]),"symbol-z-order":new kr(Ie.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new kr(Ie.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new kr(Ie.layout_symbol["icon-ignore-placement"]),"icon-optional":new kr(Ie.layout_symbol["icon-optional"]),"icon-rotation-alignment":new kr(Ie.layout_symbol["icon-rotation-alignment"]),"icon-size":new Rr(Ie.layout_symbol["icon-size"]),"icon-text-fit":new kr(Ie.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new kr(Ie.layout_symbol["icon-text-fit-padding"]),"icon-image":new Rr(Ie.layout_symbol["icon-image"]),"icon-rotate":new Rr(Ie.layout_symbol["icon-rotate"]),"icon-padding":new kr(Ie.layout_symbol["icon-padding"]),"icon-keep-upright":new kr(Ie.layout_symbol["icon-keep-upright"]),"icon-offset":new Rr(Ie.layout_symbol["icon-offset"]),"icon-anchor":new Rr(Ie.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new kr(Ie.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new kr(Ie.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new kr(Ie.layout_symbol["text-rotation-alignment"]),"text-field":new Rr(Ie.layout_symbol["text-field"]),"text-font":new Rr(Ie.layout_symbol["text-font"]),"text-size":new Rr(Ie.layout_symbol["text-size"]),"text-max-width":new Rr(Ie.layout_symbol["text-max-width"]),"text-line-height":new kr(Ie.layout_symbol["text-line-height"]),"text-letter-spacing":new Rr(Ie.layout_symbol["text-letter-spacing"]),"text-justify":new Rr(Ie.layout_symbol["text-justify"]),"text-radial-offset":new Rr(Ie.layout_symbol["text-radial-offset"]),"text-variable-anchor":new kr(Ie.layout_symbol["text-variable-anchor"]),"text-anchor":new Rr(Ie.layout_symbol["text-anchor"]),"text-max-angle":new kr(Ie.layout_symbol["text-max-angle"]),"text-writing-mode":new kr(Ie.layout_symbol["text-writing-mode"]),"text-rotate":new Rr(Ie.layout_symbol["text-rotate"]),"text-padding":new kr(Ie.layout_symbol["text-padding"]),"text-keep-upright":new kr(Ie.layout_symbol["text-keep-upright"]),"text-transform":new Rr(Ie.layout_symbol["text-transform"]),"text-offset":new Rr(Ie.layout_symbol["text-offset"]),"text-allow-overlap":new kr(Ie.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new kr(Ie.layout_symbol["text-ignore-placement"]),"text-optional":new kr(Ie.layout_symbol["text-optional"])}),TD={paint:new fa({"icon-opacity":new Rr(Ie.paint_symbol["icon-opacity"]),"icon-color":new Rr(Ie.paint_symbol["icon-color"]),"icon-halo-color":new Rr(Ie.paint_symbol["icon-halo-color"]),"icon-halo-width":new Rr(Ie.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Rr(Ie.paint_symbol["icon-halo-blur"]),"icon-translate":new kr(Ie.paint_symbol["icon-translate"]),"icon-translate-anchor":new kr(Ie.paint_symbol["icon-translate-anchor"]),"text-opacity":new Rr(Ie.paint_symbol["text-opacity"]),"text-color":new Rr(Ie.paint_symbol["text-color"],{runtimeType:ue,getOverride:function(s){return s.textColor},hasOverride:function(s){return!!s.textColor}}),"text-halo-color":new Rr(Ie.paint_symbol["text-halo-color"]),"text-halo-width":new Rr(Ie.paint_symbol["text-halo-width"]),"text-halo-blur":new Rr(Ie.paint_symbol["text-halo-blur"]),"text-translate":new kr(Ie.paint_symbol["text-translate"]),"text-translate-anchor":new kr(Ie.paint_symbol["text-translate-anchor"])}),layout:Bbe},vy=function(s){this.type=s.property.overrides?s.property.overrides.runtimeType:Pe,this.defaultValue=s};vy.prototype.evaluate=function(s){if(s.formattedSection){var c=this.defaultValue.property.overrides;if(c&&c.hasOverride(s.formattedSection))return c.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default},vy.prototype.eachChild=function(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)},vy.prototype.outputDefined=function(){return!1},vy.prototype.serialize=function(){return null},Ir("FormatSectionOverride",vy,{omit:["defaultValue"]});var jbe=function(s){function c(d){s.call(this,d,TD)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.recalculate=function(d,k){if(s.prototype.recalculate.call(this,d,k),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var A=this.layout.get("text-writing-mode");if(A){for(var I=[],F=0,H=A;F<H.length;F+=1){var ee=H[F];I.indexOf(ee)<0&&I.push(ee)}this.layout._values["text-writing-mode"]=I}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},c.prototype.getValueAndResolveTokens=function(d,k,A,I){var F=this.layout.get(d).evaluate(k,{},A,I),H=this._unevaluatedLayout._values[d];return H.isDataDriven()||Nc(H.value)||!F?F:function(ee,le){return le.replace(/{([^{}]+)}/g,function(ge,_e){return _e in ee?String(ee[_e]):""})}(k.properties,F)},c.prototype.createBucket=function(d){return new Fi(d)},c.prototype.queryRadius=function(){return 0},c.prototype.queryIntersectsFeature=function(){return!1},c.prototype._setPaintOverrides=function(){for(var d=0,k=TD.paint.overridableProperties;d<k.length;d+=1){var A=k[d];if(c.hasPaintOverride(this.layout,A)){var I,F=this.paint.get(A),H=new vy(F),ee=new Qu(H,F.property.specification);I=F.value.kind==="constant"||F.value.kind==="source"?new Du("source",ee):new ec("composite",ee,F.value.zoomStops,F.value._interpolationType),this.paint._values[A]=new Un(F.property,I,F.parameters)}}},c.prototype._handleOverridablePaintPropertyUpdate=function(d,k,A){return!(!this.layout||k.isDataDriven()||A.isDataDriven())&&c.hasPaintOverride(this.layout,d)},c.hasPaintOverride=function(d,k){var A=d.get("text-field"),I=TD.paint.properties[k],F=!1,H=function(ge){for(var _e=0,Te=ge;_e<Te.length;_e+=1)if(I.overrides&&I.overrides.hasOverride(Te[_e]))return void(F=!0)};if(A.value.kind==="constant"&&A.value.value instanceof Pn)H(A.value.value.sections);else if(A.value.kind==="source"){var ee=function(ge){F||(ge instanceof Ai&&vi(ge.value)===Wt?H(ge.value.sections):ge instanceof ra?H(ge.sections):ge.eachChild(ee))},le=A.value;le._styleExpression&&ee(le._styleExpression.expression)}return F},c}(gl),Ube={paint:new fa({"background-color":new kr(Ie.paint_background["background-color"]),"background-pattern":new ca(Ie.paint_background["background-pattern"]),"background-opacity":new kr(Ie.paint_background["background-opacity"])})},Hbe=function(s){function c(d){s.call(this,d,Ube)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(gl),Wbe={paint:new fa({"raster-opacity":new kr(Ie.paint_raster["raster-opacity"]),"raster-hue-rotate":new kr(Ie.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new kr(Ie.paint_raster["raster-brightness-min"]),"raster-brightness-max":new kr(Ie.paint_raster["raster-brightness-max"]),"raster-saturation":new kr(Ie.paint_raster["raster-saturation"]),"raster-contrast":new kr(Ie.paint_raster["raster-contrast"]),"raster-resampling":new kr(Ie.paint_raster["raster-resampling"]),"raster-fade-duration":new kr(Ie.paint_raster["raster-fade-duration"])})},Vbe=function(s){function c(d){s.call(this,d,Wbe)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(gl),$be=function(s){function c(d){s.call(this,d,{}),this.implementation=d}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},c.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},c.prototype.recalculate=function(){},c.prototype.updateTransitions=function(){},c.prototype.hasTransition=function(){},c.prototype.serialize=function(){},c.prototype.onAdd=function(d){this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},c.prototype.onRemove=function(d){this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},c}(gl),Gbe={circle:em,heatmap:ny,hillshade:Zd,fill:fh,"fill-extrusion":Ag,line:fm,symbol:jbe,background:Hbe,raster:Vbe},XB=xe.HTMLImageElement,JB=xe.HTMLCanvasElement,QB=xe.HTMLVideoElement,e5=xe.ImageData,_S=xe.ImageBitmap,Og=function(s,c,d,k){this.context=s,this.format=d,this.texture=s.gl.createTexture(),this.update(c,k)};Og.prototype.update=function(s,c,d){var k=s.width,A=s.height,I=!(this.size&&this.size[0]===k&&this.size[1]===A||d),F=this.context,H=F.gl;if(this.useMipmap=Boolean(c&&c.useMipmap),H.bindTexture(H.TEXTURE_2D,this.texture),F.pixelStoreUnpackFlipY.set(!1),F.pixelStoreUnpack.set(1),F.pixelStoreUnpackPremultiplyAlpha.set(this.format===H.RGBA&&(!c||c.premultiply!==!1)),I)this.size=[k,A],s instanceof XB||s instanceof JB||s instanceof QB||s instanceof e5||_S&&s instanceof _S?H.texImage2D(H.TEXTURE_2D,0,this.format,this.format,H.UNSIGNED_BYTE,s):H.texImage2D(H.TEXTURE_2D,0,this.format,k,A,0,this.format,H.UNSIGNED_BYTE,s.data);else{var ee=d||{x:0,y:0},le=ee.x,ge=ee.y;s instanceof XB||s instanceof JB||s instanceof QB||s instanceof e5||_S&&s instanceof _S?H.texSubImage2D(H.TEXTURE_2D,0,le,ge,H.RGBA,H.UNSIGNED_BYTE,s):H.texSubImage2D(H.TEXTURE_2D,0,le,ge,k,A,H.RGBA,H.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&H.generateMipmap(H.TEXTURE_2D)},Og.prototype.bind=function(s,c,d){var k=this.context.gl;k.bindTexture(k.TEXTURE_2D,this.texture),d!==k.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=k.LINEAR),s!==this.filter&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,s),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,d||s),this.filter=s),c!==this.wrap&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,c),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,c),this.wrap=c)},Og.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Og.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var AD=function(s){var c=this;this._callback=s,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){c._triggered=!1,c._callback()})};AD.prototype.trigger=function(){var s=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){s._triggered=!1,s._callback()},0))},AD.prototype.remove=function(){delete this._channel,this._callback=function(){}};var yy=function(s,c,d){this.target=s,this.parent=c,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},W(["receive","process"],this),this.invoker=new AD(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=or()?s:xe};function t5(s,c,d){var k=2*Math.PI*6378137/256/Math.pow(2,d);return[s*k-2*Math.PI*6378137/2,c*k-2*Math.PI*6378137/2]}yy.prototype.send=function(s,c,d,k,A){var I=this;A===void 0&&(A=!1);var F=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[F]=d);var H=kt(this.globalScope)?void 0:[];return this.target.postMessage({id:F,type:s,hasCallback:!!d,targetMapId:k,mustQueue:A,sourceMapId:this.mapId,data:Us(c,H)},H),{cancel:function(){d&&delete I.callbacks[F],I.target.postMessage({id:F,type:"<cancel>",targetMapId:k,sourceMapId:I.mapId})}}},yy.prototype.receive=function(s){var c=s.data,d=c.id;if(d&&(!c.targetMapId||this.mapId===c.targetMapId))if(c.type==="<cancel>"){delete this.tasks[d];var k=this.cancelCallbacks[d];delete this.cancelCallbacks[d],k&&k()}else or()||c.mustQueue?(this.tasks[d]=c,this.taskQueue.push(d),this.invoker.trigger()):this.processTask(d,c)},yy.prototype.process=function(){if(this.taskQueue.length){var s=this.taskQueue.shift(),c=this.tasks[s];delete this.tasks[s],this.taskQueue.length&&this.invoker.trigger(),c&&this.processTask(s,c)}},yy.prototype.processTask=function(s,c){var d=this;if(c.type==="<response>"){var k=this.callbacks[s];delete this.callbacks[s],k&&(c.error?k(Eo(c.error)):k(null,Eo(c.data)))}else{var A=!1,I=kt(this.globalScope)?void 0:[],F=c.hasCallback?function(ge,_e){A=!0,delete d.cancelCallbacks[s],d.target.postMessage({id:s,type:"<response>",sourceMapId:d.mapId,error:ge?Us(ge):null,data:Us(_e,I)},I)}:function(ge){A=!0},H=null,ee=Eo(c.data);if(this.parent[c.type])H=this.parent[c.type](c.sourceMapId,ee,F);else if(this.parent.getWorkerSource){var le=c.type.split(".");H=this.parent.getWorkerSource(c.sourceMapId,le[0],ee.source)[le[1]](ee,F)}else F(new Error("Could not find function "+c.type));!A&&H&&H.cancel&&(this.cancelCallbacks[s]=H.cancel)}},yy.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Pa=function(s,c){s&&(c?this.setSouthWest(s).setNorthEast(c):s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1]))};Pa.prototype.setNorthEast=function(s){return this._ne=s instanceof xo?new xo(s.lng,s.lat):xo.convert(s),this},Pa.prototype.setSouthWest=function(s){return this._sw=s instanceof xo?new xo(s.lng,s.lat):xo.convert(s),this},Pa.prototype.extend=function(s){var c,d,k=this._sw,A=this._ne;if(s instanceof xo)c=s,d=s;else{if(!(s instanceof Pa))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend(Pa.convert(s)):this.extend(xo.convert(s)):this;if(d=s._ne,!(c=s._sw)||!d)return this}return k||A?(k.lng=Math.min(c.lng,k.lng),k.lat=Math.min(c.lat,k.lat),A.lng=Math.max(d.lng,A.lng),A.lat=Math.max(d.lat,A.lat)):(this._sw=new xo(c.lng,c.lat),this._ne=new xo(d.lng,d.lat)),this},Pa.prototype.getCenter=function(){return new xo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Pa.prototype.getSouthWest=function(){return this._sw},Pa.prototype.getNorthEast=function(){return this._ne},Pa.prototype.getNorthWest=function(){return new xo(this.getWest(),this.getNorth())},Pa.prototype.getSouthEast=function(){return new xo(this.getEast(),this.getSouth())},Pa.prototype.getWest=function(){return this._sw.lng},Pa.prototype.getSouth=function(){return this._sw.lat},Pa.prototype.getEast=function(){return this._ne.lng},Pa.prototype.getNorth=function(){return this._ne.lat},Pa.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Pa.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Pa.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Pa.prototype.contains=function(s){var c=xo.convert(s),d=c.lng,k=c.lat,A=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(A=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=k&&k<=this._ne.lat&&A},Pa.convert=function(s){return!s||s instanceof Pa?s:new Pa(s)};var xo=function(s,c){if(isNaN(s)||isNaN(c))throw new Error("Invalid LngLat object: ("+s+", "+c+")");if(this.lng=+s,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};xo.prototype.wrap=function(){return new xo(Ce(this.lng,-180,180),this.lat)},xo.prototype.toArray=function(){return[this.lng,this.lat]},xo.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},xo.prototype.distanceTo=function(s){var c=Math.PI/180,d=this.lat*c,k=s.lat*c,A=Math.sin(d)*Math.sin(k)+Math.cos(d)*Math.cos(k)*Math.cos((s.lng-this.lng)*c);return 63710088e-1*Math.acos(Math.min(A,1))},xo.prototype.toBounds=function(s){s===void 0&&(s=0);var c=360*s/40075017,d=c/Math.cos(Math.PI/180*this.lat);return new Pa(new xo(this.lng-d,this.lat-c),new xo(this.lng+d,this.lat+c))},xo.convert=function(s){if(s instanceof xo)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new xo(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new xo(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var r5=2*Math.PI*63710088e-1;function n5(s){return r5*Math.cos(s*Math.PI/180)}function i5(s){return(180+s)/360}function o5(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function a5(s,c){return s/n5(c)}function DD(s){return 360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90}var Ig=function(s,c,d){d===void 0&&(d=0),this.x=+s,this.y=+c,this.z=+d};Ig.fromLngLat=function(s,c){c===void 0&&(c=0);var d=xo.convert(s);return new Ig(i5(d.lng),o5(d.lat),a5(c,d.lat))},Ig.prototype.toLngLat=function(){return new xo(360*this.x-180,DD(this.y))},Ig.prototype.toAltitude=function(){return this.z*n5(DD(this.y))},Ig.prototype.meterInMercatorCoordinateUnits=function(){return 1/r5*(s=DD(this.y),1/Math.cos(s*Math.PI/180));var s};var Mg=function(s,c,d){this.z=s,this.x=c,this.y=d,this.key=lx(0,s,s,c,d)};Mg.prototype.equals=function(s){return this.z===s.z&&this.x===s.x&&this.y===s.y},Mg.prototype.url=function(s,c){var d,k,A,I,F,H=(k=this.y,A=this.z,I=t5(256*(d=this.x),256*(k=Math.pow(2,A)-k-1),A),F=t5(256*(d+1),256*(k+1),A),I[0]+","+I[1]+","+F[0]+","+F[1]),ee=function(le,ge,_e){for(var Te,Me="",Qe=le;Qe>0;Qe--)Me+=(ge&(Te=1<<Qe-1)?1:0)+(_e&Te?2:0);return Me}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(c==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ee).replace("{bbox-epsg-3857}",H)},Mg.prototype.getTilePoint=function(s){var c=Math.pow(2,this.z);return new he(8192*(s.x*c-this.x),8192*(s.y*c-this.y))},Mg.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var s5=function(s,c){this.wrap=s,this.canonical=c,this.key=lx(s,c.z,c.z,c.x,c.y)},La=function(s,c,d,k,A){this.overscaledZ=s,this.wrap=c,this.canonical=new Mg(d,+k,+A),this.key=lx(c,s,d,k,A)};function lx(s,c,d,k,A){(s*=2)<0&&(s=-1*s-1);var I=1<<d;return(I*I*s+I*A+k).toString(36)+d.toString(36)+c.toString(36)}La.prototype.equals=function(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)},La.prototype.scaledTo=function(s){var c=this.canonical.z-s;return s>this.canonical.z?new La(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new La(s,this.wrap,s,this.canonical.x>>c,this.canonical.y>>c)},La.prototype.calculateScaledKey=function(s,c){var d=this.canonical.z-s;return s>this.canonical.z?lx(this.wrap*+c,s,this.canonical.z,this.canonical.x,this.canonical.y):lx(this.wrap*+c,s,s,this.canonical.x>>d,this.canonical.y>>d)},La.prototype.isChildOf=function(s){if(s.wrap!==this.wrap)return!1;var c=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>c&&s.canonical.y===this.canonical.y>>c},La.prototype.children=function(s){if(this.overscaledZ>=s)return[new La(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var c=this.canonical.z+1,d=2*this.canonical.x,k=2*this.canonical.y;return[new La(c,this.wrap,c,d,k),new La(c,this.wrap,c,d+1,k),new La(c,this.wrap,c,d,k+1),new La(c,this.wrap,c,d+1,k+1)]},La.prototype.isLessThan=function(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))},La.prototype.wrapped=function(){return new La(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},La.prototype.unwrapTo=function(s){return new La(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)},La.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},La.prototype.toUnwrapped=function(){return new s5(this.wrap,this.canonical)},La.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},La.prototype.getTilePoint=function(s){return this.canonical.getTilePoint(new Ig(s.x-this.wrap,s.y))},Ir("CanonicalTileID",Mg),Ir("OverscaledTileID",La,{omit:["posMatrix"]});var np=function(s,c,d){if(this.uid=s,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return Ht('"'+d+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=c.height;var k=this.dim=c.height-2;this.data=new Uint32Array(c.data.buffer),this.encoding=d||"mapbox";for(var A=0;A<k;A++)this.data[this._idx(-1,A)]=this.data[this._idx(0,A)],this.data[this._idx(k,A)]=this.data[this._idx(k-1,A)],this.data[this._idx(A,-1)]=this.data[this._idx(A,0)],this.data[this._idx(A,k)]=this.data[this._idx(A,k-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(k,-1)]=this.data[this._idx(k-1,0)],this.data[this._idx(-1,k)]=this.data[this._idx(0,k-1)],this.data[this._idx(k,k)]=this.data[this._idx(k-1,k-1)]};np.prototype.get=function(s,c){var d=new Uint8Array(this.data.buffer),k=4*this._idx(s,c);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(d[k],d[k+1],d[k+2])},np.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},np.prototype._idx=function(s,c){if(s<-1||s>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(s+1)},np.prototype._unpackMapbox=function(s,c,d){return(256*s*256+256*c+d)/10-1e4},np.prototype._unpackTerrarium=function(s,c,d){return 256*s+c+d/256-32768},np.prototype.getPixels=function(){return new _a({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},np.prototype.backfillBorder=function(s,c,d){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");var k=c*this.dim,A=c*this.dim+this.dim,I=d*this.dim,F=d*this.dim+this.dim;switch(c){case-1:k=A-1;break;case 1:A=k+1}switch(d){case-1:I=F-1;break;case 1:F=I+1}for(var H=-c*this.dim,ee=-d*this.dim,le=I;le<F;le++)for(var ge=k;ge<A;ge++)this.data[this._idx(ge,le)]=s.data[this._idx(ge+H,le+ee)]},Ir("DEMData",np);var wS=function(s){this._stringToNumber={},this._numberToString=[];for(var c=0;c<s.length;c++){var d=s[c];this._stringToNumber[d]=c,this._numberToString[c]=d}};wS.prototype.encode=function(s){return this._stringToNumber[s]},wS.prototype.decode=function(s){return this._numberToString[s]};var SS=function(s,c,d,k,A){this.type="Feature",this._vectorTileFeature=s,s._z=c,s._x=d,s._y=k,this.properties=s.properties,this.id=A},OD={geometry:{configurable:!0}};OD.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},OD.geometry.set=function(s){this._geometry=s},SS.prototype.toJSON=function(){var s={geometry:this.geometry};for(var c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(s[c]=this[c]);return s},Object.defineProperties(SS.prototype,OD);var by=function(){this.state={},this.stateChanges={},this.deletedStates={}};by.prototype.updateState=function(s,c,d){var k=String(c);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][k]=this.stateChanges[s][k]||{},re(this.stateChanges[s][k],d),this.deletedStates[s]===null)for(var A in this.deletedStates[s]={},this.state[s])A!==k&&(this.deletedStates[s][A]=null);else if(this.deletedStates[s]&&this.deletedStates[s][k]===null)for(var I in this.deletedStates[s][k]={},this.state[s][k])d[I]||(this.deletedStates[s][k][I]=null);else for(var F in d)this.deletedStates[s]&&this.deletedStates[s][k]&&this.deletedStates[s][k][F]===null&&delete this.deletedStates[s][k][F]},by.prototype.removeFeatureState=function(s,c,d){if(this.deletedStates[s]!==null){var k=String(c);if(this.deletedStates[s]=this.deletedStates[s]||{},d&&c!==void 0)this.deletedStates[s][k]!==null&&(this.deletedStates[s][k]=this.deletedStates[s][k]||{},this.deletedStates[s][k][d]=null);else if(c!==void 0)if(this.stateChanges[s]&&this.stateChanges[s][k])for(d in this.deletedStates[s][k]={},this.stateChanges[s][k])this.deletedStates[s][k][d]=null;else this.deletedStates[s][k]=null;else this.deletedStates[s]=null}},by.prototype.getState=function(s,c){var d=String(c),k=re({},(this.state[s]||{})[d],(this.stateChanges[s]||{})[d]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){var A=this.deletedStates[s][c];if(A===null)return{};for(var I in A)delete k[I]}return k},by.prototype.initializeTileState=function(s,c){s.setFeatureState(this.state,c)},by.prototype.coalesceChanges=function(s,c){var d={};for(var k in this.stateChanges){this.state[k]=this.state[k]||{};var A={};for(var I in this.stateChanges[k])this.state[k][I]||(this.state[k][I]={}),re(this.state[k][I],this.stateChanges[k][I]),A[I]=this.state[k][I];d[k]=A}for(var F in this.deletedStates){this.state[F]=this.state[F]||{};var H={};if(this.deletedStates[F]===null)for(var ee in this.state[F])H[ee]={},this.state[F][ee]={};else for(var le in this.deletedStates[F]){if(this.deletedStates[F][le]===null)this.state[F][le]={};else for(var ge=0,_e=Object.keys(this.deletedStates[F][le]);ge<_e.length;ge+=1)delete this.state[F][le][_e[ge]];H[le]=this.state[F][le]}d[F]=d[F]||{},re(d[F],H)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(var Te in s)s[Te].setFeatureState(d,c)};var ip=function(s,c){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new hl(8192,16,0),this.grid3D=new hl(8192,16,0),this.featureIndexArray=new Se,this.promoteId=c};function l5(s,c,d,k,A){return ot(s,function(I,F){var H=c instanceof Vo?c.get(F):null;return H&&H.evaluate?H.evaluate(d,k,A):H})}function u5(s){for(var c=1/0,d=1/0,k=-1/0,A=-1/0,I=0,F=s;I<F.length;I+=1){var H=F[I];c=Math.min(c,H.x),d=Math.min(d,H.y),k=Math.max(k,H.x),A=Math.max(A,H.y)}return{minX:c,minY:d,maxX:k,maxY:A}}function Kbe(s,c){return c-s}ip.prototype.insert=function(s,c,d,k,A,I){var F=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,k,A);for(var H=I?this.grid3D:this.grid,ee=0;ee<c.length;ee++){for(var le=c[ee],ge=[1/0,1/0,-1/0,-1/0],_e=0;_e<le.length;_e++){var Te=le[_e];ge[0]=Math.min(ge[0],Te.x),ge[1]=Math.min(ge[1],Te.y),ge[2]=Math.max(ge[2],Te.x),ge[3]=Math.max(ge[3],Te.y)}ge[0]<8192&&ge[1]<8192&&ge[2]>=0&&ge[3]>=0&&H.insert(F,ge[0],ge[1],ge[2],ge[3])}},ip.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new As.VectorTile(new w(this.rawTileData)).layers,this.sourceLayerCoder=new wS(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ip.prototype.query=function(s,c,d,k){var A=this;this.loadVTLayers();for(var I=s.params||{},F=8192/s.tileSize/s.scale,H=bf(I.filter),ee=s.queryGeometry,le=s.queryPadding*F,ge=u5(ee),_e=this.grid.query(ge.minX-le,ge.minY-le,ge.maxX+le,ge.maxY+le),Te=u5(s.cameraQueryGeometry),Me=this.grid3D.query(Te.minX-le,Te.minY-le,Te.maxX+le,Te.maxY+le,function(qt,Bt,Jt,cr){return function(yr,Xr,Or,en,Pr){for(var An=0,fn=yr;An<fn.length;An+=1){var Hr=fn[An];if(Xr<=Hr.x&&Or<=Hr.y&&en>=Hr.x&&Pr>=Hr.y)return!0}var qn=[new he(Xr,Or),new he(Xr,Pr),new he(en,Pr),new he(en,Or)];if(yr.length>2){for(var _n=0,Jn=qn;_n<Jn.length;_n+=1)if(Es(yr,Jn[_n]))return!0}for(var on=0;on<yr.length-1;on++)if(ih(yr[on],yr[on+1],qn))return!0;return!1}(s.cameraQueryGeometry,qt-le,Bt-le,Jt+le,cr+le)}),Qe=0,tt=Me;Qe<tt.length;Qe+=1)_e.push(tt[Qe]);_e.sort(Kbe);for(var dt,lt={},vt=function(qt){var Bt=_e[qt];if(Bt!==dt){dt=Bt;var Jt=A.featureIndexArray.get(Bt),cr=null;A.loadMatchingFeature(lt,Jt.bucketIndex,Jt.sourceLayerIndex,Jt.featureIndex,H,I.layers,I.availableImages,c,d,k,function(yr,Xr,Or){return cr||(cr=xi(yr)),Xr.queryIntersectsFeature(ee,yr,Or,cr,A.z,s.transform,F,s.pixelPosMatrix)})}},Ot=0;Ot<_e.length;Ot++)vt(Ot);return lt},ip.prototype.loadMatchingFeature=function(s,c,d,k,A,I,F,H,ee,le,ge){var _e=this.bucketLayerIDs[c];if(!I||function(yr,Xr){for(var Or=0;Or<yr.length;Or++)if(Xr.indexOf(yr[Or])>=0)return!0;return!1}(I,_e)){var Te=this.sourceLayerCoder.decode(d),Me=this.vtLayers[Te].feature(k);if(A.needGeometry){var Qe=Li(Me,!0);if(!A.filter(new Tn(this.tileID.overscaledZ),Qe,this.tileID.canonical))return}else if(!A.filter(new Tn(this.tileID.overscaledZ),Me))return;for(var tt=this.getId(Me,Te),dt=0;dt<_e.length;dt++){var lt=_e[dt];if(!(I&&I.indexOf(lt)<0)){var vt=H[lt];if(vt){var Ot={};tt!==void 0&&le&&(Ot=le.getState(vt.sourceLayer||"_geojsonTileLayer",tt));var qt=re({},ee[lt]);qt.paint=l5(qt.paint,vt.paint,Me,Ot,F),qt.layout=l5(qt.layout,vt.layout,Me,Ot,F);var Bt=!ge||ge(Me,vt,Ot);if(Bt){var Jt=new SS(Me,this.z,this.x,this.y,tt);Jt.layer=qt;var cr=s[lt];cr===void 0&&(cr=s[lt]=[]),cr.push({featureIndex:k,feature:Jt,intersectionZ:Bt})}}}}}},ip.prototype.lookupSymbolFeatures=function(s,c,d,k,A,I,F,H){var ee={};this.loadVTLayers();for(var le=bf(A),ge=0,_e=s;ge<_e.length;ge+=1)this.loadMatchingFeature(ee,d,k,_e[ge],le,I,F,H,c);return ee},ip.prototype.hasLayer=function(s){for(var c=0,d=this.bucketLayerIDs;c<d.length;c+=1)for(var k=0,A=d[c];k<A.length;k+=1)if(s===A[k])return!0;return!1},ip.prototype.getId=function(s,c){var d=s.id;return this.promoteId&&typeof(d=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]])=="boolean"&&(d=Number(d)),d},Ir("FeatureIndex",ip,{omit:["rawTileData","sourceLayerCoder"]});var ds=function(s,c){this.tileID=s,this.uid=pe(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ds.prototype.registerFadeDuration=function(s){var c=s+this.timeAdded;c<Ct.now()||this.fadeEndTime&&c<this.fadeEndTime||(this.fadeEndTime=c)},ds.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},ds.prototype.loadVectorData=function(s,c,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){for(var k in s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(le,ge){var _e={};if(!ge)return _e;for(var Te=function(){var tt=Qe[Me],dt=tt.layerIds.map(function(Ot){return ge.getLayer(Ot)}).filter(Boolean);if(dt.length!==0){tt.layers=dt,tt.stateDependentLayerIds&&(tt.stateDependentLayers=tt.stateDependentLayerIds.map(function(Ot){return dt.filter(function(qt){return qt.id===Ot})[0]}));for(var lt=0,vt=dt;lt<vt.length;lt+=1)_e[vt[lt].id]=tt}},Me=0,Qe=le;Me<Qe.length;Me+=1)Te();return _e}(s.buckets,c.style),this.hasSymbolBuckets=!1,this.buckets){var A=this.buckets[k];if(A instanceof Fi){if(this.hasSymbolBuckets=!0,!d)break;A.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var I in this.buckets){var F=this.buckets[I];if(F instanceof Fi&&F.hasRTLText){this.hasRTLText=!0,ua.isLoading()||ua.isLoaded()||Yd()!=="deferred"||Ia();break}}for(var H in this.queryPadding=0,this.buckets){var ee=this.buckets[H];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(H).queryRadius(ee))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new x},ds.prototype.unloadVectorData=function(){for(var s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ds.prototype.getBucket=function(s){return this.buckets[s.id]},ds.prototype.upload=function(s){for(var c in this.buckets){var d=this.buckets[c];d.uploadPending()&&d.upload(s)}var k=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Og(s,this.imageAtlas.image,k.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Og(s,this.glyphAtlasImage,k.ALPHA),this.glyphAtlasImage=null)},ds.prototype.prepare=function(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)},ds.prototype.queryRenderedFeatures=function(s,c,d,k,A,I,F,H,ee,le){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:k,cameraQueryGeometry:A,scale:I,tileSize:this.tileSize,pixelPosMatrix:le,transform:H,params:F,queryPadding:this.queryPadding*ee},s,c,d):{}},ds.prototype.querySourceFeatures=function(s,c){var d=this.latestFeatureIndex;if(d&&d.rawTileData){var k=d.loadVTLayers(),A=c?c.sourceLayer:"",I=k._geojsonTileLayer||k[A];if(I)for(var F=bf(c&&c.filter),H=this.tileID.canonical,ee=H.z,le=H.x,ge=H.y,_e={z:ee,x:le,y:ge},Te=0;Te<I.length;Te++){var Me=I.feature(Te);if(F.needGeometry){var Qe=Li(Me,!0);if(!F.filter(new Tn(this.tileID.overscaledZ),Qe,this.tileID.canonical))continue}else if(!F.filter(new Tn(this.tileID.overscaledZ),Me))continue;var tt=d.getId(Me,A),dt=new SS(Me,ee,le,ge,tt);dt.tile=_e,s.push(dt)}}},ds.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},ds.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ds.prototype.setExpiryData=function(s){var c=this.expirationTime;if(s.cacheControl){var d=br(s.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){var k=Date.now(),A=!1;if(this.expirationTime>k)A=!1;else if(c)if(this.expirationTime<c)A=!0;else{var I=this.expirationTime-c;I?this.expirationTime=k+Math.max(I,3e4):A=!0}else A=!0;A?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ds.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},ds.prototype.setFeatureState=function(s,c){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(s).length!==0){var d=this.latestFeatureIndex.loadVTLayers();for(var k in this.buckets)if(c.style.hasLayer(k)){var A=this.buckets[k],I=A.layers[0].sourceLayer||"_geojsonTileLayer",F=d[I],H=s[I];if(F&&H&&Object.keys(H).length!==0){A.update(H,F,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ee=c&&c.style&&c.style.getLayer(k);ee&&(this.queryPadding=Math.max(this.queryPadding,ee.queryRadius(A)))}}}},ds.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},ds.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ct.now()},ds.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ds.prototype.setHoldDuration=function(s){this.symbolFadeHoldUntil=Ct.now()+s},ds.prototype.setDependencies=function(s,c){for(var d={},k=0,A=c;k<A.length;k+=1)d[A[k]]=!0;this.dependencies[s]=d},ds.prototype.hasDependency=function(s,c){for(var d=0,k=s;d<k.length;d+=1){var A=this.dependencies[k[d]];if(A){for(var I=0,F=c;I<F.length;I+=1)if(A[F[I]])return!0}}return!1};var dm=xe.performance,c5=function(s){this._marks={start:[s.url,"start"].join("#"),end:[s.url,"end"].join("#"),measure:s.url.toString()},dm.mark(this._marks.start)};c5.prototype.finish=function(){dm.mark(this._marks.end);var s=dm.getEntriesByName(this._marks.measure);return s.length===0&&(dm.measure(this._marks.measure,this._marks.start,this._marks.end),s=dm.getEntriesByName(this._marks.measure),dm.clearMarks(this._marks.start),dm.clearMarks(this._marks.end),dm.clearMeasures(this._marks.measure)),s},_.Actor=yy,_.AlphaImage=sc,_.CanonicalTileID=Mg,_.CollisionBoxArray=x,_.Color=Mn,_.DEMData=np,_.DataConstantProperty=kr,_.DictionaryCoder=wS,_.EXTENT=8192,_.ErrorEvent=ht,_.EvaluationParameters=Tn,_.Event=Ye,_.Evented=ut,_.FeatureIndex=ip,_.FillBucket=yu,_.FillExtrusionBucket=Xs,_.ImageAtlas=oi,_.ImagePosition=Cn,_.LineBucket=Za,_.LngLat=xo,_.LngLatBounds=Pa,_.MercatorCoordinate=Ig,_.ONE_EM=24,_.OverscaledTileID=La,_.Point=he,_.Point$1=he,_.Properties=fa,_.Protobuf=w,_.RGBAImage=_a,_.RequestManager=Ut,_.RequestPerformance=c5,_.ResourceType=In,_.SegmentVector=Re,_.SourceFeatureState=by,_.StructArrayLayout1ui2=Wh,_.StructArrayLayout2f1f2i16=xa,_.StructArrayLayout2i4=Nl,_.StructArrayLayout3ui6=wn,_.StructArrayLayout4i8=rh,_.SymbolBucket=Fi,_.Texture=Og,_.Tile=ds,_.Transitionable=bi,_.Uniform1f=nr,_.Uniform1i=er,_.Uniform2f=lr,_.Uniform3f=Er,_.Uniform4f=Ar,_.UniformColor=Kr,_.UniformMatrix4f=On,_.UnwrappedTileID=s5,_.ValidationError=Ne,_.WritingMode=bn,_.ZoomHistory=nc,_.add=function(s,c,d){return s[0]=c[0]+d[0],s[1]=c[1]+d[1],s[2]=c[2]+d[2],s},_.addDynamicAttributes=ED,_.asyncAll=function(s,c,d){if(!s.length)return d(null,[]);var k=s.length,A=new Array(s.length),I=null;s.forEach(function(F,H){c(F,function(ee,le){ee&&(I=ee),A[H]=le,--k==0&&d(I,A)})})},_.bezier=R,_.bindAll=W,_.browser=Ct,_.cacheEntryPossiblyAdded=function(s){++vn>gr&&(s.getActor().send("enforceCacheSizeLimit",Gt),vn=0)},_.clamp=ae,_.clearTileCache=function(s){var c=xe.caches.delete("mapbox-tiles");s&&c.catch(s).then(function(){return s()})},_.clipLine=VB,_.clone=function(s){var c=new Kn(16);return c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[4]=s[4],c[5]=s[5],c[6]=s[6],c[7]=s[7],c[8]=s[8],c[9]=s[9],c[10]=s[10],c[11]=s[11],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15],c},_.clone$1=Pt,_.clone$2=function(s){var c=new Kn(3);return c[0]=s[0],c[1]=s[1],c[2]=s[2],c},_.collisionCircleLayout=T,_.config=ur,_.create=function(){var s=new Kn(16);return Kn!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},_.create$1=function(){var s=new Kn(9);return Kn!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[5]=0,s[6]=0,s[7]=0),s[0]=1,s[4]=1,s[8]=1,s},_.create$2=function(){var s=new Kn(4);return Kn!=Float32Array&&(s[1]=0,s[2]=0),s[0]=1,s[3]=1,s},_.createCommonjsModule=me,_.createExpression=au,_.createLayout=$o,_.createStyleLayer=function(s){return s.type==="custom"?new $be(s):new Gbe[s.type](s)},_.cross=function(s,c,d){var k=c[0],A=c[1],I=c[2],F=d[0],H=d[1],ee=d[2];return s[0]=A*ee-I*H,s[1]=I*F-k*ee,s[2]=k*H-A*F,s},_.deepEqual=function s(c,d){if(Array.isArray(c)){if(!Array.isArray(d)||c.length!==d.length)return!1;for(var k=0;k<c.length;k++)if(!s(c[k],d[k]))return!1;return!0}if(typeof c=="object"&&c!==null&&d!==null){if(typeof d!="object"||Object.keys(c).length!==Object.keys(d).length)return!1;for(var A in c)if(!s(c[A],d[A]))return!1;return!0}return c===d},_.dot=function(s,c){return s[0]*c[0]+s[1]*c[1]+s[2]*c[2]},_.dot$1=function(s,c){return s[0]*c[0]+s[1]*c[1]+s[2]*c[2]+s[3]*c[3]},_.ease=G,_.emitValidationErrors=hu,_.endsWith=Ze,_.enforceCacheSizeLimit=function(s){rr(),wr&&wr.then(function(c){c.keys().then(function(d){for(var k=0;k<d.length-s;k++)c.delete(d[k])})})},_.evaluateSizeForFeature=Js,_.evaluateSizeForZoom=rp,_.evaluateVariableOffset=KB,_.evented=du,_.extend=re,_.featureFilter=bf,_.filterObject=et,_.fromRotation=function(s,c){var d=Math.sin(c),k=Math.cos(c);return s[0]=k,s[1]=d,s[2]=0,s[3]=-d,s[4]=k,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s},_.getAnchorAlignment=no,_.getAnchorJustification=CD,_.getArrayBuffer=ea,_.getImage=Ee,_.getJSON=function(s,c){return Xi(re(s,{type:"json"}),c)},_.getRTLTextPluginStatus=Yd,_.getReferrer=Vn,_.getVideo=function(s,c){var d,k,A=xe.document.createElement("video");A.muted=!0,A.onloadstart=function(){c(null,A)};for(var I=0;I<s.length;I++){var F=xe.document.createElement("source");d=s[I],k=void 0,(k=xe.document.createElement("a")).href=d,(k.protocol!==xe.document.location.protocol||k.host!==xe.document.location.host)&&(A.crossOrigin="Anonymous"),F.src=s[I],A.appendChild(F)}return{cancel:function(){}}},_.identity=Ts,_.invert=function(s,c){var d=c[0],k=c[1],A=c[2],I=c[3],F=c[4],H=c[5],ee=c[6],le=c[7],ge=c[8],_e=c[9],Te=c[10],Me=c[11],Qe=c[12],tt=c[13],dt=c[14],lt=c[15],vt=d*H-k*F,Ot=d*ee-A*F,qt=d*le-I*F,Bt=k*ee-A*H,Jt=k*le-I*H,cr=A*le-I*ee,yr=ge*tt-_e*Qe,Xr=ge*dt-Te*Qe,Or=ge*lt-Me*Qe,en=_e*dt-Te*tt,Pr=_e*lt-Me*tt,An=Te*lt-Me*dt,fn=vt*An-Ot*Pr+qt*en+Bt*Or-Jt*Xr+cr*yr;return fn?(s[0]=(H*An-ee*Pr+le*en)*(fn=1/fn),s[1]=(A*Pr-k*An-I*en)*fn,s[2]=(tt*cr-dt*Jt+lt*Bt)*fn,s[3]=(Te*Jt-_e*cr-Me*Bt)*fn,s[4]=(ee*Or-F*An-le*Xr)*fn,s[5]=(d*An-A*Or+I*Xr)*fn,s[6]=(dt*qt-Qe*cr-lt*Ot)*fn,s[7]=(ge*cr-Te*qt+Me*Ot)*fn,s[8]=(F*Pr-H*Or+le*yr)*fn,s[9]=(k*Or-d*Pr-I*yr)*fn,s[10]=(Qe*Jt-tt*qt+lt*vt)*fn,s[11]=(_e*qt-ge*Jt-Me*vt)*fn,s[12]=(H*Xr-F*en-ee*yr)*fn,s[13]=(d*en-k*Xr+A*yr)*fn,s[14]=(tt*Ot-Qe*Bt-dt*vt)*fn,s[15]=(ge*Bt-_e*Ot+Te*vt)*fn,s):null},_.isChar=pr,_.isMapboxURL=vr,_.keysDifference=function(s,c){var d=[];for(var k in s)k in c||d.push(k);return d},_.makeRequest=Xi,_.mapObject=ot,_.mercatorXfromLng=i5,_.mercatorYfromLat=o5,_.mercatorZfromAltitude=a5,_.mul=Qp,_.multiply=Ya,_.mvt=As,_.nextPowerOfTwo=function(s){return s<=1?1:Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))},_.normalize=function(s,c){var d=c[0],k=c[1],A=c[2],I=d*d+k*k+A*A;return I>0&&(I=1/Math.sqrt(I)),s[0]=c[0]*I,s[1]=c[1]*I,s[2]=c[2]*I,s},_.number=Ni,_.offscreenCanvasSupported=xn,_.ortho=function(s,c,d,k,A,I,F){var H=1/(c-d),ee=1/(k-A),le=1/(I-F);return s[0]=-2*H,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*ee,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*le,s[11]=0,s[12]=(c+d)*H,s[13]=(A+k)*ee,s[14]=(F+I)*le,s[15]=1,s},_.parseGlyphPBF=function(s){return new w(s).readFields(Nr,[])},_.pbf=w,_.performSymbolLayout=function(s,c,d,k,A,I,F){s.createArrays(),s.tilePixelRatio=8192/(512*s.overscaling),s.compareText={},s.iconsNeedLinear=!1;var H=s.layers[0].layout,ee=s.layers[0]._unevaluatedLayout._values,le={};if(s.textSizeData.kind==="composite"){var ge=s.textSizeData,_e=ge.maxZoom;le.compositeTextSizes=[ee["text-size"].possiblyEvaluate(new Tn(ge.minZoom),F),ee["text-size"].possiblyEvaluate(new Tn(_e),F)]}if(s.iconSizeData.kind==="composite"){var Te=s.iconSizeData,Me=Te.maxZoom;le.compositeIconSizes=[ee["icon-size"].possiblyEvaluate(new Tn(Te.minZoom),F),ee["icon-size"].possiblyEvaluate(new Tn(Me),F)]}le.layoutTextSize=ee["text-size"].possiblyEvaluate(new Tn(s.zoom+1),F),le.layoutIconSize=ee["icon-size"].possiblyEvaluate(new Tn(s.zoom+1),F),le.textMaxSize=ee["text-size"].possiblyEvaluate(new Tn(18));for(var Qe=24*H.get("text-line-height"),tt=H.get("text-rotation-alignment")==="map"&&H.get("symbol-placement")!=="point",dt=H.get("text-keep-upright"),lt=H.get("text-size"),vt=function(){var Bt=qt[Ot],Jt=H.get("text-font").evaluate(Bt,{},F).join(","),cr=lt.evaluate(Bt,{},F),yr=le.layoutTextSize.evaluate(Bt,{},F),Xr=le.layoutIconSize.evaluate(Bt,{},F),Or={horizontal:{},vertical:void 0},en=Bt.text,Pr=[0,0];if(en){var An=en.toString(),fn=24*H.get("text-letter-spacing").evaluate(Bt,{},F),Hr=function(Bn){for(var Ui=0,Ii=Bn;Ui<Ii.length;Ui+=1)if(ri=Ii[Ui].charCodeAt(0),pr.Arabic(ri)||pr["Arabic Supplement"](ri)||pr["Arabic Extended-A"](ri)||pr["Arabic Presentation Forms-A"](ri)||pr["Arabic Presentation Forms-B"](ri))return!1;var ri;return!0}(An)?fn:0,qn=H.get("text-anchor").evaluate(Bt,{},F),_n=H.get("text-variable-anchor");if(!_n){var Jn=H.get("text-radial-offset").evaluate(Bt,{},F);Pr=Jn?KB(qn,[24*Jn,kD]):H.get("text-offset").evaluate(Bt,{},F).map(function(Bn){return 24*Bn})}var on=tt?"center":H.get("text-justify").evaluate(Bt,{},F),li=H.get("symbol-placement"),_o=li==="point"?24*H.get("text-max-width").evaluate(Bt,{},F):0,Zo=function(){s.allowVerticalPlacement&&Hc(An)&&(Or.vertical=ti(en,c,d,A,Jt,_o,Qe,qn,"left",Hr,Pr,bn.vertical,!0,li,yr,cr))};if(!tt&&_n){for(var qo=on==="auto"?_n.map(function(Bn){return CD(Bn)}):[on],wo=!1,Xo=0;Xo<qo.length;Xo++){var Xa=qo[Xo];if(!Or.horizontal[Xa])if(wo)Or.horizontal[Xa]=Or.horizontal[0];else{var Ja=ti(en,c,d,A,Jt,_o,Qe,"center",Xa,Hr,Pr,bn.horizontal,!1,li,yr,cr);Ja&&(Or.horizontal[Xa]=Ja,wo=Ja.positionedLines.length===1)}}Zo()}else{on==="auto"&&(on=CD(qn));var xl=ti(en,c,d,A,Jt,_o,Qe,qn,on,Hr,Pr,bn.horizontal,!1,li,yr,cr);xl&&(Or.horizontal[on]=xl),Zo(),Hc(An)&&tt&&dt&&(Or.vertical=ti(en,c,d,A,Jt,_o,Qe,qn,on,Hr,Pr,bn.vertical,!1,li,yr,cr))}}var ps=void 0,_l=!1;if(Bt.icon&&Bt.icon.name){var pa=k[Bt.icon.name];pa&&(ps=function(Bn,Ui,Ii){var ri=no(Ii),Hl=Ui[0]-Bn.displaySize[0]*ri.horizontalAlign,Qs=Ui[1]-Bn.displaySize[1]*ri.verticalAlign;return{image:Bn,top:Qs,bottom:Qs+Bn.displaySize[1],left:Hl,right:Hl+Bn.displaySize[0]}}(A[Bt.icon.name],H.get("icon-offset").evaluate(Bt,{},F),H.get("icon-anchor").evaluate(Bt,{},F)),_l=pa.sdf,s.sdfIcons===void 0?s.sdfIcons=pa.sdf:s.sdfIcons!==pa.sdf&&Ht("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(pa.pixelRatio!==s.pixelRatio||H.get("icon-rotate").constantOr(1)!==0)&&(s.iconsNeedLinear=!0))}var ms=ZB(Or.horizontal)||Or.vertical;s.iconsInText=!!ms&&ms.iconsInText,(ms||ps)&&function(Bn,Ui,Ii,ri,Hl,Qs,fo,ka,el,ui,Qh){var cc=Qs.textMaxSize.evaluate(Ui,{});cc===void 0&&(cc=fo);var ed,ma=Bn.layers[0].layout,td=ma.get("icon-offset").evaluate(Ui,{},Qh),kf=ZB(Ii.horizontal),xy=fo/24,Pg=Bn.tilePixelRatio*xy,_y=Bn.tilePixelRatio*cc/24,op=Bn.tilePixelRatio*ka,wy=Bn.tilePixelRatio*ma.get("symbol-spacing"),kS=ma.get("text-padding")*Bn.tilePixelRatio,Sy=ma.get("icon-padding")*Bn.tilePixelRatio,ux=ma.get("text-max-angle")/180*Math.PI,CS=ma.get("text-rotation-alignment")==="map"&&ma.get("symbol-placement")!=="point",ES=ma.get("icon-rotation-alignment")==="map"&&ma.get("symbol-placement")!=="point",ap=ma.get("symbol-placement"),cx=wy/2,ky=ma.get("icon-text-fit");ri&&ky!=="none"&&(Bn.allowVerticalPlacement&&Ii.vertical&&(ed=bo(ri,Ii.vertical,ky,ma.get("icon-text-fit-padding"),td,xy)),kf&&(ri=bo(ri,kf,ky,ma.get("icon-text-fit-padding"),td,xy)));var pm=function(Ybe,yx){yx.x<0||yx.x>=8192||yx.y<0||yx.y>=8192||function(ga,dh,Zbe,mm,LD,d5,MS,rd,PS,bx,LS,RS,RD,p5,xx,m5,g5,v5,y5,b5,fc,FS,x5,nd,Xbe){var _5,Rg,Dy,Oy,Iy,My=ga.addToLineVertexArray(dh,Zbe),w5=0,S5=0,k5=0,C5=0,FD=-1,qD=-1,sp={},E5=Ge(""),zD=0,ND=0;if(rd._unevaluatedLayout.getValue("text-radial-offset")===void 0?(zD=(_5=rd.layout.get("text-offset").evaluate(fc,{},nd).map(function(wx){return 24*wx}))[0],ND=_5[1]):(zD=24*rd.layout.get("text-radial-offset").evaluate(fc,{},nd),ND=kD),ga.allowVerticalPlacement&&mm.vertical){var T5=rd.layout.get("text-rotate").evaluate(fc,{},nd)+90;Oy=new bS(PS,dh,bx,LS,RS,mm.vertical,RD,p5,xx,T5),MS&&(Iy=new bS(PS,dh,bx,LS,RS,MS,g5,v5,xx,T5))}if(LD){var BD=rd.layout.get("icon-rotate").evaluate(fc,{}),A5=rd.layout.get("icon-text-fit")!=="none",D5=$B(LD,BD,x5,A5),jD=MS?$B(MS,BD,x5,A5):void 0;Dy=new bS(PS,dh,bx,LS,RS,LD,g5,v5,!1,BD),w5=4*D5.length;var O5=ga.iconSizeData,_x=null;O5.kind==="source"?(_x=[128*rd.layout.get("icon-size").evaluate(fc,{})])[0]>32640&&Ht(ga.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):O5.kind==="composite"&&((_x=[128*FS.compositeIconSizes[0].evaluate(fc,{},nd),128*FS.compositeIconSizes[1].evaluate(fc,{},nd)])[0]>32640||_x[1]>32640)&&Ht(ga.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),ga.addSymbols(ga.icon,D5,_x,b5,y5,fc,!1,dh,My.lineStartIndex,My.lineLength,-1,nd),FD=ga.icon.placedSymbolArray.length-1,jD&&(S5=4*jD.length,ga.addSymbols(ga.icon,jD,_x,b5,y5,fc,bn.vertical,dh,My.lineStartIndex,My.lineLength,-1,nd),qD=ga.icon.placedSymbolArray.length-1)}for(var I5 in mm.horizontal){var qS=mm.horizontal[I5];if(!Rg){E5=Ge(qS.text);var Jbe=rd.layout.get("text-rotate").evaluate(fc,{},nd);Rg=new bS(PS,dh,bx,LS,RS,qS,RD,p5,xx,Jbe)}var M5=qS.positionedLines.length===1;if(k5+=YB(ga,dh,qS,d5,rd,xx,fc,m5,My,mm.vertical?bn.horizontal:bn.horizontalOnly,M5?Object.keys(mm.horizontal):[I5],sp,FD,FS,nd),M5)break}mm.vertical&&(C5+=YB(ga,dh,mm.vertical,d5,rd,xx,fc,m5,My,bn.vertical,["vertical"],sp,qD,FS,nd));var Qbe=Rg?Rg.boxStartIndex:ga.collisionBoxArray.length,e0e=Rg?Rg.boxEndIndex:ga.collisionBoxArray.length,t0e=Oy?Oy.boxStartIndex:ga.collisionBoxArray.length,r0e=Oy?Oy.boxEndIndex:ga.collisionBoxArray.length,n0e=Dy?Dy.boxStartIndex:ga.collisionBoxArray.length,i0e=Dy?Dy.boxEndIndex:ga.collisionBoxArray.length,o0e=Iy?Iy.boxStartIndex:ga.collisionBoxArray.length,a0e=Iy?Iy.boxEndIndex:ga.collisionBoxArray.length,id=-1,zS=function(wx,L5){return wx&&wx.circleDiameter?Math.max(wx.circleDiameter,L5):L5};id=zS(Rg,id),id=zS(Oy,id),id=zS(Dy,id);var P5=(id=zS(Iy,id))>-1?1:0;P5&&(id*=Xbe/24),ga.glyphOffsetArray.length>=Fi.MAX_GLYPHS&&Ht("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),fc.sortKey!==void 0&&ga.addToSortKeyRanges(ga.symbolInstances.length,fc.sortKey),ga.symbolInstances.emplaceBack(dh.x,dh.y,sp.right>=0?sp.right:-1,sp.center>=0?sp.center:-1,sp.left>=0?sp.left:-1,sp.vertical||-1,FD,qD,E5,Qbe,e0e,t0e,r0e,n0e,i0e,o0e,a0e,bx,k5,C5,w5,S5,P5,0,RD,zD,ND,id)}(Bn,yx,Ybe,Ii,ri,Hl,ed,Bn.layers[0],Bn.collisionBoxArray,Ui.index,Ui.sourceLayerIndex,Bn.index,Pg,kS,CS,el,op,Sy,ES,td,Ui,Qs,ui,Qh,fo)};if(ap==="line")for(var Cy=0,TS=VB(Ui.geometry,0,0,8192,8192);Cy<TS.length;Cy+=1)for(var AS=TS[Cy],fx=0,hx=Mbe(AS,wy,ux,Ii.vertical||kf,ri,24,_y,Bn.overscaling,8192);fx<hx.length;fx+=1){var DS=hx[fx];kf&&Fbe(Bn,kf.text,cx,DS)||pm(AS,DS)}else if(ap==="line-center")for(var dx=0,px=Ui.geometry;dx<px.length;dx+=1){var mx=px[dx];if(mx.length>1){var OS=Ibe(mx,ux,Ii.vertical||kf,ri,24,_y);OS&&pm(mx,OS)}}else if(Ui.type==="Polygon")for(var Ey=0,IS=Cg(Ui.geometry,0);Ey<IS.length;Ey+=1){var Ty=IS[Ey],gx=Lbe(Ty,16);pm(Ty[0],new hs(gx.x,gx.y,0))}else if(Ui.type==="LineString")for(var Lg=0,vx=Ui.geometry;Lg<vx.length;Lg+=1){var Ay=vx[Lg];pm(Ay,new hs(Ay[0].x,Ay[0].y,0))}else if(Ui.type==="Point")for(var ID=0,f5=Ui.geometry;ID<f5.length;ID+=1)for(var MD=0,h5=f5[ID];MD<h5.length;MD+=1){var PD=h5[MD];pm([PD],new hs(PD.x,PD.y,0))}}(s,Bt,Or,ps,k,le,yr,Xr,Pr,_l,F)},Ot=0,qt=s.features;Ot<qt.length;Ot+=1)vt();I&&s.generateCollisionDebugBuffers()},_.perspective=function(s,c,d,k,A){var I,F=1/Math.tan(c/2);return s[0]=F/d,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=F,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,A!=null&&A!==1/0?(s[10]=(A+k)*(I=1/(k-A)),s[14]=2*A*k*I):(s[10]=-1,s[14]=-2*k),s},_.pick=function(s,c){for(var d={},k=0;k<c.length;k++){var A=c[k];A in s&&(d[A]=s[A])}return d},_.plugin=ua,_.polygonIntersectsPolygon=Ka,_.postMapLoadEvent=bt,_.postTurnstileEvent=Ue,_.potpack=di,_.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],_.register=Ir,_.registerForPluginStateChange=function(s){return s({pluginStatus:la,pluginURL:us}),du.on("pluginStateChange",s),s},_.renderColorRamp=wg,_.rotate=function(s,c,d){var k=c[0],A=c[1],I=c[2],F=c[3],H=Math.sin(d),ee=Math.cos(d);return s[0]=k*ee+I*H,s[1]=A*ee+F*H,s[2]=k*-H+I*ee,s[3]=A*-H+F*ee,s},_.rotateX=function(s,c,d){var k=Math.sin(d),A=Math.cos(d),I=c[4],F=c[5],H=c[6],ee=c[7],le=c[8],ge=c[9],_e=c[10],Te=c[11];return c!==s&&(s[0]=c[0],s[1]=c[1],s[2]=c[2],s[3]=c[3],s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15]),s[4]=I*A+le*k,s[5]=F*A+ge*k,s[6]=H*A+_e*k,s[7]=ee*A+Te*k,s[8]=le*A-I*k,s[9]=ge*A-F*k,s[10]=_e*A-H*k,s[11]=Te*A-ee*k,s},_.rotateZ=function(s,c,d){var k=Math.sin(d),A=Math.cos(d),I=c[0],F=c[1],H=c[2],ee=c[3],le=c[4],ge=c[5],_e=c[6],Te=c[7];return c!==s&&(s[8]=c[8],s[9]=c[9],s[10]=c[10],s[11]=c[11],s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15]),s[0]=I*A+le*k,s[1]=F*A+ge*k,s[2]=H*A+_e*k,s[3]=ee*A+Te*k,s[4]=le*A-I*k,s[5]=ge*A-F*k,s[6]=_e*A-H*k,s[7]=Te*A-ee*k,s},_.scale=function(s,c,d){var k=d[0],A=d[1],I=d[2];return s[0]=c[0]*k,s[1]=c[1]*k,s[2]=c[2]*k,s[3]=c[3]*k,s[4]=c[4]*A,s[5]=c[5]*A,s[6]=c[6]*A,s[7]=c[7]*A,s[8]=c[8]*I,s[9]=c[9]*I,s[10]=c[10]*I,s[11]=c[11]*I,s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15],s},_.scale$1=function(s,c,d){return s[0]=c[0]*d,s[1]=c[1]*d,s[2]=c[2]*d,s[3]=c[3]*d,s},_.scale$2=function(s,c,d){return s[0]=c[0]*d,s[1]=c[1]*d,s[2]=c[2]*d,s},_.setCacheLimits=function(s,c){Gt=s,gr=c},_.setRTLTextPlugin=function(s,c,d){if(d===void 0&&(d=!1),la==="deferred"||la==="loading"||la==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");us=Ct.resolveURL(s),la="deferred",zl=c,pl(),d||Ia()},_.sphericalToCartesian=function(s){var c=s[0],d=s[1],k=s[2];return d+=90,d*=Math.PI/180,k*=Math.PI/180,{x:c*Math.cos(d)*Math.sin(k),y:c*Math.sin(d)*Math.sin(k),z:c*Math.cos(k)}},_.sqrLen=function(s){var c=s[0],d=s[1];return c*c+d*d},_.styleSpec=Ie,_.sub=function(s,c,d){return s[0]=c[0]-d[0],s[1]=c[1]-d[1],s[2]=c[2]-d[2],s},_.symbolSize=ax,_.transformMat3=function(s,c,d){var k=c[0],A=c[1],I=c[2];return s[0]=k*d[0]+A*d[3]+I*d[6],s[1]=k*d[1]+A*d[4]+I*d[7],s[2]=k*d[2]+A*d[5]+I*d[8],s},_.transformMat4=oh,_.translate=function(s,c,d){var k,A,I,F,H,ee,le,ge,_e,Te,Me,Qe,tt=d[0],dt=d[1],lt=d[2];return c===s?(s[12]=c[0]*tt+c[4]*dt+c[8]*lt+c[12],s[13]=c[1]*tt+c[5]*dt+c[9]*lt+c[13],s[14]=c[2]*tt+c[6]*dt+c[10]*lt+c[14],s[15]=c[3]*tt+c[7]*dt+c[11]*lt+c[15]):(A=c[1],I=c[2],F=c[3],H=c[4],ee=c[5],le=c[6],ge=c[7],_e=c[8],Te=c[9],Me=c[10],Qe=c[11],s[0]=k=c[0],s[1]=A,s[2]=I,s[3]=F,s[4]=H,s[5]=ee,s[6]=le,s[7]=ge,s[8]=_e,s[9]=Te,s[10]=Me,s[11]=Qe,s[12]=k*tt+H*dt+_e*lt+c[12],s[13]=A*tt+ee*dt+Te*lt+c[13],s[14]=I*tt+le*dt+Me*lt+c[14],s[15]=F*tt+ge*dt+Qe*lt+c[15]),s},_.triggerPluginCompletionEvent=Kd,_.uniqueId=pe,_.validateCustomStyleLayer=function(s){var c=[],d=s.id;return d===void 0&&c.push({message:"layers."+d+': missing required property "id"'}),s.render===void 0&&c.push({message:"layers."+d+': missing required method "render"'}),s.renderingMode&&s.renderingMode!=="2d"&&s.renderingMode!=="3d"&&c.push({message:"layers."+d+': property "renderingMode" must be either "2d" or "3d"'}),c},_.validateLight=$d,_.validateStyle=Pu,_.values=function(s){var c=[];for(var d in s)c.push(s[d]);return c},_.vectorTile=As,_.version="1.13.3",_.warnOnce=Ht,_.webpSupported=sr,_.window=xe,_.wrap=Ce}),se(["./shared"],function(_){function me(ve){var Ee=typeof ve;if(Ee==="number"||Ee==="boolean"||Ee==="string"||ve==null)return JSON.stringify(ve);if(Array.isArray(ve)){for(var Oe="[",Be=0,Ye=ve;Be<Ye.length;Be+=1)Oe+=me(Ye[Be])+",";return Oe+"]"}for(var ht=Object.keys(ve).sort(),ut="{",Ie=0;Ie<ht.length;Ie++)ut+=JSON.stringify(ht[Ie])+":"+me(ve[ht[Ie]])+",";return ut+"}"}function ne(ve){for(var Ee="",Oe=0,Be=_.refProperties;Oe<Be.length;Oe+=1)Ee+="/"+me(ve[Be[Oe]]);return Ee}var de=function(ve){this.keyCache={},ve&&this.replace(ve)};de.prototype.replace=function(ve){this._layerConfigs={},this._layers={},this.update(ve,[])},de.prototype.update=function(ve,Ee){for(var Oe=this,Be=0,Ye=ve;Be<Ye.length;Be+=1){var ht=Ye[Be];this._layerConfigs[ht.id]=ht;var ut=this._layers[ht.id]=_.createStyleLayer(ht);ut._featureFilter=_.featureFilter(ut.filter),this.keyCache[ht.id]&&delete this.keyCache[ht.id]}for(var Ie=0,Ne=Ee;Ie<Ne.length;Ie+=1){var xt=Ne[Ie];delete this.keyCache[xt],delete this._layerConfigs[xt],delete this._layers[xt]}this.familiesBySource={};for(var Vt=0,Et=function(Z,ue){for(var Fe={},it=0;it<Z.length;it++){var Mt=ue&&ue[Z[it].id]||ne(Z[it]);ue&&(ue[Z[it].id]=Mt);var Wt=Fe[Mt];Wt||(Wt=Fe[Mt]=[]),Wt.push(Z[it])}var dr=[];for(var Sr in Fe)dr.push(Fe[Sr]);return dr}(_.values(this._layerConfigs),this.keyCache);Vt<Et.length;Vt+=1){var St=Et[Vt].map(function(Z){return Oe._layers[Z.id]}),Qt=St[0];if(Qt.visibility!=="none"){var we=Qt.source||"",Pe=this.familiesBySource[we];Pe||(Pe=this.familiesBySource[we]={});var Ae=Qt.sourceLayer||"_geojsonTileLayer",Q=Pe[Ae];Q||(Q=Pe[Ae]=[]),Q.push(St)}}};var he=function(ve){var Ee={},Oe=[];for(var Be in ve){var Ye=ve[Be],ht=Ee[Be]={};for(var ut in Ye){var Ie=Ye[+ut];if(Ie&&Ie.bitmap.width!==0&&Ie.bitmap.height!==0){var Ne={x:0,y:0,w:Ie.bitmap.width+2,h:Ie.bitmap.height+2};Oe.push(Ne),ht[ut]={rect:Ne,metrics:Ie.metrics}}}}var xt=_.potpack(Oe),Vt=new _.AlphaImage({width:xt.w||1,height:xt.h||1});for(var Et in ve){var St=ve[Et];for(var Qt in St){var we=St[+Qt];if(we&&we.bitmap.width!==0&&we.bitmap.height!==0){var Pe=Ee[Et][Qt].rect;_.AlphaImage.copy(we.bitmap,Vt,{x:0,y:0},{x:Pe.x+1,y:Pe.y+1},we.bitmap)}}}this.image=Vt,this.positions=Ee};_.register("GlyphAtlas",he);var be=function(ve){this.tileID=new _.OverscaledTileID(ve.tileID.overscaledZ,ve.tileID.wrap,ve.tileID.canonical.z,ve.tileID.canonical.x,ve.tileID.canonical.y),this.uid=ve.uid,this.zoom=ve.zoom,this.pixelRatio=ve.pixelRatio,this.tileSize=ve.tileSize,this.source=ve.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ve.showCollisionBoxes,this.collectResourceTiming=!!ve.collectResourceTiming,this.returnDependencies=!!ve.returnDependencies,this.promoteId=ve.promoteId};function xe(ve,Ee,Oe){for(var Be=new _.EvaluationParameters(Ee),Ye=0,ht=ve;Ye<ht.length;Ye+=1)ht[Ye].recalculate(Be,Oe)}function We(ve,Ee){var Oe=_.getArrayBuffer(ve.request,function(Be,Ye,ht,ut){Be?Ee(Be):Ye&&Ee(null,{vectorTile:new _.vectorTile.VectorTile(new _.pbf(Ye)),rawData:Ye,cacheControl:ht,expires:ut})});return function(){Oe.cancel(),Ee()}}be.prototype.parse=function(ve,Ee,Oe,Be,Ye){var ht=this;this.status="parsing",this.data=ve,this.collisionBoxArray=new _.CollisionBoxArray;var ut=new _.DictionaryCoder(Object.keys(ve.layers).sort()),Ie=new _.FeatureIndex(this.tileID,this.promoteId);Ie.bucketLayerIDs=[];var Ne,xt,Vt,Et,St={},Qt={featureIndex:Ie,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Oe},we=Ee.familiesBySource[this.source];for(var Pe in we){var Ae=ve.layers[Pe];if(Ae){Ae.version===1&&_.warnOnce('Vector tile source "'+this.source+'" layer "'+Pe+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Q=ut.encode(Pe),Z=[],ue=0;ue<Ae.length;ue++){var Fe=Ae.feature(ue),it=Ie.getId(Fe,Pe);Z.push({feature:Fe,id:it,index:ue,sourceLayerIndex:Q})}for(var Mt=0,Wt=we[Pe];Mt<Wt.length;Mt+=1){var dr=Wt[Mt],Sr=dr[0];Sr.minzoom&&this.zoom<Math.floor(Sr.minzoom)||Sr.maxzoom&&this.zoom>=Sr.maxzoom||Sr.visibility!=="none"&&(xe(dr,this.zoom,Oe),(St[Sr.id]=Sr.createBucket({index:Ie.bucketLayerIDs.length,layers:dr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Q,sourceID:this.source})).populate(Z,Qt,this.tileID.canonical),Ie.bucketLayerIDs.push(dr.map(function(Lr){return Lr.id})))}}}var Zt=_.mapObject(Qt.glyphDependencies,function(Lr){return Object.keys(Lr).map(Number)});Object.keys(Zt).length?Be.send("getGlyphs",{uid:this.uid,stacks:Zt},function(Lr,cn){Ne||(Ne=Lr,xt=cn,Br.call(ht))}):xt={};var tn=Object.keys(Qt.iconDependencies);tn.length?Be.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"icons"},function(Lr,cn){Ne||(Ne=Lr,Vt=cn,Br.call(ht))}):Vt={};var un=Object.keys(Qt.patternDependencies);function Br(){if(Ne)return Ye(Ne);if(xt&&Vt&&Et){var Lr=new he(xt),cn=new _.ImageAtlas(Vt,Et);for(var Mn in St){var Ji=St[Mn];Ji instanceof _.SymbolBucket?(xe(Ji.layers,this.zoom,Oe),_.performSymbolLayout(Ji,xt,Lr.positions,Vt,cn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ji.hasPattern&&(Ji instanceof _.LineBucket||Ji instanceof _.FillBucket||Ji instanceof _.FillExtrusionBucket)&&(xe(Ji.layers,this.zoom,Oe),Ji.addFeatures(Qt,this.tileID.canonical,cn.patternPositions))}this.status="done",Ye(null,{buckets:_.values(St).filter(function(zs){return!zs.isEmpty()}),featureIndex:Ie,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Lr.image,imageAtlas:cn,glyphMap:this.returnDependencies?xt:null,iconMap:this.returnDependencies?Vt:null,glyphPositions:this.returnDependencies?Lr.positions:null})}}un.length?Be.send("getImages",{icons:un,source:this.source,tileID:this.tileID,type:"patterns"},function(Lr,cn){Ne||(Ne=Lr,Et=cn,Br.call(ht))}):Et={},Br.call(this)};var R=function(ve,Ee,Oe,Be){this.actor=ve,this.layerIndex=Ee,this.availableImages=Oe,this.loadVectorData=Be||We,this.loading={},this.loaded={}};R.prototype.loadTile=function(ve,Ee){var Oe=this,Be=ve.uid;this.loading||(this.loading={});var Ye=!!(ve&&ve.request&&ve.request.collectResourceTiming)&&new _.RequestPerformance(ve.request),ht=this.loading[Be]=new be(ve);ht.abort=this.loadVectorData(ve,function(ut,Ie){if(delete Oe.loading[Be],ut||!Ie)return ht.status="done",Oe.loaded[Be]=ht,Ee(ut);var Ne=Ie.rawData,xt={};Ie.expires&&(xt.expires=Ie.expires),Ie.cacheControl&&(xt.cacheControl=Ie.cacheControl);var Vt={};if(Ye){var Et=Ye.finish();Et&&(Vt.resourceTiming=JSON.parse(JSON.stringify(Et)))}ht.vectorTile=Ie.vectorTile,ht.parse(Ie.vectorTile,Oe.layerIndex,Oe.availableImages,Oe.actor,function(St,Qt){if(St||!Qt)return Ee(St);Ee(null,_.extend({rawTileData:Ne.slice(0)},Qt,xt,Vt))}),Oe.loaded=Oe.loaded||{},Oe.loaded[Be]=ht})},R.prototype.reloadTile=function(ve,Ee){var Oe=this,Be=this.loaded,Ye=ve.uid,ht=this;if(Be&&Be[Ye]){var ut=Be[Ye];ut.showCollisionBoxes=ve.showCollisionBoxes;var Ie=function(Ne,xt){var Vt=ut.reloadCallback;Vt&&(delete ut.reloadCallback,ut.parse(ut.vectorTile,ht.layerIndex,Oe.availableImages,ht.actor,Vt)),Ee(Ne,xt)};ut.status==="parsing"?ut.reloadCallback=Ie:ut.status==="done"&&(ut.vectorTile?ut.parse(ut.vectorTile,this.layerIndex,this.availableImages,this.actor,Ie):Ie())}},R.prototype.abortTile=function(ve,Ee){var Oe=this.loading,Be=ve.uid;Oe&&Oe[Be]&&Oe[Be].abort&&(Oe[Be].abort(),delete Oe[Be]),Ee()},R.prototype.removeTile=function(ve,Ee){var Oe=this.loaded,Be=ve.uid;Oe&&Oe[Be]&&delete Oe[Be],Ee()};var G=_.window.ImageBitmap,ae=function(){this.loaded={}};function Ce(ve,Ee){if(ve.length!==0){re(ve[0],Ee);for(var Oe=1;Oe<ve.length;Oe++)re(ve[Oe],!Ee)}}function re(ve,Ee){for(var Oe=0,Be=0,Ye=0,ht=ve.length,ut=ht-1;Ye<ht;ut=Ye++){var Ie=(ve[Ye][0]-ve[ut][0])*(ve[ut][1]+ve[Ye][1]),Ne=Oe+Ie;Be+=Math.abs(Oe)>=Math.abs(Ie)?Oe-Ne+Ie:Ie-Ne+Oe,Oe=Ne}Oe+Be>=0!=!!Ee&&ve.reverse()}ae.prototype.loadTile=function(ve,Ee){var Oe=ve.uid,Be=ve.encoding,Ye=ve.rawImageData,ht=G&&Ye instanceof G?this.getImageData(Ye):Ye,ut=new _.DEMData(Oe,ht,Be);this.loaded=this.loaded||{},this.loaded[Oe]=ut,Ee(null,ut)},ae.prototype.getImageData=function(ve){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ve.width,ve.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ve.width,this.offscreenCanvas.height=ve.height,this.offscreenCanvasContext.drawImage(ve,0,0,ve.width,ve.height);var Ee=this.offscreenCanvasContext.getImageData(-1,-1,ve.width+2,ve.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new _.RGBAImage({width:Ee.width,height:Ee.height},Ee.data)},ae.prototype.removeTile=function(ve){var Ee=this.loaded,Oe=ve.uid;Ee&&Ee[Oe]&&delete Ee[Oe]};var ie=_.vectorTile.VectorTileFeature.prototype.toGeoJSON,pe=function(ve){this._feature=ve,this.extent=_.EXTENT,this.type=ve.type,this.properties=ve.tags,"id"in ve&&!isNaN(ve.id)&&(this.id=parseInt(ve.id,10))};pe.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ve=[],Ee=0,Oe=this._feature.geometry;Ee<Oe.length;Ee+=1){var Be=Oe[Ee];ve.push([new _.Point$1(Be[0],Be[1])])}return ve}for(var Ye=[],ht=0,ut=this._feature.geometry;ht<ut.length;ht+=1){for(var Ie=[],Ne=0,xt=ut[ht];Ne<xt.length;Ne+=1){var Vt=xt[Ne];Ie.push(new _.Point$1(Vt[0],Vt[1]))}Ye.push(Ie)}return Ye},pe.prototype.toGeoJSON=function(ve,Ee,Oe){return ie.call(this,ve,Ee,Oe)};var je=function(ve){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=_.EXTENT,this.length=ve.length,this._features=ve};je.prototype.feature=function(ve){return new pe(this._features[ve])};var K=_.vectorTile.VectorTileFeature,W=Ze;function Ze(ve,Ee){this.options=Ee||{},this.features=ve,this.length=ve.length}function ot(ve,Ee){this.id=typeof ve.id=="number"?ve.id:void 0,this.type=ve.type,this.rawGeometry=ve.type===1?[ve.geometry]:ve.geometry,this.properties=ve.tags,this.extent=Ee||4096}Ze.prototype.feature=function(ve){return new ot(this.features[ve],this.options.extent)},ot.prototype.loadGeometry=function(){var ve=this.rawGeometry;this.geometry=[];for(var Ee=0;Ee<ve.length;Ee++){for(var Oe=ve[Ee],Be=[],Ye=0;Ye<Oe.length;Ye++)Be.push(new _.Point$1(Oe[Ye][0],Oe[Ye][1]));this.geometry.push(Be)}return this.geometry},ot.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ve=this.geometry,Ee=1/0,Oe=-1/0,Be=1/0,Ye=-1/0,ht=0;ht<ve.length;ht++)for(var ut=ve[ht],Ie=0;Ie<ut.length;Ie++){var Ne=ut[Ie];Ee=Math.min(Ee,Ne.x),Oe=Math.max(Oe,Ne.x),Be=Math.min(Be,Ne.y),Ye=Math.max(Ye,Ne.y)}return[Ee,Be,Oe,Ye]},ot.prototype.toGeoJSON=K.prototype.toGeoJSON;var et=Tt,Pt=W;function Tt(ve){var Ee=new _.pbf;return function(Oe,Be){for(var Ye in Oe.layers)Be.writeMessage(3,Ht,Oe.layers[Ye])}(ve,Ee),Ee.finish()}function Ht(ve,Ee){var Oe;Ee.writeVarintField(15,ve.version||1),Ee.writeStringField(1,ve.name||""),Ee.writeVarintField(5,ve.extent||4096);var Be={keys:[],values:[],keycache:{},valuecache:{}};for(Oe=0;Oe<ve.length;Oe++)Be.feature=ve.feature(Oe),Ee.writeMessage(2,Lt,Be);var Ye=Be.keys;for(Oe=0;Oe<Ye.length;Oe++)Ee.writeStringField(3,Ye[Oe]);var ht=Be.values;for(Oe=0;Oe<ht.length;Oe++)Ee.writeMessage(4,kt,ht[Oe])}function Lt(ve,Ee){var Oe=ve.feature;Oe.id!==void 0&&Ee.writeVarintField(1,Oe.id),Ee.writeMessage(2,tr,ve),Ee.writeVarintField(3,Oe.type),Ee.writeMessage(4,Kt,Oe)}function tr(ve,Ee){var Oe=ve.feature,Be=ve.keys,Ye=ve.values,ht=ve.keycache,ut=ve.valuecache;for(var Ie in Oe.properties){var Ne=ht[Ie];Ne===void 0&&(Be.push(Ie),ht[Ie]=Ne=Be.length-1),Ee.writeVarint(Ne);var xt=Oe.properties[Ie],Vt=typeof xt;Vt!=="string"&&Vt!=="boolean"&&Vt!=="number"&&(xt=JSON.stringify(xt));var Et=Vt+":"+xt,St=ut[Et];St===void 0&&(Ye.push(xt),ut[Et]=St=Ye.length-1),Ee.writeVarint(St)}}function or(ve,Ee){return(Ee<<3)+(7&ve)}function br(ve){return ve<<1^ve>>31}function Kt(ve,Ee){for(var Oe=ve.loadGeometry(),Be=ve.type,Ye=0,ht=0,ut=Oe.length,Ie=0;Ie<ut;Ie++){var Ne=Oe[Ie],xt=1;Be===1&&(xt=Ne.length),Ee.writeVarint(or(1,xt));for(var Vt=Be===3?Ne.length-1:Ne.length,Et=0;Et<Vt;Et++){Et===1&&Be!==1&&Ee.writeVarint(or(2,Vt-1));var St=Ne[Et].x-Ye,Qt=Ne[Et].y-ht;Ee.writeVarint(br(St)),Ee.writeVarint(br(Qt)),Ye+=St,ht+=Qt}Be===3&&Ee.writeVarint(or(7,1))}}function kt(ve,Ee){var Oe=typeof ve;Oe==="string"?Ee.writeStringField(1,ve):Oe==="boolean"?Ee.writeBooleanField(7,ve):Oe==="number"&&(ve%1!=0?Ee.writeDoubleField(3,ve):ve<0?Ee.writeSVarintField(6,ve):Ee.writeVarintField(5,ve))}function yt(ve,Ee,Oe,Be){rt(ve,Oe,Be),rt(Ee,2*Oe,2*Be),rt(Ee,2*Oe+1,2*Be+1)}function rt(ve,Ee,Oe){var Be=ve[Ee];ve[Ee]=ve[Oe],ve[Oe]=Be}function oe(ve,Ee,Oe,Be){var Ye=ve-Oe,ht=Ee-Be;return Ye*Ye+ht*ht}et.fromVectorTileJs=Tt,et.fromGeojsonVt=function(ve,Ee){Ee=Ee||{};var Oe={};for(var Be in ve)Oe[Be]=new W(ve[Be].features,Ee),Oe[Be].name=Be,Oe[Be].version=Ee.version,Oe[Be].extent=Ee.extent;return Tt({layers:Oe})},et.GeoJSONWrapper=Pt;var ke=function(ve){return ve[0]},qe=function(ve){return ve[1]},Yt=function(ve,Ee,Oe,Be,Ye){Ee===void 0&&(Ee=ke),Oe===void 0&&(Oe=qe),Be===void 0&&(Be=64),Ye===void 0&&(Ye=Float64Array),this.nodeSize=Be,this.points=ve;for(var ht=ve.length<65536?Uint16Array:Uint32Array,ut=this.ids=new ht(ve.length),Ie=this.coords=new Ye(2*ve.length),Ne=0;Ne<ve.length;Ne++)ut[Ne]=Ne,Ie[2*Ne]=Ee(ve[Ne]),Ie[2*Ne+1]=Oe(ve[Ne]);(function xt(Vt,Et,St,Qt,we,Pe){if(!(we-Qt<=St)){var Ae=Qt+we>>1;(function Q(Z,ue,Fe,it,Mt,Wt){for(;Mt>it;){if(Mt-it>600){var dr=Mt-it+1,Sr=Fe-it+1,Zt=Math.log(dr),tn=.5*Math.exp(2*Zt/3),un=.5*Math.sqrt(Zt*tn*(dr-tn)/dr)*(Sr-dr/2<0?-1:1);Q(Z,ue,Fe,Math.max(it,Math.floor(Fe-Sr*tn/dr+un)),Math.min(Mt,Math.floor(Fe+(dr-Sr)*tn/dr+un)),Wt)}var Br=ue[2*Fe+Wt],Lr=it,cn=Mt;for(yt(Z,ue,it,Fe),ue[2*Mt+Wt]>Br&&yt(Z,ue,it,Mt);Lr<cn;){for(yt(Z,ue,Lr,cn),Lr++,cn--;ue[2*Lr+Wt]<Br;)Lr++;for(;ue[2*cn+Wt]>Br;)cn--}ue[2*it+Wt]===Br?yt(Z,ue,it,cn):yt(Z,ue,++cn,Mt),cn<=Fe&&(it=cn+1),Fe<=cn&&(Mt=cn-1)}})(Vt,Et,Ae,Qt,we,Pe%2),xt(Vt,Et,St,Qt,Ae-1,Pe+1),xt(Vt,Et,St,Ae+1,we,Pe+1)}})(ut,Ie,Be,0,ut.length-1,0)};Yt.prototype.range=function(ve,Ee,Oe,Be){return function(Ye,ht,ut,Ie,Ne,xt,Vt){for(var Et,St,Qt=[0,Ye.length-1,0],we=[];Qt.length;){var Pe=Qt.pop(),Ae=Qt.pop(),Q=Qt.pop();if(Ae-Q<=Vt)for(var Z=Q;Z<=Ae;Z++)St=ht[2*Z+1],(Et=ht[2*Z])>=ut&&Et<=Ne&&St>=Ie&&St<=xt&&we.push(Ye[Z]);else{var ue=Math.floor((Q+Ae)/2);St=ht[2*ue+1],(Et=ht[2*ue])>=ut&&Et<=Ne&&St>=Ie&&St<=xt&&we.push(Ye[ue]);var Fe=(Pe+1)%2;(Pe===0?ut<=Et:Ie<=St)&&(Qt.push(Q),Qt.push(ue-1),Qt.push(Fe)),(Pe===0?Ne>=Et:xt>=St)&&(Qt.push(ue+1),Qt.push(Ae),Qt.push(Fe))}}return we}(this.ids,this.coords,ve,Ee,Oe,Be,this.nodeSize)},Yt.prototype.within=function(ve,Ee,Oe){return function(Be,Ye,ht,ut,Ie,Ne){for(var xt=[0,Be.length-1,0],Vt=[],Et=Ie*Ie;xt.length;){var St=xt.pop(),Qt=xt.pop(),we=xt.pop();if(Qt-we<=Ne)for(var Pe=we;Pe<=Qt;Pe++)oe(Ye[2*Pe],Ye[2*Pe+1],ht,ut)<=Et&&Vt.push(Be[Pe]);else{var Ae=Math.floor((we+Qt)/2),Q=Ye[2*Ae],Z=Ye[2*Ae+1];oe(Q,Z,ht,ut)<=Et&&Vt.push(Be[Ae]);var ue=(St+1)%2;(St===0?ht-Ie<=Q:ut-Ie<=Z)&&(xt.push(we),xt.push(Ae-1),xt.push(ue)),(St===0?ht+Ie>=Q:ut+Ie>=Z)&&(xt.push(Ae+1),xt.push(Qt),xt.push(ue))}}return Vt}(this.ids,this.coords,ve,Ee,Oe,this.nodeSize)};var st={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ve){return ve}},It=function(ve){this.options=at(Object.create(st),ve),this.trees=new Array(this.options.maxZoom+1)};function Ct(ve,Ee,Oe,Be,Ye){return{x:ve,y:Ee,zoom:1/0,id:Oe,parentId:-1,numPoints:Be,properties:Ye}}function ur(ve,Ee){var Oe=ve.geometry.coordinates,Be=Oe[1];return{x:fr(Oe[0]),y:Ve(Be),zoom:1/0,index:Ee,parentId:-1}}function sr(ve){return{type:"Feature",id:ve.id,properties:xr(ve),geometry:{type:"Point",coordinates:[(Be=ve.x,360*(Be-.5)),(Ee=ve.y,Oe=(180-360*Ee)*Math.PI/180,360*Math.atan(Math.exp(Oe))/Math.PI-90)]}};var Ee,Oe,Be}function xr(ve){var Ee=ve.numPoints,Oe=Ee>=1e4?Math.round(Ee/1e3)+"k":Ee>=1e3?Math.round(Ee/100)/10+"k":Ee;return at(at({},ve.properties),{cluster:!0,cluster_id:ve.id,point_count:Ee,point_count_abbreviated:Oe})}function fr(ve){return ve/360+.5}function Ve(ve){var Ee=Math.sin(ve*Math.PI/180),Oe=.5-.25*Math.log((1+Ee)/(1-Ee))/Math.PI;return Oe<0?0:Oe>1?1:Oe}function at(ve,Ee){for(var Oe in Ee)ve[Oe]=Ee[Oe];return ve}function Ut(ve){return ve.x}function vr(ve){return ve.y}function Xn(ve,Ee,Oe,Be,Ye,ht){var ut=Ye-Oe,Ie=ht-Be;if(ut!==0||Ie!==0){var Ne=((ve-Oe)*ut+(Ee-Be)*Ie)/(ut*ut+Ie*Ie);Ne>1?(Oe=Ye,Be=ht):Ne>0&&(Oe+=ut*Ne,Be+=Ie*Ne)}return(ut=ve-Oe)*ut+(Ie=Ee-Be)*Ie}function _r(ve,Ee,Oe,Be){var Ye={id:ve===void 0?null:ve,type:Ee,geometry:Oe,tags:Be,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ht){var ut=ht.geometry,Ie=ht.type;if(Ie==="Point"||Ie==="MultiPoint"||Ie==="LineString")$r(ht,ut);else if(Ie==="Polygon"||Ie==="MultiLineString")for(var Ne=0;Ne<ut.length;Ne++)$r(ht,ut[Ne]);else if(Ie==="MultiPolygon")for(Ne=0;Ne<ut.length;Ne++)for(var xt=0;xt<ut[Ne].length;xt++)$r(ht,ut[Ne][xt])}(Ye),Ye}function $r(ve,Ee){for(var Oe=0;Oe<Ee.length;Oe+=3)ve.minX=Math.min(ve.minX,Ee[Oe]),ve.minY=Math.min(ve.minY,Ee[Oe+1]),ve.maxX=Math.max(ve.maxX,Ee[Oe]),ve.maxY=Math.max(ve.maxY,Ee[Oe+1])}function gt(ve,Ee,Oe,Be){if(Ee.geometry){var Ye=Ee.geometry.coordinates,ht=Ee.geometry.type,ut=Math.pow(Oe.tolerance/((1<<Oe.maxZoom)*Oe.extent),2),Ie=[],Ne=Ee.id;if(Oe.promoteId?Ne=Ee.properties[Oe.promoteId]:Oe.generateId&&(Ne=Be||0),ht==="Point")Dt(Ye,Ie);else if(ht==="MultiPoint")for(var xt=0;xt<Ye.length;xt++)Dt(Ye[xt],Ie);else if(ht==="LineString")hr(Ye,Ie,ut,!1);else if(ht==="MultiLineString"){if(Oe.lineMetrics){for(xt=0;xt<Ye.length;xt++)hr(Ye[xt],Ie=[],ut,!1),ve.push(_r(Ne,"LineString",Ie,Ee.properties));return}zr(Ye,Ie,ut,!1)}else if(ht==="Polygon")zr(Ye,Ie,ut,!0);else{if(ht!=="MultiPolygon"){if(ht==="GeometryCollection"){for(xt=0;xt<Ee.geometry.geometries.length;xt++)gt(ve,{id:Ne,geometry:Ee.geometry.geometries[xt],properties:Ee.properties},Oe,Be);return}throw new Error("Input data is not a valid GeoJSON object.")}for(xt=0;xt<Ye.length;xt++){var Vt=[];zr(Ye[xt],Vt,ut,!0),Ie.push(Vt)}}ve.push(_r(Ne,ht,Ie,Ee.properties))}}function Dt(ve,Ee){Ee.push(wr(ve[0])),Ee.push(Gr(ve[1])),Ee.push(0)}function hr(ve,Ee,Oe,Be){for(var Ye,ht,ut=0,Ie=0;Ie<ve.length;Ie++){var Ne=wr(ve[Ie][0]),xt=Gr(ve[Ie][1]);Ee.push(Ne),Ee.push(xt),Ee.push(0),Ie>0&&(ut+=Be?(Ye*xt-Ne*ht)/2:Math.sqrt(Math.pow(Ne-Ye,2)+Math.pow(xt-ht,2))),Ye=Ne,ht=xt}var Vt=Ee.length-3;Ee[2]=1,function Et(St,Qt,we,Pe){for(var Ae,Q=Pe,Z=we-Qt>>1,ue=we-Qt,Fe=St[Qt],it=St[Qt+1],Mt=St[we],Wt=St[we+1],dr=Qt+3;dr<we;dr+=3){var Sr=Xn(St[dr],St[dr+1],Fe,it,Mt,Wt);if(Sr>Q)Ae=dr,Q=Sr;else if(Sr===Q){var Zt=Math.abs(dr-Z);Zt<ue&&(Ae=dr,ue=Zt)}}Q>Pe&&(Ae-Qt>3&&Et(St,Qt,Ae,Pe),St[Ae+2]=Q,we-Ae>3&&Et(St,Ae,we,Pe))}(Ee,0,Vt,Oe),Ee[Vt+2]=1,Ee.size=Math.abs(ut),Ee.start=0,Ee.end=Ee.size}function zr(ve,Ee,Oe,Be){for(var Ye=0;Ye<ve.length;Ye++){var ht=[];hr(ve[Ye],ht,Oe,Be),Ee.push(ht)}}function wr(ve){return ve/360+.5}function Gr(ve){var Ee=Math.sin(ve*Math.PI/180),Oe=.5-.25*Math.log((1+Ee)/(1-Ee))/Math.PI;return Oe<0?0:Oe>1?1:Oe}function mn(ve,Ee,Oe,Be,Ye,ht,ut,Ie){if(Be/=Ee,ht>=(Oe/=Ee)&&ut<Be)return ve;if(ut<Oe||ht>=Be)return null;for(var Ne=[],xt=0;xt<ve.length;xt++){var Vt=ve[xt],Et=Vt.geometry,St=Vt.type,Qt=Ye===0?Vt.minX:Vt.minY,we=Ye===0?Vt.maxX:Vt.maxY;if(Qt>=Oe&&we<Be)Ne.push(Vt);else if(!(we<Oe||Qt>=Be)){var Pe=[];if(St==="Point"||St==="MultiPoint")ai(Et,Pe,Oe,Be,Ye);else if(St==="LineString")Ue(Et,Pe,Oe,Be,Ye,!1,Ie.lineMetrics);else if(St==="MultiLineString")bt(Et,Pe,Oe,Be,Ye,!1);else if(St==="Polygon")bt(Et,Pe,Oe,Be,Ye,!0);else if(St==="MultiPolygon")for(var Ae=0;Ae<Et.length;Ae++){var Q=[];bt(Et[Ae],Q,Oe,Be,Ye,!0),Q.length&&Pe.push(Q)}if(Pe.length){if(Ie.lineMetrics&&St==="LineString"){for(Ae=0;Ae<Pe.length;Ae++)Ne.push(_r(Vt.id,St,Pe[Ae],Vt.tags));continue}St!=="LineString"&&St!=="MultiLineString"||(Pe.length===1?(St="LineString",Pe=Pe[0]):St="MultiLineString"),St!=="Point"&&St!=="MultiPoint"||(St=Pe.length===3?"Point":"MultiPoint"),Ne.push(_r(Vt.id,St,Pe,Vt.tags))}}}return Ne.length?Ne:null}function ai(ve,Ee,Oe,Be,Ye){for(var ht=0;ht<ve.length;ht+=3){var ut=ve[ht+Ye];ut>=Oe&&ut<=Be&&(Ee.push(ve[ht]),Ee.push(ve[ht+1]),Ee.push(ve[ht+2]))}}function Ue(ve,Ee,Oe,Be,Ye,ht,ut){for(var Ie,Ne,xt=Xe(ve),Vt=Ye===0?gr:rr,Et=ve.start,St=0;St<ve.length-3;St+=3){var Qt=ve[St],we=ve[St+1],Pe=ve[St+2],Ae=ve[St+3],Q=ve[St+4],Z=Ye===0?Qt:we,ue=Ye===0?Ae:Q,Fe=!1;ut&&(Ie=Math.sqrt(Math.pow(Qt-Ae,2)+Math.pow(we-Q,2))),Z<Oe?ue>Oe&&(Ne=Vt(xt,Qt,we,Ae,Q,Oe),ut&&(xt.start=Et+Ie*Ne)):Z>Be?ue<Be&&(Ne=Vt(xt,Qt,we,Ae,Q,Be),ut&&(xt.start=Et+Ie*Ne)):Gt(xt,Qt,we,Pe),ue<Oe&&Z>=Oe&&(Ne=Vt(xt,Qt,we,Ae,Q,Oe),Fe=!0),ue>Be&&Z<=Be&&(Ne=Vt(xt,Qt,we,Ae,Q,Be),Fe=!0),!ht&&Fe&&(ut&&(xt.end=Et+Ie*Ne),Ee.push(xt),xt=Xe(ve)),ut&&(Et+=Ie)}var it=ve.length-3;Qt=ve[it],we=ve[it+1],Pe=ve[it+2],(Z=Ye===0?Qt:we)>=Oe&&Z<=Be&&Gt(xt,Qt,we,Pe),it=xt.length-3,ht&&it>=3&&(xt[it]!==xt[0]||xt[it+1]!==xt[1])&&Gt(xt,xt[0],xt[1],xt[2]),xt.length&&Ee.push(xt)}function Xe(ve){var Ee=[];return Ee.size=ve.size,Ee.start=ve.start,Ee.end=ve.end,Ee}function bt(ve,Ee,Oe,Be,Ye,ht){for(var ut=0;ut<ve.length;ut++)Ue(ve[ut],Ee,Oe,Be,Ye,ht,!1)}function Gt(ve,Ee,Oe,Be){ve.push(Ee),ve.push(Oe),ve.push(Be)}function gr(ve,Ee,Oe,Be,Ye,ht){var ut=(ht-Ee)/(Be-Ee);return ve.push(ht),ve.push(Oe+(Ye-Oe)*ut),ve.push(1),ut}function rr(ve,Ee,Oe,Be,Ye,ht){var ut=(ht-Oe)/(Ye-Oe);return ve.push(Ee+(Be-Ee)*ut),ve.push(ht),ve.push(1),ut}function Ur(ve,Ee){for(var Oe=[],Be=0;Be<ve.length;Be++){var Ye,ht=ve[Be],ut=ht.type;if(ut==="Point"||ut==="MultiPoint"||ut==="LineString")Ye=Fr(ht.geometry,Ee);else if(ut==="MultiLineString"||ut==="Polygon"){Ye=[];for(var Ie=0;Ie<ht.geometry.length;Ie++)Ye.push(Fr(ht.geometry[Ie],Ee))}else if(ut==="MultiPolygon")for(Ye=[],Ie=0;Ie<ht.geometry.length;Ie++){for(var Ne=[],xt=0;xt<ht.geometry[Ie].length;xt++)Ne.push(Fr(ht.geometry[Ie][xt],Ee));Ye.push(Ne)}Oe.push(_r(ht.id,ut,Ye,ht.tags))}return Oe}function Fr(ve,Ee){var Oe=[];Oe.size=ve.size,ve.start!==void 0&&(Oe.start=ve.start,Oe.end=ve.end);for(var Be=0;Be<ve.length;Be+=3)Oe.push(ve[Be]+Ee,ve[Be+1],ve[Be+2]);return Oe}function vn(ve,Ee){if(ve.transformed)return ve;var Oe,Be,Ye,ht=1<<ve.z,ut=ve.x,Ie=ve.y;for(Oe=0;Oe<ve.features.length;Oe++){var Ne=ve.features[Oe],xt=Ne.geometry,Vt=Ne.type;if(Ne.geometry=[],Vt===1)for(Be=0;Be<xt.length;Be+=2)Ne.geometry.push(xn(xt[Be],xt[Be+1],Ee,ht,ut,Ie));else for(Be=0;Be<xt.length;Be++){var Et=[];for(Ye=0;Ye<xt[Be].length;Ye+=2)Et.push(xn(xt[Be][Ye],xt[Be][Ye+1],Ee,ht,ut,Ie));Ne.geometry.push(Et)}}return ve.transformed=!0,ve}function xn(ve,Ee,Oe,Be,Ye,ht){return[Math.round(Oe*(ve*Be-Ye)),Math.round(Oe*(Ee*Be-ht))]}function In(ve,Ee,Oe,Be,Ye){for(var ht=Ee===Ye.maxZoom?0:Ye.tolerance/((1<<Ee)*Ye.extent),ut={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Oe,y:Be,z:Ee,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ie=0;Ie<ve.length;Ie++){ut.numFeatures++,Pi(ut,ve[Ie],ht,Ye);var Ne=ve[Ie].minX,xt=ve[Ie].minY,Vt=ve[Ie].maxX,Et=ve[Ie].maxY;Ne<ut.minX&&(ut.minX=Ne),xt<ut.minY&&(ut.minY=xt),Vt>ut.maxX&&(ut.maxX=Vt),Et>ut.maxY&&(ut.maxY=Et)}return ut}function Pi(ve,Ee,Oe,Be){var Ye=Ee.geometry,ht=Ee.type,ut=[];if(ht==="Point"||ht==="MultiPoint")for(var Ie=0;Ie<Ye.length;Ie+=3)ut.push(Ye[Ie]),ut.push(Ye[Ie+1]),ve.numPoints++,ve.numSimplified++;else if(ht==="LineString")Vn(ut,Ye,ve,Oe,!1,!1);else if(ht==="MultiLineString"||ht==="Polygon")for(Ie=0;Ie<Ye.length;Ie++)Vn(ut,Ye[Ie],ve,Oe,ht==="Polygon",Ie===0);else if(ht==="MultiPolygon")for(var Ne=0;Ne<Ye.length;Ne++){var xt=Ye[Ne];for(Ie=0;Ie<xt.length;Ie++)Vn(ut,xt[Ie],ve,Oe,!0,Ie===0)}if(ut.length){var Vt=Ee.tags||null;if(ht==="LineString"&&Be.lineMetrics){for(var Et in Vt={},Ee.tags)Vt[Et]=Ee.tags[Et];Vt.mapbox_clip_start=Ye.start/Ye.size,Vt.mapbox_clip_end=Ye.end/Ye.size}var St={geometry:ut,type:ht==="Polygon"||ht==="MultiPolygon"?3:ht==="LineString"||ht==="MultiLineString"?2:1,tags:Vt};Ee.id!==null&&(St.id=Ee.id),ve.features.push(St)}}function Vn(ve,Ee,Oe,Be,Ye,ht){var ut=Be*Be;if(Be>0&&Ee.size<(Ye?ut:Be))Oe.numPoints+=Ee.length/3;else{for(var Ie=[],Ne=0;Ne<Ee.length;Ne+=3)(Be===0||Ee[Ne+2]>ut)&&(Oe.numSimplified++,Ie.push(Ee[Ne]),Ie.push(Ee[Ne+1])),Oe.numPoints++;Ye&&function(xt,Vt){for(var Et=0,St=0,Qt=xt.length,we=Qt-2;St<Qt;we=St,St+=2)Et+=(xt[St]-xt[we])*(xt[St+1]+xt[we+1]);if(Et>0===Vt)for(St=0,Qt=xt.length;St<Qt/2;St+=2){var Pe=xt[St],Ae=xt[St+1];xt[St]=xt[Qt-2-St],xt[St+1]=xt[Qt-1-St],xt[Qt-2-St]=Pe,xt[Qt-1-St]=Ae}}(Ie,ht),ve.push(Ie)}}function Oo(ve,Ee){var Oe=(Ee=this.options=function(Ye,ht){for(var ut in ht)Ye[ut]=ht[ut];return Ye}(Object.create(this.options),Ee)).debug;if(Oe&&console.time("preprocess data"),Ee.maxZoom<0||Ee.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ee.promoteId&&Ee.generateId)throw new Error("promoteId and generateId cannot be used together.");var Be=function(Ye,ht){var ut=[];if(Ye.type==="FeatureCollection")for(var Ie=0;Ie<Ye.features.length;Ie++)gt(ut,Ye.features[Ie],ht,Ie);else gt(ut,Ye.type==="Feature"?Ye:{geometry:Ye},ht);return ut}(ve,Ee);this.tiles={},this.tileCoords=[],Oe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ee.indexMaxZoom,Ee.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Be=function(Ye,ht){var ut=ht.buffer/ht.extent,Ie=Ye,Ne=mn(Ye,1,-1-ut,ut,0,-1,2,ht),xt=mn(Ye,1,1-ut,2+ut,0,-1,2,ht);return(Ne||xt)&&(Ie=mn(Ye,1,-ut,1+ut,0,-1,2,ht)||[],Ne&&(Ie=Ur(Ne,1).concat(Ie)),xt&&(Ie=Ie.concat(Ur(xt,-1)))),Ie}(Be,Ee)).length&&this.splitTile(Be,0,0,0),Oe&&(Be.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function $n(ve,Ee,Oe){return 32*((1<<ve)*Oe+Ee)+ve}function Xi(ve,Ee){var Oe=ve.tileID.canonical;if(!this._geoJSONIndex)return Ee(null,null);var Be=this._geoJSONIndex.getTile(Oe.z,Oe.x,Oe.y);if(!Be)return Ee(null,null);var Ye=new je(Be.features),ht=et(Ye);ht.byteOffset===0&&ht.byteLength===ht.buffer.byteLength||(ht=new Uint8Array(ht)),Ee(null,{vectorTile:Ye,rawData:ht.buffer})}It.prototype.load=function(ve){var Ee=this.options,Oe=Ee.log,Be=Ee.minZoom,Ye=Ee.maxZoom,ht=Ee.nodeSize;Oe&&console.time("total time");var ut="prepare "+ve.length+" points";Oe&&console.time(ut),this.points=ve;for(var Ie=[],Ne=0;Ne<ve.length;Ne++)ve[Ne].geometry&&Ie.push(ur(ve[Ne],Ne));this.trees[Ye+1]=new Yt(Ie,Ut,vr,ht,Float32Array),Oe&&console.timeEnd(ut);for(var xt=Ye;xt>=Be;xt--){var Vt=+Date.now();Ie=this._cluster(Ie,xt),this.trees[xt]=new Yt(Ie,Ut,vr,ht,Float32Array),Oe&&console.log("z%d: %d clusters in %dms",xt,Ie.length,+Date.now()-Vt)}return Oe&&console.timeEnd("total time"),this},It.prototype.getClusters=function(ve,Ee){var Oe=((ve[0]+180)%360+360)%360-180,Be=Math.max(-90,Math.min(90,ve[1])),Ye=ve[2]===180?180:((ve[2]+180)%360+360)%360-180,ht=Math.max(-90,Math.min(90,ve[3]));if(ve[2]-ve[0]>=360)Oe=-180,Ye=180;else if(Oe>Ye){var ut=this.getClusters([Oe,Be,180,ht],Ee),Ie=this.getClusters([-180,Be,Ye,ht],Ee);return ut.concat(Ie)}for(var Ne=this.trees[this._limitZoom(Ee)],xt=[],Vt=0,Et=Ne.range(fr(Oe),Ve(ht),fr(Ye),Ve(Be));Vt<Et.length;Vt+=1){var St=Ne.points[Et[Vt]];xt.push(St.numPoints?sr(St):this.points[St.index])}return xt},It.prototype.getChildren=function(ve){var Ee=this._getOriginId(ve),Oe=this._getOriginZoom(ve),Be="No cluster with the specified id.",Ye=this.trees[Oe];if(!Ye)throw new Error(Be);var ht=Ye.points[Ee];if(!ht)throw new Error(Be);for(var ut=this.options.radius/(this.options.extent*Math.pow(2,Oe-1)),Ie=[],Ne=0,xt=Ye.within(ht.x,ht.y,ut);Ne<xt.length;Ne+=1){var Vt=Ye.points[xt[Ne]];Vt.parentId===ve&&Ie.push(Vt.numPoints?sr(Vt):this.points[Vt.index])}if(Ie.length===0)throw new Error(Be);return Ie},It.prototype.getLeaves=function(ve,Ee,Oe){var Be=[];return this._appendLeaves(Be,ve,Ee=Ee||10,Oe=Oe||0,0),Be},It.prototype.getTile=function(ve,Ee,Oe){var Be=this.trees[this._limitZoom(ve)],Ye=Math.pow(2,ve),ht=this.options,ut=ht.radius/ht.extent,Ie=(Oe-ut)/Ye,Ne=(Oe+1+ut)/Ye,xt={features:[]};return this._addTileFeatures(Be.range((Ee-ut)/Ye,Ie,(Ee+1+ut)/Ye,Ne),Be.points,Ee,Oe,Ye,xt),Ee===0&&this._addTileFeatures(Be.range(1-ut/Ye,Ie,1,Ne),Be.points,Ye,Oe,Ye,xt),Ee===Ye-1&&this._addTileFeatures(Be.range(0,Ie,ut/Ye,Ne),Be.points,-1,Oe,Ye,xt),xt.features.length?xt:null},It.prototype.getClusterExpansionZoom=function(ve){for(var Ee=this._getOriginZoom(ve)-1;Ee<=this.options.maxZoom;){var Oe=this.getChildren(ve);if(Ee++,Oe.length!==1)break;ve=Oe[0].properties.cluster_id}return Ee},It.prototype._appendLeaves=function(ve,Ee,Oe,Be,Ye){for(var ht=0,ut=this.getChildren(Ee);ht<ut.length;ht+=1){var Ie=ut[ht],Ne=Ie.properties;if(Ne&&Ne.cluster?Ye+Ne.point_count<=Be?Ye+=Ne.point_count:Ye=this._appendLeaves(ve,Ne.cluster_id,Oe,Be,Ye):Ye<Be?Ye++:ve.push(Ie),ve.length===Oe)break}return Ye},It.prototype._addTileFeatures=function(ve,Ee,Oe,Be,Ye,ht){for(var ut=0,Ie=ve;ut<Ie.length;ut+=1){var Ne=Ee[Ie[ut]],xt=Ne.numPoints,Vt={type:1,geometry:[[Math.round(this.options.extent*(Ne.x*Ye-Oe)),Math.round(this.options.extent*(Ne.y*Ye-Be))]],tags:xt?xr(Ne):this.points[Ne.index].properties},Et=void 0;xt?Et=Ne.id:this.options.generateId?Et=Ne.index:this.points[Ne.index].id&&(Et=this.points[Ne.index].id),Et!==void 0&&(Vt.id=Et),ht.features.push(Vt)}},It.prototype._limitZoom=function(ve){return Math.max(this.options.minZoom,Math.min(+ve,this.options.maxZoom+1))},It.prototype._cluster=function(ve,Ee){for(var Oe=[],Be=this.options,Ye=Be.reduce,ht=Be.minPoints,ut=Be.radius/(Be.extent*Math.pow(2,Ee)),Ie=0;Ie<ve.length;Ie++){var Ne=ve[Ie];if(!(Ne.zoom<=Ee)){Ne.zoom=Ee;for(var xt=this.trees[Ee+1],Vt=xt.within(Ne.x,Ne.y,ut),Et=Ne.numPoints||1,St=Et,Qt=0,we=Vt;Qt<we.length;Qt+=1){var Pe=xt.points[we[Qt]];Pe.zoom>Ee&&(St+=Pe.numPoints||1)}if(St>=ht){for(var Ae=Ne.x*Et,Q=Ne.y*Et,Z=Ye&&Et>1?this._map(Ne,!0):null,ue=(Ie<<5)+(Ee+1)+this.points.length,Fe=0,it=Vt;Fe<it.length;Fe+=1){var Mt=xt.points[it[Fe]];if(!(Mt.zoom<=Ee)){Mt.zoom=Ee;var Wt=Mt.numPoints||1;Ae+=Mt.x*Wt,Q+=Mt.y*Wt,Mt.parentId=ue,Ye&&(Z||(Z=this._map(Ne,!0)),Ye(Z,this._map(Mt)))}}Ne.parentId=ue,Oe.push(Ct(Ae/St,Q/St,ue,St,Z))}else if(Oe.push(Ne),St>1)for(var dr=0,Sr=Vt;dr<Sr.length;dr+=1){var Zt=xt.points[Sr[dr]];Zt.zoom<=Ee||(Zt.zoom=Ee,Oe.push(Zt))}}}return Oe},It.prototype._getOriginId=function(ve){return ve-this.points.length>>5},It.prototype._getOriginZoom=function(ve){return(ve-this.points.length)%32},It.prototype._map=function(ve,Ee){if(ve.numPoints)return Ee?at({},ve.properties):ve.properties;var Oe=this.points[ve.index].properties,Be=this.options.map(Oe);return Ee&&Be===Oe?at({},Be):Be},Oo.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Oo.prototype.splitTile=function(ve,Ee,Oe,Be,Ye,ht,ut){for(var Ie=[ve,Ee,Oe,Be],Ne=this.options,xt=Ne.debug;Ie.length;){Be=Ie.pop(),Oe=Ie.pop(),Ee=Ie.pop(),ve=Ie.pop();var Vt=1<<Ee,Et=$n(Ee,Oe,Be),St=this.tiles[Et];if(!St&&(xt>1&&console.time("creation"),St=this.tiles[Et]=In(ve,Ee,Oe,Be,Ne),this.tileCoords.push({z:Ee,x:Oe,y:Be}),xt)){xt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ee,Oe,Be,St.numFeatures,St.numPoints,St.numSimplified),console.timeEnd("creation"));var Qt="z"+Ee;this.stats[Qt]=(this.stats[Qt]||0)+1,this.total++}if(St.source=ve,Ye){if(Ee===Ne.maxZoom||Ee===Ye)continue;var we=1<<Ye-Ee;if(Oe!==Math.floor(ht/we)||Be!==Math.floor(ut/we))continue}else if(Ee===Ne.indexMaxZoom||St.numPoints<=Ne.indexMaxPoints)continue;if(St.source=null,ve.length!==0){xt>1&&console.time("clipping");var Pe,Ae,Q,Z,ue,Fe,it=.5*Ne.buffer/Ne.extent,Mt=.5-it,Wt=.5+it,dr=1+it;Pe=Ae=Q=Z=null,ue=mn(ve,Vt,Oe-it,Oe+Wt,0,St.minX,St.maxX,Ne),Fe=mn(ve,Vt,Oe+Mt,Oe+dr,0,St.minX,St.maxX,Ne),ve=null,ue&&(Pe=mn(ue,Vt,Be-it,Be+Wt,1,St.minY,St.maxY,Ne),Ae=mn(ue,Vt,Be+Mt,Be+dr,1,St.minY,St.maxY,Ne),ue=null),Fe&&(Q=mn(Fe,Vt,Be-it,Be+Wt,1,St.minY,St.maxY,Ne),Z=mn(Fe,Vt,Be+Mt,Be+dr,1,St.minY,St.maxY,Ne),Fe=null),xt>1&&console.timeEnd("clipping"),Ie.push(Pe||[],Ee+1,2*Oe,2*Be),Ie.push(Ae||[],Ee+1,2*Oe,2*Be+1),Ie.push(Q||[],Ee+1,2*Oe+1,2*Be),Ie.push(Z||[],Ee+1,2*Oe+1,2*Be+1)}}},Oo.prototype.getTile=function(ve,Ee,Oe){var Be=this.options,Ye=Be.extent,ht=Be.debug;if(ve<0||ve>24)return null;var ut=1<<ve,Ie=$n(ve,Ee=(Ee%ut+ut)%ut,Oe);if(this.tiles[Ie])return vn(this.tiles[Ie],Ye);ht>1&&console.log("drilling down to z%d-%d-%d",ve,Ee,Oe);for(var Ne,xt=ve,Vt=Ee,Et=Oe;!Ne&&xt>0;)xt--,Vt=Math.floor(Vt/2),Et=Math.floor(Et/2),Ne=this.tiles[$n(xt,Vt,Et)];return Ne&&Ne.source?(ht>1&&console.log("found parent tile z%d-%d-%d",xt,Vt,Et),ht>1&&console.time("drilling down"),this.splitTile(Ne.source,xt,Vt,Et,ve,Ee,Oe),ht>1&&console.timeEnd("drilling down"),this.tiles[Ie]?vn(this.tiles[Ie],Ye):null):null};var ea=function(ve){function Ee(Oe,Be,Ye,ht){ve.call(this,Oe,Be,Ye,Xi),ht&&(this.loadGeoJSON=ht)}return ve&&(Ee.__proto__=ve),(Ee.prototype=Object.create(ve&&ve.prototype)).constructor=Ee,Ee.prototype.loadData=function(Oe,Be){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Be,this._pendingLoadDataParams=Oe,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Ee.prototype._loadData=function(){var Oe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Be=this._pendingCallback,Ye=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ht=!!(Ye&&Ye.request&&Ye.request.collectResourceTiming)&&new _.RequestPerformance(Ye.request);this.loadGeoJSON(Ye,function(ut,Ie){if(ut||!Ie)return Be(ut);if(typeof Ie!="object")return Be(new Error("Input data given to '"+Ye.source+"' is not a valid GeoJSON object."));(function St(Qt,we){var Pe,Ae=Qt&&Qt.type;if(Ae==="FeatureCollection")for(Pe=0;Pe<Qt.features.length;Pe++)St(Qt.features[Pe],we);else if(Ae==="GeometryCollection")for(Pe=0;Pe<Qt.geometries.length;Pe++)St(Qt.geometries[Pe],we);else if(Ae==="Feature")St(Qt.geometry,we);else if(Ae==="Polygon")Ce(Qt.coordinates,we);else if(Ae==="MultiPolygon")for(Pe=0;Pe<Qt.coordinates.length;Pe++)Ce(Qt.coordinates[Pe],we);return Qt})(Ie,!0);try{if(Ye.filter){var Ne=_.createExpression(Ye.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ne.result==="error")throw new Error(Ne.value.map(function(St){return St.key+": "+St.message}).join(", "));var xt=Ie.features.filter(function(St){return Ne.value.evaluate({zoom:0},St)});Ie={type:"FeatureCollection",features:xt}}Oe._geoJSONIndex=Ye.cluster?new It(function(St){var Qt=St.superclusterOptions,we=St.clusterProperties;if(!we||!Qt)return Qt;for(var Pe={},Ae={},Q={accumulated:null,zoom:0},Z={properties:null},ue=Object.keys(we),Fe=0,it=ue;Fe<it.length;Fe+=1){var Mt=it[Fe],Wt=we[Mt],dr=Wt[0],Sr=_.createExpression(Wt[1]),Zt=_.createExpression(typeof dr=="string"?[dr,["accumulated"],["get",Mt]]:dr);Pe[Mt]=Sr.value,Ae[Mt]=Zt.value}return Qt.map=function(tn){Z.properties=tn;for(var un={},Br=0,Lr=ue;Br<Lr.length;Br+=1){var cn=Lr[Br];un[cn]=Pe[cn].evaluate(Q,Z)}return un},Qt.reduce=function(tn,un){Z.properties=un;for(var Br=0,Lr=ue;Br<Lr.length;Br+=1){var cn=Lr[Br];Q.accumulated=tn[cn],tn[cn]=Ae[cn].evaluate(Q,Z)}},Qt}(Ye)).load(Ie.features):function(St,Qt){return new Oo(St,Qt)}(Ie,Ye.geojsonVtOptions)}catch(St){return Be(St)}Oe.loaded={};var Vt={};if(ht){var Et=ht.finish();Et&&(Vt.resourceTiming={},Vt.resourceTiming[Ye.source]=JSON.parse(JSON.stringify(Et)))}Be(null,Vt)})}},Ee.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Ee.prototype.reloadTile=function(Oe,Be){var Ye=this.loaded;return Ye&&Ye[Oe.uid]?ve.prototype.reloadTile.call(this,Oe,Be):this.loadTile(Oe,Be)},Ee.prototype.loadGeoJSON=function(Oe,Be){if(Oe.request)_.getJSON(Oe.request,Be);else{if(typeof Oe.data!="string")return Be(new Error("Input data given to '"+Oe.source+"' is not a valid GeoJSON object."));try{return Be(null,JSON.parse(Oe.data))}catch{return Be(new Error("Input data given to '"+Oe.source+"' is not a valid GeoJSON object."))}}},Ee.prototype.removeSource=function(Oe,Be){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Be()},Ee.prototype.getClusterExpansionZoom=function(Oe,Be){try{Be(null,this._geoJSONIndex.getClusterExpansionZoom(Oe.clusterId))}catch(Ye){Be(Ye)}},Ee.prototype.getClusterChildren=function(Oe,Be){try{Be(null,this._geoJSONIndex.getChildren(Oe.clusterId))}catch(Ye){Be(Ye)}},Ee.prototype.getClusterLeaves=function(Oe,Be){try{Be(null,this._geoJSONIndex.getLeaves(Oe.clusterId,Oe.limit,Oe.offset))}catch(Ye){Be(Ye)}},Ee}(R),zn=function(ve){var Ee=this;this.self=ve,this.actor=new _.Actor(ve,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:R,geojson:ea},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Oe,Be){if(Ee.workerSourceTypes[Oe])throw new Error('Worker source with name "'+Oe+'" already registered.');Ee.workerSourceTypes[Oe]=Be},this.self.registerRTLTextPlugin=function(Oe){if(_.plugin.isParsed())throw new Error("RTL text plugin already registered.");_.plugin.applyArabicShaping=Oe.applyArabicShaping,_.plugin.processBidirectionalText=Oe.processBidirectionalText,_.plugin.processStyledBidirectionalText=Oe.processStyledBidirectionalText}};return zn.prototype.setReferrer=function(ve,Ee){this.referrer=Ee},zn.prototype.setImages=function(ve,Ee,Oe){for(var Be in this.availableImages[ve]=Ee,this.workerSources[ve]){var Ye=this.workerSources[ve][Be];for(var ht in Ye)Ye[ht].availableImages=Ee}Oe()},zn.prototype.setLayers=function(ve,Ee,Oe){this.getLayerIndex(ve).replace(Ee),Oe()},zn.prototype.updateLayers=function(ve,Ee,Oe){this.getLayerIndex(ve).update(Ee.layers,Ee.removedIds),Oe()},zn.prototype.loadTile=function(ve,Ee,Oe){this.getWorkerSource(ve,Ee.type,Ee.source).loadTile(Ee,Oe)},zn.prototype.loadDEMTile=function(ve,Ee,Oe){this.getDEMWorkerSource(ve,Ee.source).loadTile(Ee,Oe)},zn.prototype.reloadTile=function(ve,Ee,Oe){this.getWorkerSource(ve,Ee.type,Ee.source).reloadTile(Ee,Oe)},zn.prototype.abortTile=function(ve,Ee,Oe){this.getWorkerSource(ve,Ee.type,Ee.source).abortTile(Ee,Oe)},zn.prototype.removeTile=function(ve,Ee,Oe){this.getWorkerSource(ve,Ee.type,Ee.source).removeTile(Ee,Oe)},zn.prototype.removeDEMTile=function(ve,Ee){this.getDEMWorkerSource(ve,Ee.source).removeTile(Ee)},zn.prototype.removeSource=function(ve,Ee,Oe){if(this.workerSources[ve]&&this.workerSources[ve][Ee.type]&&this.workerSources[ve][Ee.type][Ee.source]){var Be=this.workerSources[ve][Ee.type][Ee.source];delete this.workerSources[ve][Ee.type][Ee.source],Be.removeSource!==void 0?Be.removeSource(Ee,Oe):Oe()}},zn.prototype.loadWorkerSource=function(ve,Ee,Oe){try{this.self.importScripts(Ee.url),Oe()}catch(Be){Oe(Be.toString())}},zn.prototype.syncRTLPluginState=function(ve,Ee,Oe){try{_.plugin.setState(Ee);var Be=_.plugin.getPluginURL();if(_.plugin.isLoaded()&&!_.plugin.isParsed()&&Be!=null){this.self.importScripts(Be);var Ye=_.plugin.isParsed();Oe(Ye?void 0:new Error("RTL Text Plugin failed to import scripts from "+Be),Ye)}}catch(ht){Oe(ht.toString())}},zn.prototype.getAvailableImages=function(ve){var Ee=this.availableImages[ve];return Ee||(Ee=[]),Ee},zn.prototype.getLayerIndex=function(ve){var Ee=this.layerIndexes[ve];return Ee||(Ee=this.layerIndexes[ve]=new de),Ee},zn.prototype.getWorkerSource=function(ve,Ee,Oe){var Be=this;return this.workerSources[ve]||(this.workerSources[ve]={}),this.workerSources[ve][Ee]||(this.workerSources[ve][Ee]={}),this.workerSources[ve][Ee][Oe]||(this.workerSources[ve][Ee][Oe]=new this.workerSourceTypes[Ee]({send:function(Ye,ht,ut){Be.actor.send(Ye,ht,ut,ve)}},this.getLayerIndex(ve),this.getAvailableImages(ve))),this.workerSources[ve][Ee][Oe]},zn.prototype.getDEMWorkerSource=function(ve,Ee){return this.demWorkerSources[ve]||(this.demWorkerSources[ve]={}),this.demWorkerSources[ve][Ee]||(this.demWorkerSources[ve][Ee]=new ae),this.demWorkerSources[ve][Ee]},zn.prototype.enforceCacheSizeLimit=function(ve,Ee){_.enforceCacheSizeLimit(Ee)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new zn(self)),zn}),se(["./shared"],function(_){var me=_.createCommonjsModule(function(m){function x(M){return!v(M)}function v(M){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var U,X,ce=new Blob([""],{type:"text/javascript"}),Se=URL.createObjectURL(ce);try{X=new Worker(Se),U=!0}catch{U=!1}return X&&X.terminate(),URL.revokeObjectURL(Se),U}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var U=document.createElement("canvas");U.width=U.height=1;var X=U.getContext("2d");if(!X)return!1;var ce=X.getImageData(0,0,1,1);return ce&&ce.width===U.width}()?(C[B=M&&M.failIfMajorPerformanceCaveat]===void 0&&(C[B]=function(U){var X=function(Se){var Le=document.createElement("canvas"),Re=Object.create(x.webGLContextAttributes);return Re.failIfMajorPerformanceCaveat=Se,Le.probablySupportsContext?Le.probablySupportsContext("webgl",Re)||Le.probablySupportsContext("experimental-webgl",Re):Le.supportsContext?Le.supportsContext("webgl",Re)||Le.supportsContext("experimental-webgl",Re):Le.getContext("webgl",Re)||Le.getContext("experimental-webgl",Re)}(U);if(!X)return!1;var ce=X.createShader(X.VERTEX_SHADER);return!(!ce||X.isContextLost())&&(X.shaderSource(ce,"void main() {}"),X.compileShader(ce),X.getShaderParameter(ce,X.COMPILE_STATUS)===!0)}(B)),C[B]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var B}m.exports?m.exports=x:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=x,window.mapboxgl.notSupportedReason=v);var C={};x.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),ne={create:function(m,x,v){var C=_.window.document.createElement(m);return x!==void 0&&(C.className=x),v&&v.appendChild(C),C},createNS:function(m,x){return _.window.document.createElementNS(m,x)}},de=_.window.document&&_.window.document.documentElement.style;function he(m){if(!de)return m[0];for(var x=0;x<m.length;x++)if(m[x]in de)return m[x];return m[0]}var be,xe=he(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);ne.disableDrag=function(){de&&xe&&(be=de[xe],de[xe]="none")},ne.enableDrag=function(){de&&xe&&(de[xe]=be)};var We=he(["transform","WebkitTransform"]);ne.setTransform=function(m,x){m.style[We]=x};var R=!1;try{var G=Object.defineProperty({},"passive",{get:function(){R=!0}});_.window.addEventListener("test",G,G),_.window.removeEventListener("test",G,G)}catch{R=!1}ne.addEventListener=function(m,x,v,C){C===void 0&&(C={}),m.addEventListener(x,v,"passive"in C&&R?C:C.capture)},ne.removeEventListener=function(m,x,v,C){C===void 0&&(C={}),m.removeEventListener(x,v,"passive"in C&&R?C:C.capture)};var ae=function(m){m.preventDefault(),m.stopPropagation(),_.window.removeEventListener("click",ae,!0)};function Ce(m){var x=m.userImage;return!!(x&&x.render&&x.render())&&(m.data.replace(new Uint8Array(x.data.buffer)),!0)}ne.suppressClick=function(){_.window.addEventListener("click",ae,!0),_.window.setTimeout(function(){_.window.removeEventListener("click",ae,!0)},0)},ne.mousePos=function(m,x){var v=m.getBoundingClientRect();return new _.Point(x.clientX-v.left-m.clientLeft,x.clientY-v.top-m.clientTop)},ne.touchPos=function(m,x){for(var v=m.getBoundingClientRect(),C=[],M=0;M<x.length;M++)C.push(new _.Point(x[M].clientX-v.left-m.clientLeft,x[M].clientY-v.top-m.clientTop));return C},ne.mouseButton=function(m){return _.window.InstallTrigger!==void 0&&m.button===2&&m.ctrlKey&&_.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:m.button},ne.remove=function(m){m.parentNode&&m.parentNode.removeChild(m)};var re=function(m){function x(){m.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new _.RGBAImage({width:1,height:1}),this.dirty=!0}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.isLoaded=function(){return this.loaded},x.prototype.setLoaded=function(v){if(this.loaded!==v&&(this.loaded=v,v)){for(var C=0,M=this.requestors;C<M.length;C+=1){var B=M[C];this._notify(B.ids,B.callback)}this.requestors=[]}},x.prototype.getImage=function(v){return this.images[v]},x.prototype.addImage=function(v,C){this._validate(v,C)&&(this.images[v]=C)},x.prototype._validate=function(v,C){var M=!0;return this._validateStretch(C.stretchX,C.data&&C.data.width)||(this.fire(new _.ErrorEvent(new Error('Image "'+v+'" has invalid "stretchX" value'))),M=!1),this._validateStretch(C.stretchY,C.data&&C.data.height)||(this.fire(new _.ErrorEvent(new Error('Image "'+v+'" has invalid "stretchY" value'))),M=!1),this._validateContent(C.content,C)||(this.fire(new _.ErrorEvent(new Error('Image "'+v+'" has invalid "content" value'))),M=!1),M},x.prototype._validateStretch=function(v,C){if(!v)return!0;for(var M=0,B=0,U=v;B<U.length;B+=1){var X=U[B];if(X[0]<M||X[1]<X[0]||C<X[1])return!1;M=X[1]}return!0},x.prototype._validateContent=function(v,C){return!(v&&(v.length!==4||v[0]<0||C.data.width<v[0]||v[1]<0||C.data.height<v[1]||v[2]<0||C.data.width<v[2]||v[3]<0||C.data.height<v[3]||v[2]<v[0]||v[3]<v[1]))},x.prototype.updateImage=function(v,C){C.version=this.images[v].version+1,this.images[v]=C,this.updatedImages[v]=!0},x.prototype.removeImage=function(v){var C=this.images[v];delete this.images[v],delete this.patterns[v],C.userImage&&C.userImage.onRemove&&C.userImage.onRemove()},x.prototype.listImages=function(){return Object.keys(this.images)},x.prototype.getImages=function(v,C){var M=!0;if(!this.isLoaded())for(var B=0,U=v;B<U.length;B+=1)this.images[U[B]]||(M=!1);this.isLoaded()||M?this._notify(v,C):this.requestors.push({ids:v,callback:C})},x.prototype._notify=function(v,C){for(var M={},B=0,U=v;B<U.length;B+=1){var X=U[B];this.images[X]||this.fire(new _.Event("styleimagemissing",{id:X}));var ce=this.images[X];ce?M[X]={data:ce.data.clone(),pixelRatio:ce.pixelRatio,sdf:ce.sdf,version:ce.version,stretchX:ce.stretchX,stretchY:ce.stretchY,content:ce.content,hasRenderCallback:Boolean(ce.userImage&&ce.userImage.render)}:_.warnOnce('Image "'+X+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}C(null,M)},x.prototype.getPixelSize=function(){var v=this.atlasImage;return{width:v.width,height:v.height}},x.prototype.getPattern=function(v){var C=this.patterns[v],M=this.getImage(v);if(!M)return null;if(C&&C.position.version===M.version)return C.position;if(C)C.position.version=M.version;else{var B={w:M.data.width+2,h:M.data.height+2,x:0,y:0},U=new _.ImagePosition(B,M);this.patterns[v]={bin:B,position:U}}return this._updatePatternAtlas(),this.patterns[v].position},x.prototype.bind=function(v){var C=v.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new _.Texture(v,this.atlasImage,C.RGBA),this.atlasTexture.bind(C.LINEAR,C.CLAMP_TO_EDGE)},x.prototype._updatePatternAtlas=function(){var v=[];for(var C in this.patterns)v.push(this.patterns[C].bin);var M=_.potpack(v),B=M.w,U=M.h,X=this.atlasImage;for(var ce in X.resize({width:B||1,height:U||1}),this.patterns){var Se=this.patterns[ce].bin,Le=Se.x+1,Re=Se.y+1,ze=this.images[ce].data,nt=ze.width,Je=ze.height;_.RGBAImage.copy(ze,X,{x:0,y:0},{x:Le,y:Re},{width:nt,height:Je}),_.RGBAImage.copy(ze,X,{x:0,y:Je-1},{x:Le,y:Re-1},{width:nt,height:1}),_.RGBAImage.copy(ze,X,{x:0,y:0},{x:Le,y:Re+Je},{width:nt,height:1}),_.RGBAImage.copy(ze,X,{x:nt-1,y:0},{x:Le-1,y:Re},{width:1,height:Je}),_.RGBAImage.copy(ze,X,{x:0,y:0},{x:Le+nt,y:Re},{width:1,height:Je})}this.dirty=!0},x.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},x.prototype.dispatchRenderCallbacks=function(v){for(var C=0,M=v;C<M.length;C+=1){var B=M[C];if(!this.callbackDispatchedThisFrame[B]){this.callbackDispatchedThisFrame[B]=!0;var U=this.images[B];Ce(U)&&this.updateImage(B,U)}}},x}(_.Evented),ie=K,pe=K,je=1e20;function K(m,x,v,C,M,B){this.fontSize=m||24,this.buffer=x===void 0?3:x,this.cutoff=C||.25,this.fontFamily=M||"sans-serif",this.fontWeight=B||"normal",this.radius=v||8;var U=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=U,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(U*U),this.gridInner=new Float64Array(U*U),this.f=new Float64Array(U),this.d=new Float64Array(U),this.z=new Float64Array(U+1),this.v=new Int16Array(U),this.middle=Math.round(U/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function W(m,x,v,C,M,B,U){for(var X=0;X<x;X++){for(var ce=0;ce<v;ce++)C[ce]=m[ce*x+X];for(Ze(C,M,B,U,v),ce=0;ce<v;ce++)m[ce*x+X]=M[ce]}for(ce=0;ce<v;ce++){for(X=0;X<x;X++)C[X]=m[ce*x+X];for(Ze(C,M,B,U,x),X=0;X<x;X++)m[ce*x+X]=Math.sqrt(M[X])}}function Ze(m,x,v,C,M){v[0]=0,C[0]=-je,C[1]=+je;for(var B=1,U=0;B<M;B++){for(var X=(m[B]+B*B-(m[v[U]]+v[U]*v[U]))/(2*B-2*v[U]);X<=C[U];)U--,X=(m[B]+B*B-(m[v[U]]+v[U]*v[U]))/(2*B-2*v[U]);v[++U]=B,C[U]=X,C[U+1]=+je}for(B=0,U=0;B<M;B++){for(;C[U+1]<B;)U++;x[B]=(B-v[U])*(B-v[U])+m[v[U]]}}K.prototype.draw=function(m){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(m,this.buffer,this.middle);for(var x=this.ctx.getImageData(0,0,this.size,this.size),v=new Uint8ClampedArray(this.size*this.size),C=0;C<this.size*this.size;C++){var M=x.data[4*C+3]/255;this.gridOuter[C]=M===1?0:M===0?je:Math.pow(Math.max(0,.5-M),2),this.gridInner[C]=M===1?je:M===0?0:Math.pow(Math.max(0,M-.5),2)}for(W(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),W(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),C=0;C<this.size*this.size;C++)v[C]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[C]-this.gridInner[C])/this.radius+this.cutoff))));return v},ie.default=pe;var ot=function(m,x){this.requestManager=m,this.localIdeographFontFamily=x,this.entries={}};ot.prototype.setURL=function(m){this.url=m},ot.prototype.getGlyphs=function(m,x){var v=this,C=[];for(var M in m)for(var B=0,U=m[M];B<U.length;B+=1)C.push({stack:M,id:U[B]});_.asyncAll(C,function(X,ce){var Se=X.stack,Le=X.id,Re=v.entries[Se];Re||(Re=v.entries[Se]={glyphs:{},requests:{},ranges:{}});var ze=Re.glyphs[Le];if(ze===void 0){if(ze=v._tinySDF(Re,Se,Le))return Re.glyphs[Le]=ze,void ce(null,{stack:Se,id:Le,glyph:ze});var nt=Math.floor(Le/256);if(256*nt>65535)ce(new Error("glyphs > 65535 not supported"));else if(Re.ranges[nt])ce(null,{stack:Se,id:Le,glyph:ze});else{var Je=Re.requests[nt];Je||(Je=Re.requests[nt]=[],ot.loadGlyphRange(Se,nt,v.url,v.requestManager,function(ft,Ge){if(Ge){for(var ct in Ge)v._doesCharSupportLocalGlyph(+ct)||(Re.glyphs[+ct]=Ge[+ct]);Re.ranges[nt]=!0}for(var mt=0,wt=Je;mt<wt.length;mt+=1)(0,wt[mt])(ft,Ge);delete Re.requests[nt]})),Je.push(function(ft,Ge){ft?ce(ft):Ge&&ce(null,{stack:Se,id:Le,glyph:Ge[Le]||null})})}}else ce(null,{stack:Se,id:Le,glyph:ze})},function(X,ce){if(X)x(X);else if(ce){for(var Se={},Le=0,Re=ce;Le<Re.length;Le+=1){var ze=Re[Le],nt=ze.stack,Je=ze.id,ft=ze.glyph;(Se[nt]||(Se[nt]={}))[Je]=ft&&{id:ft.id,bitmap:ft.bitmap.clone(),metrics:ft.metrics}}x(null,Se)}})},ot.prototype._doesCharSupportLocalGlyph=function(m){return!!this.localIdeographFontFamily&&(_.isChar["CJK Unified Ideographs"](m)||_.isChar["Hangul Syllables"](m)||_.isChar.Hiragana(m)||_.isChar.Katakana(m))},ot.prototype._tinySDF=function(m,x,v){var C=this.localIdeographFontFamily;if(C&&this._doesCharSupportLocalGlyph(v)){var M=m.tinySDF;if(!M){var B="400";/bold/i.test(x)?B="900":/medium/i.test(x)?B="500":/light/i.test(x)&&(B="200"),M=m.tinySDF=new ot.TinySDF(24,3,8,.25,C,B)}return{id:v,bitmap:new _.AlphaImage({width:30,height:30},M.draw(String.fromCharCode(v))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},ot.loadGlyphRange=function(m,x,v,C,M){var B=256*x,U=B+255,X=C.transformRequest(C.normalizeGlyphsURL(v).replace("{fontstack}",m).replace("{range}",B+"-"+U),_.ResourceType.Glyphs);_.getArrayBuffer(X,function(ce,Se){if(ce)M(ce);else if(Se){for(var Le={},Re=0,ze=_.parseGlyphPBF(Se);Re<ze.length;Re+=1){var nt=ze[Re];Le[nt.id]=nt}M(null,Le)}})},ot.TinySDF=ie;var et=function(){this.specification=_.styleSpec.light.position};et.prototype.possiblyEvaluate=function(m,x){return _.sphericalToCartesian(m.expression.evaluate(x))},et.prototype.interpolate=function(m,x,v){return{x:_.number(m.x,x.x,v),y:_.number(m.y,x.y,v),z:_.number(m.z,x.z,v)}};var Pt=new _.Properties({anchor:new _.DataConstantProperty(_.styleSpec.light.anchor),position:new et,color:new _.DataConstantProperty(_.styleSpec.light.color),intensity:new _.DataConstantProperty(_.styleSpec.light.intensity)}),Tt=function(m){function x(v){m.call(this),this._transitionable=new _.Transitionable(Pt),this.setLight(v),this._transitioning=this._transitionable.untransitioned()}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getLight=function(){return this._transitionable.serialize()},x.prototype.setLight=function(v,C){if(C===void 0&&(C={}),!this._validate(_.validateLight,v,C))for(var M in v){var B=v[M];_.endsWith(M,"-transition")?this._transitionable.setTransition(M.slice(0,-11),B):this._transitionable.setValue(M,B)}},x.prototype.updateTransitions=function(v){this._transitioning=this._transitionable.transitioned(v,this._transitioning)},x.prototype.hasTransition=function(){return this._transitioning.hasTransition()},x.prototype.recalculate=function(v){this.properties=this._transitioning.possiblyEvaluate(v)},x.prototype._validate=function(v,C,M){return(!M||M.validate!==!1)&&_.emitValidationErrors(this,v.call(_.validateStyle,_.extend({value:C,style:{glyphs:!0,sprite:!0},styleSpec:_.styleSpec})))},x}(_.Evented),Ht=function(m,x){this.width=m,this.height=x,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};Ht.prototype.getDash=function(m,x){var v=m.join(",")+String(x);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(m,x)),this.dashEntry[v]},Ht.prototype.getDashRanges=function(m,x,v){var C=[],M=m.length%2==1?-m[m.length-1]*v:0,B=m[0]*v,U=!0;C.push({left:M,right:B,isDash:U,zeroLength:m[0]===0});for(var X=m[0],ce=1;ce<m.length;ce++){var Se=m[ce];C.push({left:M=X*v,right:B=(X+=Se)*v,isDash:U=!U,zeroLength:Se===0})}return C},Ht.prototype.addRoundDash=function(m,x,v){for(var C=x/2,M=-v;M<=v;M++)for(var B=this.width*(this.nextRow+v+M),U=0,X=m[U],ce=0;ce<this.width;ce++){ce/X.right>1&&(X=m[++U]);var Se=Math.abs(ce-X.left),Le=Math.abs(ce-X.right),Re=Math.min(Se,Le),ze=void 0,nt=M/v*(C+1);if(X.isDash){var Je=C-Math.abs(nt);ze=Math.sqrt(Re*Re+Je*Je)}else ze=C-Math.sqrt(Re*Re+nt*nt);this.data[B+ce]=Math.max(0,Math.min(255,ze+128))}},Ht.prototype.addRegularDash=function(m){for(var x=m.length-1;x>=0;--x){var v=m[x],C=m[x+1];v.zeroLength?m.splice(x,1):C&&C.isDash===v.isDash&&(C.left=v.left,m.splice(x,1))}var M=m[0],B=m[m.length-1];M.isDash===B.isDash&&(M.left=B.left-this.width,B.right=M.right+this.width);for(var U=this.width*this.nextRow,X=0,ce=m[X],Se=0;Se<this.width;Se++){Se/ce.right>1&&(ce=m[++X]);var Le=Math.abs(Se-ce.left),Re=Math.abs(Se-ce.right),ze=Math.min(Le,Re);this.data[U+Se]=Math.max(0,Math.min(255,(ce.isDash?ze:-ze)+128))}},Ht.prototype.addDash=function(m,x){var v=x?7:0,C=2*v+1;if(this.nextRow+C>this.height)return _.warnOnce("LineAtlas out of space"),null;for(var M=0,B=0;B<m.length;B++)M+=m[B];if(M!==0){var U=this.width/M,X=this.getDashRanges(m,this.width,U);x?this.addRoundDash(X,U,v):this.addRegularDash(X)}var ce={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:M};return this.nextRow+=C,this.dirty=!0,ce},Ht.prototype.bind=function(m){var x=m.gl;this.texture?(x.bindTexture(x.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,x.texSubImage2D(x.TEXTURE_2D,0,0,0,this.width,this.height,x.ALPHA,x.UNSIGNED_BYTE,this.data))):(this.texture=x.createTexture(),x.bindTexture(x.TEXTURE_2D,this.texture),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.REPEAT),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.REPEAT),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.LINEAR),x.texImage2D(x.TEXTURE_2D,0,x.ALPHA,this.width,this.height,0,x.ALPHA,x.UNSIGNED_BYTE,this.data))};var Lt=function m(x,v){this.workerPool=x,this.actors=[],this.currentActor=0,this.id=_.uniqueId();for(var C=this.workerPool.acquire(this.id),M=0;M<C.length;M++){var B=new m.Actor(C[M],v,this.id);B.name="Worker "+M,this.actors.push(B)}};function tr(m,x,v){var C=function(M,B){if(M)return v(M);if(B){var U=_.pick(_.extend(B,m),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);B.vector_layers&&(U.vectorLayers=B.vector_layers,U.vectorLayerIds=U.vectorLayers.map(function(X){return X.id})),U.tiles=x.canonicalizeTileset(U,m.url),v(null,U)}};return m.url?_.getJSON(x.transformRequest(x.normalizeSourceURL(m.url),_.ResourceType.Source),C):_.browser.frame(function(){return C(null,m)})}Lt.prototype.broadcast=function(m,x,v){_.asyncAll(this.actors,function(C,M){C.send(m,x,M)},v=v||function(){})},Lt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Lt.prototype.remove=function(){this.actors.forEach(function(m){m.remove()}),this.actors=[],this.workerPool.release(this.id)},Lt.Actor=_.Actor;var or=function(m,x,v){this.bounds=_.LngLatBounds.convert(this.validateBounds(m)),this.minzoom=x||0,this.maxzoom=v||24};or.prototype.validateBounds=function(m){return Array.isArray(m)&&m.length===4?[Math.max(-180,m[0]),Math.max(-90,m[1]),Math.min(180,m[2]),Math.min(90,m[3])]:[-180,-90,180,90]},or.prototype.contains=function(m){var x=Math.pow(2,m.z),v=Math.floor(_.mercatorXfromLng(this.bounds.getWest())*x),C=Math.floor(_.mercatorYfromLat(this.bounds.getNorth())*x),M=Math.ceil(_.mercatorXfromLng(this.bounds.getEast())*x),B=Math.ceil(_.mercatorYfromLat(this.bounds.getSouth())*x);return m.x>=v&&m.x<M&&m.y>=C&&m.y<B};var br=function(m){function x(v,C,M,B){if(m.call(this),this.id=v,this.dispatcher=M,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,_.extend(this,_.pick(C,["url","scheme","tileSize","promoteId"])),this._options=_.extend({type:"vector"},C),this._collectResourceTiming=C.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(B)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){var v=this;this._loaded=!1,this.fire(new _.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=tr(this._options,this.map._requestManager,function(C,M){v._tileJSONRequest=null,v._loaded=!0,C?v.fire(new _.ErrorEvent(C)):M&&(_.extend(v,M),M.bounds&&(v.tileBounds=new or(M.bounds,v.minzoom,v.maxzoom)),_.postTurnstileEvent(M.tiles,v.map._requestManager._customAccessToken),_.postMapLoadEvent(M.tiles,v.map._getMapId(),v.map._requestManager._skuToken,v.map._requestManager._customAccessToken),v.fire(new _.Event("data",{dataType:"source",sourceDataType:"metadata"})),v.fire(new _.Event("data",{dataType:"source",sourceDataType:"content"})))})},x.prototype.loaded=function(){return this._loaded},x.prototype.hasTile=function(v){return!this.tileBounds||this.tileBounds.contains(v.canonical)},x.prototype.onAdd=function(v){this.map=v,this.load()},x.prototype.setSourceProperty=function(v){this._tileJSONRequest&&this._tileJSONRequest.cancel(),v(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},x.prototype.setTiles=function(v){var C=this;return this.setSourceProperty(function(){C._options.tiles=v}),this},x.prototype.setUrl=function(v){var C=this;return this.setSourceProperty(function(){C.url=v,C._options.url=v}),this},x.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},x.prototype.serialize=function(){return _.extend({},this._options)},x.prototype.loadTile=function(v,C){var M=this.map._requestManager.normalizeTileURL(v.tileID.canonical.url(this.tiles,this.scheme)),B={request:this.map._requestManager.transformRequest(M,_.ResourceType.Tile),uid:v.uid,tileID:v.tileID,zoom:v.tileID.overscaledZ,tileSize:this.tileSize*v.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:_.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function U(X,ce){return delete v.request,v.aborted?C(null):X&&X.status!==404?C(X):(ce&&ce.resourceTiming&&(v.resourceTiming=ce.resourceTiming),this.map._refreshExpiredTiles&&ce&&v.setExpiryData(ce),v.loadVectorData(ce,this.map.painter),_.cacheEntryPossiblyAdded(this.dispatcher),C(null),void(v.reloadCallback&&(this.loadTile(v,v.reloadCallback),v.reloadCallback=null)))}B.request.collectResourceTiming=this._collectResourceTiming,v.actor&&v.state!=="expired"?v.state==="loading"?v.reloadCallback=C:v.request=v.actor.send("reloadTile",B,U.bind(this)):(v.actor=this.dispatcher.getActor(),v.request=v.actor.send("loadTile",B,U.bind(this)))},x.prototype.abortTile=function(v){v.request&&(v.request.cancel(),delete v.request),v.actor&&v.actor.send("abortTile",{uid:v.uid,type:this.type,source:this.id},void 0)},x.prototype.unloadTile=function(v){v.unloadVectorData(),v.actor&&v.actor.send("removeTile",{uid:v.uid,type:this.type,source:this.id},void 0)},x.prototype.hasTransition=function(){return!1},x}(_.Evented),Kt=function(m){function x(v,C,M,B){m.call(this),this.id=v,this.dispatcher=M,this.setEventedParent(B),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=_.extend({type:"raster"},C),_.extend(this,_.pick(C,["url","scheme","tileSize"]))}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){var v=this;this._loaded=!1,this.fire(new _.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=tr(this._options,this.map._requestManager,function(C,M){v._tileJSONRequest=null,v._loaded=!0,C?v.fire(new _.ErrorEvent(C)):M&&(_.extend(v,M),M.bounds&&(v.tileBounds=new or(M.bounds,v.minzoom,v.maxzoom)),_.postTurnstileEvent(M.tiles),_.postMapLoadEvent(M.tiles,v.map._getMapId(),v.map._requestManager._skuToken),v.fire(new _.Event("data",{dataType:"source",sourceDataType:"metadata"})),v.fire(new _.Event("data",{dataType:"source",sourceDataType:"content"})))})},x.prototype.loaded=function(){return this._loaded},x.prototype.onAdd=function(v){this.map=v,this.load()},x.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},x.prototype.serialize=function(){return _.extend({},this._options)},x.prototype.hasTile=function(v){return!this.tileBounds||this.tileBounds.contains(v.canonical)},x.prototype.loadTile=function(v,C){var M=this,B=this.map._requestManager.normalizeTileURL(v.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);v.request=_.getImage(this.map._requestManager.transformRequest(B,_.ResourceType.Tile),function(U,X){if(delete v.request,v.aborted)v.state="unloaded",C(null);else if(U)v.state="errored",C(U);else if(X){M.map._refreshExpiredTiles&&v.setExpiryData(X),delete X.cacheControl,delete X.expires;var ce=M.map.painter.context,Se=ce.gl;v.texture=M.map.painter.getTileTexture(X.width),v.texture?v.texture.update(X,{useMipmap:!0}):(v.texture=new _.Texture(ce,X,Se.RGBA,{useMipmap:!0}),v.texture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE,Se.LINEAR_MIPMAP_NEAREST),ce.extTextureFilterAnisotropic&&Se.texParameterf(Se.TEXTURE_2D,ce.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ce.extTextureFilterAnisotropicMax)),v.state="loaded",_.cacheEntryPossiblyAdded(M.dispatcher),C(null)}})},x.prototype.abortTile=function(v,C){v.request&&(v.request.cancel(),delete v.request),C()},x.prototype.unloadTile=function(v,C){v.texture&&this.map.painter.saveTileTexture(v.texture),C()},x.prototype.hasTransition=function(){return!1},x}(_.Evented),kt=function(m){function x(v,C,M,B){m.call(this,v,C,M,B),this.type="raster-dem",this.maxzoom=22,this._options=_.extend({type:"raster-dem"},C),this.encoding=C.encoding||"mapbox"}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},x.prototype.loadTile=function(v,C){var M=this.map._requestManager.normalizeTileURL(v.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function B(U,X){U&&(v.state="errored",C(U)),X&&(v.dem=X,v.needsHillshadePrepare=!0,v.state="loaded",C(null))}v.request=_.getImage(this.map._requestManager.transformRequest(M,_.ResourceType.Tile),function(U,X){if(delete v.request,v.aborted)v.state="unloaded",C(null);else if(U)v.state="errored",C(U);else if(X){this.map._refreshExpiredTiles&&v.setExpiryData(X),delete X.cacheControl,delete X.expires;var ce=_.window.ImageBitmap&&X instanceof _.window.ImageBitmap&&_.offscreenCanvasSupported()?X:_.browser.getImageData(X,1),Se={uid:v.uid,coord:v.tileID,source:this.id,rawImageData:ce,encoding:this.encoding};v.actor&&v.state!=="expired"||(v.actor=this.dispatcher.getActor(),v.actor.send("loadDEMTile",Se,B.bind(this)))}}.bind(this)),v.neighboringTiles=this._getNeighboringTiles(v.tileID)},x.prototype._getNeighboringTiles=function(v){var C=v.canonical,M=Math.pow(2,C.z),B=(C.x-1+M)%M,U=C.x===0?v.wrap-1:v.wrap,X=(C.x+1+M)%M,ce=C.x+1===M?v.wrap+1:v.wrap,Se={};return Se[new _.OverscaledTileID(v.overscaledZ,U,C.z,B,C.y).key]={backfilled:!1},Se[new _.OverscaledTileID(v.overscaledZ,ce,C.z,X,C.y).key]={backfilled:!1},C.y>0&&(Se[new _.OverscaledTileID(v.overscaledZ,U,C.z,B,C.y-1).key]={backfilled:!1},Se[new _.OverscaledTileID(v.overscaledZ,v.wrap,C.z,C.x,C.y-1).key]={backfilled:!1},Se[new _.OverscaledTileID(v.overscaledZ,ce,C.z,X,C.y-1).key]={backfilled:!1}),C.y+1<M&&(Se[new _.OverscaledTileID(v.overscaledZ,U,C.z,B,C.y+1).key]={backfilled:!1},Se[new _.OverscaledTileID(v.overscaledZ,v.wrap,C.z,C.x,C.y+1).key]={backfilled:!1},Se[new _.OverscaledTileID(v.overscaledZ,ce,C.z,X,C.y+1).key]={backfilled:!1}),Se},x.prototype.unloadTile=function(v){v.demTexture&&this.map.painter.saveTileTexture(v.demTexture),v.fbo&&(v.fbo.destroy(),delete v.fbo),v.dem&&delete v.dem,delete v.neighboringTiles,v.state="unloaded",v.actor&&v.actor.send("removeDEMTile",{uid:v.uid,source:this.id})},x}(Kt),yt=function(m){function x(v,C,M,B){m.call(this),this.id=v,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=M.getActor(),this.setEventedParent(B),this._data=C.data,this._options=_.extend({},C),this._collectResourceTiming=C.collectResourceTiming,this._resourceTiming=[],C.maxzoom!==void 0&&(this.maxzoom=C.maxzoom),C.type&&(this.type=C.type),C.attribution&&(this.attribution=C.attribution),this.promoteId=C.promoteId;var U=_.EXTENT/this.tileSize;this.workerOptions=_.extend({source:this.id,cluster:C.cluster||!1,geojsonVtOptions:{buffer:(C.buffer!==void 0?C.buffer:128)*U,tolerance:(C.tolerance!==void 0?C.tolerance:.375)*U,extent:_.EXTENT,maxZoom:this.maxzoom,lineMetrics:C.lineMetrics||!1,generateId:C.generateId||!1},superclusterOptions:{maxZoom:C.clusterMaxZoom!==void 0?Math.min(C.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,C.clusterMinPoints||2),extent:_.EXTENT,radius:(C.clusterRadius||50)*U,log:!1,generateId:C.generateId||!1},clusterProperties:C.clusterProperties,filter:C.filter},C.workerOptions)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){var v=this;this.fire(new _.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(C){if(C)v.fire(new _.ErrorEvent(C));else{var M={dataType:"source",sourceDataType:"metadata"};v._collectResourceTiming&&v._resourceTiming&&v._resourceTiming.length>0&&(M.resourceTiming=v._resourceTiming,v._resourceTiming=[]),v.fire(new _.Event("data",M))}})},x.prototype.onAdd=function(v){this.map=v,this.load()},x.prototype.setData=function(v){var C=this;return this._data=v,this.fire(new _.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(M){if(M)C.fire(new _.ErrorEvent(M));else{var B={dataType:"source",sourceDataType:"content"};C._collectResourceTiming&&C._resourceTiming&&C._resourceTiming.length>0&&(B.resourceTiming=C._resourceTiming,C._resourceTiming=[]),C.fire(new _.Event("data",B))}}),this},x.prototype.getClusterExpansionZoom=function(v,C){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:v,source:this.id},C),this},x.prototype.getClusterChildren=function(v,C){return this.actor.send("geojson.getClusterChildren",{clusterId:v,source:this.id},C),this},x.prototype.getClusterLeaves=function(v,C,M,B){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:v,limit:C,offset:M},B),this},x.prototype._updateWorkerData=function(v){var C=this;this._loaded=!1;var M=_.extend({},this.workerOptions),B=this._data;typeof B=="string"?(M.request=this.map._requestManager.transformRequest(_.browser.resolveURL(B),_.ResourceType.Source),M.request.collectResourceTiming=this._collectResourceTiming):M.data=JSON.stringify(B),this.actor.send(this.type+".loadData",M,function(U,X){C._removed||X&&X.abandoned||(C._loaded=!0,X&&X.resourceTiming&&X.resourceTiming[C.id]&&(C._resourceTiming=X.resourceTiming[C.id].slice(0)),C.actor.send(C.type+".coalesce",{source:M.source},null),v(U))})},x.prototype.loaded=function(){return this._loaded},x.prototype.loadTile=function(v,C){var M=this,B=v.actor?"reloadTile":"loadTile";v.actor=this.actor,v.request=this.actor.send(B,{type:this.type,uid:v.uid,tileID:v.tileID,zoom:v.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:_.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(U,X){return delete v.request,v.unloadVectorData(),v.aborted?C(null):U?C(U):(v.loadVectorData(X,M.map.painter,B==="reloadTile"),C(null))})},x.prototype.abortTile=function(v){v.request&&(v.request.cancel(),delete v.request),v.aborted=!0},x.prototype.unloadTile=function(v){v.unloadVectorData(),this.actor.send("removeTile",{uid:v.uid,type:this.type,source:this.id})},x.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},x.prototype.serialize=function(){return _.extend({},this._options,{type:this.type,data:this._data})},x.prototype.hasTransition=function(){return!1},x}(_.Evented),rt=_.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),oe=function(m){function x(v,C,M,B){m.call(this),this.id=v,this.dispatcher=M,this.coordinates=C.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(B),this.options=C}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(v,C){var M=this;this._loaded=!1,this.fire(new _.Event("dataloading",{dataType:"source"})),this.url=this.options.url,_.getImage(this.map._requestManager.transformRequest(this.url,_.ResourceType.Image),function(B,U){M._loaded=!0,B?M.fire(new _.ErrorEvent(B)):U&&(M.image=U,v&&(M.coordinates=v),C&&C(),M._finishLoading())})},x.prototype.loaded=function(){return this._loaded},x.prototype.updateImage=function(v){var C=this;return this.image&&v.url?(this.options.url=v.url,this.load(v.coordinates,function(){C.texture=null}),this):this},x.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"metadata"})))},x.prototype.onAdd=function(v){this.map=v,this.load()},x.prototype.setCoordinates=function(v){var C=this;this.coordinates=v;var M=v.map(_.MercatorCoordinate.fromLngLat);this.tileID=function(U){for(var X=1/0,ce=1/0,Se=-1/0,Le=-1/0,Re=0,ze=U;Re<ze.length;Re+=1){var nt=ze[Re];X=Math.min(X,nt.x),ce=Math.min(ce,nt.y),Se=Math.max(Se,nt.x),Le=Math.max(Le,nt.y)}var Je=Math.max(Se-X,Le-ce),ft=Math.max(0,Math.floor(-Math.log(Je)/Math.LN2)),Ge=Math.pow(2,ft);return new _.CanonicalTileID(ft,Math.floor((X+Se)/2*Ge),Math.floor((ce+Le)/2*Ge))}(M),this.minzoom=this.maxzoom=this.tileID.z;var B=M.map(function(U){return C.tileID.getTilePoint(U)._round()});return this._boundsArray=new _.StructArrayLayout4i8,this._boundsArray.emplaceBack(B[0].x,B[0].y,0,0),this._boundsArray.emplaceBack(B[1].x,B[1].y,_.EXTENT,0),this._boundsArray.emplaceBack(B[3].x,B[3].y,0,_.EXTENT),this._boundsArray.emplaceBack(B[2].x,B[2].y,_.EXTENT,_.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"content"})),this},x.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var v=this.map.painter.context,C=v.gl;for(var M in this.boundsBuffer||(this.boundsBuffer=v.createVertexBuffer(this._boundsArray,rt.members)),this.boundsSegments||(this.boundsSegments=_.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new _.Texture(v,this.image,C.RGBA),this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE)),this.tiles){var B=this.tiles[M];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture)}}},x.prototype.loadTile=function(v,C){this.tileID&&this.tileID.equals(v.tileID.canonical)?(this.tiles[String(v.tileID.wrap)]=v,v.buckets={},C(null)):(v.state="errored",C(null))},x.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},x.prototype.hasTransition=function(){return!1},x}(_.Evented),ke=function(m){function x(v,C,M,B){m.call(this,v,C,M,B),this.roundZoom=!0,this.type="video",this.options=C}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){var v=this;this._loaded=!1;var C=this.options;this.urls=[];for(var M=0,B=C.urls;M<B.length;M+=1)this.urls.push(this.map._requestManager.transformRequest(B[M],_.ResourceType.Source).url);_.getVideo(this.urls,function(U,X){v._loaded=!0,U?v.fire(new _.ErrorEvent(U)):X&&(v.video=X,v.video.loop=!0,v.video.setAttribute("playsinline",""),v.video.addEventListener("playing",function(){v.map.triggerRepaint()}),v.map&&v.video.play(),v._finishLoading())})},x.prototype.pause=function(){this.video&&this.video.pause()},x.prototype.play=function(){this.video&&this.video.play()},x.prototype.seek=function(v){if(this.video){var C=this.video.seekable;v<C.start(0)||v>C.end(0)?this.fire(new _.ErrorEvent(new _.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+C.start(0)+" and "+C.end(0)+"-second mark."))):this.video.currentTime=v}},x.prototype.getVideo=function(){return this.video},x.prototype.onAdd=function(v){this.map||(this.map=v,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},x.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var v=this.map.painter.context,C=v.gl;for(var M in this.boundsBuffer||(this.boundsBuffer=v.createVertexBuffer(this._boundsArray,rt.members)),this.boundsSegments||(this.boundsSegments=_.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE),C.texSubImage2D(C.TEXTURE_2D,0,0,0,C.RGBA,C.UNSIGNED_BYTE,this.video)):(this.texture=new _.Texture(v,this.video,C.RGBA),this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE)),this.tiles){var B=this.tiles[M];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture)}}},x.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},x.prototype.hasTransition=function(){return this.video&&!this.video.paused},x}(oe),qe=function(m){function x(v,C,M,B){m.call(this,v,C,M,B),C.coordinates?Array.isArray(C.coordinates)&&C.coordinates.length===4&&!C.coordinates.some(function(U){return!Array.isArray(U)||U.length!==2||U.some(function(X){return typeof X!="number"})})||this.fire(new _.ErrorEvent(new _.ValidationError("sources."+v,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new _.ErrorEvent(new _.ValidationError("sources."+v,null,'missing required property "coordinates"'))),C.animate&&typeof C.animate!="boolean"&&this.fire(new _.ErrorEvent(new _.ValidationError("sources."+v,null,'optional "animate" property must be a boolean value'))),C.canvas?typeof C.canvas=="string"||C.canvas instanceof _.window.HTMLCanvasElement||this.fire(new _.ErrorEvent(new _.ValidationError("sources."+v,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new _.ErrorEvent(new _.ValidationError("sources."+v,null,'missing required property "canvas"'))),this.options=C,this.animate=C.animate===void 0||C.animate}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof _.window.HTMLCanvasElement?this.options.canvas:_.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new _.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},x.prototype.getCanvas=function(){return this.canvas},x.prototype.onAdd=function(v){this.map=v,this.load(),this.canvas&&this.animate&&this.play()},x.prototype.onRemove=function(){this.pause()},x.prototype.prepare=function(){var v=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,v=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,v=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var C=this.map.painter.context,M=C.gl;for(var B in this.boundsBuffer||(this.boundsBuffer=C.createVertexBuffer(this._boundsArray,rt.members)),this.boundsSegments||(this.boundsSegments=_.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(v||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new _.Texture(C,this.canvas,M.RGBA,{premultiply:!0}),this.tiles){var U=this.tiles[B];U.state!=="loaded"&&(U.state="loaded",U.texture=this.texture)}}},x.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},x.prototype.hasTransition=function(){return this._playing},x.prototype._hasInvalidDimensions=function(){for(var v=0,C=[this.canvas.width,this.canvas.height];v<C.length;v+=1){var M=C[v];if(isNaN(M)||M<=0)return!0}return!1},x}(oe),Yt={vector:br,raster:Kt,"raster-dem":kt,geojson:yt,video:ke,image:oe,canvas:qe};function st(m,x){var v=_.identity([]);return _.translate(v,v,[1,1,0]),_.scale(v,v,[.5*m.width,.5*m.height,1]),_.multiply(v,v,m.calculatePosMatrix(x.toUnwrapped()))}function It(m,x,v,C,M,B){var U=function(ft,Ge,ct){if(ft)for(var mt=0,wt=ft;mt<wt.length;mt+=1){var zt=Ge[wt[mt]];if(zt&&zt.source===ct&&zt.type==="fill-extrusion")return!0}else for(var Rt in Ge){var jt=Ge[Rt];if(jt.source===ct&&jt.type==="fill-extrusion")return!0}return!1}(M&&M.layers,x,m.id),X=B.maxPitchScaleFactor(),ce=m.tilesIn(C,X,U);ce.sort(Ct);for(var Se=[],Le=0,Re=ce;Le<Re.length;Le+=1){var ze=Re[Le];Se.push({wrappedTileID:ze.tileID.wrapped().key,queryResults:ze.tile.queryRenderedFeatures(x,v,m._state,ze.queryGeometry,ze.cameraQueryGeometry,ze.scale,M,B,X,st(m.transform,ze.tileID))})}var nt=function(ft){for(var Ge={},ct={},mt=0,wt=ft;mt<wt.length;mt+=1){var zt=wt[mt],Rt=zt.queryResults,jt=zt.wrappedTileID,er=ct[jt]=ct[jt]||{};for(var nr in Rt)for(var lr=Rt[nr],Er=er[nr]=er[nr]||{},Ar=Ge[nr]=Ge[nr]||[],Kr=0,Vr=lr;Kr<Vr.length;Kr+=1){var On=Vr[Kr];Er[On.featureIndex]||(Er[On.featureIndex]=!0,Ar.push(On))}}return Ge}(Se);for(var Je in nt)nt[Je].forEach(function(ft){var Ge=ft.feature,ct=m.getFeatureState(Ge.layer["source-layer"],Ge.id);Ge.source=Ge.layer.source,Ge.layer["source-layer"]&&(Ge.sourceLayer=Ge.layer["source-layer"]),Ge.state=ct});return nt}function Ct(m,x){var v=m.tileID,C=x.tileID;return v.overscaledZ-C.overscaledZ||v.canonical.y-C.canonical.y||v.wrap-C.wrap||v.canonical.x-C.canonical.x}var ur=function(m,x){this.max=m,this.onRemove=x,this.reset()};ur.prototype.reset=function(){for(var m in this.data)for(var x=0,v=this.data[m];x<v.length;x+=1){var C=v[x];C.timeout&&clearTimeout(C.timeout),this.onRemove(C.value)}return this.data={},this.order=[],this},ur.prototype.add=function(m,x,v){var C=this,M=m.wrapped().key;this.data[M]===void 0&&(this.data[M]=[]);var B={value:x,timeout:void 0};if(v!==void 0&&(B.timeout=setTimeout(function(){C.remove(m,B)},v)),this.data[M].push(B),this.order.push(M),this.order.length>this.max){var U=this._getAndRemoveByKey(this.order[0]);U&&this.onRemove(U)}return this},ur.prototype.has=function(m){return m.wrapped().key in this.data},ur.prototype.getAndRemove=function(m){return this.has(m)?this._getAndRemoveByKey(m.wrapped().key):null},ur.prototype._getAndRemoveByKey=function(m){var x=this.data[m].shift();return x.timeout&&clearTimeout(x.timeout),this.data[m].length===0&&delete this.data[m],this.order.splice(this.order.indexOf(m),1),x.value},ur.prototype.getByKey=function(m){var x=this.data[m];return x?x[0].value:null},ur.prototype.get=function(m){return this.has(m)?this.data[m.wrapped().key][0].value:null},ur.prototype.remove=function(m,x){if(!this.has(m))return this;var v=m.wrapped().key,C=x===void 0?0:this.data[v].indexOf(x),M=this.data[v][C];return this.data[v].splice(C,1),M.timeout&&clearTimeout(M.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(M.value),this.order.splice(this.order.indexOf(v),1),this},ur.prototype.setMaxSize=function(m){for(this.max=m;this.order.length>this.max;){var x=this._getAndRemoveByKey(this.order[0]);x&&this.onRemove(x)}return this},ur.prototype.filter=function(m){var x=[];for(var v in this.data)for(var C=0,M=this.data[v];C<M.length;C+=1){var B=M[C];m(B.value)||x.push(B)}for(var U=0,X=x;U<X.length;U+=1){var ce=X[U];this.remove(ce.value.tileID,ce)}};var sr=function(m,x,v){this.context=m;var C=m.gl;this.buffer=C.createBuffer(),this.dynamicDraw=Boolean(v),this.context.unbindVAO(),m.bindElementBuffer.set(this.buffer),C.bufferData(C.ELEMENT_ARRAY_BUFFER,x.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete x.arrayBuffer};sr.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},sr.prototype.updateData=function(m){var x=this.context.gl;this.context.unbindVAO(),this.bind(),x.bufferSubData(x.ELEMENT_ARRAY_BUFFER,0,m.arrayBuffer)},sr.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var xr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},fr=function(m,x,v,C){this.length=x.length,this.attributes=v,this.itemSize=x.bytesPerElement,this.dynamicDraw=C,this.context=m;var M=m.gl;this.buffer=M.createBuffer(),m.bindVertexBuffer.set(this.buffer),M.bufferData(M.ARRAY_BUFFER,x.arrayBuffer,this.dynamicDraw?M.DYNAMIC_DRAW:M.STATIC_DRAW),this.dynamicDraw||delete x.arrayBuffer};fr.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},fr.prototype.updateData=function(m){var x=this.context.gl;this.bind(),x.bufferSubData(x.ARRAY_BUFFER,0,m.arrayBuffer)},fr.prototype.enableAttributes=function(m,x){for(var v=0;v<this.attributes.length;v++){var C=x.attributes[this.attributes[v].name];C!==void 0&&m.enableVertexAttribArray(C)}},fr.prototype.setVertexAttribPointers=function(m,x,v){for(var C=0;C<this.attributes.length;C++){var M=this.attributes[C],B=x.attributes[M.name];B!==void 0&&m.vertexAttribPointer(B,M.components,m[xr[M.type]],!1,this.itemSize,M.offset+this.itemSize*(v||0))}},fr.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Ve=function(m){this.gl=m.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ve.prototype.get=function(){return this.current},Ve.prototype.set=function(m){},Ve.prototype.getDefault=function(){return this.default},Ve.prototype.setDefault=function(){this.set(this.default)};var at=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return _.Color.transparent},x.prototype.set=function(v){var C=this.current;(v.r!==C.r||v.g!==C.g||v.b!==C.b||v.a!==C.a||this.dirty)&&(this.gl.clearColor(v.r,v.g,v.b,v.a),this.current=v,this.dirty=!1)},x}(Ve),Ut=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return 1},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.clearDepth(v),this.current=v,this.dirty=!1)},x}(Ve),vr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return 0},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.clearStencil(v),this.current=v,this.dirty=!1)},x}(Ve),Xn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return[!0,!0,!0,!0]},x.prototype.set=function(v){var C=this.current;(v[0]!==C[0]||v[1]!==C[1]||v[2]!==C[2]||v[3]!==C[3]||this.dirty)&&(this.gl.colorMask(v[0],v[1],v[2],v[3]),this.current=v,this.dirty=!1)},x}(Ve),_r=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!0},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.depthMask(v),this.current=v,this.dirty=!1)},x}(Ve),$r=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return 255},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.stencilMask(v),this.current=v,this.dirty=!1)},x}(Ve),gt=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},x.prototype.set=function(v){var C=this.current;(v.func!==C.func||v.ref!==C.ref||v.mask!==C.mask||this.dirty)&&(this.gl.stencilFunc(v.func,v.ref,v.mask),this.current=v,this.dirty=!1)},x}(Ve),Dt=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){var v=this.gl;return[v.KEEP,v.KEEP,v.KEEP]},x.prototype.set=function(v){var C=this.current;(v[0]!==C[0]||v[1]!==C[1]||v[2]!==C[2]||this.dirty)&&(this.gl.stencilOp(v[0],v[1],v[2]),this.current=v,this.dirty=!1)},x}(Ve),hr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;v?C.enable(C.STENCIL_TEST):C.disable(C.STENCIL_TEST),this.current=v,this.dirty=!1}},x}(Ve),zr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return[0,1]},x.prototype.set=function(v){var C=this.current;(v[0]!==C[0]||v[1]!==C[1]||this.dirty)&&(this.gl.depthRange(v[0],v[1]),this.current=v,this.dirty=!1)},x}(Ve),wr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;v?C.enable(C.DEPTH_TEST):C.disable(C.DEPTH_TEST),this.current=v,this.dirty=!1}},x}(Ve),Gr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.LESS},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.depthFunc(v),this.current=v,this.dirty=!1)},x}(Ve),mn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;v?C.enable(C.BLEND):C.disable(C.BLEND),this.current=v,this.dirty=!1}},x}(Ve),ai=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){var v=this.gl;return[v.ONE,v.ZERO]},x.prototype.set=function(v){var C=this.current;(v[0]!==C[0]||v[1]!==C[1]||this.dirty)&&(this.gl.blendFunc(v[0],v[1]),this.current=v,this.dirty=!1)},x}(Ve),Ue=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return _.Color.transparent},x.prototype.set=function(v){var C=this.current;(v.r!==C.r||v.g!==C.g||v.b!==C.b||v.a!==C.a||this.dirty)&&(this.gl.blendColor(v.r,v.g,v.b,v.a),this.current=v,this.dirty=!1)},x}(Ve),Xe=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.FUNC_ADD},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.blendEquation(v),this.current=v,this.dirty=!1)},x}(Ve),bt=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;v?C.enable(C.CULL_FACE):C.disable(C.CULL_FACE),this.current=v,this.dirty=!1}},x}(Ve),Gt=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.BACK},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.cullFace(v),this.current=v,this.dirty=!1)},x}(Ve),gr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.CCW},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.frontFace(v),this.current=v,this.dirty=!1)},x}(Ve),rr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.useProgram(v),this.current=v,this.dirty=!1)},x}(Ve),Ur=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.TEXTURE0},x.prototype.set=function(v){(v!==this.current||this.dirty)&&(this.gl.activeTexture(v),this.current=v,this.dirty=!1)},x}(Ve),Fr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){var v=this.gl;return[0,0,v.drawingBufferWidth,v.drawingBufferHeight]},x.prototype.set=function(v){var C=this.current;(v[0]!==C[0]||v[1]!==C[1]||v[2]!==C[2]||v[3]!==C[3]||this.dirty)&&(this.gl.viewport(v[0],v[1],v[2],v[3]),this.current=v,this.dirty=!1)},x}(Ve),vn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,v),this.current=v,this.dirty=!1}},x}(Ve),xn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;C.bindRenderbuffer(C.RENDERBUFFER,v),this.current=v,this.dirty=!1}},x}(Ve),In=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;C.bindTexture(C.TEXTURE_2D,v),this.current=v,this.dirty=!1}},x}(Ve),Pi=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;C.bindBuffer(C.ARRAY_BUFFER,v),this.current=v,this.dirty=!1}},x}(Ve),Vn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(v){var C=this.gl;C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,v),this.current=v,this.dirty=!1},x}(Ve),Oo=function(m){function x(v){m.call(this,v),this.vao=v.extVertexArrayObject}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(v){this.vao&&(v!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(v),this.current=v,this.dirty=!1)},x}(Ve),$n=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return 4},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;C.pixelStorei(C.UNPACK_ALIGNMENT,v),this.current=v,this.dirty=!1}},x}(Ve),Xi=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,v),this.current=v,this.dirty=!1}},x}(Ve),ea=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(v){if(v!==this.current||this.dirty){var C=this.gl;C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,v),this.current=v,this.dirty=!1}},x}(Ve),zn=function(m){function x(v,C){m.call(this,v),this.context=v,this.parent=C}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x}(Ve),ve=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.setDirty=function(){this.dirty=!0},x.prototype.set=function(v){if(v!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var C=this.gl;C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,v,0),this.current=v,this.dirty=!1}},x}(zn),Ee=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.set=function(v){if(v!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var C=this.gl;C.framebufferRenderbuffer(C.FRAMEBUFFER,C.DEPTH_ATTACHMENT,C.RENDERBUFFER,v),this.current=v,this.dirty=!1}},x}(zn),Oe=function(m,x,v,C){this.context=m,this.width=x,this.height=v;var M=this.framebuffer=m.gl.createFramebuffer();this.colorAttachment=new ve(m,M),C&&(this.depthAttachment=new Ee(m,M))};Oe.prototype.destroy=function(){var m=this.context.gl,x=this.colorAttachment.get();if(x&&m.deleteTexture(x),this.depthAttachment){var v=this.depthAttachment.get();v&&m.deleteRenderbuffer(v)}m.deleteFramebuffer(this.framebuffer)};var Be=function(m,x,v){this.func=m,this.mask=x,this.range=v};Be.ReadOnly=!1,Be.ReadWrite=!0,Be.disabled=new Be(519,Be.ReadOnly,[0,1]);var Ye=function(m,x,v,C,M,B){this.test=m,this.ref=x,this.mask=v,this.fail=C,this.depthFail=M,this.pass=B};Ye.disabled=new Ye({func:519,mask:0},0,0,7680,7680,7680);var ht=function(m,x,v){this.blendFunction=m,this.blendColor=x,this.mask=v};ht.disabled=new ht(ht.Replace=[1,0],_.Color.transparent,[!1,!1,!1,!1]),ht.unblended=new ht(ht.Replace,_.Color.transparent,[!0,!0,!0,!0]),ht.alphaBlended=new ht([1,771],_.Color.transparent,[!0,!0,!0,!0]);var ut=function(m,x,v){this.enable=m,this.mode=x,this.frontFace=v};ut.disabled=new ut(!1,1029,2305),ut.backCCW=new ut(!0,1029,2305);var Ie=function(m){this.gl=m,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new at(this),this.clearDepth=new Ut(this),this.clearStencil=new vr(this),this.colorMask=new Xn(this),this.depthMask=new _r(this),this.stencilMask=new $r(this),this.stencilFunc=new gt(this),this.stencilOp=new Dt(this),this.stencilTest=new hr(this),this.depthRange=new zr(this),this.depthTest=new wr(this),this.depthFunc=new Gr(this),this.blend=new mn(this),this.blendFunc=new ai(this),this.blendColor=new Ue(this),this.blendEquation=new Xe(this),this.cullFace=new bt(this),this.cullFaceSide=new Gt(this),this.frontFace=new gr(this),this.program=new rr(this),this.activeTexture=new Ur(this),this.viewport=new Fr(this),this.bindFramebuffer=new vn(this),this.bindRenderbuffer=new xn(this),this.bindTexture=new In(this),this.bindVertexBuffer=new Pi(this),this.bindElementBuffer=new Vn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Oo(this),this.pixelStoreUnpack=new $n(this),this.pixelStoreUnpackPremultiplyAlpha=new Xi(this),this.pixelStoreUnpackFlipY=new ea(this),this.extTextureFilterAnisotropic=m.getExtension("EXT_texture_filter_anisotropic")||m.getExtension("MOZ_EXT_texture_filter_anisotropic")||m.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=m.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=m.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(m.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=m.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=m.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=m.getParameter(m.MAX_TEXTURE_SIZE)};Ie.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ie.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ie.prototype.createIndexBuffer=function(m,x){return new sr(this,m,x)},Ie.prototype.createVertexBuffer=function(m,x,v){return new fr(this,m,x,v)},Ie.prototype.createRenderbuffer=function(m,x,v){var C=this.gl,M=C.createRenderbuffer();return this.bindRenderbuffer.set(M),C.renderbufferStorage(C.RENDERBUFFER,m,x,v),this.bindRenderbuffer.set(null),M},Ie.prototype.createFramebuffer=function(m,x,v){return new Oe(this,m,x,v)},Ie.prototype.clear=function(m){var x=m.color,v=m.depth,C=this.gl,M=0;x&&(M|=C.COLOR_BUFFER_BIT,this.clearColor.set(x),this.colorMask.set([!0,!0,!0,!0])),v!==void 0&&(M|=C.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(v),this.depthMask.set(!0)),C.clear(M)},Ie.prototype.setCullFace=function(m){m.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(m.mode),this.frontFace.set(m.frontFace))},Ie.prototype.setDepthMode=function(m){m.func!==this.gl.ALWAYS||m.mask?(this.depthTest.set(!0),this.depthFunc.set(m.func),this.depthMask.set(m.mask),this.depthRange.set(m.range)):this.depthTest.set(!1)},Ie.prototype.setStencilMode=function(m){m.test.func!==this.gl.ALWAYS||m.mask?(this.stencilTest.set(!0),this.stencilMask.set(m.mask),this.stencilOp.set([m.fail,m.depthFail,m.pass]),this.stencilFunc.set({func:m.test.func,ref:m.ref,mask:m.test.mask})):this.stencilTest.set(!1)},Ie.prototype.setColorMode=function(m){_.deepEqual(m.blendFunction,ht.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(m.blendFunction),this.blendColor.set(m.blendColor)),this.colorMask.set(m.mask)},Ie.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ne=function(m){function x(v,C,M){var B=this;m.call(this),this.id=v,this.dispatcher=M,this.on("data",function(U){U.dataType==="source"&&U.sourceDataType==="metadata"&&(B._sourceLoaded=!0),B._sourceLoaded&&!B._paused&&U.dataType==="source"&&U.sourceDataType==="content"&&(B.reload(),B.transform&&B.update(B.transform))}),this.on("error",function(){B._sourceErrored=!0}),this._source=function(U,X,ce,Se){var Le=new Yt[X.type](U,X,ce,Se);if(Le.id!==U)throw new Error("Expected Source id to be "+U+" instead of "+Le.id);return _.bindAll(["load","abort","unload","serialize","prepare"],Le),Le}(v,C,M,this),this._tiles={},this._cache=new ur(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new _.SourceFeatureState}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.onAdd=function(v){this.map=v,this._maxTileCacheSize=v?v._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(v)},x.prototype.onRemove=function(v){this._source&&this._source.onRemove&&this._source.onRemove(v)},x.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var v in this._tiles){var C=this._tiles[v];if(C.state!=="loaded"&&C.state!=="errored")return!1}return!0},x.prototype.getSource=function(){return this._source},x.prototype.pause=function(){this._paused=!0},x.prototype.resume=function(){if(this._paused){var v=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,v&&this.reload(),this.transform&&this.update(this.transform)}},x.prototype._loadTile=function(v,C){return this._source.loadTile(v,C)},x.prototype._unloadTile=function(v){if(this._source.unloadTile)return this._source.unloadTile(v,function(){})},x.prototype._abortTile=function(v){if(this._source.abortTile)return this._source.abortTile(v,function(){})},x.prototype.serialize=function(){return this._source.serialize()},x.prototype.prepare=function(v){for(var C in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var M=this._tiles[C];M.upload(v),M.prepare(this.map.style.imageManager)}},x.prototype.getIds=function(){return _.values(this._tiles).map(function(v){return v.tileID}).sort(xt).map(function(v){return v.key})},x.prototype.getRenderableIds=function(v){var C=this,M=[];for(var B in this._tiles)this._isIdRenderable(B,v)&&M.push(this._tiles[B]);return v?M.sort(function(U,X){var ce=U.tileID,Se=X.tileID,Le=new _.Point(ce.canonical.x,ce.canonical.y)._rotate(C.transform.angle),Re=new _.Point(Se.canonical.x,Se.canonical.y)._rotate(C.transform.angle);return ce.overscaledZ-Se.overscaledZ||Re.y-Le.y||Re.x-Le.x}).map(function(U){return U.tileID.key}):M.map(function(U){return U.tileID}).sort(xt).map(function(U){return U.key})},x.prototype.hasRenderableParent=function(v){var C=this.findLoadedParent(v,0);return!!C&&this._isIdRenderable(C.tileID.key)},x.prototype._isIdRenderable=function(v,C){return this._tiles[v]&&this._tiles[v].hasData()&&!this._coveredTiles[v]&&(C||!this._tiles[v].holdingForFade())},x.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var v in this._cache.reset(),this._tiles)this._tiles[v].state!=="errored"&&this._reloadTile(v,"reloading")},x.prototype._reloadTile=function(v,C){var M=this._tiles[v];M&&(M.state!=="loading"&&(M.state=C),this._loadTile(M,this._tileLoaded.bind(this,M,v,C)))},x.prototype._tileLoaded=function(v,C,M,B){if(B)return v.state="errored",void(B.status!==404?this._source.fire(new _.ErrorEvent(B,{tile:v})):this.update(this.transform));v.timeAdded=_.browser.now(),M==="expired"&&(v.refreshedUponExpiration=!0),this._setTileReloadTimer(C,v),this.getSource().type==="raster-dem"&&v.dem&&this._backfillDEM(v),this._state.initializeTileState(v,this.map?this.map.painter:null),this._source.fire(new _.Event("data",{dataType:"source",tile:v,coord:v.tileID}))},x.prototype._backfillDEM=function(v){for(var C=this.getRenderableIds(),M=0;M<C.length;M++){var B=C[M];if(v.neighboringTiles&&v.neighboringTiles[B]){var U=this.getTileByID(B);X(v,U),X(U,v)}}function X(ce,Se){ce.needsHillshadePrepare=!0;var Le=Se.tileID.canonical.x-ce.tileID.canonical.x,Re=Se.tileID.canonical.y-ce.tileID.canonical.y,ze=Math.pow(2,ce.tileID.canonical.z),nt=Se.tileID.key;Le===0&&Re===0||Math.abs(Re)>1||(Math.abs(Le)>1&&(Math.abs(Le+ze)===1?Le+=ze:Math.abs(Le-ze)===1&&(Le-=ze)),Se.dem&&ce.dem&&(ce.dem.backfillBorder(Se.dem,Le,Re),ce.neighboringTiles&&ce.neighboringTiles[nt]&&(ce.neighboringTiles[nt].backfilled=!0)))}},x.prototype.getTile=function(v){return this.getTileByID(v.key)},x.prototype.getTileByID=function(v){return this._tiles[v]},x.prototype._retainLoadedChildren=function(v,C,M,B){for(var U in this._tiles){var X=this._tiles[U];if(!(B[U]||!X.hasData()||X.tileID.overscaledZ<=C||X.tileID.overscaledZ>M)){for(var ce=X.tileID;X&&X.tileID.overscaledZ>C+1;){var Se=X.tileID.scaledTo(X.tileID.overscaledZ-1);(X=this._tiles[Se.key])&&X.hasData()&&(ce=Se)}for(var Le=ce;Le.overscaledZ>C;)if(v[(Le=Le.scaledTo(Le.overscaledZ-1)).key]){B[ce.key]=ce;break}}}},x.prototype.findLoadedParent=function(v,C){if(v.key in this._loadedParentTiles){var M=this._loadedParentTiles[v.key];return M&&M.tileID.overscaledZ>=C?M:null}for(var B=v.overscaledZ-1;B>=C;B--){var U=v.scaledTo(B),X=this._getLoadedTile(U);if(X)return X}},x.prototype._getLoadedTile=function(v){var C=this._tiles[v.key];return C&&C.hasData()?C:this._cache.getByKey(v.wrapped().key)},x.prototype.updateCacheSize=function(v){var C=Math.ceil(v.width/this._source.tileSize)+1,M=Math.ceil(v.height/this._source.tileSize)+1,B=Math.floor(C*M*5),U=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,B):B;this._cache.setMaxSize(U)},x.prototype.handleWrapJump=function(v){var C=Math.round((v-(this._prevLng===void 0?v:this._prevLng))/360);if(this._prevLng=v,C){var M={};for(var B in this._tiles){var U=this._tiles[B];U.tileID=U.tileID.unwrapTo(U.tileID.wrap+C),M[U.tileID.key]=U}for(var X in this._tiles=M,this._timers)clearTimeout(this._timers[X]),delete this._timers[X];for(var ce in this._tiles)this._setTileReloadTimer(ce,this._tiles[ce])}},x.prototype.update=function(v){var C=this;if(this.transform=v,this._sourceLoaded&&!this._paused){var M;this.updateCacheSize(v),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?M=v.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(er){return new _.OverscaledTileID(er.canonical.z,er.wrap,er.canonical.z,er.canonical.x,er.canonical.y)}):(M=v.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(M=M.filter(function(er){return C._source.hasTile(er)}))):M=[];var B=v.coveringZoomLevel(this._source),U=Math.max(B-x.maxOverzooming,this._source.minzoom),X=Math.max(B+x.maxUnderzooming,this._source.minzoom),ce=this._updateRetainedTiles(M,B);if(Vt(this._source.type)){for(var Se={},Le={},Re=0,ze=Object.keys(ce);Re<ze.length;Re+=1){var nt=ze[Re],Je=ce[nt],ft=this._tiles[nt];if(ft&&!(ft.fadeEndTime&&ft.fadeEndTime<=_.browser.now())){var Ge=this.findLoadedParent(Je,U);Ge&&(this._addTile(Ge.tileID),Se[Ge.tileID.key]=Ge.tileID),Le[nt]=Je}}for(var ct in this._retainLoadedChildren(Le,B,X,ce),Se)ce[ct]||(this._coveredTiles[ct]=!0,ce[ct]=Se[ct])}for(var mt in ce)this._tiles[mt].clearFadeHold();for(var wt=0,zt=_.keysDifference(this._tiles,ce);wt<zt.length;wt+=1){var Rt=zt[wt],jt=this._tiles[Rt];jt.hasSymbolBuckets&&!jt.holdingForFade()?jt.setHoldDuration(this.map._fadeDuration):jt.hasSymbolBuckets&&!jt.symbolFadeFinished()||this._removeTile(Rt)}this._updateLoadedParentTileCache()}},x.prototype.releaseSymbolFadeTiles=function(){for(var v in this._tiles)this._tiles[v].holdingForFade()&&this._removeTile(v)},x.prototype._updateRetainedTiles=function(v,C){for(var M={},B={},U=Math.max(C-x.maxOverzooming,this._source.minzoom),X=Math.max(C+x.maxUnderzooming,this._source.minzoom),ce={},Se=0,Le=v;Se<Le.length;Se+=1){var Re=Le[Se],ze=this._addTile(Re);M[Re.key]=Re,ze.hasData()||C<this._source.maxzoom&&(ce[Re.key]=Re)}this._retainLoadedChildren(ce,C,X,M);for(var nt=0,Je=v;nt<Je.length;nt+=1){var ft=Je[nt],Ge=this._tiles[ft.key];if(!Ge.hasData()){if(C+1>this._source.maxzoom){var ct=ft.children(this._source.maxzoom)[0],mt=this.getTile(ct);if(mt&&mt.hasData()){M[ct.key]=ct;continue}}else{var wt=ft.children(this._source.maxzoom);if(M[wt[0].key]&&M[wt[1].key]&&M[wt[2].key]&&M[wt[3].key])continue}for(var zt=Ge.wasRequested(),Rt=ft.overscaledZ-1;Rt>=U;--Rt){var jt=ft.scaledTo(Rt);if(B[jt.key]||(B[jt.key]=!0,!(Ge=this.getTile(jt))&&zt&&(Ge=this._addTile(jt)),Ge&&(M[jt.key]=jt,zt=Ge.wasRequested(),Ge.hasData())))break}}}return M},x.prototype._updateLoadedParentTileCache=function(){for(var v in this._loadedParentTiles={},this._tiles){for(var C=[],M=void 0,B=this._tiles[v].tileID;B.overscaledZ>0;){if(B.key in this._loadedParentTiles){M=this._loadedParentTiles[B.key];break}C.push(B.key);var U=B.scaledTo(B.overscaledZ-1);if(M=this._getLoadedTile(U))break;B=U}for(var X=0,ce=C;X<ce.length;X+=1)this._loadedParentTiles[ce[X]]=M}},x.prototype._addTile=function(v){var C=this._tiles[v.key];if(C)return C;(C=this._cache.getAndRemove(v))&&(this._setTileReloadTimer(v.key,C),C.tileID=v,this._state.initializeTileState(C,this.map?this.map.painter:null),this._cacheTimers[v.key]&&(clearTimeout(this._cacheTimers[v.key]),delete this._cacheTimers[v.key],this._setTileReloadTimer(v.key,C)));var M=Boolean(C);return M||(C=new _.Tile(v,this._source.tileSize*v.overscaleFactor()),this._loadTile(C,this._tileLoaded.bind(this,C,v.key,C.state))),C?(C.uses++,this._tiles[v.key]=C,M||this._source.fire(new _.Event("dataloading",{tile:C,coord:C.tileID,dataType:"source"})),C):null},x.prototype._setTileReloadTimer=function(v,C){var M=this;v in this._timers&&(clearTimeout(this._timers[v]),delete this._timers[v]);var B=C.getExpiryTimeout();B&&(this._timers[v]=setTimeout(function(){M._reloadTile(v,"expired"),delete M._timers[v]},B))},x.prototype._removeTile=function(v){var C=this._tiles[v];C&&(C.uses--,delete this._tiles[v],this._timers[v]&&(clearTimeout(this._timers[v]),delete this._timers[v]),C.uses>0||(C.hasData()&&C.state!=="reloading"?this._cache.add(C.tileID,C,C.getExpiryTimeout()):(C.aborted=!0,this._abortTile(C),this._unloadTile(C))))},x.prototype.clearTiles=function(){for(var v in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(v);this._cache.reset()},x.prototype.tilesIn=function(v,C,M){var B=this,U=[],X=this.transform;if(!X)return U;for(var ce=M?X.getCameraQueryGeometry(v):v,Se=v.map(function(Rt){return X.pointCoordinate(Rt)}),Le=ce.map(function(Rt){return X.pointCoordinate(Rt)}),Re=this.getIds(),ze=1/0,nt=1/0,Je=-1/0,ft=-1/0,Ge=0,ct=Le;Ge<ct.length;Ge+=1){var mt=ct[Ge];ze=Math.min(ze,mt.x),nt=Math.min(nt,mt.y),Je=Math.max(Je,mt.x),ft=Math.max(ft,mt.y)}for(var wt=function(Rt){var jt=B._tiles[Re[Rt]];if(!jt.holdingForFade()){var er=jt.tileID,nr=Math.pow(2,X.zoom-jt.tileID.overscaledZ),lr=C*jt.queryPadding*_.EXTENT/jt.tileSize/nr,Er=[er.getTilePoint(new _.MercatorCoordinate(ze,nt)),er.getTilePoint(new _.MercatorCoordinate(Je,ft))];if(Er[0].x-lr<_.EXTENT&&Er[0].y-lr<_.EXTENT&&Er[1].x+lr>=0&&Er[1].y+lr>=0){var Ar=Se.map(function(Vr){return er.getTilePoint(Vr)}),Kr=Le.map(function(Vr){return er.getTilePoint(Vr)});U.push({tile:jt,tileID:er,queryGeometry:Ar,cameraQueryGeometry:Kr,scale:nr})}}},zt=0;zt<Re.length;zt++)wt(zt);return U},x.prototype.getVisibleCoordinates=function(v){for(var C=this,M=this.getRenderableIds(v).map(function(ce){return C._tiles[ce].tileID}),B=0,U=M;B<U.length;B+=1){var X=U[B];X.posMatrix=this.transform.calculatePosMatrix(X.toUnwrapped())}return M},x.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Vt(this._source.type))for(var v in this._tiles){var C=this._tiles[v];if(C.fadeEndTime!==void 0&&C.fadeEndTime>=_.browser.now())return!0}return!1},x.prototype.setFeatureState=function(v,C,M){this._state.updateState(v=v||"_geojsonTileLayer",C,M)},x.prototype.removeFeatureState=function(v,C,M){this._state.removeFeatureState(v=v||"_geojsonTileLayer",C,M)},x.prototype.getFeatureState=function(v,C){return this._state.getState(v=v||"_geojsonTileLayer",C)},x.prototype.setDependencies=function(v,C,M){var B=this._tiles[v];B&&B.setDependencies(C,M)},x.prototype.reloadTilesForDependencies=function(v,C){for(var M in this._tiles)this._tiles[M].hasDependency(v,C)&&this._reloadTile(M,"reloading");this._cache.filter(function(B){return!B.hasDependency(v,C)})},x}(_.Evented);function xt(m,x){var v=Math.abs(2*m.wrap)-+(m.wrap<0),C=Math.abs(2*x.wrap)-+(x.wrap<0);return m.overscaledZ-x.overscaledZ||C-v||x.canonical.y-m.canonical.y||x.canonical.x-m.canonical.x}function Vt(m){return m==="raster"||m==="image"||m==="video"}function Et(){return new _.window.Worker(ic.workerUrl)}Ne.maxOverzooming=10,Ne.maxUnderzooming=3;var St="mapboxgl_preloaded_worker_pool",Qt=function(){this.active={}};Qt.prototype.acquire=function(m){if(!this.workers)for(this.workers=[];this.workers.length<Qt.workerCount;)this.workers.push(new Et);return this.active[m]=!0,this.workers.slice()},Qt.prototype.release=function(m){delete this.active[m],this.numActive()===0&&(this.workers.forEach(function(x){x.terminate()}),this.workers=null)},Qt.prototype.isPreloaded=function(){return!!this.active[St]},Qt.prototype.numActive=function(){return Object.keys(this.active).length};var we,Pe=Math.floor(_.browser.hardwareConcurrency/2);function Ae(){return we||(we=new Qt),we}function Q(m,x){var v={};for(var C in m)C!=="ref"&&(v[C]=m[C]);return _.refProperties.forEach(function(M){M in x&&(v[M]=x[M])}),v}function Z(m){m=m.slice();for(var x=Object.create(null),v=0;v<m.length;v++)x[m[v].id]=m[v];for(var C=0;C<m.length;C++)"ref"in m[C]&&(m[C]=Q(m[C],x[m[C].ref]));return m}Qt.workerCount=Math.max(Math.min(Pe,6),1);var ue={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Fe(m,x,v){v.push({command:ue.addSource,args:[m,x[m]]})}function it(m,x,v){x.push({command:ue.removeSource,args:[m]}),v[m]=!0}function Mt(m,x,v,C){it(m,v,C),Fe(m,x,v)}function Wt(m,x,v){var C;for(C in m[v])if(m[v].hasOwnProperty(C)&&C!=="data"&&!_.deepEqual(m[v][C],x[v][C]))return!1;for(C in x[v])if(x[v].hasOwnProperty(C)&&C!=="data"&&!_.deepEqual(m[v][C],x[v][C]))return!1;return!0}function dr(m,x,v,C,M,B){var U;for(U in x=x||{},m=m||{})m.hasOwnProperty(U)&&(_.deepEqual(m[U],x[U])||v.push({command:B,args:[C,U,x[U],M]}));for(U in x)x.hasOwnProperty(U)&&!m.hasOwnProperty(U)&&(_.deepEqual(m[U],x[U])||v.push({command:B,args:[C,U,x[U],M]}))}function Sr(m){return m.id}function Zt(m,x){return m[x.id]=x,m}var tn=function(m,x){this.reset(m,x)};tn.prototype.reset=function(m,x){this.points=m||[],this._distances=[0];for(var v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(x||0,.5*this.length),this.paddedLength=this.length-2*this.padding},tn.prototype.lerp=function(m){if(this.points.length===1)return this.points[0];m=_.clamp(m,0,1);for(var x=1,v=this._distances[x],C=m*this.paddedLength+this.padding;v<C&&x<this._distances.length;)v=this._distances[++x];var M=x-1,B=this._distances[M],U=v-B,X=U>0?(C-B)/U:0;return this.points[M].mult(1-X).add(this.points[x].mult(X))};var un=function(m,x,v){var C=this.boxCells=[],M=this.circleCells=[];this.xCellCount=Math.ceil(m/v),this.yCellCount=Math.ceil(x/v);for(var B=0;B<this.xCellCount*this.yCellCount;B++)C.push([]),M.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=m,this.height=x,this.xScale=this.xCellCount/m,this.yScale=this.yCellCount/x,this.boxUid=0,this.circleUid=0};function Br(m,x,v,C,M){var B=_.create();return x?(_.scale(B,B,[1/M,1/M,1]),v||_.rotateZ(B,B,C.angle)):_.multiply(B,C.labelPlaneMatrix,m),B}function Lr(m,x,v,C,M){if(x){var B=_.clone(m);return _.scale(B,B,[M,M,1]),v||_.rotateZ(B,B,-C.angle),B}return C.glCoordMatrix}function cn(m,x){var v=[m.x,m.y,0,1];Qi(v,v,x);var C=v[3];return{point:new _.Point(v[0]/C,v[1]/C),signedDistanceFromCamera:C}}function Mn(m,x){return .5+m/x*.5}function Ji(m,x){var v=m[0]/m[3],C=m[1]/m[3];return v>=-x[0]&&v<=x[0]&&C>=-x[1]&&C<=x[1]}function zs(m,x,v,C,M,B,U,X){var ce=C?m.textSizeData:m.iconSizeData,Se=_.evaluateSizeForZoom(ce,v.transform.zoom),Le=[256/v.width*2+1,256/v.height*2+1],Re=C?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;Re.clear();for(var ze=m.lineVertexArray,nt=C?m.text.placedSymbolArray:m.icon.placedSymbolArray,Je=v.transform.width/v.transform.height,ft=!1,Ge=0;Ge<nt.length;Ge++){var ct=nt.get(Ge);if(ct.hidden||ct.writingMode===_.WritingMode.vertical&&!ft)Ai(ct.numGlyphs,Re);else{ft=!1;var mt=[ct.anchorX,ct.anchorY,0,1];if(_.transformMat4(mt,mt,x),Ji(mt,Le)){var wt=Mn(v.transform.cameraToCenterDistance,mt[3]),zt=_.evaluateSizeForFeature(ce,Se,ct),Rt=U?zt/wt:zt*wt,jt=new _.Point(ct.anchorX,ct.anchorY),er=cn(jt,M).point,nr={},lr=ta(ct,Rt,!1,X,x,M,B,m.glyphOffsetArray,ze,Re,er,jt,nr,Je);ft=lr.useVertical,(lr.notEnoughRoom||ft||lr.needsFlipping&&ta(ct,Rt,!0,X,x,M,B,m.glyphOffsetArray,ze,Re,er,jt,nr,Je).notEnoughRoom)&&Ai(ct.numGlyphs,Re)}else Ai(ct.numGlyphs,Re)}}C?m.text.dynamicLayoutVertexBuffer.updateData(Re):m.icon.dynamicLayoutVertexBuffer.updateData(Re)}function Pn(m,x,v,C,M,B,U,X,ce,Se,Le){var Re=X.glyphStartIndex+X.numGlyphs,ze=X.lineStartIndex,nt=X.lineStartIndex+X.lineLength,Je=x.getoffsetX(X.glyphStartIndex),ft=x.getoffsetX(Re-1),Ge=vi(m*Je,v,C,M,B,U,X.segment,ze,nt,ce,Se,Le);if(!Ge)return null;var ct=vi(m*ft,v,C,M,B,U,X.segment,ze,nt,ce,Se,Le);return ct?{first:Ge,last:ct}:null}function fi(m,x,v,C){return m===_.WritingMode.horizontal&&Math.abs(v.y-x.y)>Math.abs(v.x-x.x)*C?{useVertical:!0}:(m===_.WritingMode.vertical?x.y<v.y:x.x>v.x)?{needsFlipping:!0}:null}function ta(m,x,v,C,M,B,U,X,ce,Se,Le,Re,ze,nt){var Je,ft=x/24,Ge=m.lineOffsetX*ft,ct=m.lineOffsetY*ft;if(m.numGlyphs>1){var mt=m.glyphStartIndex+m.numGlyphs,wt=m.lineStartIndex,zt=m.lineStartIndex+m.lineLength,Rt=Pn(ft,X,Ge,ct,v,Le,Re,m,ce,B,ze);if(!Rt)return{notEnoughRoom:!0};var jt=cn(Rt.first.point,U).point,er=cn(Rt.last.point,U).point;if(C&&!v){var nr=fi(m.writingMode,jt,er,nt);if(nr)return nr}Je=[Rt.first];for(var lr=m.glyphStartIndex+1;lr<mt-1;lr++)Je.push(vi(ft*X.getoffsetX(lr),Ge,ct,v,Le,Re,m.segment,wt,zt,ce,B,ze));Je.push(Rt.last)}else{if(C&&!v){var Er=cn(Re,M).point,Ar=m.lineStartIndex+m.segment+1,Kr=new _.Point(ce.getx(Ar),ce.gety(Ar)),Vr=cn(Kr,M),On=Vr.signedDistanceFromCamera>0?Vr.point:Dl(Re,Kr,Er,1,M),Dr=fi(m.writingMode,Er,On,nt);if(Dr)return Dr}var an=vi(ft*X.getoffsetX(m.glyphStartIndex),Ge,ct,v,Le,Re,m.segment,m.lineStartIndex,m.lineStartIndex+m.lineLength,ce,B,ze);if(!an)return{notEnoughRoom:!0};Je=[an]}for(var gn=0,rn=Je;gn<rn.length;gn+=1){var sn=rn[gn];_.addDynamicAttributes(Se,sn.point,sn.angle)}return{}}function Dl(m,x,v,C,M){var B=cn(m.add(m.sub(x)._unit()),M).point,U=v.sub(B);return v.add(U._mult(C/U.mag()))}function vi(m,x,v,C,M,B,U,X,ce,Se,Le,Re){var ze=C?m-x:m+x,nt=ze>0?1:-1,Je=0;C&&(nt*=-1,Je=Math.PI),nt<0&&(Je+=Math.PI);for(var ft=nt>0?X+U:X+U+1,Ge=M,ct=M,mt=0,wt=0,zt=Math.abs(ze),Rt=[];mt+wt<=zt;){if((ft+=nt)<X||ft>=ce)return null;if(ct=Ge,Rt.push(Ge),(Ge=Re[ft])===void 0){var jt=new _.Point(Se.getx(ft),Se.gety(ft)),er=cn(jt,Le);if(er.signedDistanceFromCamera>0)Ge=Re[ft]=er.point;else{var nr=ft-nt;Ge=Dl(mt===0?B:new _.Point(Se.getx(nr),Se.gety(nr)),jt,ct,zt-mt+1,Le)}}mt+=wt,wt=ct.dist(Ge)}var lr=(zt-mt)/wt,Er=Ge.sub(ct),Ar=Er.mult(lr)._add(ct);Ar._add(Er._unit()._perp()._mult(v*nt));var Kr=Je+Math.atan2(Ge.y-ct.y,Ge.x-ct.x);return Rt.push(Ar),{point:Ar,angle:Kr,path:Rt}}un.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},un.prototype.insert=function(m,x,v,C,M){this._forEachCell(x,v,C,M,this._insertBoxCell,this.boxUid++),this.boxKeys.push(m),this.bboxes.push(x),this.bboxes.push(v),this.bboxes.push(C),this.bboxes.push(M)},un.prototype.insertCircle=function(m,x,v,C){this._forEachCell(x-C,v-C,x+C,v+C,this._insertCircleCell,this.circleUid++),this.circleKeys.push(m),this.circles.push(x),this.circles.push(v),this.circles.push(C)},un.prototype._insertBoxCell=function(m,x,v,C,M,B){this.boxCells[M].push(B)},un.prototype._insertCircleCell=function(m,x,v,C,M,B){this.circleCells[M].push(B)},un.prototype._query=function(m,x,v,C,M,B){if(v<0||m>this.width||C<0||x>this.height)return!M&&[];var U=[];if(m<=0&&x<=0&&this.width<=v&&this.height<=C){if(M)return!0;for(var X=0;X<this.boxKeys.length;X++)U.push({key:this.boxKeys[X],x1:this.bboxes[4*X],y1:this.bboxes[4*X+1],x2:this.bboxes[4*X+2],y2:this.bboxes[4*X+3]});for(var ce=0;ce<this.circleKeys.length;ce++){var Se=this.circles[3*ce],Le=this.circles[3*ce+1],Re=this.circles[3*ce+2];U.push({key:this.circleKeys[ce],x1:Se-Re,y1:Le-Re,x2:Se+Re,y2:Le+Re})}return B?U.filter(B):U}return this._forEachCell(m,x,v,C,this._queryCell,U,{hitTest:M,seenUids:{box:{},circle:{}}},B),M?U.length>0:U},un.prototype._queryCircle=function(m,x,v,C,M){var B=m-v,U=m+v,X=x-v,ce=x+v;if(U<0||B>this.width||ce<0||X>this.height)return!C&&[];var Se=[];return this._forEachCell(B,X,U,ce,this._queryCellCircle,Se,{hitTest:C,circle:{x:m,y:x,radius:v},seenUids:{box:{},circle:{}}},M),C?Se.length>0:Se},un.prototype.query=function(m,x,v,C,M){return this._query(m,x,v,C,!1,M)},un.prototype.hitTest=function(m,x,v,C,M){return this._query(m,x,v,C,!0,M)},un.prototype.hitTestCircle=function(m,x,v,C){return this._queryCircle(m,x,v,!0,C)},un.prototype._queryCell=function(m,x,v,C,M,B,U,X){var ce=U.seenUids,Se=this.boxCells[M];if(Se!==null)for(var Le=this.bboxes,Re=0,ze=Se;Re<ze.length;Re+=1){var nt=ze[Re];if(!ce.box[nt]){ce.box[nt]=!0;var Je=4*nt;if(m<=Le[Je+2]&&x<=Le[Je+3]&&v>=Le[Je+0]&&C>=Le[Je+1]&&(!X||X(this.boxKeys[nt]))){if(U.hitTest)return B.push(!0),!0;B.push({key:this.boxKeys[nt],x1:Le[Je],y1:Le[Je+1],x2:Le[Je+2],y2:Le[Je+3]})}}}var ft=this.circleCells[M];if(ft!==null)for(var Ge=this.circles,ct=0,mt=ft;ct<mt.length;ct+=1){var wt=mt[ct];if(!ce.circle[wt]){ce.circle[wt]=!0;var zt=3*wt;if(this._circleAndRectCollide(Ge[zt],Ge[zt+1],Ge[zt+2],m,x,v,C)&&(!X||X(this.circleKeys[wt]))){if(U.hitTest)return B.push(!0),!0;var Rt=Ge[zt],jt=Ge[zt+1],er=Ge[zt+2];B.push({key:this.circleKeys[wt],x1:Rt-er,y1:jt-er,x2:Rt+er,y2:jt+er})}}}},un.prototype._queryCellCircle=function(m,x,v,C,M,B,U,X){var ce=U.circle,Se=U.seenUids,Le=this.boxCells[M];if(Le!==null)for(var Re=this.bboxes,ze=0,nt=Le;ze<nt.length;ze+=1){var Je=nt[ze];if(!Se.box[Je]){Se.box[Je]=!0;var ft=4*Je;if(this._circleAndRectCollide(ce.x,ce.y,ce.radius,Re[ft+0],Re[ft+1],Re[ft+2],Re[ft+3])&&(!X||X(this.boxKeys[Je])))return B.push(!0),!0}}var Ge=this.circleCells[M];if(Ge!==null)for(var ct=this.circles,mt=0,wt=Ge;mt<wt.length;mt+=1){var zt=wt[mt];if(!Se.circle[zt]){Se.circle[zt]=!0;var Rt=3*zt;if(this._circlesCollide(ct[Rt],ct[Rt+1],ct[Rt+2],ce.x,ce.y,ce.radius)&&(!X||X(this.circleKeys[zt])))return B.push(!0),!0}}},un.prototype._forEachCell=function(m,x,v,C,M,B,U,X){for(var ce=this._convertToXCellCoord(m),Se=this._convertToYCellCoord(x),Le=this._convertToXCellCoord(v),Re=this._convertToYCellCoord(C),ze=ce;ze<=Le;ze++)for(var nt=Se;nt<=Re;nt++)if(M.call(this,m,x,v,C,this.xCellCount*nt+ze,B,U,X))return},un.prototype._convertToXCellCoord=function(m){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(m*this.xScale)))},un.prototype._convertToYCellCoord=function(m){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(m*this.yScale)))},un.prototype._circlesCollide=function(m,x,v,C,M,B){var U=C-m,X=M-x,ce=v+B;return ce*ce>U*U+X*X},un.prototype._circleAndRectCollide=function(m,x,v,C,M,B,U){var X=(B-C)/2,ce=Math.abs(m-(C+X));if(ce>X+v)return!1;var Se=(U-M)/2,Le=Math.abs(x-(M+Se));if(Le>Se+v)return!1;if(ce<=X||Le<=Se)return!0;var Re=ce-X,ze=Le-Se;return Re*Re+ze*ze<=v*v};var Ns=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ai(m,x){for(var v=0;v<m;v++){var C=x.length;x.resize(C+4),x.float32.set(Ns,3*C)}}function Qi(m,x,v){var C=x[0],M=x[1];return m[0]=v[0]*C+v[4]*M+v[12],m[1]=v[1]*C+v[5]*M+v[13],m[3]=v[3]*C+v[7]*M+v[15],m}var so=function(m,x,v){x===void 0&&(x=new un(m.width+200,m.height+200,25)),v===void 0&&(v=new un(m.width+200,m.height+200,25)),this.transform=m,this.grid=x,this.ignoredGrid=v,this.pitchfactor=Math.cos(m._pitch)*m.cameraToCenterDistance,this.screenRightBoundary=m.width+100,this.screenBottomBoundary=m.height+100,this.gridRightBoundary=m.width+200,this.gridBottomBoundary=m.height+200};function Dn(m,x,v){return x*(_.EXTENT/(m.tileSize*Math.pow(2,v-m.tileID.overscaledZ)))}so.prototype.placeCollisionBox=function(m,x,v,C,M){var B=this.projectAndGetPerspectiveRatio(C,m.anchorPointX,m.anchorPointY),U=v*B.perspectiveRatio,X=m.x1*U+B.point.x,ce=m.y1*U+B.point.y,Se=m.x2*U+B.point.x,Le=m.y2*U+B.point.y;return!this.isInsideGrid(X,ce,Se,Le)||!x&&this.grid.hitTest(X,ce,Se,Le,M)?{box:[],offscreen:!1}:{box:[X,ce,Se,Le],offscreen:this.isOffscreen(X,ce,Se,Le)}},so.prototype.placeCollisionCircles=function(m,x,v,C,M,B,U,X,ce,Se,Le,Re,ze){var nt=[],Je=new _.Point(x.anchorX,x.anchorY),ft=cn(Je,B),Ge=Mn(this.transform.cameraToCenterDistance,ft.signedDistanceFromCamera),ct=(Se?M/Ge:M*Ge)/_.ONE_EM,mt=cn(Je,U).point,wt=Pn(ct,C,x.lineOffsetX*ct,x.lineOffsetY*ct,!1,mt,Je,x,v,U,{}),zt=!1,Rt=!1,jt=!0;if(wt){for(var er=.5*Re*Ge+ze,nr=new _.Point(-100,-100),lr=new _.Point(this.screenRightBoundary,this.screenBottomBoundary),Er=new tn,Ar=wt.first,Kr=wt.last,Vr=[],On=Ar.path.length-1;On>=1;On--)Vr.push(Ar.path[On]);for(var Dr=1;Dr<Kr.path.length;Dr++)Vr.push(Kr.path[Dr]);var an=2.5*er;if(X){var gn=Vr.map(function(Ma){return cn(Ma,X)});Vr=gn.some(function(Ma){return Ma.signedDistanceFromCamera<=0})?[]:gn.map(function(Ma){return Ma.point})}var rn=[];if(Vr.length>0){for(var sn=Vr[0].clone(),dn=Vr[0].clone(),Qr=1;Qr<Vr.length;Qr++)sn.x=Math.min(sn.x,Vr[Qr].x),sn.y=Math.min(sn.y,Vr[Qr].y),dn.x=Math.max(dn.x,Vr[Qr].x),dn.y=Math.max(dn.y,Vr[Qr].y);rn=sn.x>=nr.x&&dn.x<=lr.x&&sn.y>=nr.y&&dn.y<=lr.y?[Vr]:dn.x<nr.x||sn.x>lr.x||dn.y<nr.y||sn.y>lr.y?[]:_.clipLine([Vr],nr.x,nr.y,lr.x,lr.y)}for(var Jr=0,yo=rn;Jr<yo.length;Jr+=1){var Si;Er.reset(yo[Jr],.25*er),Si=Er.length<=.5*er?1:Math.ceil(Er.paddedLength/an)+1;for(var Ao=0;Ao<Si;Ao++){var Go=Ao/Math.max(Si-1,1),xi=Er.lerp(Go),Li=xi.x+100,da=xi.y+100;nt.push(Li,da,er,0);var Po=Li-er,Ka=da-er,Ko=Li+er,cs=da+er;if(jt=jt&&this.isOffscreen(Po,Ka,Ko,cs),Rt=Rt||this.isInsideGrid(Po,Ka,Ko,cs),!m&&this.grid.hitTestCircle(Li,da,er,Le)&&(zt=!0,!ce))return{circles:[],offscreen:!1,collisionDetected:zt}}}}return{circles:!ce&&zt||!Rt?[]:nt,offscreen:jt,collisionDetected:zt}},so.prototype.queryRenderedSymbols=function(m){if(m.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var x=[],v=1/0,C=1/0,M=-1/0,B=-1/0,U=0,X=m;U<X.length;U+=1){var ce=X[U],Se=new _.Point(ce.x+100,ce.y+100);v=Math.min(v,Se.x),C=Math.min(C,Se.y),M=Math.max(M,Se.x),B=Math.max(B,Se.y),x.push(Se)}for(var Le={},Re={},ze=0,nt=this.grid.query(v,C,M,B).concat(this.ignoredGrid.query(v,C,M,B));ze<nt.length;ze+=1){var Je=nt[ze],ft=Je.key;if(Le[ft.bucketInstanceId]===void 0&&(Le[ft.bucketInstanceId]={}),!Le[ft.bucketInstanceId][ft.featureIndex]){var Ge=[new _.Point(Je.x1,Je.y1),new _.Point(Je.x2,Je.y1),new _.Point(Je.x2,Je.y2),new _.Point(Je.x1,Je.y2)];_.polygonIntersectsPolygon(x,Ge)&&(Le[ft.bucketInstanceId][ft.featureIndex]=!0,Re[ft.bucketInstanceId]===void 0&&(Re[ft.bucketInstanceId]=[]),Re[ft.bucketInstanceId].push(ft.featureIndex))}}return Re},so.prototype.insertCollisionBox=function(m,x,v,C,M){(x?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:C,collisionGroupID:M},m[0],m[1],m[2],m[3])},so.prototype.insertCollisionCircles=function(m,x,v,C,M){for(var B=x?this.ignoredGrid:this.grid,U={bucketInstanceId:v,featureIndex:C,collisionGroupID:M},X=0;X<m.length;X+=4)B.insertCircle(U,m[X],m[X+1],m[X+2])},so.prototype.projectAndGetPerspectiveRatio=function(m,x,v){var C=[x,v,0,1];return Qi(C,C,m),{point:new _.Point((C[0]/C[3]+1)/2*this.transform.width+100,(-C[1]/C[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/C[3]*.5}},so.prototype.isOffscreen=function(m,x,v,C){return v<100||m>=this.screenRightBoundary||C<100||x>this.screenBottomBoundary},so.prototype.isInsideGrid=function(m,x,v,C){return v>=0&&m<this.gridRightBoundary&&C>=0&&x<this.gridBottomBoundary},so.prototype.getViewportMatrix=function(){var m=_.identity([]);return _.translate(m,m,[-100,-100,0]),m};var ra=function(m,x,v,C){this.opacity=m?Math.max(0,Math.min(1,m.opacity+(m.placed?x:-x))):C&&v?1:0,this.placed=v};ra.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var na=function(m,x,v,C,M){this.text=new ra(m?m.text:null,x,v,M),this.icon=new ra(m?m.icon:null,x,C,M)};na.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Gu=function(m,x,v){this.text=m,this.icon=x,this.skipFade=v},mo=function(){this.invProjMatrix=_.create(),this.viewportMatrix=_.create(),this.circles=[]},Vf=function(m,x,v,C,M){this.bucketInstanceId=m,this.featureIndex=x,this.sourceLayerIndex=v,this.bucketIndex=C,this.tileID=M},Uo=function(m){this.crossSourceCollisions=m,this.maxGroupID=0,this.collisionGroups={}};function Vi(m,x,v,C,M){var B=_.getAnchorAlignment(m),U=-(B.horizontalAlign-.5)*x,X=-(B.verticalAlign-.5)*v,ce=_.evaluateVariableOffset(m,C);return new _.Point(U+ce[0]*M,X+ce[1]*M)}function ns(m,x,v,C,M,B){var U=m.x1,X=m.x2,ce=m.y1,Se=m.y2,Le=m.anchorPointX,Re=m.anchorPointY,ze=new _.Point(x,v);return C&&ze._rotate(M?B:-B),{x1:U+ze.x,y1:ce+ze.y,x2:X+ze.x,y2:Se+ze.y,anchorPointX:Le,anchorPointY:Re}}Uo.prototype.get=function(m){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[m]){var x=++this.maxGroupID;this.collisionGroups[m]={ID:x,predicate:function(v){return v.collisionGroupID===x}}}return this.collisionGroups[m]};var jn=function(m,x,v,C){this.transform=m.clone(),this.collisionIndex=new so(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=x,this.retainedQueryData={},this.collisionGroups=new Uo(v),this.collisionCircleArrays={},this.prevPlacement=C,C&&(C.prevPlacement=void 0),this.placedOrientations={}};function sl(m,x,v,C,M){m.emplaceBack(x?1:0,v?1:0,C||0,M||0),m.emplaceBack(x?1:0,v?1:0,C||0,M||0),m.emplaceBack(x?1:0,v?1:0,C||0,M||0),m.emplaceBack(x?1:0,v?1:0,C||0,M||0)}jn.prototype.getBucketParts=function(m,x,v,C){var M=v.getBucket(x),B=v.latestFeatureIndex;if(M&&B&&x.id===M.layerIds[0]){var U=v.collisionBoxArray,X=M.layers[0].layout,ce=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),Se=v.tileSize/_.EXTENT,Le=this.transform.calculatePosMatrix(v.tileID.toUnwrapped()),Re=X.get("text-pitch-alignment")==="map",ze=X.get("text-rotation-alignment")==="map",nt=Dn(v,1,this.transform.zoom),Je=Br(Le,Re,ze,this.transform,nt),ft=null;if(Re){var Ge=Lr(Le,Re,ze,this.transform,nt);ft=_.multiply([],this.transform.labelPlaneMatrix,Ge)}this.retainedQueryData[M.bucketInstanceId]=new Vf(M.bucketInstanceId,B,M.sourceLayerIndex,M.index,v.tileID);var ct={bucket:M,layout:X,posMatrix:Le,textLabelPlaneMatrix:Je,labelToScreenMatrix:ft,scale:ce,textPixelRatio:Se,holdingForFade:v.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:_.evaluateSizeForZoom(M.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(M.sourceID)};if(C)for(var mt=0,wt=M.sortKeyRanges;mt<wt.length;mt+=1){var zt=wt[mt];m.push({sortKey:zt.sortKey,symbolInstanceStart:zt.symbolInstanceStart,symbolInstanceEnd:zt.symbolInstanceEnd,parameters:ct})}else m.push({symbolInstanceStart:0,symbolInstanceEnd:M.symbolInstances.length,parameters:ct})}},jn.prototype.attemptAnchorPlacement=function(m,x,v,C,M,B,U,X,ce,Se,Le,Re,ze,nt,Je){var ft,Ge=[Re.textOffset0,Re.textOffset1],ct=Vi(m,v,C,Ge,M),mt=this.collisionIndex.placeCollisionBox(ns(x,ct.x,ct.y,B,U,this.transform.angle),Le,X,ce,Se.predicate);if(!Je||this.collisionIndex.placeCollisionBox(ns(Je,ct.x,ct.y,B,U,this.transform.angle),Le,X,ce,Se.predicate).box.length!==0)return mt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Re.crossTileID]&&this.prevPlacement.placements[Re.crossTileID]&&this.prevPlacement.placements[Re.crossTileID].text&&(ft=this.prevPlacement.variableOffsets[Re.crossTileID].anchor),this.variableOffsets[Re.crossTileID]={textOffset:Ge,width:v,height:C,anchor:m,textBoxScale:M,prevAnchor:ft},this.markUsedJustification(ze,m,Re,nt),ze.allowVerticalPlacement&&(this.markUsedOrientation(ze,nt,Re),this.placedOrientations[Re.crossTileID]=nt),{shift:ct,placedGlyphBoxes:mt}):void 0},jn.prototype.placeLayerBucketPart=function(m,x,v){var C=this,M=m.parameters,B=M.bucket,U=M.layout,X=M.posMatrix,ce=M.textLabelPlaneMatrix,Se=M.labelToScreenMatrix,Le=M.textPixelRatio,Re=M.holdingForFade,ze=M.collisionBoxArray,nt=M.partiallyEvaluatedTextSize,Je=M.collisionGroup,ft=U.get("text-optional"),Ge=U.get("icon-optional"),ct=U.get("text-allow-overlap"),mt=U.get("icon-allow-overlap"),wt=U.get("text-rotation-alignment")==="map",zt=U.get("text-pitch-alignment")==="map",Rt=U.get("icon-text-fit")!=="none",jt=U.get("symbol-z-order")==="viewport-y",er=ct&&(mt||!B.hasIconData()||Ge),nr=mt&&(ct||!B.hasTextData()||ft);!B.collisionArrays&&ze&&B.deserializeCollisionBoxes(ze);var lr=function(Dr,an){if(!x[Dr.crossTileID])if(Re)C.placements[Dr.crossTileID]=new Gu(!1,!1,!1);else{var gn,rn=!1,sn=!1,dn=!0,Qr=null,Jr={box:null,offscreen:null},yo={box:null,offscreen:null},Si=null,Ao=null,Go=0,xi=0,Li=0;an.textFeatureIndex?Go=an.textFeatureIndex:Dr.useRuntimeCollisionCircles&&(Go=Dr.featureIndex),an.verticalTextFeatureIndex&&(xi=an.verticalTextFeatureIndex);var da=an.textBox;if(da){var Po=function(Kn){var Ts=_.WritingMode.horizontal;if(B.allowVerticalPlacement&&!Kn&&C.prevPlacement){var Ya=C.prevPlacement.placedOrientations[Dr.crossTileID];Ya&&(C.placedOrientations[Dr.crossTileID]=Ya,C.markUsedOrientation(B,Ts=Ya,Dr))}return Ts},Ka=function(Kn,Ts){if(B.allowVerticalPlacement&&Dr.numVerticalGlyphVertices>0&&an.verticalTextBox)for(var Ya=0,ac=B.writingModes;Ya<ac.length&&(ac[Ya]===_.WritingMode.vertical?(Jr=Ts(),yo=Jr):Jr=Kn(),!(Jr&&Jr.box&&Jr.box.length));Ya+=1);else Jr=Kn()};if(U.get("text-variable-anchor")){var Ko=U.get("text-variable-anchor");if(C.prevPlacement&&C.prevPlacement.variableOffsets[Dr.crossTileID]){var cs=C.prevPlacement.variableOffsets[Dr.crossTileID];Ko.indexOf(cs.anchor)>0&&(Ko=Ko.filter(function(Kn){return Kn!==cs.anchor})).unshift(cs.anchor)}var Ma=function(Kn,Ts,Ya){for(var ac=Kn.x2-Kn.x1,Qp=Kn.y2-Kn.y1,oh=Dr.textBoxScale,em=Rt&&!mt?Ts:null,vl={box:[],offscreen:!1},_f=ct?2*Ko.length:Ko.length,Fu=0;Fu<_f;++Fu){var fs=C.attemptAnchorPlacement(Ko[Fu%Ko.length],Kn,ac,Qp,oh,wt,zt,Le,X,Je,Fu>=Ko.length,Dr,B,Ya,em);if(fs&&(vl=fs.placedGlyphBoxes)&&vl.box&&vl.box.length){rn=!0,Qr=fs.shift;break}}return vl};Ka(function(){return Ma(da,an.iconBox,_.WritingMode.horizontal)},function(){var Kn=an.verticalTextBox;return B.allowVerticalPlacement&&!(Jr&&Jr.box&&Jr.box.length)&&Dr.numVerticalGlyphVertices>0&&Kn?Ma(Kn,an.verticalIconBox,_.WritingMode.vertical):{box:null,offscreen:null}}),Jr&&(rn=Jr.box,dn=Jr.offscreen);var Gs=Po(Jr&&Jr.box);if(!rn&&C.prevPlacement){var Bl=C.prevPlacement.variableOffsets[Dr.crossTileID];Bl&&(C.variableOffsets[Dr.crossTileID]=Bl,C.markUsedJustification(B,Bl.anchor,Dr,Gs))}}else{var Ks=function(Kn,Ts){var Ya=C.collisionIndex.placeCollisionBox(Kn,ct,Le,X,Je.predicate);return Ya&&Ya.box&&Ya.box.length&&(C.markUsedOrientation(B,Ts,Dr),C.placedOrientations[Dr.crossTileID]=Ts),Ya};Ka(function(){return Ks(da,_.WritingMode.horizontal)},function(){var Kn=an.verticalTextBox;return B.allowVerticalPlacement&&Dr.numVerticalGlyphVertices>0&&Kn?Ks(Kn,_.WritingMode.vertical):{box:null,offscreen:null}}),Po(Jr&&Jr.box&&Jr.box.length)}}if(rn=(gn=Jr)&&gn.box&&gn.box.length>0,dn=gn&&gn.offscreen,Dr.useRuntimeCollisionCircles){var Ys=B.text.placedSymbolArray.get(Dr.centerJustifiedTextSymbolIndex),jl=_.evaluateSizeForFeature(B.textSizeData,nt,Ys),Es=U.get("text-padding");Si=C.collisionIndex.placeCollisionCircles(ct,Ys,B.lineVertexArray,B.glyphOffsetArray,jl,X,ce,Se,v,zt,Je.predicate,Dr.collisionCircleDiameter,Es),rn=ct||Si.circles.length>0&&!Si.collisionDetected,dn=dn&&Si.offscreen}if(an.iconFeatureIndex&&(Li=an.iconFeatureIndex),an.iconBox){var ih=function(Kn){var Ts=Rt&&Qr?ns(Kn,Qr.x,Qr.y,wt,zt,C.transform.angle):Kn;return C.collisionIndex.placeCollisionBox(Ts,mt,Le,X,Je.predicate)};sn=yo&&yo.box&&yo.box.length&&an.verticalIconBox?(Ao=ih(an.verticalIconBox)).box.length>0:(Ao=ih(an.iconBox)).box.length>0,dn=dn&&Ao.offscreen}var Ul=ft||Dr.numHorizontalGlyphVertices===0&&Dr.numVerticalGlyphVertices===0,ni=Ge||Dr.numIconVertices===0;if(Ul||ni?ni?Ul||(sn=sn&&rn):rn=sn&&rn:sn=rn=sn&&rn,rn&&gn&&gn.box&&C.collisionIndex.insertCollisionBox(gn.box,U.get("text-ignore-placement"),B.bucketInstanceId,yo&&yo.box&&xi?xi:Go,Je.ID),sn&&Ao&&C.collisionIndex.insertCollisionBox(Ao.box,U.get("icon-ignore-placement"),B.bucketInstanceId,Li,Je.ID),Si&&(rn&&C.collisionIndex.insertCollisionCircles(Si.circles,U.get("text-ignore-placement"),B.bucketInstanceId,Go,Je.ID),v)){var vu=B.bucketInstanceId,oc=C.collisionCircleArrays[vu];oc===void 0&&(oc=C.collisionCircleArrays[vu]=new mo);for(var Lo=0;Lo<Si.circles.length;Lo+=4)oc.circles.push(Si.circles[Lo+0]),oc.circles.push(Si.circles[Lo+1]),oc.circles.push(Si.circles[Lo+2]),oc.circles.push(Si.collisionDetected?1:0)}C.placements[Dr.crossTileID]=new Gu(rn||er,sn||nr,dn||B.justReloaded),x[Dr.crossTileID]=!0}};if(jt)for(var Er=B.getSortedSymbolIndexes(this.transform.angle),Ar=Er.length-1;Ar>=0;--Ar){var Kr=Er[Ar];lr(B.symbolInstances.get(Kr),B.collisionArrays[Kr])}else for(var Vr=m.symbolInstanceStart;Vr<m.symbolInstanceEnd;Vr++)lr(B.symbolInstances.get(Vr),B.collisionArrays[Vr]);if(v&&B.bucketInstanceId in this.collisionCircleArrays){var On=this.collisionCircleArrays[B.bucketInstanceId];_.invert(On.invProjMatrix,X),On.viewportMatrix=this.collisionIndex.getViewportMatrix()}B.justReloaded=!1},jn.prototype.markUsedJustification=function(m,x,v,C){var M;M=C===_.WritingMode.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[_.getAnchorJustification(x)];for(var B=0,U=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];B<U.length;B+=1){var X=U[B];X>=0&&(m.text.placedSymbolArray.get(X).crossTileID=M>=0&&X!==M?0:v.crossTileID)}},jn.prototype.markUsedOrientation=function(m,x,v){for(var C=x===_.WritingMode.horizontal||x===_.WritingMode.horizontalOnly?x:0,M=x===_.WritingMode.vertical?x:0,B=0,U=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];B<U.length;B+=1)m.text.placedSymbolArray.get(U[B]).placedOrientation=C;v.verticalPlacedTextSymbolIndex&&(m.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=M)},jn.prototype.commit=function(m){this.commitTime=m,this.zoomAtLastRecencyCheck=this.transform.zoom;var x=this.prevPlacement,v=!1;this.prevZoomAdjustment=x?x.zoomAdjustment(this.transform.zoom):0;var C=x?x.symbolFadeChange(m):1,M=x?x.opacities:{},B=x?x.variableOffsets:{},U=x?x.placedOrientations:{};for(var X in this.placements){var ce=this.placements[X],Se=M[X];Se?(this.opacities[X]=new na(Se,C,ce.text,ce.icon),v=v||ce.text!==Se.text.placed||ce.icon!==Se.icon.placed):(this.opacities[X]=new na(null,C,ce.text,ce.icon,ce.skipFade),v=v||ce.text||ce.icon)}for(var Le in M){var Re=M[Le];if(!this.opacities[Le]){var ze=new na(Re,C,!1,!1);ze.isHidden()||(this.opacities[Le]=ze,v=v||Re.text.placed||Re.icon.placed)}}for(var nt in B)this.variableOffsets[nt]||!this.opacities[nt]||this.opacities[nt].isHidden()||(this.variableOffsets[nt]=B[nt]);for(var Je in U)this.placedOrientations[Je]||!this.opacities[Je]||this.opacities[Je].isHidden()||(this.placedOrientations[Je]=U[Je]);v?this.lastPlacementChangeTime=m:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=x?x.lastPlacementChangeTime:m)},jn.prototype.updateLayerOpacities=function(m,x){for(var v={},C=0,M=x;C<M.length;C+=1){var B=M[C],U=B.getBucket(m);U&&B.latestFeatureIndex&&m.id===U.layerIds[0]&&this.updateBucketOpacities(U,v,B.collisionBoxArray)}},jn.prototype.updateBucketOpacities=function(m,x,v){var C=this;m.hasTextData()&&m.text.opacityVertexArray.clear(),m.hasIconData()&&m.icon.opacityVertexArray.clear(),m.hasIconCollisionBoxData()&&m.iconCollisionBox.collisionVertexArray.clear(),m.hasTextCollisionBoxData()&&m.textCollisionBox.collisionVertexArray.clear();var M=m.layers[0].layout,B=new na(null,0,!1,!1,!0),U=M.get("text-allow-overlap"),X=M.get("icon-allow-overlap"),ce=M.get("text-variable-anchor"),Se=M.get("text-rotation-alignment")==="map",Le=M.get("text-pitch-alignment")==="map",Re=M.get("icon-text-fit")!=="none",ze=new na(null,0,U&&(X||!m.hasIconData()||M.get("icon-optional")),X&&(U||!m.hasTextData()||M.get("text-optional")),!0);!m.collisionArrays&&v&&(m.hasIconCollisionBoxData()||m.hasTextCollisionBoxData())&&m.deserializeCollisionBoxes(v);for(var nt=function(ct,mt,wt){for(var zt=0;zt<mt/4;zt++)ct.opacityVertexArray.emplaceBack(wt)},Je=function(ct){var mt=m.symbolInstances.get(ct),wt=mt.numHorizontalGlyphVertices,zt=mt.numVerticalGlyphVertices,Rt=mt.crossTileID,jt=C.opacities[Rt];x[Rt]?jt=B:jt||(C.opacities[Rt]=jt=ze),x[Rt]=!0;var er=mt.numIconVertices>0,nr=C.placedOrientations[mt.crossTileID],lr=nr===_.WritingMode.vertical,Er=nr===_.WritingMode.horizontal||nr===_.WritingMode.horizontalOnly;if(wt>0||zt>0){var Ar=Ol(jt.text);nt(m.text,wt,lr?zi:Ar),nt(m.text,zt,Er?zi:Ar);var Kr=jt.text.isHidden();[mt.rightJustifiedTextSymbolIndex,mt.centerJustifiedTextSymbolIndex,mt.leftJustifiedTextSymbolIndex].forEach(function(Jr){Jr>=0&&(m.text.placedSymbolArray.get(Jr).hidden=Kr||lr?1:0)}),mt.verticalPlacedTextSymbolIndex>=0&&(m.text.placedSymbolArray.get(mt.verticalPlacedTextSymbolIndex).hidden=Kr||Er?1:0);var Vr=C.variableOffsets[mt.crossTileID];Vr&&C.markUsedJustification(m,Vr.anchor,mt,nr);var On=C.placedOrientations[mt.crossTileID];On&&(C.markUsedJustification(m,"left",mt,On),C.markUsedOrientation(m,On,mt))}if(er){var Dr=Ol(jt.icon),an=!(Re&&mt.verticalPlacedIconSymbolIndex&&lr);mt.placedIconSymbolIndex>=0&&(nt(m.icon,mt.numIconVertices,an?Dr:zi),m.icon.placedSymbolArray.get(mt.placedIconSymbolIndex).hidden=jt.icon.isHidden()),mt.verticalPlacedIconSymbolIndex>=0&&(nt(m.icon,mt.numVerticalIconVertices,an?zi:Dr),m.icon.placedSymbolArray.get(mt.verticalPlacedIconSymbolIndex).hidden=jt.icon.isHidden())}if(m.hasIconCollisionBoxData()||m.hasTextCollisionBoxData()){var gn=m.collisionArrays[ct];if(gn){var rn=new _.Point(0,0);if(gn.textBox||gn.verticalTextBox){var sn=!0;if(ce){var dn=C.variableOffsets[Rt];dn?(rn=Vi(dn.anchor,dn.width,dn.height,dn.textOffset,dn.textBoxScale),Se&&rn._rotate(Le?C.transform.angle:-C.transform.angle)):sn=!1}gn.textBox&&sl(m.textCollisionBox.collisionVertexArray,jt.text.placed,!sn||lr,rn.x,rn.y),gn.verticalTextBox&&sl(m.textCollisionBox.collisionVertexArray,jt.text.placed,!sn||Er,rn.x,rn.y)}var Qr=Boolean(!Er&&gn.verticalIconBox);gn.iconBox&&sl(m.iconCollisionBox.collisionVertexArray,jt.icon.placed,Qr,Re?rn.x:0,Re?rn.y:0),gn.verticalIconBox&&sl(m.iconCollisionBox.collisionVertexArray,jt.icon.placed,!Qr,Re?rn.x:0,Re?rn.y:0)}}},ft=0;ft<m.symbolInstances.length;ft++)Je(ft);if(m.sortFeatures(this.transform.angle),this.retainedQueryData[m.bucketInstanceId]&&(this.retainedQueryData[m.bucketInstanceId].featureSortOrder=m.featureSortOrder),m.hasTextData()&&m.text.opacityVertexBuffer&&m.text.opacityVertexBuffer.updateData(m.text.opacityVertexArray),m.hasIconData()&&m.icon.opacityVertexBuffer&&m.icon.opacityVertexBuffer.updateData(m.icon.opacityVertexArray),m.hasIconCollisionBoxData()&&m.iconCollisionBox.collisionVertexBuffer&&m.iconCollisionBox.collisionVertexBuffer.updateData(m.iconCollisionBox.collisionVertexArray),m.hasTextCollisionBoxData()&&m.textCollisionBox.collisionVertexBuffer&&m.textCollisionBox.collisionVertexBuffer.updateData(m.textCollisionBox.collisionVertexArray),m.bucketInstanceId in this.collisionCircleArrays){var Ge=this.collisionCircleArrays[m.bucketInstanceId];m.placementInvProjMatrix=Ge.invProjMatrix,m.placementViewportMatrix=Ge.viewportMatrix,m.collisionCircleArray=Ge.circles,delete this.collisionCircleArrays[m.bucketInstanceId]}},jn.prototype.symbolFadeChange=function(m){return this.fadeDuration===0?1:(m-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},jn.prototype.zoomAdjustment=function(m){return Math.max(0,(this.transform.zoom-m)/1.5)},jn.prototype.hasTransitions=function(m){return this.stale||m-this.lastPlacementChangeTime<this.fadeDuration},jn.prototype.stillRecent=function(m,x){var v=this.zoomAtLastRecencyCheck===x?1-this.zoomAdjustment(x):1;return this.zoomAtLastRecencyCheck=x,this.commitTime+this.fadeDuration*v>m},jn.prototype.setStale=function(){this.stale=!0};var pf=Math.pow(2,25),Pc=Math.pow(2,24),is=Math.pow(2,17),_s=Math.pow(2,16),Xl=Math.pow(2,9),Jl=Math.pow(2,8),Ku=Math.pow(2,1);function Ol(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;var x=m.placed?1:0,v=Math.floor(127*m.opacity);return v*pf+x*Pc+v*is+x*_s+v*Xl+x*Jl+v*Ku+x}var zi=0,mf=function(m){this._sortAcrossTiles=m.layout.get("symbol-z-order")!=="viewport-y"&&m.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};mf.prototype.continuePlacement=function(m,x,v,C,M){for(var B=this._bucketParts;this._currentTileIndex<m.length;)if(x.getBucketParts(B,C,m[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,M())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,B.sort(function(U,X){return U.sortKey-X.sortKey}));this._currentPartIndex<B.length;)if(x.placeLayerBucketPart(B[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,M())return!0;return!1};var Ql=function(m,x,v,C,M,B,U){this.placement=new jn(m,M,B,U),this._currentPlacementIndex=x.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=C,this._done=!1};Ql.prototype.isDone=function(){return this._done},Ql.prototype.continuePlacement=function(m,x,v){for(var C=this,M=_.browser.now(),B=function(){var ce=_.browser.now()-M;return!C._forceFullPlacement&&ce>2};this._currentPlacementIndex>=0;){var U=x[m[this._currentPlacementIndex]],X=this.placement.collisionIndex.transform.zoom;if(U.type==="symbol"&&(!U.minzoom||U.minzoom<=X)&&(!U.maxzoom||U.maxzoom>X)){if(this._inProgressLayer||(this._inProgressLayer=new mf(U)),this._inProgressLayer.continuePlacement(v[U.source],this.placement,this._showCollisionBoxes,U,B))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ql.prototype.commit=function(m){return this.placement.commit(m),this.placement};var Ua=512/_.EXTENT/2,$f=function(m,x,v){this.tileID=m,this.indexedSymbolInstances={},this.bucketInstanceId=v;for(var C=0;C<x.length;C++){var M=x.get(C),B=M.key;this.indexedSymbolInstances[B]||(this.indexedSymbolInstances[B]=[]),this.indexedSymbolInstances[B].push({crossTileID:M.crossTileID,coord:this.getScaledCoordinates(M,m)})}};$f.prototype.getScaledCoordinates=function(m,x){var v=Ua/Math.pow(2,x.canonical.z-this.tileID.canonical.z);return{x:Math.floor((x.canonical.x*_.EXTENT+m.anchorX)*v),y:Math.floor((x.canonical.y*_.EXTENT+m.anchorY)*v)}},$f.prototype.findMatches=function(m,x,v){for(var C=this.tileID.canonical.z<x.canonical.z?1:Math.pow(2,this.tileID.canonical.z-x.canonical.z),M=0;M<m.length;M++){var B=m.get(M);if(!B.crossTileID){var U=this.indexedSymbolInstances[B.key];if(U)for(var X=this.getScaledCoordinates(B,x),ce=0,Se=U;ce<Se.length;ce+=1){var Le=Se[ce];if(Math.abs(Le.coord.x-X.x)<=C&&Math.abs(Le.coord.y-X.y)<=C&&!v[Le.crossTileID]){v[Le.crossTileID]=!0,B.crossTileID=Le.crossTileID;break}}}}};var ia=function(){this.maxCrossTileID=0};ia.prototype.generate=function(){return++this.maxCrossTileID};var ll=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ll.prototype.handleWrapJump=function(m){var x=Math.round((m-this.lng)/360);if(x!==0)for(var v in this.indexes){var C=this.indexes[v],M={};for(var B in C){var U=C[B];U.tileID=U.tileID.unwrapTo(U.tileID.wrap+x),M[U.tileID.key]=U}this.indexes[v]=M}this.lng=m},ll.prototype.addBucket=function(m,x,v){if(this.indexes[m.overscaledZ]&&this.indexes[m.overscaledZ][m.key]){if(this.indexes[m.overscaledZ][m.key].bucketInstanceId===x.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(m.overscaledZ,this.indexes[m.overscaledZ][m.key])}for(var C=0;C<x.symbolInstances.length;C++)x.symbolInstances.get(C).crossTileID=0;this.usedCrossTileIDs[m.overscaledZ]||(this.usedCrossTileIDs[m.overscaledZ]={});var M=this.usedCrossTileIDs[m.overscaledZ];for(var B in this.indexes){var U=this.indexes[B];if(Number(B)>m.overscaledZ)for(var X in U){var ce=U[X];ce.tileID.isChildOf(m)&&ce.findMatches(x.symbolInstances,m,M)}else{var Se=U[m.scaledTo(Number(B)).key];Se&&Se.findMatches(x.symbolInstances,m,M)}}for(var Le=0;Le<x.symbolInstances.length;Le++){var Re=x.symbolInstances.get(Le);Re.crossTileID||(Re.crossTileID=v.generate(),M[Re.crossTileID]=!0)}return this.indexes[m.overscaledZ]===void 0&&(this.indexes[m.overscaledZ]={}),this.indexes[m.overscaledZ][m.key]=new $f(m,x.symbolInstances,x.bucketInstanceId),!0},ll.prototype.removeBucketCrossTileIDs=function(m,x){for(var v in x.indexedSymbolInstances)for(var C=0,M=x.indexedSymbolInstances[v];C<M.length;C+=1)delete this.usedCrossTileIDs[m][M[C].crossTileID]},ll.prototype.removeStaleBuckets=function(m){var x=!1;for(var v in this.indexes){var C=this.indexes[v];for(var M in C)m[C[M].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,C[M]),delete C[M],x=!0)}return x};var Aa=function(){this.layerIndexes={},this.crossTileIDs=new ia,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Aa.prototype.addLayer=function(m,x,v){var C=this.layerIndexes[m.id];C===void 0&&(C=this.layerIndexes[m.id]=new ll);var M=!1,B={};C.handleWrapJump(v);for(var U=0,X=x;U<X.length;U+=1){var ce=X[U],Se=ce.getBucket(m);Se&&m.id===Se.layerIds[0]&&(Se.bucketInstanceId||(Se.bucketInstanceId=++this.maxBucketInstanceId),C.addBucket(ce.tileID,Se,this.crossTileIDs)&&(M=!0),B[Se.bucketInstanceId]=!0)}return C.removeStaleBuckets(B)&&(M=!0),M},Aa.prototype.pruneUnusedLayers=function(m){var x={};for(var v in m.forEach(function(C){x[C]=!0}),this.layerIndexes)x[v]||delete this.layerIndexes[v]};var Da=function(m,x){return _.emitValidationErrors(m,x&&x.filter(function(v){return v.identifier!=="source.canvas"}))},ul=_.pick(ue,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Io=_.pick(ue,["setCenter","setZoom","setBearing","setPitch"]),Lc=function(){var m={},x=_.styleSpec.$version;for(var v in _.styleSpec.$root){var C,M=_.styleSpec.$root[v];M.required&&(C=v==="version"?x:M.type==="array"?[]:{})!=null&&(m[v]=C)}return m}(),Ha=function(m){function x(v,C){var M=this;C===void 0&&(C={}),m.call(this),this.map=v,this.dispatcher=new Lt(Ae(),this),this.imageManager=new re,this.imageManager.setEventedParent(this),this.glyphManager=new ot(v._requestManager,C.localIdeographFontFamily),this.lineAtlas=new Ht(256,512),this.crossTileSymbolIndex=new Aa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new _.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",_.getReferrer());var B=this;this._rtlTextPluginCallback=x.registerForPluginStateChange(function(U){B.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:U.pluginStatus,pluginURL:U.pluginURL},function(X,ce){if(_.triggerPluginCompletionEvent(X),ce&&ce.every(function(Le){return Le}))for(var Se in B.sourceCaches)B.sourceCaches[Se].reload()})}),this.on("data",function(U){if(U.dataType==="source"&&U.sourceDataType==="metadata"){var X=M.sourceCaches[U.sourceId];if(X){var ce=X.getSource();if(ce&&ce.vectorLayerIds)for(var Se in M._layers){var Le=M._layers[Se];Le.source===ce.id&&M._validateLayer(Le)}}}})}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.loadURL=function(v,C){var M=this;C===void 0&&(C={}),this.fire(new _.Event("dataloading",{dataType:"style"}));var B=typeof C.validate=="boolean"?C.validate:!_.isMapboxURL(v);v=this.map._requestManager.normalizeStyleURL(v,C.accessToken);var U=this.map._requestManager.transformRequest(v,_.ResourceType.Style);this._request=_.getJSON(U,function(X,ce){M._request=null,X?M.fire(new _.ErrorEvent(X)):ce&&M._load(ce,B)})},x.prototype.loadJSON=function(v,C){var M=this;C===void 0&&(C={}),this.fire(new _.Event("dataloading",{dataType:"style"})),this._request=_.browser.frame(function(){M._request=null,M._load(v,C.validate!==!1)})},x.prototype.loadEmpty=function(){this.fire(new _.Event("dataloading",{dataType:"style"})),this._load(Lc,!1)},x.prototype._load=function(v,C){if(!C||!Da(this,_.validateStyle(v))){for(var M in this._loaded=!0,this.stylesheet=v,v.sources)this.addSource(M,v.sources[M],{validate:!1});v.sprite?this._loadSprite(v.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(v.glyphs);var B=Z(this.stylesheet.layers);this._order=B.map(function(Se){return Se.id}),this._layers={},this._serializedLayers={};for(var U=0,X=B;U<X.length;U+=1){var ce=X[U];(ce=_.createStyleLayer(ce)).setEventedParent(this,{layer:{id:ce.id}}),this._layers[ce.id]=ce,this._serializedLayers[ce.id]=ce.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Tt(this.stylesheet.light),this.fire(new _.Event("data",{dataType:"style"})),this.fire(new _.Event("style.load"))}},x.prototype._loadSprite=function(v){var C=this;this._spriteRequest=function(M,B,U){var X,ce,Se,Le=_.browser.devicePixelRatio>1?"@2x":"",Re=_.getJSON(B.transformRequest(B.normalizeSpriteURL(M,Le,".json"),_.ResourceType.SpriteJSON),function(Je,ft){Re=null,Se||(Se=Je,X=ft,nt())}),ze=_.getImage(B.transformRequest(B.normalizeSpriteURL(M,Le,".png"),_.ResourceType.SpriteImage),function(Je,ft){ze=null,Se||(Se=Je,ce=ft,nt())});function nt(){if(Se)U(Se);else if(X&&ce){var Je=_.browser.getImageData(ce),ft={};for(var Ge in X){var ct=X[Ge],mt=ct.width,wt=ct.height,zt=ct.x,Rt=ct.y,jt=ct.sdf,er=ct.pixelRatio,nr=ct.stretchX,lr=ct.stretchY,Er=ct.content,Ar=new _.RGBAImage({width:mt,height:wt});_.RGBAImage.copy(Je,Ar,{x:zt,y:Rt},{x:0,y:0},{width:mt,height:wt}),ft[Ge]={data:Ar,pixelRatio:er,sdf:jt,stretchX:nr,stretchY:lr,content:Er}}U(null,ft)}}return{cancel:function(){Re&&(Re.cancel(),Re=null),ze&&(ze.cancel(),ze=null)}}}(v,this.map._requestManager,function(M,B){if(C._spriteRequest=null,M)C.fire(new _.ErrorEvent(M));else if(B)for(var U in B)C.imageManager.addImage(U,B[U]);C.imageManager.setLoaded(!0),C._availableImages=C.imageManager.listImages(),C.dispatcher.broadcast("setImages",C._availableImages),C.fire(new _.Event("data",{dataType:"style"}))})},x.prototype._validateLayer=function(v){var C=this.sourceCaches[v.source];if(C){var M=v.sourceLayer;if(M){var B=C.getSource();(B.type==="geojson"||B.vectorLayerIds&&B.vectorLayerIds.indexOf(M)===-1)&&this.fire(new _.ErrorEvent(new Error('Source layer "'+M+'" does not exist on source "'+B.id+'" as specified by style layer "'+v.id+'"')))}}},x.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var v in this.sourceCaches)if(!this.sourceCaches[v].loaded())return!1;return!!this.imageManager.isLoaded()},x.prototype._serializeLayers=function(v){for(var C=[],M=0,B=v;M<B.length;M+=1){var U=this._layers[B[M]];U.type!=="custom"&&C.push(U.serialize())}return C},x.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var v in this.sourceCaches)if(this.sourceCaches[v].hasTransition())return!0;for(var C in this._layers)if(this._layers[C].hasTransition())return!0;return!1},x.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},x.prototype.update=function(v){if(this._loaded){var C=this._changed;if(this._changed){var M=Object.keys(this._updatedLayers),B=Object.keys(this._removedLayers);for(var U in(M.length||B.length)&&this._updateWorkerLayers(M,B),this._updatedSources){var X=this._updatedSources[U];X==="reload"?this._reloadSource(U):X==="clear"&&this._clearSource(U)}for(var ce in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ce].updateTransitions(v);this.light.updateTransitions(v),this._resetUpdates()}var Se={};for(var Le in this.sourceCaches){var Re=this.sourceCaches[Le];Se[Le]=Re.used,Re.used=!1}for(var ze=0,nt=this._order;ze<nt.length;ze+=1){var Je=this._layers[nt[ze]];Je.recalculate(v,this._availableImages),!Je.isHidden(v.zoom)&&Je.source&&(this.sourceCaches[Je.source].used=!0)}for(var ft in Se){var Ge=this.sourceCaches[ft];Se[ft]!==Ge.used&&Ge.fire(new _.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:ft}))}this.light.recalculate(v),this.z=v.zoom,C&&this.fire(new _.Event("data",{dataType:"style"}))}},x.prototype._updateTilesForChangedImages=function(){var v=Object.keys(this._changedImages);if(v.length){for(var C in this.sourceCaches)this.sourceCaches[C].reloadTilesForDependencies(["icons","patterns"],v);this._changedImages={}}},x.prototype._updateWorkerLayers=function(v,C){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(v),removedIds:C})},x.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},x.prototype.setState=function(v){var C=this;if(this._checkLoaded(),Da(this,_.validateStyle(v)))return!1;(v=_.clone$1(v)).layers=Z(v.layers);var M=function(U,X){if(!U)return[{command:ue.setStyle,args:[X]}];var ce=[];try{if(!_.deepEqual(U.version,X.version))return[{command:ue.setStyle,args:[X]}];_.deepEqual(U.center,X.center)||ce.push({command:ue.setCenter,args:[X.center]}),_.deepEqual(U.zoom,X.zoom)||ce.push({command:ue.setZoom,args:[X.zoom]}),_.deepEqual(U.bearing,X.bearing)||ce.push({command:ue.setBearing,args:[X.bearing]}),_.deepEqual(U.pitch,X.pitch)||ce.push({command:ue.setPitch,args:[X.pitch]}),_.deepEqual(U.sprite,X.sprite)||ce.push({command:ue.setSprite,args:[X.sprite]}),_.deepEqual(U.glyphs,X.glyphs)||ce.push({command:ue.setGlyphs,args:[X.glyphs]}),_.deepEqual(U.transition,X.transition)||ce.push({command:ue.setTransition,args:[X.transition]}),_.deepEqual(U.light,X.light)||ce.push({command:ue.setLight,args:[X.light]});var Se={},Le=[];(function(ze,nt,Je,ft){var Ge;for(Ge in nt=nt||{},ze=ze||{})ze.hasOwnProperty(Ge)&&(nt.hasOwnProperty(Ge)||it(Ge,Je,ft));for(Ge in nt)nt.hasOwnProperty(Ge)&&(ze.hasOwnProperty(Ge)?_.deepEqual(ze[Ge],nt[Ge])||(ze[Ge].type==="geojson"&&nt[Ge].type==="geojson"&&Wt(ze,nt,Ge)?Je.push({command:ue.setGeoJSONSourceData,args:[Ge,nt[Ge].data]}):Mt(Ge,nt,Je,ft)):Fe(Ge,nt,Je))})(U.sources,X.sources,Le,Se);var Re=[];U.layers&&U.layers.forEach(function(ze){Se[ze.source]?ce.push({command:ue.removeLayer,args:[ze.id]}):Re.push(ze)}),ce=ce.concat(Le),function(ze,nt,Je){nt=nt||[];var ft,Ge,ct,mt,wt,zt,Rt,jt=(ze=ze||[]).map(Sr),er=nt.map(Sr),nr=ze.reduce(Zt,{}),lr=nt.reduce(Zt,{}),Er=jt.slice(),Ar=Object.create(null);for(ft=0,Ge=0;ft<jt.length;ft++)lr.hasOwnProperty(ct=jt[ft])?Ge++:(Je.push({command:ue.removeLayer,args:[ct]}),Er.splice(Er.indexOf(ct,Ge),1));for(ft=0,Ge=0;ft<er.length;ft++)Er[Er.length-1-ft]!==(ct=er[er.length-1-ft])&&(nr.hasOwnProperty(ct)?(Je.push({command:ue.removeLayer,args:[ct]}),Er.splice(Er.lastIndexOf(ct,Er.length-Ge),1)):Ge++,Je.push({command:ue.addLayer,args:[lr[ct],zt=Er[Er.length-ft]]}),Er.splice(Er.length-ft,0,ct),Ar[ct]=!0);for(ft=0;ft<er.length;ft++)if(mt=nr[ct=er[ft]],wt=lr[ct],!Ar[ct]&&!_.deepEqual(mt,wt))if(_.deepEqual(mt.source,wt.source)&&_.deepEqual(mt["source-layer"],wt["source-layer"])&&_.deepEqual(mt.type,wt.type)){for(Rt in dr(mt.layout,wt.layout,Je,ct,null,ue.setLayoutProperty),dr(mt.paint,wt.paint,Je,ct,null,ue.setPaintProperty),_.deepEqual(mt.filter,wt.filter)||Je.push({command:ue.setFilter,args:[ct,wt.filter]}),_.deepEqual(mt.minzoom,wt.minzoom)&&_.deepEqual(mt.maxzoom,wt.maxzoom)||Je.push({command:ue.setLayerZoomRange,args:[ct,wt.minzoom,wt.maxzoom]}),mt)mt.hasOwnProperty(Rt)&&Rt!=="layout"&&Rt!=="paint"&&Rt!=="filter"&&Rt!=="metadata"&&Rt!=="minzoom"&&Rt!=="maxzoom"&&(Rt.indexOf("paint.")===0?dr(mt[Rt],wt[Rt],Je,ct,Rt.slice(6),ue.setPaintProperty):_.deepEqual(mt[Rt],wt[Rt])||Je.push({command:ue.setLayerProperty,args:[ct,Rt,wt[Rt]]}));for(Rt in wt)wt.hasOwnProperty(Rt)&&!mt.hasOwnProperty(Rt)&&Rt!=="layout"&&Rt!=="paint"&&Rt!=="filter"&&Rt!=="metadata"&&Rt!=="minzoom"&&Rt!=="maxzoom"&&(Rt.indexOf("paint.")===0?dr(mt[Rt],wt[Rt],Je,ct,Rt.slice(6),ue.setPaintProperty):_.deepEqual(mt[Rt],wt[Rt])||Je.push({command:ue.setLayerProperty,args:[ct,Rt,wt[Rt]]}))}else Je.push({command:ue.removeLayer,args:[ct]}),zt=Er[Er.lastIndexOf(ct)+1],Je.push({command:ue.addLayer,args:[wt,zt]})}(Re,X.layers,ce)}catch(ze){console.warn("Unable to compute style diff:",ze),ce=[{command:ue.setStyle,args:[X]}]}return ce}(this.serialize(),v).filter(function(U){return!(U.command in Io)});if(M.length===0)return!1;var B=M.filter(function(U){return!(U.command in ul)});if(B.length>0)throw new Error("Unimplemented: "+B.map(function(U){return U.command}).join(", ")+".");return M.forEach(function(U){U.command!=="setTransition"&&C[U.command].apply(C,U.args)}),this.stylesheet=v,!0},x.prototype.addImage=function(v,C){if(this.getImage(v))return this.fire(new _.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(v,C),this._afterImageUpdated(v)},x.prototype.updateImage=function(v,C){this.imageManager.updateImage(v,C)},x.prototype.getImage=function(v){return this.imageManager.getImage(v)},x.prototype.removeImage=function(v){if(!this.getImage(v))return this.fire(new _.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(v),this._afterImageUpdated(v)},x.prototype._afterImageUpdated=function(v){this._availableImages=this.imageManager.listImages(),this._changedImages[v]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.Event("data",{dataType:"style"}))},x.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},x.prototype.addSource=function(v,C,M){var B=this;if(M===void 0&&(M={}),this._checkLoaded(),this.sourceCaches[v]!==void 0)throw new Error("There is already a source with this ID");if(!C.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(C).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(C.type)>=0&&this._validate(_.validateStyle.source,"sources."+v,C,null,M))){this.map&&this.map._collectResourceTiming&&(C.collectResourceTiming=!0);var U=this.sourceCaches[v]=new Ne(v,C,this.dispatcher);U.style=this,U.setEventedParent(this,function(){return{isSourceLoaded:B.loaded(),source:U.serialize(),sourceId:v}}),U.onAdd(this.map),this._changed=!0}},x.prototype.removeSource=function(v){if(this._checkLoaded(),this.sourceCaches[v]===void 0)throw new Error("There is no source with this ID");for(var C in this._layers)if(this._layers[C].source===v)return this.fire(new _.ErrorEvent(new Error('Source "'+v+'" cannot be removed while layer "'+C+'" is using it.')));var M=this.sourceCaches[v];delete this.sourceCaches[v],delete this._updatedSources[v],M.fire(new _.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:v})),M.setEventedParent(null),M.clearTiles(),M.onRemove&&M.onRemove(this.map),this._changed=!0},x.prototype.setGeoJSONSourceData=function(v,C){this._checkLoaded(),this.sourceCaches[v].getSource().setData(C),this._changed=!0},x.prototype.getSource=function(v){return this.sourceCaches[v]&&this.sourceCaches[v].getSource()},x.prototype.addLayer=function(v,C,M){M===void 0&&(M={}),this._checkLoaded();var B=v.id;if(this.getLayer(B))this.fire(new _.ErrorEvent(new Error('Layer with id "'+B+'" already exists on this map')));else{var U;if(v.type==="custom"){if(Da(this,_.validateCustomStyleLayer(v)))return;U=_.createStyleLayer(v)}else{if(typeof v.source=="object"&&(this.addSource(B,v.source),v=_.clone$1(v),v=_.extend(v,{source:B})),this._validate(_.validateStyle.layer,"layers."+B,v,{arrayIndex:-1},M))return;U=_.createStyleLayer(v),this._validateLayer(U),U.setEventedParent(this,{layer:{id:B}}),this._serializedLayers[U.id]=U.serialize()}var X=C?this._order.indexOf(C):this._order.length;if(C&&X===-1)this.fire(new _.ErrorEvent(new Error('Layer with id "'+C+'" does not exist on this map.')));else{if(this._order.splice(X,0,B),this._layerOrderChanged=!0,this._layers[B]=U,this._removedLayers[B]&&U.source&&U.type!=="custom"){var ce=this._removedLayers[B];delete this._removedLayers[B],ce.type!==U.type?this._updatedSources[U.source]="clear":(this._updatedSources[U.source]="reload",this.sourceCaches[U.source].pause())}this._updateLayer(U),U.onAdd&&U.onAdd(this.map)}}},x.prototype.moveLayer=function(v,C){if(this._checkLoaded(),this._changed=!0,this._layers[v]){if(v!==C){var M=this._order.indexOf(v);this._order.splice(M,1);var B=C?this._order.indexOf(C):this._order.length;C&&B===-1?this.fire(new _.ErrorEvent(new Error('Layer with id "'+C+'" does not exist on this map.'))):(this._order.splice(B,0,v),this._layerOrderChanged=!0)}}else this.fire(new _.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be moved.")))},x.prototype.removeLayer=function(v){this._checkLoaded();var C=this._layers[v];if(C){C.setEventedParent(null);var M=this._order.indexOf(v);this._order.splice(M,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[v]=C,delete this._layers[v],delete this._serializedLayers[v],delete this._updatedLayers[v],delete this._updatedPaintProps[v],C.onRemove&&C.onRemove(this.map)}else this.fire(new _.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be removed.")))},x.prototype.getLayer=function(v){return this._layers[v]},x.prototype.hasLayer=function(v){return v in this._layers},x.prototype.setLayerZoomRange=function(v,C,M){this._checkLoaded();var B=this.getLayer(v);B?B.minzoom===C&&B.maxzoom===M||(C!=null&&(B.minzoom=C),M!=null&&(B.maxzoom=M),this._updateLayer(B)):this.fire(new _.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot have zoom extent.")))},x.prototype.setFilter=function(v,C,M){M===void 0&&(M={}),this._checkLoaded();var B=this.getLayer(v);if(B){if(!_.deepEqual(B.filter,C))return C==null?(B.filter=void 0,void this._updateLayer(B)):void(this._validate(_.validateStyle.filter,"layers."+B.id+".filter",C,null,M)||(B.filter=_.clone$1(C),this._updateLayer(B)))}else this.fire(new _.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be filtered.")))},x.prototype.getFilter=function(v){return _.clone$1(this.getLayer(v).filter)},x.prototype.setLayoutProperty=function(v,C,M,B){B===void 0&&(B={}),this._checkLoaded();var U=this.getLayer(v);U?_.deepEqual(U.getLayoutProperty(C),M)||(U.setLayoutProperty(C,M,B),this._updateLayer(U)):this.fire(new _.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be styled.")))},x.prototype.getLayoutProperty=function(v,C){var M=this.getLayer(v);if(M)return M.getLayoutProperty(C);this.fire(new _.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style.")))},x.prototype.setPaintProperty=function(v,C,M,B){B===void 0&&(B={}),this._checkLoaded();var U=this.getLayer(v);U?_.deepEqual(U.getPaintProperty(C),M)||(U.setPaintProperty(C,M,B)&&this._updateLayer(U),this._changed=!0,this._updatedPaintProps[v]=!0):this.fire(new _.ErrorEvent(new Error("The layer '"+v+"' does not exist in the map's style and cannot be styled.")))},x.prototype.getPaintProperty=function(v,C){return this.getLayer(v).getPaintProperty(C)},x.prototype.setFeatureState=function(v,C){this._checkLoaded();var M=v.source,B=v.sourceLayer,U=this.sourceCaches[M];if(U!==void 0){var X=U.getSource().type;X==="geojson"&&B?this.fire(new _.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):X!=="vector"||B?(v.id===void 0&&this.fire(new _.ErrorEvent(new Error("The feature id parameter must be provided."))),U.setFeatureState(B,v.id,C)):this.fire(new _.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new _.ErrorEvent(new Error("The source '"+M+"' does not exist in the map's style.")))},x.prototype.removeFeatureState=function(v,C){this._checkLoaded();var M=v.source,B=this.sourceCaches[M];if(B!==void 0){var U=B.getSource().type,X=U==="vector"?v.sourceLayer:void 0;U!=="vector"||X?C&&typeof v.id!="string"&&typeof v.id!="number"?this.fire(new _.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):B.removeFeatureState(X,v.id,C):this.fire(new _.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new _.ErrorEvent(new Error("The source '"+M+"' does not exist in the map's style.")))},x.prototype.getFeatureState=function(v){this._checkLoaded();var C=v.source,M=v.sourceLayer,B=this.sourceCaches[C];if(B!==void 0){if(B.getSource().type!=="vector"||M)return v.id===void 0&&this.fire(new _.ErrorEvent(new Error("The feature id parameter must be provided."))),B.getFeatureState(M,v.id);this.fire(new _.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new _.ErrorEvent(new Error("The source '"+C+"' does not exist in the map's style.")))},x.prototype.getTransition=function(){return _.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},x.prototype.serialize=function(){return _.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:_.mapObject(this.sourceCaches,function(v){return v.serialize()}),layers:this._serializeLayers(this._order)},function(v){return v!==void 0})},x.prototype._updateLayer=function(v){this._updatedLayers[v.id]=!0,v.source&&!this._updatedSources[v.source]&&this.sourceCaches[v.source].getSource().type!=="raster"&&(this._updatedSources[v.source]="reload",this.sourceCaches[v.source].pause()),this._changed=!0},x.prototype._flattenAndSortRenderedFeatures=function(v){for(var C=this,M=function(nr){return C._layers[nr].type==="fill-extrusion"},B={},U=[],X=this._order.length-1;X>=0;X--){var ce=this._order[X];if(M(ce)){B[ce]=X;for(var Se=0,Le=v;Se<Le.length;Se+=1){var Re=Le[Se][ce];if(Re)for(var ze=0,nt=Re;ze<nt.length;ze+=1)U.push(nt[ze])}}}U.sort(function(nr,lr){return lr.intersectionZ-nr.intersectionZ});for(var Je=[],ft=this._order.length-1;ft>=0;ft--){var Ge=this._order[ft];if(M(Ge))for(var ct=U.length-1;ct>=0;ct--){var mt=U[ct].feature;if(B[mt.layer.id]<ft)break;Je.push(mt),U.pop()}else for(var wt=0,zt=v;wt<zt.length;wt+=1){var Rt=zt[wt][Ge];if(Rt)for(var jt=0,er=Rt;jt<er.length;jt+=1)Je.push(er[jt].feature)}}return Je},x.prototype.queryRenderedFeatures=function(v,C,M){C&&C.filter&&this._validate(_.validateStyle.filter,"queryRenderedFeatures.filter",C.filter,null,C);var B={};if(C&&C.layers){if(!Array.isArray(C.layers))return this.fire(new _.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var U=0,X=C.layers;U<X.length;U+=1){var ce=X[U],Se=this._layers[ce];if(!Se)return this.fire(new _.ErrorEvent(new Error("The layer '"+ce+"' does not exist in the map's style and cannot be queried for features."))),[];B[Se.source]=!0}}var Le=[];for(var Re in C.availableImages=this._availableImages,this.sourceCaches)C.layers&&!B[Re]||Le.push(It(this.sourceCaches[Re],this._layers,this._serializedLayers,v,C,M));return this.placement&&Le.push(function(ze,nt,Je,ft,Ge,ct,mt){for(var wt={},zt=ct.queryRenderedSymbols(ft),Rt=[],jt=0,er=Object.keys(zt).map(Number);jt<er.length;jt+=1)Rt.push(mt[er[jt]]);Rt.sort(Ct);for(var nr=function(){var Vr=Er[lr],On=Vr.featureIndex.lookupSymbolFeatures(zt[Vr.bucketInstanceId],nt,Vr.bucketIndex,Vr.sourceLayerIndex,Ge.filter,Ge.layers,Ge.availableImages,ze);for(var Dr in On){var an=wt[Dr]=wt[Dr]||[],gn=On[Dr];gn.sort(function(dn,Qr){var Jr=Vr.featureSortOrder;if(Jr){var yo=Jr.indexOf(dn.featureIndex);return Jr.indexOf(Qr.featureIndex)-yo}return Qr.featureIndex-dn.featureIndex});for(var rn=0,sn=gn;rn<sn.length;rn+=1)an.push(sn[rn])}},lr=0,Er=Rt;lr<Er.length;lr+=1)nr();var Ar=function(Vr){wt[Vr].forEach(function(On){var Dr=On.feature,an=Je[ze[Vr].source].getFeatureState(Dr.layer["source-layer"],Dr.id);Dr.source=Dr.layer.source,Dr.layer["source-layer"]&&(Dr.sourceLayer=Dr.layer["source-layer"]),Dr.state=an})};for(var Kr in wt)Ar(Kr);return wt}(this._layers,this._serializedLayers,this.sourceCaches,v,C,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Le)},x.prototype.querySourceFeatures=function(v,C){C&&C.filter&&this._validate(_.validateStyle.filter,"querySourceFeatures.filter",C.filter,null,C);var M=this.sourceCaches[v];return M?function(B,U){for(var X=B.getRenderableIds().map(function(nt){return B.getTileByID(nt)}),ce=[],Se={},Le=0;Le<X.length;Le++){var Re=X[Le],ze=Re.tileID.canonical.key;Se[ze]||(Se[ze]=!0,Re.querySourceFeatures(ce,U))}return ce}(M,C):[]},x.prototype.addSourceType=function(v,C,M){return x.getSourceType(v)?M(new Error('A source type called "'+v+'" already exists.')):(x.setSourceType(v,C),C.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:v,url:C.workerSourceURL},M):M(null,null))},x.prototype.getLight=function(){return this.light.getLight()},x.prototype.setLight=function(v,C){C===void 0&&(C={}),this._checkLoaded();var M=this.light.getLight(),B=!1;for(var U in v)if(!_.deepEqual(v[U],M[U])){B=!0;break}if(B){var X={now:_.browser.now(),transition:_.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(v,C),this.light.updateTransitions(X)}},x.prototype._validate=function(v,C,M,B,U){return U===void 0&&(U={}),(!U||U.validate!==!1)&&Da(this,v.call(_.validateStyle,_.extend({key:C,style:this.serialize(),value:M,styleSpec:_.styleSpec},B)))},x.prototype._remove=function(){for(var v in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),_.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[v].setEventedParent(null);for(var C in this.sourceCaches)this.sourceCaches[C].clearTiles(),this.sourceCaches[C].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},x.prototype._clearSource=function(v){this.sourceCaches[v].clearTiles()},x.prototype._reloadSource=function(v){this.sourceCaches[v].resume(),this.sourceCaches[v].reload()},x.prototype._updateSources=function(v){for(var C in this.sourceCaches)this.sourceCaches[C].update(v)},x.prototype._generateCollisionBoxes=function(){for(var v in this.sourceCaches)this._reloadSource(v)},x.prototype._updatePlacement=function(v,C,M,B,U){U===void 0&&(U=!1);for(var X=!1,ce=!1,Se={},Le=0,Re=this._order;Le<Re.length;Le+=1){var ze=this._layers[Re[Le]];if(ze.type==="symbol"){if(!Se[ze.source]){var nt=this.sourceCaches[ze.source];Se[ze.source]=nt.getRenderableIds(!0).map(function(mt){return nt.getTileByID(mt)}).sort(function(mt,wt){return wt.tileID.overscaledZ-mt.tileID.overscaledZ||(mt.tileID.isLessThan(wt.tileID)?-1:1)})}var Je=this.crossTileSymbolIndex.addLayer(ze,Se[ze.source],v.center.lng);X=X||Je}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((U=U||this._layerOrderChanged||M===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(_.browser.now(),v.zoom))&&(this.pauseablePlacement=new Ql(v,this._order,U,C,M,B,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Se),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(_.browser.now()),ce=!0),X&&this.pauseablePlacement.placement.setStale()),ce||X)for(var ft=0,Ge=this._order;ft<Ge.length;ft+=1){var ct=this._layers[Ge[ft]];ct.type==="symbol"&&this.placement.updateLayerOpacities(ct,Se[ct.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(_.browser.now())},x.prototype._releaseSymbolFadeTiles=function(){for(var v in this.sourceCaches)this.sourceCaches[v].releaseSymbolFadeTiles()},x.prototype.getImages=function(v,C,M){this.imageManager.getImages(C.icons,M),this._updateTilesForChangedImages();var B=this.sourceCaches[C.source];B&&B.setDependencies(C.tileID.key,C.type,C.icons)},x.prototype.getGlyphs=function(v,C,M){this.glyphManager.getGlyphs(C.stacks,M)},x.prototype.getResource=function(v,C,M){return _.makeRequest(C,M)},x}(_.Evented);Ha.getSourceType=function(m){return Yt[m]},Ha.setSourceType=function(m,x){Yt[m]=x},Ha.registerForPluginStateChange=_.registerForPluginStateChange;var Ni=_.createLayout([{name:"a_pos",type:"Int16",components:2}]),gf=si(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),Bd=si(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Kp=si(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),_g=si(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Fh=si("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),qh=si(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),jd=si(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),zh=si("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Yp=si("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Ud=si("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Gf=si(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),eu=si(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),vf=si(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Kf=si(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),go=si(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Rc=si(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),eo=si(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Yu=si(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cl=si(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Di=si(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Zu=si(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Au=si(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Il=si(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),tu=si(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Nh=si(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),Zp=si(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function si(m,x){var v=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,C=x.match(/attribute ([\w]+) ([\w]+)/g),M=m.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),B=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),U=B?B.concat(M):M,X={};return{fragmentSource:m=m.replace(v,function(ce,Se,Le,Re,ze){return X[ze]=!0,Se==="define"?`
#ifndef HAS_UNIFORM_u_`+ze+`
varying `+Le+" "+Re+" "+ze+`;
#else
uniform `+Le+" "+Re+" u_"+ze+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+ze+`
    `+Le+" "+Re+" "+ze+" = u_"+ze+`;
#endif
`}),vertexSource:x=x.replace(v,function(ce,Se,Le,Re,ze){var nt=Re==="float"?"vec2":"vec4",Je=ze.match(/color/)?"color":nt;return X[ze]?Se==="define"?`
#ifndef HAS_UNIFORM_u_`+ze+`
uniform lowp float u_`+ze+`_t;
attribute `+Le+" "+nt+" a_"+ze+`;
varying `+Le+" "+Re+" "+ze+`;
#else
uniform `+Le+" "+Re+" u_"+ze+`;
#endif
`:Je==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ze+`
    `+ze+" = a_"+ze+`;
#else
    `+Le+" "+Re+" "+ze+" = u_"+ze+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ze+`
    `+ze+" = unpack_mix_"+Je+"(a_"+ze+", u_"+ze+`_t);
#else
    `+Le+" "+Re+" "+ze+" = u_"+ze+`;
#endif
`:Se==="define"?`
#ifndef HAS_UNIFORM_u_`+ze+`
uniform lowp float u_`+ze+`_t;
attribute `+Le+" "+nt+" a_"+ze+`;
#else
uniform `+Le+" "+Re+" u_"+ze+`;
#endif
`:Je==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ze+`
    `+Le+" "+Re+" "+ze+" = a_"+ze+`;
#else
    `+Le+" "+Re+" "+ze+" = u_"+ze+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ze+`
    `+Le+" "+Re+" "+ze+" = unpack_mix_"+Je+"(a_"+ze+", u_"+ze+`_t);
#else
    `+Le+" "+Re+" "+ze+" = u_"+ze+`;
#endif
`}),staticAttributes:C,staticUniforms:U}}var Hd=Object.freeze({__proto__:null,prelude:gf,background:Bd,backgroundPattern:Kp,circle:_g,clippingMask:Fh,heatmap:qh,heatmapTexture:jd,collisionBox:zh,collisionCircle:Yp,debug:Ud,fill:Gf,fillOutline:eu,fillOutlinePattern:vf,fillPattern:Kf,fillExtrusion:go,fillExtrusionPattern:Rc,hillshadePrepare:eo,hillshade:Yu,line:cl,lineGradient:Di,linePattern:Zu,lineSDF:Au,raster:Il,symbolIcon:tu,symbolSDF:Nh,symbolTextAndIcon:Zp}),Yf=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Xp(m){for(var x=[],v=0;v<m.length;v++)if(m[v]!==null){var C=m[v].split(" ");x.push(C.pop())}return x}Yf.prototype.bind=function(m,x,v,C,M,B,U,X){this.context=m;for(var ce=this.boundPaintVertexBuffers.length!==C.length,Se=0;!ce&&Se<C.length;Se++)this.boundPaintVertexBuffers[Se]!==C[Se]&&(ce=!0);m.extVertexArrayObject&&this.vao&&this.boundProgram===x&&this.boundLayoutVertexBuffer===v&&!ce&&this.boundIndexBuffer===M&&this.boundVertexOffset===B&&this.boundDynamicVertexBuffer===U&&this.boundDynamicVertexBuffer2===X?(m.bindVertexArrayOES.set(this.vao),U&&U.bind(),M&&M.dynamicDraw&&M.bind(),X&&X.bind()):this.freshBind(x,v,C,M,B,U,X)},Yf.prototype.freshBind=function(m,x,v,C,M,B,U){var X,ce=m.numAttributes,Se=this.context,Le=Se.gl;if(Se.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Se.extVertexArrayObject.createVertexArrayOES(),Se.bindVertexArrayOES.set(this.vao),X=0,this.boundProgram=m,this.boundLayoutVertexBuffer=x,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=C,this.boundVertexOffset=M,this.boundDynamicVertexBuffer=B,this.boundDynamicVertexBuffer2=U;else{X=Se.currentNumAttributes||0;for(var Re=ce;Re<X;Re++)Le.disableVertexAttribArray(Re)}x.enableAttributes(Le,m);for(var ze=0,nt=v;ze<nt.length;ze+=1)nt[ze].enableAttributes(Le,m);B&&B.enableAttributes(Le,m),U&&U.enableAttributes(Le,m),x.bind(),x.setVertexAttribPointers(Le,m,M);for(var Je=0,ft=v;Je<ft.length;Je+=1){var Ge=ft[Je];Ge.bind(),Ge.setVertexAttribPointers(Le,m,M)}B&&(B.bind(),B.setVertexAttribPointers(Le,m,M)),C&&C.bind(),U&&(U.bind(),U.setVertexAttribPointers(Le,m,M)),Se.currentNumAttributes=ce},Yf.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Fc=function(m,x,v,C,M,B){var U=m.gl;this.program=U.createProgram();for(var X=Xp(v.staticAttributes),ce=C?C.getBinderAttributes():[],Se=X.concat(ce),Le=v.staticUniforms?Xp(v.staticUniforms):[],Re=C?C.getBinderUniforms():[],ze=[],nt=0,Je=Le.concat(Re);nt<Je.length;nt+=1){var ft=Je[nt];ze.indexOf(ft)<0&&ze.push(ft)}var Ge=C?C.defines():[];B&&Ge.push("#define OVERDRAW_INSPECTOR;");var ct=Ge.concat(gf.fragmentSource,v.fragmentSource).join(`
`),mt=Ge.concat(gf.vertexSource,v.vertexSource).join(`
`),wt=U.createShader(U.FRAGMENT_SHADER);if(U.isContextLost())this.failedToCreate=!0;else{U.shaderSource(wt,ct),U.compileShader(wt),U.attachShader(this.program,wt);var zt=U.createShader(U.VERTEX_SHADER);if(U.isContextLost())this.failedToCreate=!0;else{U.shaderSource(zt,mt),U.compileShader(zt),U.attachShader(this.program,zt),this.attributes={};var Rt={};this.numAttributes=Se.length;for(var jt=0;jt<this.numAttributes;jt++)Se[jt]&&(U.bindAttribLocation(this.program,jt,Se[jt]),this.attributes[Se[jt]]=jt);U.linkProgram(this.program),U.deleteShader(zt),U.deleteShader(wt);for(var er=0;er<ze.length;er++){var nr=ze[er];if(nr&&!Rt[nr]){var lr=U.getUniformLocation(this.program,nr);lr&&(Rt[nr]=lr)}}this.fixedUniforms=M(m,Rt),this.binderUniforms=C?C.getUniforms(m,Rt):[]}}};function Ml(m,x,v){var C=1/Dn(v,1,x.transform.tileZoom),M=Math.pow(2,v.tileID.overscaledZ),B=v.tileSize*Math.pow(2,x.transform.tileZoom)/M,U=B*(v.tileID.canonical.x+v.tileID.wrap*M),X=B*v.tileID.canonical.y;return{u_image:0,u_texsize:v.imageAtlasTexture.size,u_scale:[C,m.fromScale,m.toScale],u_fade:m.t,u_pixel_coord_upper:[U>>16,X>>16],u_pixel_coord_lower:[65535&U,65535&X]}}Fc.prototype.draw=function(m,x,v,C,M,B,U,X,ce,Se,Le,Re,ze,nt,Je,ft){var Ge,ct=m.gl;if(!this.failedToCreate){for(var mt in m.program.set(this.program),m.setDepthMode(v),m.setStencilMode(C),m.setColorMode(M),m.setCullFace(B),this.fixedUniforms)this.fixedUniforms[mt].set(U[mt]);nt&&nt.setUniforms(m,this.binderUniforms,Re,{zoom:ze});for(var wt=(Ge={},Ge[ct.LINES]=2,Ge[ct.TRIANGLES]=3,Ge[ct.LINE_STRIP]=1,Ge)[x],zt=0,Rt=Le.get();zt<Rt.length;zt+=1){var jt=Rt[zt],er=jt.vaos||(jt.vaos={});(er[X]||(er[X]=new Yf)).bind(m,this,ce,nt?nt.getPaintVertexBuffers():[],Se,jt.vertexOffset,Je,ft),ct.drawElements(x,jt.primitiveLength*wt,ct.UNSIGNED_SHORT,jt.primitiveOffset*wt*2)}}};var Zf=function(m,x,v,C){var M=x.style.light,B=M.properties.get("position"),U=[B.x,B.y,B.z],X=_.create$1();M.properties.get("anchor")==="viewport"&&_.fromRotation(X,-x.transform.angle),_.transformMat3(U,U,X);var ce=M.properties.get("color");return{u_matrix:m,u_lightpos:U,u_lightintensity:M.properties.get("intensity"),u_lightcolor:[ce.r,ce.g,ce.b],u_vertical_gradient:+v,u_opacity:C}},Bs=function(m,x,v,C,M,B,U){return _.extend(Zf(m,x,v,C),Ml(B,x,U),{u_height_factor:-Math.pow(2,M.overscaledZ)/U.tileSize/8})},Oa=function(m){return{u_matrix:m}},oa=function(m,x,v,C){return _.extend(Oa(m),Ml(v,x,C))},ru=function(m,x){return{u_matrix:m,u_world:x}},Xf=function(m,x,v,C,M){return _.extend(oa(m,x,v,C),{u_world:M})},fl=function(m,x,v,C){var M,B,U=m.transform;if(C.paint.get("circle-pitch-alignment")==="map"){var X=Dn(v,1,U.zoom);M=!0,B=[X,X]}else M=!1,B=U.pixelsToGLUnits;return{u_camera_to_center_distance:U.cameraToCenterDistance,u_scale_with_map:+(C.paint.get("circle-pitch-scale")==="map"),u_matrix:m.translatePosMatrix(x.posMatrix,v,C.paint.get("circle-translate"),C.paint.get("circle-translate-anchor")),u_pitch_with_map:+M,u_device_pixel_ratio:_.browser.devicePixelRatio,u_extrude_scale:B}},ws=function(m,x,v){var C=Dn(v,1,x.zoom),M=Math.pow(2,x.zoom-v.tileID.overscaledZ),B=v.tileID.overscaleFactor();return{u_matrix:m,u_camera_to_center_distance:x.cameraToCenterDistance,u_pixels_to_tile_units:C,u_extrude_scale:[x.pixelsToGLUnits[0]/(C*M),x.pixelsToGLUnits[1]/(C*M)],u_overscale_factor:B}},Bh=function(m,x,v){return{u_matrix:m,u_inv_matrix:x,u_camera_to_center_distance:v.cameraToCenterDistance,u_viewport_size:[v.width,v.height]}},Xu=function(m,x,v){return v===void 0&&(v=1),{u_matrix:m,u_color:x,u_overlay:0,u_overlay_scale:v}},nu=function(m){return{u_matrix:m}},qc=function(m,x,v,C){return{u_matrix:m,u_extrude_scale:Dn(x,1,v),u_intensity:C}},os=function(m,x,v){var C=m.transform;return{u_matrix:Wd(m,x,v),u_ratio:1/Dn(x,1,C.zoom),u_device_pixel_ratio:_.browser.devicePixelRatio,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},hi=function(m,x,v,C){return _.extend(os(m,x,v),{u_image:0,u_image_height:C})},iu=function(m,x,v,C){var M=m.transform,B=zc(x,M);return{u_matrix:Wd(m,x,v),u_texsize:x.imageAtlasTexture.size,u_ratio:1/Dn(x,1,M.zoom),u_device_pixel_ratio:_.browser.devicePixelRatio,u_image:0,u_scale:[B,C.fromScale,C.toScale],u_fade:C.t,u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]]}},ou=function(m,x,v,C,M){var B=m.lineAtlas,U=zc(x,m.transform),X=v.layout.get("line-cap")==="round",ce=B.getDash(C.from,X),Se=B.getDash(C.to,X),Le=ce.width*M.fromScale,Re=Se.width*M.toScale;return _.extend(os(m,x,v),{u_patternscale_a:[U/Le,-ce.height/2],u_patternscale_b:[U/Re,-Se.height/2],u_sdfgamma:B.width/(256*Math.min(Le,Re)*_.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:ce.y,u_tex_y_b:Se.y,u_mix:M.t})};function zc(m,x){return 1/Dn(m,1,x.tileZoom)}function Wd(m,x,v){return m.translatePosMatrix(x.tileID.posMatrix,x,v.paint.get("line-translate"),v.paint.get("line-translate-anchor"))}var Jp=function(m,x,v,C,M){return{u_matrix:m,u_tl_parent:x,u_scale_parent:v,u_buffer_scale:1,u_fade_t:C.mix,u_opacity:C.opacity*M.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:M.paint.get("raster-brightness-min"),u_brightness_high:M.paint.get("raster-brightness-max"),u_saturation_factor:(U=M.paint.get("raster-saturation"),U>0?1-1/(1.001-U):-U),u_contrast_factor:(B=M.paint.get("raster-contrast"),B>0?1/(1-B):1+B),u_spin_weights:Vd(M.paint.get("raster-hue-rotate"))};var B,U};function Vd(m){m*=Math.PI/180;var x=Math.sin(m),v=Math.cos(m);return[(2*v+1)/3,(-Math.sqrt(3)*x-v+1)/3,(Math.sqrt(3)*x-v+1)/3]}var Ju,Qu=function(m,x,v,C,M,B,U,X,ce,Se){var Le=M.transform;return{u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:x?x.uSizeT:0,u_size:x?x.uSize:0,u_camera_to_center_distance:Le.cameraToCenterDistance,u_pitch:Le.pitch/360*2*Math.PI,u_rotate_symbol:+v,u_aspect_ratio:Le.width/Le.height,u_fade_change:M.options.fadeDuration?M.symbolFadeChange:1,u_matrix:B,u_label_plane_matrix:U,u_coord_matrix:X,u_is_text:+ce,u_pitch_with_map:+C,u_texsize:Se,u_texture:0}},Nc=function(m,x,v,C,M,B,U,X,ce,Se,Le){var Re=M.transform;return _.extend(Qu(m,x,v,C,M,B,U,X,ce,Se),{u_gamma_scale:C?Math.cos(Re._pitch)*Re.cameraToCenterDistance:1,u_device_pixel_ratio:_.browser.devicePixelRatio,u_is_halo:+Le})},au=function(m,x,v,C,M,B,U,X,ce,Se){return _.extend(Nc(m,x,v,C,M,B,U,X,!0,ce,!0),{u_texsize_icon:Se,u_texture_icon:1})},Du=function(m,x,v){return{u_matrix:m,u_opacity:x,u_color:v}},ec=function(m,x,v,C,M,B){return _.extend(function(U,X,ce,Se){var Le=ce.imageManager.getPattern(U.from.toString()),Re=ce.imageManager.getPattern(U.to.toString()),ze=ce.imageManager.getPixelSize(),nt=ze.width,Je=ze.height,ft=Math.pow(2,Se.tileID.overscaledZ),Ge=Se.tileSize*Math.pow(2,ce.transform.tileZoom)/ft,ct=Ge*(Se.tileID.canonical.x+Se.tileID.wrap*ft),mt=Ge*Se.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Le.tl,u_pattern_br_a:Le.br,u_pattern_tl_b:Re.tl,u_pattern_br_b:Re.br,u_texsize:[nt,Je],u_mix:X.t,u_pattern_size_a:Le.displaySize,u_pattern_size_b:Re.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/Dn(Se,1,ce.transform.tileZoom),u_pixel_coord_upper:[ct>>16,mt>>16],u_pixel_coord_lower:[65535&ct,65535&mt]}}(C,B,v,M),{u_matrix:m,u_opacity:x})},yf={fillExtrusion:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_lightpos:new _.Uniform3f(m,x.u_lightpos),u_lightintensity:new _.Uniform1f(m,x.u_lightintensity),u_lightcolor:new _.Uniform3f(m,x.u_lightcolor),u_vertical_gradient:new _.Uniform1f(m,x.u_vertical_gradient),u_opacity:new _.Uniform1f(m,x.u_opacity)}},fillExtrusionPattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_lightpos:new _.Uniform3f(m,x.u_lightpos),u_lightintensity:new _.Uniform1f(m,x.u_lightintensity),u_lightcolor:new _.Uniform3f(m,x.u_lightcolor),u_vertical_gradient:new _.Uniform1f(m,x.u_vertical_gradient),u_height_factor:new _.Uniform1f(m,x.u_height_factor),u_image:new _.Uniform1i(m,x.u_image),u_texsize:new _.Uniform2f(m,x.u_texsize),u_pixel_coord_upper:new _.Uniform2f(m,x.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(m,x.u_pixel_coord_lower),u_scale:new _.Uniform3f(m,x.u_scale),u_fade:new _.Uniform1f(m,x.u_fade),u_opacity:new _.Uniform1f(m,x.u_opacity)}},fill:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix)}},fillPattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_image:new _.Uniform1i(m,x.u_image),u_texsize:new _.Uniform2f(m,x.u_texsize),u_pixel_coord_upper:new _.Uniform2f(m,x.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(m,x.u_pixel_coord_lower),u_scale:new _.Uniform3f(m,x.u_scale),u_fade:new _.Uniform1f(m,x.u_fade)}},fillOutline:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_world:new _.Uniform2f(m,x.u_world)}},fillOutlinePattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_world:new _.Uniform2f(m,x.u_world),u_image:new _.Uniform1i(m,x.u_image),u_texsize:new _.Uniform2f(m,x.u_texsize),u_pixel_coord_upper:new _.Uniform2f(m,x.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(m,x.u_pixel_coord_lower),u_scale:new _.Uniform3f(m,x.u_scale),u_fade:new _.Uniform1f(m,x.u_fade)}},circle:function(m,x){return{u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_scale_with_map:new _.Uniform1i(m,x.u_scale_with_map),u_pitch_with_map:new _.Uniform1i(m,x.u_pitch_with_map),u_extrude_scale:new _.Uniform2f(m,x.u_extrude_scale),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_matrix:new _.UniformMatrix4f(m,x.u_matrix)}},collisionBox:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_pixels_to_tile_units:new _.Uniform1f(m,x.u_pixels_to_tile_units),u_extrude_scale:new _.Uniform2f(m,x.u_extrude_scale),u_overscale_factor:new _.Uniform1f(m,x.u_overscale_factor)}},collisionCircle:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_inv_matrix:new _.UniformMatrix4f(m,x.u_inv_matrix),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_viewport_size:new _.Uniform2f(m,x.u_viewport_size)}},debug:function(m,x){return{u_color:new _.UniformColor(m,x.u_color),u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_overlay:new _.Uniform1i(m,x.u_overlay),u_overlay_scale:new _.Uniform1f(m,x.u_overlay_scale)}},clippingMask:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix)}},heatmap:function(m,x){return{u_extrude_scale:new _.Uniform1f(m,x.u_extrude_scale),u_intensity:new _.Uniform1f(m,x.u_intensity),u_matrix:new _.UniformMatrix4f(m,x.u_matrix)}},heatmapTexture:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_world:new _.Uniform2f(m,x.u_world),u_image:new _.Uniform1i(m,x.u_image),u_color_ramp:new _.Uniform1i(m,x.u_color_ramp),u_opacity:new _.Uniform1f(m,x.u_opacity)}},hillshade:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_image:new _.Uniform1i(m,x.u_image),u_latrange:new _.Uniform2f(m,x.u_latrange),u_light:new _.Uniform2f(m,x.u_light),u_shadow:new _.UniformColor(m,x.u_shadow),u_highlight:new _.UniformColor(m,x.u_highlight),u_accent:new _.UniformColor(m,x.u_accent)}},hillshadePrepare:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_image:new _.Uniform1i(m,x.u_image),u_dimension:new _.Uniform2f(m,x.u_dimension),u_zoom:new _.Uniform1f(m,x.u_zoom),u_unpack:new _.Uniform4f(m,x.u_unpack)}},line:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_ratio:new _.Uniform1f(m,x.u_ratio),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_units_to_pixels:new _.Uniform2f(m,x.u_units_to_pixels)}},lineGradient:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_ratio:new _.Uniform1f(m,x.u_ratio),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_units_to_pixels:new _.Uniform2f(m,x.u_units_to_pixels),u_image:new _.Uniform1i(m,x.u_image),u_image_height:new _.Uniform1f(m,x.u_image_height)}},linePattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_texsize:new _.Uniform2f(m,x.u_texsize),u_ratio:new _.Uniform1f(m,x.u_ratio),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_image:new _.Uniform1i(m,x.u_image),u_units_to_pixels:new _.Uniform2f(m,x.u_units_to_pixels),u_scale:new _.Uniform3f(m,x.u_scale),u_fade:new _.Uniform1f(m,x.u_fade)}},lineSDF:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_ratio:new _.Uniform1f(m,x.u_ratio),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_units_to_pixels:new _.Uniform2f(m,x.u_units_to_pixels),u_patternscale_a:new _.Uniform2f(m,x.u_patternscale_a),u_patternscale_b:new _.Uniform2f(m,x.u_patternscale_b),u_sdfgamma:new _.Uniform1f(m,x.u_sdfgamma),u_image:new _.Uniform1i(m,x.u_image),u_tex_y_a:new _.Uniform1f(m,x.u_tex_y_a),u_tex_y_b:new _.Uniform1f(m,x.u_tex_y_b),u_mix:new _.Uniform1f(m,x.u_mix)}},raster:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_tl_parent:new _.Uniform2f(m,x.u_tl_parent),u_scale_parent:new _.Uniform1f(m,x.u_scale_parent),u_buffer_scale:new _.Uniform1f(m,x.u_buffer_scale),u_fade_t:new _.Uniform1f(m,x.u_fade_t),u_opacity:new _.Uniform1f(m,x.u_opacity),u_image0:new _.Uniform1i(m,x.u_image0),u_image1:new _.Uniform1i(m,x.u_image1),u_brightness_low:new _.Uniform1f(m,x.u_brightness_low),u_brightness_high:new _.Uniform1f(m,x.u_brightness_high),u_saturation_factor:new _.Uniform1f(m,x.u_saturation_factor),u_contrast_factor:new _.Uniform1f(m,x.u_contrast_factor),u_spin_weights:new _.Uniform3f(m,x.u_spin_weights)}},symbolIcon:function(m,x){return{u_is_size_zoom_constant:new _.Uniform1i(m,x.u_is_size_zoom_constant),u_is_size_feature_constant:new _.Uniform1i(m,x.u_is_size_feature_constant),u_size_t:new _.Uniform1f(m,x.u_size_t),u_size:new _.Uniform1f(m,x.u_size),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_pitch:new _.Uniform1f(m,x.u_pitch),u_rotate_symbol:new _.Uniform1i(m,x.u_rotate_symbol),u_aspect_ratio:new _.Uniform1f(m,x.u_aspect_ratio),u_fade_change:new _.Uniform1f(m,x.u_fade_change),u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_label_plane_matrix:new _.UniformMatrix4f(m,x.u_label_plane_matrix),u_coord_matrix:new _.UniformMatrix4f(m,x.u_coord_matrix),u_is_text:new _.Uniform1i(m,x.u_is_text),u_pitch_with_map:new _.Uniform1i(m,x.u_pitch_with_map),u_texsize:new _.Uniform2f(m,x.u_texsize),u_texture:new _.Uniform1i(m,x.u_texture)}},symbolSDF:function(m,x){return{u_is_size_zoom_constant:new _.Uniform1i(m,x.u_is_size_zoom_constant),u_is_size_feature_constant:new _.Uniform1i(m,x.u_is_size_feature_constant),u_size_t:new _.Uniform1f(m,x.u_size_t),u_size:new _.Uniform1f(m,x.u_size),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_pitch:new _.Uniform1f(m,x.u_pitch),u_rotate_symbol:new _.Uniform1i(m,x.u_rotate_symbol),u_aspect_ratio:new _.Uniform1f(m,x.u_aspect_ratio),u_fade_change:new _.Uniform1f(m,x.u_fade_change),u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_label_plane_matrix:new _.UniformMatrix4f(m,x.u_label_plane_matrix),u_coord_matrix:new _.UniformMatrix4f(m,x.u_coord_matrix),u_is_text:new _.Uniform1i(m,x.u_is_text),u_pitch_with_map:new _.Uniform1i(m,x.u_pitch_with_map),u_texsize:new _.Uniform2f(m,x.u_texsize),u_texture:new _.Uniform1i(m,x.u_texture),u_gamma_scale:new _.Uniform1f(m,x.u_gamma_scale),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_is_halo:new _.Uniform1i(m,x.u_is_halo)}},symbolTextAndIcon:function(m,x){return{u_is_size_zoom_constant:new _.Uniform1i(m,x.u_is_size_zoom_constant),u_is_size_feature_constant:new _.Uniform1i(m,x.u_is_size_feature_constant),u_size_t:new _.Uniform1f(m,x.u_size_t),u_size:new _.Uniform1f(m,x.u_size),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_pitch:new _.Uniform1f(m,x.u_pitch),u_rotate_symbol:new _.Uniform1i(m,x.u_rotate_symbol),u_aspect_ratio:new _.Uniform1f(m,x.u_aspect_ratio),u_fade_change:new _.Uniform1f(m,x.u_fade_change),u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_label_plane_matrix:new _.UniformMatrix4f(m,x.u_label_plane_matrix),u_coord_matrix:new _.UniformMatrix4f(m,x.u_coord_matrix),u_is_text:new _.Uniform1i(m,x.u_is_text),u_pitch_with_map:new _.Uniform1i(m,x.u_pitch_with_map),u_texsize:new _.Uniform2f(m,x.u_texsize),u_texsize_icon:new _.Uniform2f(m,x.u_texsize_icon),u_texture:new _.Uniform1i(m,x.u_texture),u_texture_icon:new _.Uniform1i(m,x.u_texture_icon),u_gamma_scale:new _.Uniform1f(m,x.u_gamma_scale),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_is_halo:new _.Uniform1i(m,x.u_is_halo)}},background:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_opacity:new _.Uniform1f(m,x.u_opacity),u_color:new _.UniformColor(m,x.u_color)}},backgroundPattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_opacity:new _.Uniform1f(m,x.u_opacity),u_image:new _.Uniform1i(m,x.u_image),u_pattern_tl_a:new _.Uniform2f(m,x.u_pattern_tl_a),u_pattern_br_a:new _.Uniform2f(m,x.u_pattern_br_a),u_pattern_tl_b:new _.Uniform2f(m,x.u_pattern_tl_b),u_pattern_br_b:new _.Uniform2f(m,x.u_pattern_br_b),u_texsize:new _.Uniform2f(m,x.u_texsize),u_mix:new _.Uniform1f(m,x.u_mix),u_pattern_size_a:new _.Uniform2f(m,x.u_pattern_size_a),u_pattern_size_b:new _.Uniform2f(m,x.u_pattern_size_b),u_scale_a:new _.Uniform1f(m,x.u_scale_a),u_scale_b:new _.Uniform1f(m,x.u_scale_b),u_pixel_coord_upper:new _.Uniform2f(m,x.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(m,x.u_pixel_coord_lower),u_tile_units_to_pixels:new _.Uniform1f(m,x.u_tile_units_to_pixels)}}};function aa(m,x,v,C,M,B,U){for(var X=m.context,ce=X.gl,Se=m.useProgram("collisionBox"),Le=[],Re=0,ze=0,nt=0;nt<C.length;nt++){var Je=C[nt],ft=x.getTile(Je),Ge=ft.getBucket(v);if(Ge){var ct=Je.posMatrix;M[0]===0&&M[1]===0||(ct=m.translatePosMatrix(Je.posMatrix,ft,M,B));var mt=U?Ge.textCollisionBox:Ge.iconCollisionBox,wt=Ge.collisionCircleArray;if(wt.length>0){var zt=_.create(),Rt=ct;_.mul(zt,Ge.placementInvProjMatrix,m.transform.glCoordMatrix),_.mul(zt,zt,Ge.placementViewportMatrix),Le.push({circleArray:wt,circleOffset:ze,transform:Rt,invTransform:zt}),ze=Re+=wt.length/4}mt&&Se.draw(X,ce.LINES,Be.disabled,Ye.disabled,m.colorModeForRenderPass(),ut.disabled,ws(ct,m.transform,ft),v.id,mt.layoutVertexBuffer,mt.indexBuffer,mt.segments,null,m.transform.zoom,null,null,mt.collisionVertexBuffer)}}if(U&&Le.length){var jt=m.useProgram("collisionCircle"),er=new _.StructArrayLayout2f1f2i16;er.resize(4*Re),er._trim();for(var nr=0,lr=0,Er=Le;lr<Er.length;lr+=1)for(var Ar=Er[lr],Kr=0;Kr<Ar.circleArray.length/4;Kr++){var Vr=4*Kr,On=Ar.circleArray[Vr+0],Dr=Ar.circleArray[Vr+1],an=Ar.circleArray[Vr+2],gn=Ar.circleArray[Vr+3];er.emplace(nr++,On,Dr,an,gn,0),er.emplace(nr++,On,Dr,an,gn,1),er.emplace(nr++,On,Dr,an,gn,2),er.emplace(nr++,On,Dr,an,gn,3)}(!Ju||Ju.length<2*Re)&&(Ju=function(Si){var Ao=2*Si,Go=new _.StructArrayLayout3ui6;Go.resize(Ao),Go._trim();for(var xi=0;xi<Ao;xi++){var Li=6*xi;Go.uint16[Li+0]=4*xi+0,Go.uint16[Li+1]=4*xi+1,Go.uint16[Li+2]=4*xi+2,Go.uint16[Li+3]=4*xi+2,Go.uint16[Li+4]=4*xi+3,Go.uint16[Li+5]=4*xi+0}return Go}(Re));for(var rn=X.createIndexBuffer(Ju,!0),sn=X.createVertexBuffer(er,_.collisionCircleLayout.members,!0),dn=0,Qr=Le;dn<Qr.length;dn+=1){var Jr=Qr[dn],yo=Bh(Jr.transform,Jr.invTransform,m.transform);jt.draw(X,ce.TRIANGLES,Be.disabled,Ye.disabled,m.colorModeForRenderPass(),ut.disabled,yo,v.id,sn,rn,_.SegmentVector.simpleSegment(0,2*Jr.circleOffset,Jr.circleArray.length,Jr.circleArray.length/2),null,m.transform.zoom,null,null,null)}sn.destroy(),rn.destroy()}}var js=_.identity(new Float32Array(16));function Bc(m,x,v,C,M,B){var U=_.getAnchorAlignment(m),X=-(U.horizontalAlign-.5)*x,ce=-(U.verticalAlign-.5)*v,Se=_.evaluateVariableOffset(m,C);return new _.Point((X/M+Se[0])*B,(ce/M+Se[1])*B)}function Ss(m,x,v,C,M,B,U,X,ce,Se,Le){var Re=m.text.placedSymbolArray,ze=m.text.dynamicLayoutVertexArray,nt=m.icon.dynamicLayoutVertexArray,Je={};ze.clear();for(var ft=0;ft<Re.length;ft++){var Ge=Re.get(ft),ct=Ge.hidden||!Ge.crossTileID||m.allowVerticalPlacement&&!Ge.placedOrientation?null:C[Ge.crossTileID];if(ct){var mt=new _.Point(Ge.anchorX,Ge.anchorY),wt=cn(mt,v?X:U),zt=Mn(B.cameraToCenterDistance,wt.signedDistanceFromCamera),Rt=M.evaluateSizeForFeature(m.textSizeData,Se,Ge)*zt/_.ONE_EM;v&&(Rt*=m.tilePixelRatio/ce);for(var jt=Bc(ct.anchor,ct.width,ct.height,ct.textOffset,ct.textBoxScale,Rt),er=v?cn(mt.add(jt),U).point:wt.point.add(x?jt.rotate(-B.angle):jt),nr=m.allowVerticalPlacement&&Ge.placedOrientation===_.WritingMode.vertical?Math.PI/2:0,lr=0;lr<Ge.numGlyphs;lr++)_.addDynamicAttributes(ze,er,nr);Le&&Ge.associatedIconIndex>=0&&(Je[Ge.associatedIconIndex]={shiftedAnchor:er,angle:nr})}else Ai(Ge.numGlyphs,ze)}if(Le){nt.clear();for(var Er=m.icon.placedSymbolArray,Ar=0;Ar<Er.length;Ar++){var Kr=Er.get(Ar);if(Kr.hidden)Ai(Kr.numGlyphs,nt);else{var Vr=Je[Ar];if(Vr)for(var On=0;On<Kr.numGlyphs;On++)_.addDynamicAttributes(nt,Vr.shiftedAnchor,Vr.angle);else Ai(Kr.numGlyphs,nt)}}m.icon.dynamicLayoutVertexBuffer.updateData(nt)}m.text.dynamicLayoutVertexBuffer.updateData(ze)}function jh(m,x,v){return v.iconsInText&&x?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function su(m,x,v,C,M,B,U,X,ce,Se,Le,Re){for(var ze=m.context,nt=ze.gl,Je=m.transform,ft=X==="map",Ge=ce==="map",ct=ft&&v.layout.get("symbol-placement")!=="point",mt=ft&&!Ge&&!ct,wt=v.layout.get("symbol-sort-key").constantOr(1)!==void 0,zt=!1,Rt=m.depthModeForSublayer(0,Be.ReadOnly),jt=v.layout.get("text-variable-anchor"),er=[],nr=0,lr=C;nr<lr.length;nr+=1){var Er=lr[nr],Ar=x.getTile(Er),Kr=Ar.getBucket(v);if(Kr){var Vr=M?Kr.text:Kr.icon;if(Vr&&Vr.segments.get().length){var On=Vr.programConfigurations.get(v.id),Dr=M||Kr.sdfIcons,an=M?Kr.textSizeData:Kr.iconSizeData,gn=Ge||Je.pitch!==0,rn=m.useProgram(jh(Dr,M,Kr),On),sn=_.evaluateSizeForZoom(an,Je.zoom),dn=void 0,Qr=[0,0],Jr=void 0,yo=void 0,Si=null,Ao=void 0;if(M)Jr=Ar.glyphAtlasTexture,yo=nt.LINEAR,dn=Ar.glyphAtlasTexture.size,Kr.iconsInText&&(Qr=Ar.imageAtlasTexture.size,Si=Ar.imageAtlasTexture,Ao=gn||m.options.rotating||m.options.zooming||an.kind==="composite"||an.kind==="camera"?nt.LINEAR:nt.NEAREST);else{var Go=v.layout.get("icon-size").constantOr(0)!==1||Kr.iconsNeedLinear;Jr=Ar.imageAtlasTexture,yo=Dr||m.options.rotating||m.options.zooming||Go||gn?nt.LINEAR:nt.NEAREST,dn=Ar.imageAtlasTexture.size}var xi=Dn(Ar,1,m.transform.zoom),Li=Br(Er.posMatrix,Ge,ft,m.transform,xi),da=Lr(Er.posMatrix,Ge,ft,m.transform,xi),Po=jt&&Kr.hasTextData(),Ka=v.layout.get("icon-text-fit")!=="none"&&Po&&Kr.hasIconData();ct&&zs(Kr,Er.posMatrix,m,M,Li,da,Ge,Se);var Ko=m.translatePosMatrix(Er.posMatrix,Ar,B,U),cs=ct||M&&jt||Ka?js:Li,Ma=m.translatePosMatrix(da,Ar,B,U,!0),Gs=Dr&&v.paint.get(M?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Bl={program:rn,buffers:Vr,uniformValues:Dr?Kr.iconsInText?au(an.kind,sn,mt,Ge,m,Ko,cs,Ma,dn,Qr):Nc(an.kind,sn,mt,Ge,m,Ko,cs,Ma,M,dn,!0):Qu(an.kind,sn,mt,Ge,m,Ko,cs,Ma,M,dn),atlasTexture:Jr,atlasTextureIcon:Si,atlasInterpolation:yo,atlasInterpolationIcon:Ao,isSDF:Dr,hasHalo:Gs};if(wt&&Kr.canOverlap){zt=!0;for(var Ks=0,Ys=Vr.segments.get();Ks<Ys.length;Ks+=1){var jl=Ys[Ks];er.push({segments:new _.SegmentVector([jl]),sortKey:jl.sortKey,state:Bl})}}else er.push({segments:Vr.segments,sortKey:0,state:Bl})}}}zt&&er.sort(function(oc,Lo){return oc.sortKey-Lo.sortKey});for(var Es=0,ih=er;Es<ih.length;Es+=1){var Ul=ih[Es],ni=Ul.state;if(ze.activeTexture.set(nt.TEXTURE0),ni.atlasTexture.bind(ni.atlasInterpolation,nt.CLAMP_TO_EDGE),ni.atlasTextureIcon&&(ze.activeTexture.set(nt.TEXTURE1),ni.atlasTextureIcon&&ni.atlasTextureIcon.bind(ni.atlasInterpolationIcon,nt.CLAMP_TO_EDGE)),ni.isSDF){var vu=ni.uniformValues;ni.hasHalo&&(vu.u_is_halo=1,Ou(ni.buffers,Ul.segments,v,m,ni.program,Rt,Le,Re,vu)),vu.u_is_halo=0}Ou(ni.buffers,Ul.segments,v,m,ni.program,Rt,Le,Re,ni.uniformValues)}}function Ou(m,x,v,C,M,B,U,X,ce){var Se=C.context;M.draw(Se,Se.gl.TRIANGLES,B,U,X,ut.disabled,ce,v.id,m.layoutVertexBuffer,m.indexBuffer,x,v.paint,C.transform.zoom,m.programConfigurations.get(v.id),m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer)}function Jf(m,x,v,C,M,B,U){var X,ce,Se,Le,Re,ze=m.context.gl,nt=v.paint.get("fill-pattern"),Je=nt&&nt.constantOr(1),ft=v.getCrossfadeParameters();U?(ce=Je&&!v.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",X=ze.LINES):(ce=Je?"fillPattern":"fill",X=ze.TRIANGLES);for(var Ge=0,ct=C;Ge<ct.length;Ge+=1){var mt=ct[Ge],wt=x.getTile(mt);if(!Je||wt.patternsLoaded()){var zt=wt.getBucket(v);if(zt){var Rt=zt.programConfigurations.get(v.id),jt=m.useProgram(ce,Rt);Je&&(m.context.activeTexture.set(ze.TEXTURE0),wt.imageAtlasTexture.bind(ze.LINEAR,ze.CLAMP_TO_EDGE),Rt.updatePaintBuffers(ft));var er=nt.constantOr(null);if(er&&wt.imageAtlas){var nr=wt.imageAtlas,lr=nr.patternPositions[er.to.toString()],Er=nr.patternPositions[er.from.toString()];lr&&Er&&Rt.setConstantPatternPositions(lr,Er)}var Ar=m.translatePosMatrix(mt.posMatrix,wt,v.paint.get("fill-translate"),v.paint.get("fill-translate-anchor"));if(U){Le=zt.indexBuffer2,Re=zt.segments2;var Kr=[ze.drawingBufferWidth,ze.drawingBufferHeight];Se=ce==="fillOutlinePattern"&&Je?Xf(Ar,m,ft,wt,Kr):ru(Ar,Kr)}else Le=zt.indexBuffer,Re=zt.segments,Se=Je?oa(Ar,m,ft,wt):Oa(Ar);jt.draw(m.context,X,M,m.stencilModeForClipping(mt),B,ut.disabled,Se,v.id,zt.layoutVertexBuffer,Le,Re,v.paint,m.transform.zoom,Rt)}}}}function Uh(m,x,v,C,M,B,U){for(var X=m.context,ce=X.gl,Se=v.paint.get("fill-extrusion-pattern"),Le=Se.constantOr(1),Re=v.getCrossfadeParameters(),ze=v.paint.get("fill-extrusion-opacity"),nt=0,Je=C;nt<Je.length;nt+=1){var ft=Je[nt],Ge=x.getTile(ft),ct=Ge.getBucket(v);if(ct){var mt=ct.programConfigurations.get(v.id),wt=m.useProgram(Le?"fillExtrusionPattern":"fillExtrusion",mt);Le&&(m.context.activeTexture.set(ce.TEXTURE0),Ge.imageAtlasTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),mt.updatePaintBuffers(Re));var zt=Se.constantOr(null);if(zt&&Ge.imageAtlas){var Rt=Ge.imageAtlas,jt=Rt.patternPositions[zt.to.toString()],er=Rt.patternPositions[zt.from.toString()];jt&&er&&mt.setConstantPatternPositions(jt,er)}var nr=m.translatePosMatrix(ft.posMatrix,Ge,v.paint.get("fill-extrusion-translate"),v.paint.get("fill-extrusion-translate-anchor")),lr=v.paint.get("fill-extrusion-vertical-gradient"),Er=Le?Bs(nr,m,lr,ze,ft,Re,Ge):Zf(nr,m,lr,ze);wt.draw(X,X.gl.TRIANGLES,M,B,U,ut.backCCW,Er,v.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,v.paint,m.transform.zoom,mt)}}}function bf(m,x,v,C,M,B){var U=m.context,X=U.gl,ce=x.fbo;if(ce){var Se=m.useProgram("hillshade");U.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,ce.colorAttachment.get());var Le=function(Re,ze,nt){var Je=nt.paint.get("hillshade-shadow-color"),ft=nt.paint.get("hillshade-highlight-color"),Ge=nt.paint.get("hillshade-accent-color"),ct=nt.paint.get("hillshade-illumination-direction")*(Math.PI/180);nt.paint.get("hillshade-illumination-anchor")==="viewport"&&(ct-=Re.transform.angle);var mt,wt,zt,Rt=!Re.options.moving;return{u_matrix:Re.transform.calculatePosMatrix(ze.tileID.toUnwrapped(),Rt),u_image:0,u_latrange:(mt=ze.tileID,wt=Math.pow(2,mt.canonical.z),zt=mt.canonical.y,[new _.MercatorCoordinate(0,zt/wt).toLngLat().lat,new _.MercatorCoordinate(0,(zt+1)/wt).toLngLat().lat]),u_light:[nt.paint.get("hillshade-exaggeration"),ct],u_shadow:Je,u_highlight:ft,u_accent:Ge}}(m,x,v);Se.draw(U,X.TRIANGLES,C,M,B,ut.disabled,Le,v.id,m.rasterBoundsBuffer,m.quadTriangleIndexBuffer,m.rasterBoundsSegments)}}function jc(m,x,v,C,M,B){var U=m.context,X=U.gl,ce=x.dem;if(ce&&ce.data){var Se=ce.dim,Le=ce.stride,Re=ce.getPixels();if(U.activeTexture.set(X.TEXTURE1),U.pixelStoreUnpackPremultiplyAlpha.set(!1),x.demTexture=x.demTexture||m.getTileTexture(Le),x.demTexture){var ze=x.demTexture;ze.update(Re,{premultiply:!1}),ze.bind(X.NEAREST,X.CLAMP_TO_EDGE)}else x.demTexture=new _.Texture(U,Re,X.RGBA,{premultiply:!1}),x.demTexture.bind(X.NEAREST,X.CLAMP_TO_EDGE);U.activeTexture.set(X.TEXTURE0);var nt=x.fbo;if(!nt){var Je=new _.Texture(U,{width:Se,height:Se,data:null},X.RGBA);Je.bind(X.LINEAR,X.CLAMP_TO_EDGE),(nt=x.fbo=U.createFramebuffer(Se,Se,!0)).colorAttachment.set(Je.texture)}U.bindFramebuffer.set(nt.framebuffer),U.viewport.set([0,0,Se,Se]),m.useProgram("hillshadePrepare").draw(U,X.TRIANGLES,C,M,B,ut.disabled,function(ft,Ge){var ct=Ge.stride,mt=_.create();return _.ortho(mt,0,_.EXTENT,-_.EXTENT,0,0,1),_.translate(mt,mt,[0,-_.EXTENT,0]),{u_matrix:mt,u_image:1,u_dimension:[ct,ct],u_zoom:ft.overscaledZ,u_unpack:Ge.getUnpackVector()}}(x.tileID,ce),v.id,m.rasterBoundsBuffer,m.quadTriangleIndexBuffer,m.rasterBoundsSegments),x.needsHillshadePrepare=!1}}function Iu(m,x,v,C,M){var B=C.paint.get("raster-fade-duration");if(B>0){var U=_.browser.now(),X=(U-m.timeAdded)/B,ce=x?(U-x.timeAdded)/B:-1,Se=v.getSource(),Le=M.coveringZoomLevel({tileSize:Se.tileSize,roundZoom:Se.roundZoom}),Re=!x||Math.abs(x.tileID.overscaledZ-Le)>Math.abs(m.tileID.overscaledZ-Le),ze=Re&&m.refreshedUponExpiration?1:_.clamp(Re?X:1-ce,0,1);return m.refreshedUponExpiration&&X>=1&&(m.refreshedUponExpiration=!1),x?{opacity:1,mix:1-ze}:{opacity:ze,mix:0}}return{opacity:1,mix:0}}var tc=new _.Color(1,0,0,1),lu=new _.Color(0,1,0,1),Mu=new _.Color(0,0,1,1),uu=new _.Color(1,0,1,1),Uc=new _.Color(0,1,1,1);function Pl(m,x,v,C){Mo(m,0,x+v/2,m.transform.width,v,C)}function cu(m,x,v,C){Mo(m,x-v/2,0,v,m.transform.height,C)}function Mo(m,x,v,C,M,B){var U=m.context,X=U.gl;X.enable(X.SCISSOR_TEST),X.scissor(x*_.browser.devicePixelRatio,v*_.browser.devicePixelRatio,C*_.browser.devicePixelRatio,M*_.browser.devicePixelRatio),U.clear({color:B}),X.disable(X.SCISSOR_TEST)}function as(m,x,v){var C=m.context,M=C.gl,B=v.posMatrix,U=m.useProgram("debug"),X=Be.disabled,ce=Ye.disabled,Se=m.colorModeForRenderPass();C.activeTexture.set(M.TEXTURE0),m.emptyTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),U.draw(C,M.LINE_STRIP,X,ce,Se,ut.disabled,Xu(B,_.Color.red),"$debug",m.debugBuffer,m.tileBorderIndexBuffer,m.debugSegments);var Le=x.getTileByID(v.key).latestRawTileData,Re=Math.floor((Le&&Le.byteLength||0)/1024),ze=x.getTile(v).tileSize,nt=512/Math.min(ze,512)*(v.overscaledZ/m.transform.zoom)*.5,Je=v.canonical.toString();v.overscaledZ!==v.canonical.z&&(Je+=" => "+v.overscaledZ),function(ft,Ge){ft.initDebugOverlayCanvas();var ct=ft.debugOverlayCanvas,mt=ft.context.gl,wt=ft.debugOverlayCanvas.getContext("2d");wt.clearRect(0,0,ct.width,ct.height),wt.shadowColor="white",wt.shadowBlur=2,wt.lineWidth=1.5,wt.strokeStyle="white",wt.textBaseline="top",wt.font="bold 36px Open Sans, sans-serif",wt.fillText(Ge,5,5),wt.strokeText(Ge,5,5),ft.debugOverlayTexture.update(ct),ft.debugOverlayTexture.bind(mt.LINEAR,mt.CLAMP_TO_EDGE)}(m,Je+" "+Re+"kb"),U.draw(C,M.TRIANGLES,X,ce,ht.alphaBlended,ut.disabled,Xu(B,_.Color.transparent,nt),"$debug",m.debugBuffer,m.quadTriangleIndexBuffer,m.debugSegments)}var Ho={symbol:function(m,x,v,C,M){if(m.renderPass==="translucent"){var B=Ye.disabled,U=m.colorModeForRenderPass();v.layout.get("text-variable-anchor")&&function(X,ce,Se,Le,Re,ze,nt){for(var Je=ce.transform,ft=Re==="map",Ge=ze==="map",ct=0,mt=X;ct<mt.length;ct+=1){var wt=mt[ct],zt=Le.getTile(wt),Rt=zt.getBucket(Se);if(Rt&&Rt.text&&Rt.text.segments.get().length){var jt=_.evaluateSizeForZoom(Rt.textSizeData,Je.zoom),er=Dn(zt,1,ce.transform.zoom),nr=Br(wt.posMatrix,Ge,ft,ce.transform,er),lr=Se.layout.get("icon-text-fit")!=="none"&&Rt.hasIconData();if(jt){var Er=Math.pow(2,Je.zoom-zt.tileID.overscaledZ);Ss(Rt,ft,Ge,nt,_.symbolSize,Je,nr,wt.posMatrix,Er,jt,lr)}}}}(C,m,v,x,v.layout.get("text-rotation-alignment"),v.layout.get("text-pitch-alignment"),M),v.paint.get("icon-opacity").constantOr(1)!==0&&su(m,x,v,C,!1,v.paint.get("icon-translate"),v.paint.get("icon-translate-anchor"),v.layout.get("icon-rotation-alignment"),v.layout.get("icon-pitch-alignment"),v.layout.get("icon-keep-upright"),B,U),v.paint.get("text-opacity").constantOr(1)!==0&&su(m,x,v,C,!0,v.paint.get("text-translate"),v.paint.get("text-translate-anchor"),v.layout.get("text-rotation-alignment"),v.layout.get("text-pitch-alignment"),v.layout.get("text-keep-upright"),B,U),x.map.showCollisionBoxes&&(aa(m,x,v,C,v.paint.get("text-translate"),v.paint.get("text-translate-anchor"),!0),aa(m,x,v,C,v.paint.get("icon-translate"),v.paint.get("icon-translate-anchor"),!1))}},circle:function(m,x,v,C){if(m.renderPass==="translucent"){var M=v.paint.get("circle-opacity"),B=v.paint.get("circle-stroke-width"),U=v.paint.get("circle-stroke-opacity"),X=v.layout.get("circle-sort-key").constantOr(1)!==void 0;if(M.constantOr(1)!==0||B.constantOr(1)!==0&&U.constantOr(1)!==0){for(var ce=m.context,Se=ce.gl,Le=m.depthModeForSublayer(0,Be.ReadOnly),Re=Ye.disabled,ze=m.colorModeForRenderPass(),nt=[],Je=0;Je<C.length;Je++){var ft=C[Je],Ge=x.getTile(ft),ct=Ge.getBucket(v);if(ct){var mt=ct.programConfigurations.get(v.id),wt={programConfiguration:mt,program:m.useProgram("circle",mt),layoutVertexBuffer:ct.layoutVertexBuffer,indexBuffer:ct.indexBuffer,uniformValues:fl(m,ft,Ge,v)};if(X)for(var zt=0,Rt=ct.segments.get();zt<Rt.length;zt+=1){var jt=Rt[zt];nt.push({segments:new _.SegmentVector([jt]),sortKey:jt.sortKey,state:wt})}else nt.push({segments:ct.segments,sortKey:0,state:wt})}}X&&nt.sort(function(Ar,Kr){return Ar.sortKey-Kr.sortKey});for(var er=0,nr=nt;er<nr.length;er+=1){var lr=nr[er],Er=lr.state;Er.program.draw(ce,Se.TRIANGLES,Le,Re,ze,ut.disabled,Er.uniformValues,v.id,Er.layoutVertexBuffer,Er.indexBuffer,lr.segments,v.paint,m.transform.zoom,Er.programConfiguration)}}}},heatmap:function(m,x,v,C){if(v.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){var M=m.context,B=M.gl,U=Ye.disabled,X=new ht([B.ONE,B.ONE],_.Color.transparent,[!0,!0,!0,!0]);(function(nt,Je,ft){var Ge=nt.gl;nt.activeTexture.set(Ge.TEXTURE1),nt.viewport.set([0,0,Je.width/4,Je.height/4]);var ct=ft.heatmapFbo;if(ct)Ge.bindTexture(Ge.TEXTURE_2D,ct.colorAttachment.get()),nt.bindFramebuffer.set(ct.framebuffer);else{var mt=Ge.createTexture();Ge.bindTexture(Ge.TEXTURE_2D,mt),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_WRAP_S,Ge.CLAMP_TO_EDGE),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_WRAP_T,Ge.CLAMP_TO_EDGE),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_MIN_FILTER,Ge.LINEAR),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_MAG_FILTER,Ge.LINEAR),ct=ft.heatmapFbo=nt.createFramebuffer(Je.width/4,Je.height/4,!1),function(wt,zt,Rt,jt){var er=wt.gl;er.texImage2D(er.TEXTURE_2D,0,er.RGBA,zt.width/4,zt.height/4,0,er.RGBA,wt.extRenderToTextureHalfFloat?wt.extTextureHalfFloat.HALF_FLOAT_OES:er.UNSIGNED_BYTE,null),jt.colorAttachment.set(Rt)}(nt,Je,mt,ct)}})(M,m,v),M.clear({color:_.Color.transparent});for(var ce=0;ce<C.length;ce++){var Se=C[ce];if(!x.hasRenderableParent(Se)){var Le=x.getTile(Se),Re=Le.getBucket(v);if(Re){var ze=Re.programConfigurations.get(v.id);m.useProgram("heatmap",ze).draw(M,B.TRIANGLES,Be.disabled,U,X,ut.disabled,qc(Se.posMatrix,Le,m.transform.zoom,v.paint.get("heatmap-intensity")),v.id,Re.layoutVertexBuffer,Re.indexBuffer,Re.segments,v.paint,m.transform.zoom,ze)}}}M.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(nt,Je){var ft=nt.context,Ge=ft.gl,ct=Je.heatmapFbo;if(ct){ft.activeTexture.set(Ge.TEXTURE0),Ge.bindTexture(Ge.TEXTURE_2D,ct.colorAttachment.get()),ft.activeTexture.set(Ge.TEXTURE1);var mt=Je.colorRampTexture;mt||(mt=Je.colorRampTexture=new _.Texture(ft,Je.colorRamp,Ge.RGBA)),mt.bind(Ge.LINEAR,Ge.CLAMP_TO_EDGE),nt.useProgram("heatmapTexture").draw(ft,Ge.TRIANGLES,Be.disabled,Ye.disabled,nt.colorModeForRenderPass(),ut.disabled,function(wt,zt,Rt,jt){var er=_.create();_.ortho(er,0,wt.width,wt.height,0,0,1);var nr=wt.context.gl;return{u_matrix:er,u_world:[nr.drawingBufferWidth,nr.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:zt.paint.get("heatmap-opacity")}}(nt,Je),Je.id,nt.viewportBuffer,nt.quadTriangleIndexBuffer,nt.viewportSegments,Je.paint,nt.transform.zoom)}}(m,v))},line:function(m,x,v,C){if(m.renderPass==="translucent"){var M=v.paint.get("line-opacity"),B=v.paint.get("line-width");if(M.constantOr(1)!==0&&B.constantOr(1)!==0)for(var U=m.depthModeForSublayer(0,Be.ReadOnly),X=m.colorModeForRenderPass(),ce=v.paint.get("line-dasharray"),Se=v.paint.get("line-pattern"),Le=Se.constantOr(1),Re=v.paint.get("line-gradient"),ze=v.getCrossfadeParameters(),nt=Le?"linePattern":ce?"lineSDF":Re?"lineGradient":"line",Je=m.context,ft=Je.gl,Ge=!0,ct=0,mt=C;ct<mt.length;ct+=1){var wt=mt[ct],zt=x.getTile(wt);if(!Le||zt.patternsLoaded()){var Rt=zt.getBucket(v);if(Rt){var jt=Rt.programConfigurations.get(v.id),er=m.context.program.get(),nr=m.useProgram(nt,jt),lr=Ge||nr.program!==er,Er=Se.constantOr(null);if(Er&&zt.imageAtlas){var Ar=zt.imageAtlas,Kr=Ar.patternPositions[Er.to.toString()],Vr=Ar.patternPositions[Er.from.toString()];Kr&&Vr&&jt.setConstantPatternPositions(Kr,Vr)}var On=Le?iu(m,zt,v,ze):ce?ou(m,zt,v,ce,ze):Re?hi(m,zt,v,Rt.lineClipsArray.length):os(m,zt,v);if(Le)Je.activeTexture.set(ft.TEXTURE0),zt.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),jt.updatePaintBuffers(ze);else if(ce&&(lr||m.lineAtlas.dirty))Je.activeTexture.set(ft.TEXTURE0),m.lineAtlas.bind(Je);else if(Re){var Dr=Rt.gradients[v.id],an=Dr.texture;if(v.gradientVersion!==Dr.version){var gn=256;if(v.stepInterpolant){var rn=x.getSource().maxzoom,sn=wt.canonical.z===rn?Math.ceil(1<<m.transform.maxZoom-wt.canonical.z):1;gn=_.clamp(_.nextPowerOfTwo(Rt.maxLineLength/_.EXTENT*1024*sn),256,Je.maxTextureSize)}Dr.gradient=_.renderColorRamp({expression:v.gradientExpression(),evaluationKey:"lineProgress",resolution:gn,image:Dr.gradient||void 0,clips:Rt.lineClipsArray}),Dr.texture?Dr.texture.update(Dr.gradient):Dr.texture=new _.Texture(Je,Dr.gradient,ft.RGBA),Dr.version=v.gradientVersion,an=Dr.texture}Je.activeTexture.set(ft.TEXTURE0),an.bind(v.stepInterpolant?ft.NEAREST:ft.LINEAR,ft.CLAMP_TO_EDGE)}nr.draw(Je,ft.TRIANGLES,U,m.stencilModeForClipping(wt),X,ut.disabled,On,v.id,Rt.layoutVertexBuffer,Rt.indexBuffer,Rt.segments,v.paint,m.transform.zoom,jt,Rt.layoutVertexBuffer2),Ge=!1}}}}},fill:function(m,x,v,C){var M=v.paint.get("fill-color"),B=v.paint.get("fill-opacity");if(B.constantOr(1)!==0){var U=m.colorModeForRenderPass(),X=v.paint.get("fill-pattern"),ce=m.opaquePassEnabledForLayer()&&!X.constantOr(1)&&M.constantOr(_.Color.transparent).a===1&&B.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===ce){var Se=m.depthModeForSublayer(1,m.renderPass==="opaque"?Be.ReadWrite:Be.ReadOnly);Jf(m,x,v,C,Se,U,!1)}if(m.renderPass==="translucent"&&v.paint.get("fill-antialias")){var Le=m.depthModeForSublayer(v.getPaintProperty("fill-outline-color")?2:0,Be.ReadOnly);Jf(m,x,v,C,Le,U,!0)}}},"fill-extrusion":function(m,x,v,C){var M=v.paint.get("fill-extrusion-opacity");if(M!==0&&m.renderPass==="translucent"){var B=new Be(m.context.gl.LEQUAL,Be.ReadWrite,m.depthRangeFor3D);if(M!==1||v.paint.get("fill-extrusion-pattern").constantOr(1))Uh(m,x,v,C,B,Ye.disabled,ht.disabled),Uh(m,x,v,C,B,m.stencilModeFor3D(),m.colorModeForRenderPass());else{var U=m.colorModeForRenderPass();Uh(m,x,v,C,B,Ye.disabled,U)}}},hillshade:function(m,x,v,C){if(m.renderPass==="offscreen"||m.renderPass==="translucent"){for(var M=m.context,B=m.depthModeForSublayer(0,Be.ReadOnly),U=m.colorModeForRenderPass(),X=m.renderPass==="translucent"?m.stencilConfigForOverlap(C):[{},C],ce=X[0],Se=0,Le=X[1];Se<Le.length;Se+=1){var Re=Le[Se],ze=x.getTile(Re);ze.needsHillshadePrepare&&m.renderPass==="offscreen"?jc(m,ze,v,B,Ye.disabled,U):m.renderPass==="translucent"&&bf(m,ze,v,B,ce[Re.overscaledZ],U)}M.viewport.set([0,0,m.width,m.height])}},raster:function(m,x,v,C){if(m.renderPass==="translucent"&&v.paint.get("raster-opacity")!==0&&C.length)for(var M=m.context,B=M.gl,U=x.getSource(),X=m.useProgram("raster"),ce=m.colorModeForRenderPass(),Se=U instanceof oe?[{},C]:m.stencilConfigForOverlap(C),Le=Se[0],Re=Se[1],ze=Re[Re.length-1].overscaledZ,nt=!m.options.moving,Je=0,ft=Re;Je<ft.length;Je+=1){var Ge=ft[Je],ct=m.depthModeForSublayer(Ge.overscaledZ-ze,v.paint.get("raster-opacity")===1?Be.ReadWrite:Be.ReadOnly,B.LESS),mt=x.getTile(Ge),wt=m.transform.calculatePosMatrix(Ge.toUnwrapped(),nt);mt.registerFadeDuration(v.paint.get("raster-fade-duration"));var zt=x.findLoadedParent(Ge,0),Rt=Iu(mt,zt,x,v,m.transform),jt=void 0,er=void 0,nr=v.paint.get("raster-resampling")==="nearest"?B.NEAREST:B.LINEAR;M.activeTexture.set(B.TEXTURE0),mt.texture.bind(nr,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),M.activeTexture.set(B.TEXTURE1),zt?(zt.texture.bind(nr,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),jt=Math.pow(2,zt.tileID.overscaledZ-mt.tileID.overscaledZ),er=[mt.tileID.canonical.x*jt%1,mt.tileID.canonical.y*jt%1]):mt.texture.bind(nr,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST);var lr=Jp(wt,er||[0,0],jt||1,Rt,v);U instanceof oe?X.draw(M,B.TRIANGLES,ct,Ye.disabled,ce,ut.disabled,lr,v.id,U.boundsBuffer,m.quadTriangleIndexBuffer,U.boundsSegments):X.draw(M,B.TRIANGLES,ct,Le[Ge.overscaledZ],ce,ut.disabled,lr,v.id,m.rasterBoundsBuffer,m.quadTriangleIndexBuffer,m.rasterBoundsSegments)}},background:function(m,x,v){var C=v.paint.get("background-color"),M=v.paint.get("background-opacity");if(M!==0){var B=m.context,U=B.gl,X=m.transform,ce=X.tileSize,Se=v.paint.get("background-pattern");if(!m.isPatternMissing(Se)){var Le=!Se&&C.a===1&&M===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass===Le){var Re=Ye.disabled,ze=m.depthModeForSublayer(0,Le==="opaque"?Be.ReadWrite:Be.ReadOnly),nt=m.colorModeForRenderPass(),Je=m.useProgram(Se?"backgroundPattern":"background"),ft=X.coveringTiles({tileSize:ce});Se&&(B.activeTexture.set(U.TEXTURE0),m.imageManager.bind(m.context));for(var Ge=v.getCrossfadeParameters(),ct=0,mt=ft;ct<mt.length;ct+=1){var wt=mt[ct],zt=m.transform.calculatePosMatrix(wt.toUnwrapped()),Rt=Se?ec(zt,M,m,Se,{tileID:wt,tileSize:ce},Ge):Du(zt,M,C);Je.draw(B,U.TRIANGLES,ze,Re,nt,ut.disabled,Rt,v.id,m.tileExtentBuffer,m.quadTriangleIndexBuffer,m.tileExtentSegments)}}}}},debug:function(m,x,v){for(var C=0;C<v.length;C++)as(m,x,v[C])},custom:function(m,x,v){var C=m.context,M=v.implementation;if(m.renderPass==="offscreen"){var B=M.prerender;B&&(m.setCustomLayerDefaults(),C.setColorMode(m.colorModeForRenderPass()),B.call(M,C.gl,m.transform.customLayerMatrix()),C.setDirty(),m.setBaseState())}else if(m.renderPass==="translucent"){m.setCustomLayerDefaults(),C.setColorMode(m.colorModeForRenderPass()),C.setStencilMode(Ye.disabled);var U=M.renderingMode==="3d"?new Be(m.context.gl.LEQUAL,Be.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,Be.ReadOnly);C.setDepthMode(U),M.render(C.gl,m.transform.customLayerMatrix()),C.setDirty(),m.setBaseState(),C.bindFramebuffer.set(null)}}},En=function(m,x){this.context=new Ie(m),this.transform=x,this._tileTextures={},this.setup(),this.numSublayers=Ne.maxUnderzooming+Ne.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Aa,this.gpuTimers={}};En.prototype.resize=function(m,x){if(this.width=m*_.browser.devicePixelRatio,this.height=x*_.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var v=0,C=this.style._order;v<C.length;v+=1)this.style._layers[C[v]].resize()},En.prototype.setup=function(){var m=this.context,x=new _.StructArrayLayout2i4;x.emplaceBack(0,0),x.emplaceBack(_.EXTENT,0),x.emplaceBack(0,_.EXTENT),x.emplaceBack(_.EXTENT,_.EXTENT),this.tileExtentBuffer=m.createVertexBuffer(x,Ni.members),this.tileExtentSegments=_.SegmentVector.simpleSegment(0,0,4,2);var v=new _.StructArrayLayout2i4;v.emplaceBack(0,0),v.emplaceBack(_.EXTENT,0),v.emplaceBack(0,_.EXTENT),v.emplaceBack(_.EXTENT,_.EXTENT),this.debugBuffer=m.createVertexBuffer(v,Ni.members),this.debugSegments=_.SegmentVector.simpleSegment(0,0,4,5);var C=new _.StructArrayLayout4i8;C.emplaceBack(0,0,0,0),C.emplaceBack(_.EXTENT,0,_.EXTENT,0),C.emplaceBack(0,_.EXTENT,0,_.EXTENT),C.emplaceBack(_.EXTENT,_.EXTENT,_.EXTENT,_.EXTENT),this.rasterBoundsBuffer=m.createVertexBuffer(C,rt.members),this.rasterBoundsSegments=_.SegmentVector.simpleSegment(0,0,4,2);var M=new _.StructArrayLayout2i4;M.emplaceBack(0,0),M.emplaceBack(1,0),M.emplaceBack(0,1),M.emplaceBack(1,1),this.viewportBuffer=m.createVertexBuffer(M,Ni.members),this.viewportSegments=_.SegmentVector.simpleSegment(0,0,4,2);var B=new _.StructArrayLayout1ui2;B.emplaceBack(0),B.emplaceBack(1),B.emplaceBack(3),B.emplaceBack(2),B.emplaceBack(0),this.tileBorderIndexBuffer=m.createIndexBuffer(B);var U=new _.StructArrayLayout3ui6;U.emplaceBack(0,1,2),U.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=m.createIndexBuffer(U),this.emptyTexture=new _.Texture(m,{width:1,height:1,data:new Uint8Array([0,0,0,0])},m.gl.RGBA);var X=this.context.gl;this.stencilClearMode=new Ye({func:X.ALWAYS,mask:0},0,255,X.ZERO,X.ZERO,X.ZERO)},En.prototype.clearStencil=function(){var m=this.context,x=m.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var v=_.create();_.ortho(v,0,this.width,this.height,0,0,1),_.scale(v,v,[x.drawingBufferWidth,x.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(m,x.TRIANGLES,Be.disabled,this.stencilClearMode,ht.disabled,ut.disabled,nu(v),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},En.prototype._renderTileClippingMasks=function(m,x){if(this.currentStencilSource!==m.source&&m.isTileClipped()&&x&&x.length){this.currentStencilSource=m.source;var v=this.context,C=v.gl;this.nextStencilID+x.length>256&&this.clearStencil(),v.setColorMode(ht.disabled),v.setDepthMode(Be.disabled);var M=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var B=0,U=x;B<U.length;B+=1){var X=U[B],ce=this._tileClippingMaskIDs[X.key]=this.nextStencilID++;M.draw(v,C.TRIANGLES,Be.disabled,new Ye({func:C.ALWAYS,mask:0},ce,255,C.KEEP,C.KEEP,C.REPLACE),ht.disabled,ut.disabled,nu(X.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},En.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var m=this.nextStencilID++,x=this.context.gl;return new Ye({func:x.NOTEQUAL,mask:255},m,255,x.KEEP,x.KEEP,x.REPLACE)},En.prototype.stencilModeForClipping=function(m){var x=this.context.gl;return new Ye({func:x.EQUAL,mask:255},this._tileClippingMaskIDs[m.key],0,x.KEEP,x.KEEP,x.REPLACE)},En.prototype.stencilConfigForOverlap=function(m){var x,v=this.context.gl,C=m.sort(function(ce,Se){return Se.overscaledZ-ce.overscaledZ}),M=C[C.length-1].overscaledZ,B=C[0].overscaledZ-M+1;if(B>1){this.currentStencilSource=void 0,this.nextStencilID+B>256&&this.clearStencil();for(var U={},X=0;X<B;X++)U[X+M]=new Ye({func:v.GEQUAL,mask:255},X+this.nextStencilID,255,v.KEEP,v.KEEP,v.REPLACE);return this.nextStencilID+=B,[U,C]}return[(x={},x[M]=Ye.disabled,x),C]},En.prototype.colorModeForRenderPass=function(){var m=this.context.gl;return this._showOverdrawInspector?new ht([m.CONSTANT_COLOR,m.ONE],new _.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ht.unblended:ht.alphaBlended},En.prototype.depthModeForSublayer=function(m,x,v){if(!this.opaquePassEnabledForLayer())return Be.disabled;var C=1-((1+this.currentLayer)*this.numSublayers+m)*this.depthEpsilon;return new Be(v||this.context.gl.LEQUAL,x,[C,C])},En.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},En.prototype.render=function(m,x){var v=this;this.style=m,this.options=x,this.lineAtlas=m.lineAtlas,this.imageManager=m.imageManager,this.glyphManager=m.glyphManager,this.symbolFadeChange=m.placement.symbolFadeChange(_.browser.now()),this.imageManager.beginFrame();var C=this.style._order,M=this.style.sourceCaches;for(var B in M){var U=M[B];U.used&&U.prepare(this.context)}var X,ce,Se={},Le={},Re={};for(var ze in M){var nt=M[ze];Se[ze]=nt.getVisibleCoordinates(),Le[ze]=Se[ze].slice().reverse(),Re[ze]=nt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Je=0;Je<C.length;Je++)if(this.style._layers[C[Je]].is3D()){this.opaquePassCutoff=Je;break}this.renderPass="offscreen";for(var ft=0,Ge=C;ft<Ge.length;ft+=1){var ct=this.style._layers[Ge[ft]];if(ct.hasOffscreenPass()&&!ct.isHidden(this.transform.zoom)){var mt=Le[ct.source];(ct.type==="custom"||mt.length)&&this.renderLayer(this,M[ct.source],ct,mt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:x.showOverdrawInspector?_.Color.black:_.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=x.showOverdrawInspector,this.depthRangeFor3D=[0,1-(m._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=C.length-1;this.currentLayer>=0;this.currentLayer--){var wt=this.style._layers[C[this.currentLayer]],zt=M[wt.source],Rt=Se[wt.source];this._renderTileClippingMasks(wt,Rt),this.renderLayer(this,zt,wt,Rt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<C.length;this.currentLayer++){var jt=this.style._layers[C[this.currentLayer]],er=M[jt.source],nr=(jt.type==="symbol"?Re:Le)[jt.source];this._renderTileClippingMasks(jt,Se[jt.source]),this.renderLayer(this,er,jt,nr)}this.options.showTileBoundaries&&(_.values(this.style._layers).forEach(function(lr){lr.source&&!lr.isHidden(v.transform.zoom)&&(lr.source!==(ce&&ce.id)&&(ce=v.style.sourceCaches[lr.source]),(!X||X.getSource().maxzoom<ce.getSource().maxzoom)&&(X=ce))}),X&&Ho.debug(this,X,X.getVisibleCoordinates())),this.options.showPadding&&function(lr){var Er=lr.transform.padding;Pl(lr,lr.transform.height-(Er.top||0),3,tc),Pl(lr,Er.bottom||0,3,lu),cu(lr,Er.left||0,3,Mu),cu(lr,lr.transform.width-(Er.right||0),3,uu);var Ar=lr.transform.centerPoint;(function(Kr,Vr,On,Dr){Mo(Kr,Vr-1,On-10,2,20,Dr),Mo(Kr,Vr-10,On-1,20,2,Dr)})(lr,Ar.x,lr.transform.height-Ar.y,Uc)}(this),this.context.setDefault()},En.prototype.renderLayer=function(m,x,v,C){v.isHidden(this.transform.zoom)||(v.type==="background"||v.type==="custom"||C.length)&&(this.id=v.id,this.gpuTimingStart(v),Ho[v.type](m,x,v,C,this.style.placement.variableOffsets),this.gpuTimingEnd())},En.prototype.gpuTimingStart=function(m){if(this.options.gpuTiming){var x=this.context.extTimerQuery,v=this.gpuTimers[m.id];v||(v=this.gpuTimers[m.id]={calls:0,cpuTime:0,query:x.createQueryEXT()}),v.calls++,x.beginQueryEXT(x.TIME_ELAPSED_EXT,v.query)}},En.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var m=this.context.extTimerQuery;m.endQueryEXT(m.TIME_ELAPSED_EXT)}},En.prototype.collectGpuTimers=function(){var m=this.gpuTimers;return this.gpuTimers={},m},En.prototype.queryGpuTimers=function(m){var x={};for(var v in m){var C=m[v],M=this.context.extTimerQuery,B=M.getQueryObjectEXT(C.query,M.QUERY_RESULT_EXT)/1e6;M.deleteQueryEXT(C.query),x[v]=B}return x},En.prototype.translatePosMatrix=function(m,x,v,C,M){if(!v[0]&&!v[1])return m;var B=M?C==="map"?this.transform.angle:0:C==="viewport"?-this.transform.angle:0;if(B){var U=Math.sin(B),X=Math.cos(B);v=[v[0]*X-v[1]*U,v[0]*U+v[1]*X]}var ce=[M?v[0]:Dn(x,v[0],this.transform.zoom),M?v[1]:Dn(x,v[1],this.transform.zoom),0],Se=new Float32Array(16);return _.translate(Se,m,ce),Se},En.prototype.saveTileTexture=function(m){var x=this._tileTextures[m.size[0]];x?x.push(m):this._tileTextures[m.size[0]]=[m]},En.prototype.getTileTexture=function(m){var x=this._tileTextures[m];return x&&x.length>0?x.pop():null},En.prototype.isPatternMissing=function(m){if(!m)return!1;if(!m.from||!m.to)return!0;var x=this.imageManager.getPattern(m.from.toString()),v=this.imageManager.getPattern(m.to.toString());return!x||!v},En.prototype.useProgram=function(m,x){this.cache=this.cache||{};var v=""+m+(x?x.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[v]||(this.cache[v]=new Fc(this.context,m,Hd[m],x,yf[m],this._showOverdrawInspector)),this.cache[v]},En.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},En.prototype.setBaseState=function(){var m=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(m.FUNC_ADD)},En.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=_.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new _.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},En.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Ll=function(m,x){this.points=m,this.planes=x};Ll.fromInvProjectionMatrix=function(m,x,v){var C=Math.pow(2,v),M=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(U){return _.transformMat4([],U,m)}).map(function(U){return _.scale$1([],U,1/U[3]/x*C)}),B=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(U){var X=_.sub([],M[U[0]],M[U[1]]),ce=_.sub([],M[U[2]],M[U[1]]),Se=_.normalize([],_.cross([],X,ce)),Le=-_.dot(Se,M[U[1]]);return Se.concat(Le)});return new Ll(M,B)};var ss=function(m,x){this.min=m,this.max=x,this.center=_.scale$2([],_.add([],this.min,this.max),.5)};ss.prototype.quadrant=function(m){for(var x=[m%2==0,m<2],v=_.clone$2(this.min),C=_.clone$2(this.max),M=0;M<x.length;M++)v[M]=x[M]?this.min[M]:this.center[M],C[M]=x[M]?this.center[M]:this.max[M];return C[2]=this.max[2],new ss(v,C)},ss.prototype.distanceX=function(m){return Math.max(Math.min(this.max[0],m[0]),this.min[0])-m[0]},ss.prototype.distanceY=function(m){return Math.max(Math.min(this.max[1],m[1]),this.min[1])-m[1]},ss.prototype.intersects=function(m){for(var x=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],v=!0,C=0;C<m.planes.length;C++){for(var M=m.planes[C],B=0,U=0;U<x.length;U++)B+=_.dot$1(M,x[U])>=0;if(B===0)return 0;B!==x.length&&(v=!1)}if(v)return 2;for(var X=0;X<3;X++){for(var ce=Number.MAX_VALUE,Se=-Number.MAX_VALUE,Le=0;Le<m.points.length;Le++){var Re=m.points[Le][X]-this.min[X];ce=Math.min(ce,Re),Se=Math.max(Se,Re)}if(Se<0||ce>this.max[X]-this.min[X])return 0}return 1};var ls=function(m,x,v,C){if(m===void 0&&(m=0),x===void 0&&(x=0),v===void 0&&(v=0),C===void 0&&(C=0),isNaN(m)||m<0||isNaN(x)||x<0||isNaN(v)||v<0||isNaN(C)||C<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=m,this.bottom=x,this.left=v,this.right=C};ls.prototype.interpolate=function(m,x,v){return x.top!=null&&m.top!=null&&(this.top=_.number(m.top,x.top,v)),x.bottom!=null&&m.bottom!=null&&(this.bottom=_.number(m.bottom,x.bottom,v)),x.left!=null&&m.left!=null&&(this.left=_.number(m.left,x.left,v)),x.right!=null&&m.right!=null&&(this.right=_.number(m.right,x.right,v)),this},ls.prototype.getCenter=function(m,x){var v=_.clamp((this.left+m-this.right)/2,0,m),C=_.clamp((this.top+x-this.bottom)/2,0,x);return new _.Point(v,C)},ls.prototype.equals=function(m){return this.top===m.top&&this.bottom===m.bottom&&this.left===m.left&&this.right===m.right},ls.prototype.clone=function(){return new ls(this.top,this.bottom,this.left,this.right)},ls.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Ln=function(m,x,v,C,M){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=M===void 0||M,this._minZoom=m||0,this._maxZoom=x||22,this._minPitch=v??0,this._maxPitch=C??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new _.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ls,this._posMatrixCache={},this._alignedPosMatrixCache={}},yi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Ln.prototype.clone=function(){var m=new Ln(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return m.tileSize=this.tileSize,m.latRange=this.latRange,m.width=this.width,m.height=this.height,m._center=this._center,m.zoom=this.zoom,m.angle=this.angle,m._fov=this._fov,m._pitch=this._pitch,m._unmodified=this._unmodified,m._edgeInsets=this._edgeInsets.clone(),m._calcMatrices(),m},yi.minZoom.get=function(){return this._minZoom},yi.minZoom.set=function(m){this._minZoom!==m&&(this._minZoom=m,this.zoom=Math.max(this.zoom,m))},yi.maxZoom.get=function(){return this._maxZoom},yi.maxZoom.set=function(m){this._maxZoom!==m&&(this._maxZoom=m,this.zoom=Math.min(this.zoom,m))},yi.minPitch.get=function(){return this._minPitch},yi.minPitch.set=function(m){this._minPitch!==m&&(this._minPitch=m,this.pitch=Math.max(this.pitch,m))},yi.maxPitch.get=function(){return this._maxPitch},yi.maxPitch.set=function(m){this._maxPitch!==m&&(this._maxPitch=m,this.pitch=Math.min(this.pitch,m))},yi.renderWorldCopies.get=function(){return this._renderWorldCopies},yi.renderWorldCopies.set=function(m){m===void 0?m=!0:m===null&&(m=!1),this._renderWorldCopies=m},yi.worldSize.get=function(){return this.tileSize*this.scale},yi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},yi.size.get=function(){return new _.Point(this.width,this.height)},yi.bearing.get=function(){return-this.angle/Math.PI*180},yi.bearing.set=function(m){var x=-_.wrap(m,-180,180)*Math.PI/180;this.angle!==x&&(this._unmodified=!1,this.angle=x,this._calcMatrices(),this.rotationMatrix=_.create$2(),_.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},yi.pitch.get=function(){return this._pitch/Math.PI*180},yi.pitch.set=function(m){var x=_.clamp(m,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==x&&(this._unmodified=!1,this._pitch=x,this._calcMatrices())},yi.fov.get=function(){return this._fov/Math.PI*180},yi.fov.set=function(m){m=Math.max(.01,Math.min(60,m)),this._fov!==m&&(this._unmodified=!1,this._fov=m/180*Math.PI,this._calcMatrices())},yi.zoom.get=function(){return this._zoom},yi.zoom.set=function(m){var x=Math.min(Math.max(m,this.minZoom),this.maxZoom);this._zoom!==x&&(this._unmodified=!1,this._zoom=x,this.scale=this.zoomScale(x),this.tileZoom=Math.floor(x),this.zoomFraction=x-this.tileZoom,this._constrain(),this._calcMatrices())},yi.center.get=function(){return this._center},yi.center.set=function(m){m.lat===this._center.lat&&m.lng===this._center.lng||(this._unmodified=!1,this._center=m,this._constrain(),this._calcMatrices())},yi.padding.get=function(){return this._edgeInsets.toJSON()},yi.padding.set=function(m){this._edgeInsets.equals(m)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,m,1),this._calcMatrices())},yi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Ln.prototype.isPaddingEqual=function(m){return this._edgeInsets.equals(m)},Ln.prototype.interpolatePadding=function(m,x,v){this._unmodified=!1,this._edgeInsets.interpolate(m,x,v),this._constrain(),this._calcMatrices()},Ln.prototype.coveringZoomLevel=function(m){var x=(m.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/m.tileSize));return Math.max(0,x)},Ln.prototype.getVisibleUnwrappedCoordinates=function(m){var x=[new _.UnwrappedTileID(0,m)];if(this._renderWorldCopies)for(var v=this.pointCoordinate(new _.Point(0,0)),C=this.pointCoordinate(new _.Point(this.width,0)),M=this.pointCoordinate(new _.Point(this.width,this.height)),B=this.pointCoordinate(new _.Point(0,this.height)),U=Math.floor(Math.min(v.x,C.x,M.x,B.x)),X=Math.floor(Math.max(v.x,C.x,M.x,B.x)),ce=U-1;ce<=X+1;ce++)ce!==0&&x.push(new _.UnwrappedTileID(ce,m));return x},Ln.prototype.coveringTiles=function(m){var x=this.coveringZoomLevel(m),v=x;if(m.minzoom!==void 0&&x<m.minzoom)return[];m.maxzoom!==void 0&&x>m.maxzoom&&(x=m.maxzoom);var C=_.MercatorCoordinate.fromLngLat(this.center),M=Math.pow(2,x),B=[M*C.x,M*C.y,0],U=Ll.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,x),X=m.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(X=x);var ce=function(lr){return{aabb:new ss([lr*M,0,0],[(lr+1)*M,M,0]),zoom:0,x:0,y:0,wrap:lr,fullyVisible:!1}},Se=[],Le=[],Re=x,ze=m.reparseOverscaled?v:x;if(this._renderWorldCopies)for(var nt=1;nt<=3;nt++)Se.push(ce(-nt)),Se.push(ce(nt));for(Se.push(ce(0));Se.length>0;){var Je=Se.pop(),ft=Je.x,Ge=Je.y,ct=Je.fullyVisible;if(!ct){var mt=Je.aabb.intersects(U);if(mt===0)continue;ct=mt===2}var wt=Je.aabb.distanceX(B),zt=Je.aabb.distanceY(B),Rt=Math.max(Math.abs(wt),Math.abs(zt));if(Je.zoom===Re||Rt>3+(1<<Re-Je.zoom)-2&&Je.zoom>=X)Le.push({tileID:new _.OverscaledTileID(Je.zoom===Re?ze:Je.zoom,Je.wrap,Je.zoom,ft,Ge),distanceSq:_.sqrLen([B[0]-.5-ft,B[1]-.5-Ge])});else for(var jt=0;jt<4;jt++){var er=(ft<<1)+jt%2,nr=(Ge<<1)+(jt>>1);Se.push({aabb:Je.aabb.quadrant(jt),zoom:Je.zoom+1,x:er,y:nr,wrap:Je.wrap,fullyVisible:ct})}}return Le.sort(function(lr,Er){return lr.distanceSq-Er.distanceSq}).map(function(lr){return lr.tileID})},Ln.prototype.resize=function(m,x){this.width=m,this.height=x,this.pixelsToGLUnits=[2/m,-2/x],this._constrain(),this._calcMatrices()},yi.unmodified.get=function(){return this._unmodified},Ln.prototype.zoomScale=function(m){return Math.pow(2,m)},Ln.prototype.scaleZoom=function(m){return Math.log(m)/Math.LN2},Ln.prototype.project=function(m){var x=_.clamp(m.lat,-this.maxValidLatitude,this.maxValidLatitude);return new _.Point(_.mercatorXfromLng(m.lng)*this.worldSize,_.mercatorYfromLat(x)*this.worldSize)},Ln.prototype.unproject=function(m){return new _.MercatorCoordinate(m.x/this.worldSize,m.y/this.worldSize).toLngLat()},yi.point.get=function(){return this.project(this.center)},Ln.prototype.setLocationAtPoint=function(m,x){var v=this.pointCoordinate(x),C=this.pointCoordinate(this.centerPoint),M=this.locationCoordinate(m),B=new _.MercatorCoordinate(M.x-(v.x-C.x),M.y-(v.y-C.y));this.center=this.coordinateLocation(B),this._renderWorldCopies&&(this.center=this.center.wrap())},Ln.prototype.locationPoint=function(m){return this.coordinatePoint(this.locationCoordinate(m))},Ln.prototype.pointLocation=function(m){return this.coordinateLocation(this.pointCoordinate(m))},Ln.prototype.locationCoordinate=function(m){return _.MercatorCoordinate.fromLngLat(m)},Ln.prototype.coordinateLocation=function(m){return m.toLngLat()},Ln.prototype.pointCoordinate=function(m){var x=[m.x,m.y,0,1],v=[m.x,m.y,1,1];_.transformMat4(x,x,this.pixelMatrixInverse),_.transformMat4(v,v,this.pixelMatrixInverse);var C=x[3],M=v[3],B=x[1]/C,U=v[1]/M,X=x[2]/C,ce=v[2]/M,Se=(0-X)/(ce-X);return new _.MercatorCoordinate(_.number(x[0]/C,v[0]/M,Se)/this.worldSize,_.number(B,U,Se)/this.worldSize)},Ln.prototype.coordinatePoint=function(m){var x=[m.x*this.worldSize,m.y*this.worldSize,0,1];return _.transformMat4(x,x,this.pixelMatrix),new _.Point(x[0]/x[3],x[1]/x[3])},Ln.prototype.getBounds=function(){return new _.LngLatBounds().extend(this.pointLocation(new _.Point(0,0))).extend(this.pointLocation(new _.Point(this.width,0))).extend(this.pointLocation(new _.Point(this.width,this.height))).extend(this.pointLocation(new _.Point(0,this.height)))},Ln.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new _.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Ln.prototype.setMaxBounds=function(m){m?(this.lngRange=[m.getWest(),m.getEast()],this.latRange=[m.getSouth(),m.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Ln.prototype.calculatePosMatrix=function(m,x){x===void 0&&(x=!1);var v=m.key,C=x?this._alignedPosMatrixCache:this._posMatrixCache;if(C[v])return C[v];var M=m.canonical,B=this.worldSize/this.zoomScale(M.z),U=M.x+Math.pow(2,M.z)*m.wrap,X=_.identity(new Float64Array(16));return _.translate(X,X,[U*B,M.y*B,0]),_.scale(X,X,[B/_.EXTENT,B/_.EXTENT,1]),_.multiply(X,x?this.alignedProjMatrix:this.projMatrix,X),C[v]=new Float32Array(X),C[v]},Ln.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Ln.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var m,x,v,C,M=-90,B=90,U=-180,X=180,ce=this.size,Se=this._unmodified;if(this.latRange){var Le=this.latRange;M=_.mercatorYfromLat(Le[1])*this.worldSize,m=(B=_.mercatorYfromLat(Le[0])*this.worldSize)-M<ce.y?ce.y/(B-M):0}if(this.lngRange){var Re=this.lngRange;U=_.mercatorXfromLng(Re[0])*this.worldSize,x=(X=_.mercatorXfromLng(Re[1])*this.worldSize)-U<ce.x?ce.x/(X-U):0}var ze=this.point,nt=Math.max(x||0,m||0);if(nt)return this.center=this.unproject(new _.Point(x?(X+U)/2:ze.x,m?(B+M)/2:ze.y)),this.zoom+=this.scaleZoom(nt),this._unmodified=Se,void(this._constraining=!1);if(this.latRange){var Je=ze.y,ft=ce.y/2;Je-ft<M&&(C=M+ft),Je+ft>B&&(C=B-ft)}if(this.lngRange){var Ge=ze.x,ct=ce.x/2;Ge-ct<U&&(v=U+ct),Ge+ct>X&&(v=X-ct)}v===void 0&&C===void 0||(this.center=this.unproject(new _.Point(v!==void 0?v:ze.x,C!==void 0?C:ze.y))),this._unmodified=Se,this._constraining=!1}},Ln.prototype._calcMatrices=function(){if(this.height){var m=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var x=Math.PI/2+this._pitch,v=this._fov*(.5+m.y/this.height),C=Math.sin(v)*this.cameraToCenterDistance/Math.sin(_.clamp(Math.PI-x-v,.01,Math.PI-.01)),M=this.point,B=M.x,U=M.y,X=1.01*(Math.cos(Math.PI/2-this._pitch)*C+this.cameraToCenterDistance),ce=this.height/50,Se=new Float64Array(16);_.perspective(Se,this._fov,this.width/this.height,ce,X),Se[8]=2*-m.x/this.width,Se[9]=2*m.y/this.height,_.scale(Se,Se,[1,-1,1]),_.translate(Se,Se,[0,0,-this.cameraToCenterDistance]),_.rotateX(Se,Se,this._pitch),_.rotateZ(Se,Se,this.angle),_.translate(Se,Se,[-B,-U,0]),this.mercatorMatrix=_.scale([],Se,[this.worldSize,this.worldSize,this.worldSize]),_.scale(Se,Se,[1,1,_.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Se,this.invProjMatrix=_.invert([],this.projMatrix);var Le=this.width%2/2,Re=this.height%2/2,ze=Math.cos(this.angle),nt=Math.sin(this.angle),Je=B-Math.round(B)+ze*Le+nt*Re,ft=U-Math.round(U)+ze*Re+nt*Le,Ge=new Float64Array(Se);if(_.translate(Ge,Ge,[Je>.5?Je-1:Je,ft>.5?ft-1:ft,0]),this.alignedProjMatrix=Ge,Se=_.create(),_.scale(Se,Se,[this.width/2,-this.height/2,1]),_.translate(Se,Se,[1,-1,0]),this.labelPlaneMatrix=Se,Se=_.create(),_.scale(Se,Se,[1,-1,1]),_.translate(Se,Se,[-1,-1,0]),_.scale(Se,Se,[2/this.width,2/this.height,1]),this.glCoordMatrix=Se,this.pixelMatrix=_.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Se=_.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Se,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ln.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var m=this.pointCoordinate(new _.Point(0,0)),x=[m.x*this.worldSize,m.y*this.worldSize,0,1];return _.transformMat4(x,x,this.pixelMatrix)[3]/this.cameraToCenterDistance},Ln.prototype.getCameraPoint=function(){var m=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new _.Point(0,m))},Ln.prototype.getCameraQueryGeometry=function(m){var x=this.getCameraPoint();if(m.length===1)return[m[0],x];for(var v=x.x,C=x.y,M=x.x,B=x.y,U=0,X=m;U<X.length;U+=1){var ce=X[U];v=Math.min(v,ce.x),C=Math.min(C,ce.y),M=Math.max(M,ce.x),B=Math.max(B,ce.y)}return[new _.Point(v,C),new _.Point(M,C),new _.Point(M,B),new _.Point(v,B),new _.Point(v,C)]},Object.defineProperties(Ln.prototype,yi);var Wo=function(m){var x,v,C,M;this._hashName=m&&encodeURIComponent(m),_.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(x=this._updateHashUnthrottled.bind(this),v=!1,C=null,M=function(){C=null,v&&(x(),C=setTimeout(M,300),v=!1)},function(){return v=!0,C||M(),C})};Wo.prototype.addTo=function(m){return this._map=m,_.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Wo.prototype.remove=function(){return _.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Wo.prototype.getHashString=function(m){var x=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,C=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),M=Math.pow(10,C),B=Math.round(x.lng*M)/M,U=Math.round(x.lat*M)/M,X=this._map.getBearing(),ce=this._map.getPitch(),Se="";if(Se+=m?"/"+B+"/"+U+"/"+v:v+"/"+U+"/"+B,(X||ce)&&(Se+="/"+Math.round(10*X)/10),ce&&(Se+="/"+Math.round(ce)),this._hashName){var Le=this._hashName,Re=!1,ze=_.window.location.hash.slice(1).split("&").map(function(nt){var Je=nt.split("=")[0];return Je===Le?(Re=!0,Je+"="+Se):nt}).filter(function(nt){return nt});return Re||ze.push(Le+"="+Se),"#"+ze.join("&")}return"#"+Se},Wo.prototype._getCurrentHash=function(){var m,x=this,v=_.window.location.hash.replace("#","");return this._hashName?(v.split("&").map(function(C){return C.split("=")}).forEach(function(C){C[0]===x._hashName&&(m=C)}),(m&&m[1]||"").split("/")):v.split("/")},Wo.prototype._onHashChange=function(){var m=this._getCurrentHash();if(m.length>=3&&!m.some(function(v){return isNaN(v)})){var x=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(m[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+m[2],+m[1]],zoom:+m[0],bearing:x,pitch:+(m[4]||0)}),!0}return!1},Wo.prototype._updateHashUnthrottled=function(){var m=_.window.location.href.replace(/(#.+)?$/,this.getHashString());try{_.window.history.replaceState(_.window.history.state,null,m)}catch{}};var xf={linearity:.3,easing:_.bezier(0,0,.3,1)},fu=_.extend({deceleration:2500,maxSpeed:1400},xf),Pu=_.extend({deceleration:20,maxSpeed:1400},xf),$d=_.extend({deceleration:1e3,maxSpeed:360},xf),Qf=_.extend({deceleration:1e3,maxSpeed:90},xf),Rl=function(m){this._map=m,this.clear()};function hu(m,x){(!m.duration||m.duration<x.duration)&&(m.duration=x.duration,m.easing=x.easing)}function hl(m,x,v){var C=v.maxSpeed,M=v.linearity,B=v.deceleration,U=_.clamp(m*M/(x/1e3),-C,C),X=Math.abs(U)/(B*M);return{easing:v.easing,duration:1e3*X,amount:U*(X/2)}}Rl.prototype.clear=function(){this._inertiaBuffer=[]},Rl.prototype.record=function(m){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:_.browser.now(),settings:m})},Rl.prototype._drainInertiaBuffer=function(){for(var m=this._inertiaBuffer,x=_.browser.now();m.length>0&&x-m[0].time>160;)m.shift()},Rl.prototype._onMoveEnd=function(m){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var x={zoom:0,bearing:0,pitch:0,pan:new _.Point(0,0),pinchAround:void 0,around:void 0},v=0,C=this._inertiaBuffer;v<C.length;v+=1){var M=C[v].settings;x.zoom+=M.zoomDelta||0,x.bearing+=M.bearingDelta||0,x.pitch+=M.pitchDelta||0,M.panDelta&&x.pan._add(M.panDelta),M.around&&(x.around=M.around),M.pinchAround&&(x.pinchAround=M.pinchAround)}var B=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,U={};if(x.pan.mag()){var X=hl(x.pan.mag(),B,_.extend({},fu,m||{}));U.offset=x.pan.mult(X.amount/x.pan.mag()),U.center=this._map.transform.center,hu(U,X)}if(x.zoom){var ce=hl(x.zoom,B,Pu);U.zoom=this._map.transform.zoom+ce.amount,hu(U,ce)}if(x.bearing){var Se=hl(x.bearing,B,$d);U.bearing=this._map.transform.bearing+_.clamp(Se.amount,-179,179),hu(U,Se)}if(x.pitch){var Le=hl(x.pitch,B,Qf);U.pitch=this._map.transform.pitch+Le.amount,hu(U,Le)}if(U.zoom||U.bearing){var Re=x.pinchAround===void 0?x.around:x.pinchAround;U.around=Re?this._map.unproject(Re):this._map.getCenter()}return this.clear(),_.extend(U,{noMoveStart:!0})}};var Oi=function(m){function x(C,M,B,U){U===void 0&&(U={});var X=ne.mousePos(M.getCanvasContainer(),B),ce=M.unproject(X);m.call(this,C,_.extend({point:X,lngLat:ce,originalEvent:B},U)),this._defaultPrevented=!1,this.target=M}m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x;var v={defaultPrevented:{configurable:!0}};return x.prototype.preventDefault=function(){this._defaultPrevented=!0},v.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(x.prototype,v),x}(_.Event),rc=function(m){function x(C,M,B){var U=C==="touchend"?B.changedTouches:B.touches,X=ne.touchPos(M.getCanvasContainer(),U),ce=X.map(function(Re){return M.unproject(Re)}),Se=X.reduce(function(Re,ze,nt,Je){return Re.add(ze.div(Je.length))},new _.Point(0,0)),Le=M.unproject(Se);m.call(this,C,{points:X,point:Se,lngLats:ce,lngLat:Le,originalEvent:B}),this._defaultPrevented=!1}m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x;var v={defaultPrevented:{configurable:!0}};return x.prototype.preventDefault=function(){this._defaultPrevented=!0},v.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(x.prototype,v),x}(_.Event),Gd=function(m){function x(C,M,B){m.call(this,C,{originalEvent:B}),this._defaultPrevented=!1}m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x;var v={defaultPrevented:{configurable:!0}};return x.prototype.preventDefault=function(){this._defaultPrevented=!0},v.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(x.prototype,v),x}(_.Event),to=function(m,x){this._map=m,this._clickTolerance=x.clickTolerance};to.prototype.reset=function(){delete this._mousedownPos},to.prototype.wheel=function(m){return this._firePreventable(new Gd(m.type,this._map,m))},to.prototype.mousedown=function(m,x){return this._mousedownPos=x,this._firePreventable(new Oi(m.type,this._map,m))},to.prototype.mouseup=function(m){this._map.fire(new Oi(m.type,this._map,m))},to.prototype.click=function(m,x){this._mousedownPos&&this._mousedownPos.dist(x)>=this._clickTolerance||this._map.fire(new Oi(m.type,this._map,m))},to.prototype.dblclick=function(m){return this._firePreventable(new Oi(m.type,this._map,m))},to.prototype.mouseover=function(m){this._map.fire(new Oi(m.type,this._map,m))},to.prototype.mouseout=function(m){this._map.fire(new Oi(m.type,this._map,m))},to.prototype.touchstart=function(m){return this._firePreventable(new rc(m.type,this._map,m))},to.prototype.touchmove=function(m){this._map.fire(new rc(m.type,this._map,m))},to.prototype.touchend=function(m){this._map.fire(new rc(m.type,this._map,m))},to.prototype.touchcancel=function(m){this._map.fire(new rc(m.type,this._map,m))},to.prototype._firePreventable=function(m){if(this._map.fire(m),m.defaultPrevented)return{}},to.prototype.isEnabled=function(){return!0},to.prototype.isActive=function(){return!1},to.prototype.enable=function(){},to.prototype.disable=function(){};var Ir=function(m){this._map=m};Ir.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ir.prototype.mousemove=function(m){this._map.fire(new Oi(m.type,this._map,m))},Ir.prototype.mousedown=function(){this._delayContextMenu=!0},Ir.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Oi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ir.prototype.contextmenu=function(m){this._delayContextMenu?this._contextMenuEvent=m:this._map.fire(new Oi(m.type,this._map,m)),this._map.listens("contextmenu")&&m.preventDefault()},Ir.prototype.isEnabled=function(){return!0},Ir.prototype.isActive=function(){return!1},Ir.prototype.enable=function(){},Ir.prototype.disable=function(){};var Wa=function(m,x){this._map=m,this._el=m.getCanvasContainer(),this._container=m.getContainer(),this._clickTolerance=x.clickTolerance||1};function Lu(m,x){for(var v={},C=0;C<m.length;C++)v[m[C].identifier]=x[C];return v}Wa.prototype.isEnabled=function(){return!!this._enabled},Wa.prototype.isActive=function(){return!!this._active},Wa.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Wa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Wa.prototype.mousedown=function(m,x){this.isEnabled()&&m.shiftKey&&m.button===0&&(ne.disableDrag(),this._startPos=this._lastPos=x,this._active=!0)},Wa.prototype.mousemoveWindow=function(m,x){if(this._active){var v=x;if(!(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)){var C=this._startPos;this._lastPos=v,this._box||(this._box=ne.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",m));var M=Math.min(C.x,v.x),B=Math.max(C.x,v.x),U=Math.min(C.y,v.y),X=Math.max(C.y,v.y);ne.setTransform(this._box,"translate("+M+"px,"+U+"px)"),this._box.style.width=B-M+"px",this._box.style.height=X-U+"px"}}},Wa.prototype.mouseupWindow=function(m,x){var v=this;if(this._active&&m.button===0){var C=this._startPos,M=x;if(this.reset(),ne.suppressClick(),C.x!==M.x||C.y!==M.y)return this._map.fire(new _.Event("boxzoomend",{originalEvent:m})),{cameraAnimation:function(B){return B.fitScreenCoordinates(C,M,v._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",m)}},Wa.prototype.keydown=function(m){this._active&&m.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",m))},Wa.prototype.blur=function(){this.reset()},Wa.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(ne.remove(this._box),this._box=null),ne.enableDrag(),delete this._startPos,delete this._lastPos},Wa.prototype._fireEvent=function(m,x){return this._map.fire(new _.Event(m,{originalEvent:x}))};var dl=function(m){this.reset(),this.numTouches=m.numTouches};dl.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},dl.prototype.touchstart=function(m,x,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=m.timeStamp),v.length===this.numTouches&&(this.centroid=function(C){for(var M=new _.Point(0,0),B=0,U=C;B<U.length;B+=1)M._add(U[B]);return M.div(C.length)}(x),this.touches=Lu(v,x)))},dl.prototype.touchmove=function(m,x,v){if(!this.aborted&&this.centroid){var C=Lu(v,x);for(var M in this.touches){var B=C[M];(!B||B.dist(this.touches[M])>30)&&(this.aborted=!0)}}},dl.prototype.touchend=function(m,x,v){if((!this.centroid||m.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){var C=!this.aborted&&this.centroid;if(this.reset(),C)return C}};var Us=function(m){this.singleTap=new dl(m),this.numTaps=m.numTaps,this.reset()};Us.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Us.prototype.touchstart=function(m,x,v){this.singleTap.touchstart(m,x,v)},Us.prototype.touchmove=function(m,x,v){this.singleTap.touchmove(m,x,v)},Us.prototype.touchend=function(m,x,v){var C=this.singleTap.touchend(m,x,v);if(C){var M=m.timeStamp-this.lastTime<500,B=!this.lastTap||this.lastTap.dist(C)<30;if(M&&B||this.reset(),this.count++,this.lastTime=m.timeStamp,this.lastTap=C,this.count===this.numTaps)return this.reset(),C}};var Eo=function(){this._zoomIn=new Us({numTouches:1,numTaps:2}),this._zoomOut=new Us({numTouches:2,numTaps:1}),this.reset()};Eo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Eo.prototype.touchstart=function(m,x,v){this._zoomIn.touchstart(m,x,v),this._zoomOut.touchstart(m,x,v)},Eo.prototype.touchmove=function(m,x,v){this._zoomIn.touchmove(m,x,v),this._zoomOut.touchmove(m,x,v)},Eo.prototype.touchend=function(m,x,v){var C=this,M=this._zoomIn.touchend(m,x,v),B=this._zoomOut.touchend(m,x,v);return M?(this._active=!0,m.preventDefault(),setTimeout(function(){return C.reset()},0),{cameraAnimation:function(U){return U.easeTo({duration:300,zoom:U.getZoom()+1,around:U.unproject(M)},{originalEvent:m})}}):B?(this._active=!0,m.preventDefault(),setTimeout(function(){return C.reset()},0),{cameraAnimation:function(U){return U.easeTo({duration:300,zoom:U.getZoom()-1,around:U.unproject(B)},{originalEvent:m})}}):void 0},Eo.prototype.touchcancel=function(){this.reset()},Eo.prototype.enable=function(){this._enabled=!0},Eo.prototype.disable=function(){this._enabled=!1,this.reset()},Eo.prototype.isEnabled=function(){return this._enabled},Eo.prototype.isActive=function(){return this._active};var nc={0:1,2:2},pr=function(m){this.reset(),this._clickTolerance=m.clickTolerance||1};pr.prototype.blur=function(){this.reset()},pr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},pr.prototype._correctButton=function(m,x){return!1},pr.prototype._move=function(m,x){return{}},pr.prototype.mousedown=function(m,x){if(!this._lastPoint){var v=ne.mouseButton(m);this._correctButton(m,v)&&(this._lastPoint=x,this._eventButton=v)}},pr.prototype.mousemoveWindow=function(m,x){var v=this._lastPoint;if(v){if(m.preventDefault(),function(C,M){var B=nc[M];return C.buttons===void 0||(C.buttons&B)!==B}(m,this._eventButton))this.reset();else if(this._moved||!(x.dist(v)<this._clickTolerance))return this._moved=!0,this._lastPoint=x,this._move(v,x)}},pr.prototype.mouseupWindow=function(m){this._lastPoint&&ne.mouseButton(m)===this._eventButton&&(this._moved&&ne.suppressClick(),this.reset())},pr.prototype.enable=function(){this._enabled=!0},pr.prototype.disable=function(){this._enabled=!1,this.reset()},pr.prototype.isEnabled=function(){return this._enabled},pr.prototype.isActive=function(){return this._active};var Hc=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.mousedown=function(v,C){m.prototype.mousedown.call(this,v,C),this._lastPoint&&(this._active=!0)},x.prototype._correctButton=function(v,C){return C===0&&!v.ctrlKey},x.prototype._move=function(v,C){return{around:C,panDelta:C.sub(v)}},x}(pr),Fl=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype._correctButton=function(v,C){return C===0&&v.ctrlKey||C===2},x.prototype._move=function(v,C){var M=.8*(C.x-v.x);if(M)return this._active=!0,{bearingDelta:M}},x.prototype.contextmenu=function(v){v.preventDefault()},x}(pr),ql=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype._correctButton=function(v,C){return C===0&&v.ctrlKey||C===2},x.prototype._move=function(v,C){var M=-.5*(C.y-v.y);if(M)return this._active=!0,{pitchDelta:M}},x.prototype.contextmenu=function(v){v.preventDefault()},x}(pr),sa=function(m){this._minTouches=1,this._clickTolerance=m.clickTolerance||1,this.reset()};sa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new _.Point(0,0)},sa.prototype.touchstart=function(m,x,v){return this._calculateTransform(m,x,v)},sa.prototype.touchmove=function(m,x,v){if(this._active&&!(v.length<this._minTouches))return m.preventDefault(),this._calculateTransform(m,x,v)},sa.prototype.touchend=function(m,x,v){this._calculateTransform(m,x,v),this._active&&v.length<this._minTouches&&this.reset()},sa.prototype.touchcancel=function(){this.reset()},sa.prototype._calculateTransform=function(m,x,v){v.length>0&&(this._active=!0);var C=Lu(v,x),M=new _.Point(0,0),B=new _.Point(0,0),U=0;for(var X in C){var ce=C[X],Se=this._touches[X];Se&&(M._add(ce),B._add(ce.sub(Se)),U++,C[X]=ce)}if(this._touches=C,!(U<this._minTouches)&&B.mag()){var Le=B.div(U);if(this._sum._add(Le),!(this._sum.mag()<this._clickTolerance))return{around:M.div(U),panDelta:Le}}},sa.prototype.enable=function(){this._enabled=!0},sa.prototype.disable=function(){this._enabled=!1,this.reset()},sa.prototype.isEnabled=function(){return this._enabled},sa.prototype.isActive=function(){return this._active};var lo=function(){this.reset()};function Hs(m,x,v){for(var C=0;C<m.length;C++)if(m[C].identifier===v)return x[C]}function zl(m,x){return Math.log(m/x)/Math.LN2}lo.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},lo.prototype._start=function(m){},lo.prototype._move=function(m,x,v){return{}},lo.prototype.touchstart=function(m,x,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([x[0],x[1]]))},lo.prototype.touchmove=function(m,x,v){if(this._firstTwoTouches){m.preventDefault();var C=this._firstTwoTouches,M=C[1],B=Hs(v,x,C[0]),U=Hs(v,x,M);if(B&&U){var X=this._aroundCenter?null:B.add(U).div(2);return this._move([B,U],X,m)}}},lo.prototype.touchend=function(m,x,v){if(this._firstTwoTouches){var C=this._firstTwoTouches,M=C[1],B=Hs(v,x,C[0]),U=Hs(v,x,M);B&&U||(this._active&&ne.suppressClick(),this.reset())}},lo.prototype.touchcancel=function(){this.reset()},lo.prototype.enable=function(m){this._enabled=!0,this._aroundCenter=!!m&&m.around==="center"},lo.prototype.disable=function(){this._enabled=!1,this.reset()},lo.prototype.isEnabled=function(){return this._enabled},lo.prototype.isActive=function(){return this._active};var la=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.reset=function(){m.prototype.reset.call(this),delete this._distance,delete this._startDistance},x.prototype._start=function(v){this._startDistance=this._distance=v[0].dist(v[1])},x.prototype._move=function(v,C){var M=this._distance;if(this._distance=v[0].dist(v[1]),this._active||!(Math.abs(zl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:zl(this._distance,M),pinchAround:C}},x}(lo);function us(m,x){return 180*m.angleWith(x)/Math.PI}var Kd=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.reset=function(){m.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},x.prototype._start=function(v){this._startVector=this._vector=v[0].sub(v[1]),this._minDiameter=v[0].dist(v[1])},x.prototype._move=function(v,C){var M=this._vector;if(this._vector=v[0].sub(v[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:us(this._vector,M),pinchAround:C}},x.prototype._isBelowThreshold=function(v){this._minDiameter=Math.min(this._minDiameter,v.mag());var C=25/(Math.PI*this._minDiameter)*360,M=us(v,this._startVector);return Math.abs(M)<C},x}(lo);function pl(m){return Math.abs(m.y)>Math.abs(m.x)}var du=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.reset=function(){m.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},x.prototype._start=function(v){this._lastPoints=v,pl(v[0].sub(v[1]))&&(this._valid=!1)},x.prototype._move=function(v,C,M){var B=v[0].sub(this._lastPoints[0]),U=v[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(B,U,M.timeStamp),this._valid)return this._lastPoints=v,this._active=!0,{pitchDelta:(B.y+U.y)/2*-.5}},x.prototype.gestureBeginsVertically=function(v,C,M){if(this._valid!==void 0)return this._valid;var B=v.mag()>=2,U=C.mag()>=2;if(B||U){if(!B||!U)return this._firstMove===void 0&&(this._firstMove=M),M-this._firstMove<100&&void 0;var X=v.y>0==C.y>0;return pl(v)&&pl(C)&&X}},x}(lo),Yd={panStep:100,bearingStep:15,pitchStep:10},Ia=function(){var m=Yd;this._panStep=m.panStep,this._bearingStep=m.bearingStep,this._pitchStep=m.pitchStep,this._rotationDisabled=!1};function ua(m){return m*(2-m)}Ia.prototype.blur=function(){this.reset()},Ia.prototype.reset=function(){this._active=!1},Ia.prototype.keydown=function(m){var x=this;if(!(m.altKey||m.ctrlKey||m.metaKey)){var v=0,C=0,M=0,B=0,U=0;switch(m.keyCode){case 61:case 107:case 171:case 187:v=1;break;case 189:case 109:case 173:v=-1;break;case 37:m.shiftKey?C=-1:(m.preventDefault(),B=-1);break;case 39:m.shiftKey?C=1:(m.preventDefault(),B=1);break;case 38:m.shiftKey?M=1:(m.preventDefault(),U=-1);break;case 40:m.shiftKey?M=-1:(m.preventDefault(),U=1);break;default:return}return this._rotationDisabled&&(C=0,M=0),{cameraAnimation:function(X){var ce=X.getZoom();X.easeTo({duration:300,easeId:"keyboardHandler",easing:ua,zoom:v?Math.round(ce)+v*(m.shiftKey?2:1):ce,bearing:X.getBearing()+C*x._bearingStep,pitch:X.getPitch()+M*x._pitchStep,offset:[-B*x._panStep,-U*x._panStep],center:X.getCenter()},{originalEvent:m})}}}},Ia.prototype.enable=function(){this._enabled=!0},Ia.prototype.disable=function(){this._enabled=!1,this.reset()},Ia.prototype.isEnabled=function(){return this._enabled},Ia.prototype.isActive=function(){return this._active},Ia.prototype.disableRotation=function(){this._rotationDisabled=!0},Ia.prototype.enableRotation=function(){this._rotationDisabled=!1};var Tn=function(m,x){this._map=m,this._el=m.getCanvasContainer(),this._handler=x,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,_.bindAll(["_onTimeout"],this)};Tn.prototype.setZoomRate=function(m){this._defaultZoomRate=m},Tn.prototype.setWheelZoomRate=function(m){this._wheelZoomRate=m},Tn.prototype.isEnabled=function(){return!!this._enabled},Tn.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Tn.prototype.isZooming=function(){return!!this._zooming},Tn.prototype.enable=function(m){this.isEnabled()||(this._enabled=!0,this._aroundCenter=m&&m.around==="center")},Tn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Tn.prototype.wheel=function(m){if(this.isEnabled()){var x=m.deltaMode===_.window.WheelEvent.DOM_DELTA_LINE?40*m.deltaY:m.deltaY,v=_.browser.now(),C=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,x!==0&&x%4.000244140625==0?this._type="wheel":x!==0&&Math.abs(x)<4?this._type="trackpad":C>400?(this._type=null,this._lastValue=x,this._timeout=setTimeout(this._onTimeout,40,m)):this._type||(this._type=Math.abs(C*x)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,x+=this._lastValue)),m.shiftKey&&x&&(x/=4),this._type&&(this._lastWheelEvent=m,this._delta-=x,this._active||this._start(m)),m.preventDefault()}},Tn.prototype._onTimeout=function(m){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},Tn.prototype._start=function(m){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var x=ne.mousePos(this._el,m);this._around=_.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(x)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Tn.prototype.renderFrame=function(){var m=this;if(this._frameId&&(this._frameId=null,this.isActive())){var x=this._map.transform;if(this._delta!==0){var v=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,C=2/(1+Math.exp(-Math.abs(this._delta*v)));this._delta<0&&C!==0&&(C=1/C);var M=typeof this._targetZoom=="number"?x.zoomScale(this._targetZoom):x.scale;this._targetZoom=Math.min(x.maxZoom,Math.max(x.minZoom,x.scaleZoom(M*C))),this._type==="wheel"&&(this._startZoom=x.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var B,U=typeof this._targetZoom=="number"?this._targetZoom:x.zoom,X=this._startZoom,ce=this._easing,Se=!1;if(this._type==="wheel"&&X&&ce){var Le=Math.min((_.browser.now()-this._lastWheelEventTime)/200,1),Re=ce(Le);B=_.number(X,U,Re),Le<1?this._frameId||(this._frameId=!0):Se=!0}else B=U,Se=!0;return this._active=!0,Se&&(this._active=!1,this._finishTimeout=setTimeout(function(){m._zooming=!1,m._handler._triggerRenderFrame(),delete m._targetZoom,delete m._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Se,zoomDelta:B-x.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Tn.prototype._smoothOutEasing=function(m){var x=_.ease;if(this._prevEase){var v=this._prevEase,C=(_.browser.now()-v.start)/v.duration,M=v.easing(C+.01)-v.easing(C),B=.27/Math.sqrt(M*M+1e-4)*.01,U=Math.sqrt(.0729-B*B);x=_.bezier(B,U,.25,1)}return this._prevEase={start:_.browser.now(),duration:m,easing:x},x},Tn.prototype.blur=function(){this.reset()},Tn.prototype.reset=function(){this._active=!1};var pu=function(m,x){this._clickZoom=m,this._tapZoom=x};pu.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},pu.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},pu.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},pu.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ml=function(){this.reset()};ml.prototype.reset=function(){this._active=!1},ml.prototype.blur=function(){this.reset()},ml.prototype.dblclick=function(m,x){return m.preventDefault(),{cameraAnimation:function(v){v.easeTo({duration:300,zoom:v.getZoom()+(m.shiftKey?-1:1),around:v.unproject(x)},{originalEvent:m})}}},ml.prototype.enable=function(){this._enabled=!0},ml.prototype.disable=function(){this._enabled=!1,this.reset()},ml.prototype.isEnabled=function(){return this._enabled},ml.prototype.isActive=function(){return this._active};var bi=function(){this._tap=new Us({numTouches:1,numTaps:1}),this.reset()};bi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},bi.prototype.touchstart=function(m,x,v){this._swipePoint||(this._tapTime&&m.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?v.length>0&&(this._swipePoint=x[0],this._swipeTouch=v[0].identifier):this._tap.touchstart(m,x,v))},bi.prototype.touchmove=function(m,x,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;var C=x[0],M=C.y-this._swipePoint.y;return this._swipePoint=C,m.preventDefault(),this._active=!0,{zoomDelta:M/128}}}else this._tap.touchmove(m,x,v)},bi.prototype.touchend=function(m,x,v){this._tapTime?this._swipePoint&&v.length===0&&this.reset():this._tap.touchend(m,x,v)&&(this._tapTime=m.timeStamp)},bi.prototype.touchcancel=function(){this.reset()},bi.prototype.enable=function(){this._enabled=!0},bi.prototype.disable=function(){this._enabled=!1,this.reset()},bi.prototype.isEnabled=function(){return this._enabled},bi.prototype.isActive=function(){return this._active};var ro=function(m,x,v){this._el=m,this._mousePan=x,this._touchPan=v};ro.prototype.enable=function(m){this._inertiaOptions=m||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ro.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ro.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ro.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var vo=function(m,x,v){this._pitchWithRotate=m.pitchWithRotate,this._mouseRotate=x,this._mousePitch=v};vo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},vo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},vo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},vo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Rn=function(m,x,v,C){this._el=m,this._touchZoom=x,this._touchRotate=v,this._tapDragZoom=C,this._rotationDisabled=!1,this._enabled=!0};Rn.prototype.enable=function(m){this._touchZoom.enable(m),this._rotationDisabled||this._touchRotate.enable(m),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Rn.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Rn.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Rn.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Rn.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Rn.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Un=function(m){return m.zoom||m.drag||m.pitch||m.rotate},Vo=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x}(_.Event);function kr(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}var Rr=function(m,x){this._map=m,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Rl(m),this._bearingSnap=x.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(x),_.bindAll(["handleEvent","handleWindowEvent"],this);var v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[_.window.document,"mousemove",{capture:!0}],[_.window.document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[_.window,"blur",void 0]];for(var C=0,M=this._listeners;C<M.length;C+=1){var B=M[C],U=B[0];ne.addEventListener(U,B[1],U===_.window.document?this.handleWindowEvent:this.handleEvent,B[2])}};Rr.prototype.destroy=function(){for(var m=0,x=this._listeners;m<x.length;m+=1){var v=x[m],C=v[0];ne.removeEventListener(C,v[1],C===_.window.document?this.handleWindowEvent:this.handleEvent,v[2])}},Rr.prototype._addDefaultHandlers=function(m){var x=this._map,v=x.getCanvasContainer();this._add("mapEvent",new to(x,m));var C=x.boxZoom=new Wa(x,m);this._add("boxZoom",C);var M=new Eo,B=new ml;x.doubleClickZoom=new pu(B,M),this._add("tapZoom",M),this._add("clickZoom",B);var U=new bi;this._add("tapDragZoom",U);var X=x.touchPitch=new du;this._add("touchPitch",X);var ce=new Fl(m),Se=new ql(m);x.dragRotate=new vo(m,ce,Se),this._add("mouseRotate",ce,["mousePitch"]),this._add("mousePitch",Se,["mouseRotate"]);var Le=new Hc(m),Re=new sa(m);x.dragPan=new ro(v,Le,Re),this._add("mousePan",Le),this._add("touchPan",Re,["touchZoom","touchRotate"]);var ze=new Kd,nt=new la;x.touchZoomRotate=new Rn(v,nt,ze,U),this._add("touchRotate",ze,["touchPan","touchZoom"]),this._add("touchZoom",nt,["touchPan","touchRotate"]);var Je=x.scrollZoom=new Tn(x,this);this._add("scrollZoom",Je,["mousePan"]);var ft=x.keyboard=new Ia;this._add("keyboard",ft),this._add("blockableMapEvent",new Ir(x));for(var Ge=0,ct=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Ge<ct.length;Ge+=1){var mt=ct[Ge];m.interactive&&m[mt]&&x[mt].enable(m[mt])}},Rr.prototype._add=function(m,x,v){this._handlers.push({handlerName:m,handler:x,allowed:v}),this._handlersById[m]=x},Rr.prototype.stop=function(m){if(!this._updatingCamera){for(var x=0,v=this._handlers;x<v.length;x+=1)v[x].handler.reset();this._inertia.clear(),this._fireEvents({},{},m),this._changes=[]}},Rr.prototype.isActive=function(){for(var m=0,x=this._handlers;m<x.length;m+=1)if(x[m].handler.isActive())return!0;return!1},Rr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Rr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Rr.prototype.isMoving=function(){return Boolean(Un(this._eventsInProgress))||this.isZooming()},Rr.prototype._blockedByActive=function(m,x,v){for(var C in m)if(C!==v&&(!x||x.indexOf(C)<0))return!0;return!1},Rr.prototype.handleWindowEvent=function(m){this.handleEvent(m,m.type+"Window")},Rr.prototype._getMapTouches=function(m){for(var x=[],v=0,C=m;v<C.length;v+=1){var M=C[v];this._el.contains(M.target)&&x.push(M)}return x},Rr.prototype.handleEvent=function(m,x){this._updatingCamera=!0;for(var v=m.type==="renderFrame"?void 0:m,C={needsRenderFrame:!1},M={},B={},U=m.touches?this._getMapTouches(m.touches):void 0,X=U?ne.touchPos(this._el,U):ne.mousePos(this._el,m),ce=0,Se=this._handlers;ce<Se.length;ce+=1){var Le=Se[ce],Re=Le.handlerName,ze=Le.handler,nt=Le.allowed;if(ze.isEnabled()){var Je=void 0;this._blockedByActive(B,nt,Re)?ze.reset():ze[x||m.type]&&(Je=ze[x||m.type](m,X,U),this.mergeHandlerResult(C,M,Je,Re,v),Je&&Je.needsRenderFrame&&this._triggerRenderFrame()),(Je||ze.isActive())&&(B[Re]=ze)}}var ft={};for(var Ge in this._previousActiveHandlers)B[Ge]||(ft[Ge]=v);this._previousActiveHandlers=B,(Object.keys(ft).length||kr(C))&&(this._changes.push([C,M,ft]),this._triggerRenderFrame()),(Object.keys(B).length||kr(C))&&this._map._stop(!0),this._updatingCamera=!1;var ct=C.cameraAnimation;ct&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ct(this._map))},Rr.prototype.mergeHandlerResult=function(m,x,v,C,M){if(v){_.extend(m,v);var B={handlerName:C,originalEvent:v.originalEvent||M};v.zoomDelta!==void 0&&(x.zoom=B),v.panDelta!==void 0&&(x.drag=B),v.pitchDelta!==void 0&&(x.pitch=B),v.bearingDelta!==void 0&&(x.rotate=B)}},Rr.prototype._applyChanges=function(){for(var m={},x={},v={},C=0,M=this._changes;C<M.length;C+=1){var B=M[C],U=B[0],X=B[1],ce=B[2];U.panDelta&&(m.panDelta=(m.panDelta||new _.Point(0,0))._add(U.panDelta)),U.zoomDelta&&(m.zoomDelta=(m.zoomDelta||0)+U.zoomDelta),U.bearingDelta&&(m.bearingDelta=(m.bearingDelta||0)+U.bearingDelta),U.pitchDelta&&(m.pitchDelta=(m.pitchDelta||0)+U.pitchDelta),U.around!==void 0&&(m.around=U.around),U.pinchAround!==void 0&&(m.pinchAround=U.pinchAround),U.noInertia&&(m.noInertia=U.noInertia),_.extend(x,X),_.extend(v,ce)}this._updateMapTransform(m,x,v),this._changes=[]},Rr.prototype._updateMapTransform=function(m,x,v){var C=this._map,M=C.transform;if(!kr(m))return this._fireEvents(x,v,!0);var B=m.panDelta,U=m.zoomDelta,X=m.bearingDelta,ce=m.pitchDelta,Se=m.around,Le=m.pinchAround;Le!==void 0&&(Se=Le),C._stop(!0),Se=Se||C.transform.centerPoint;var Re=M.pointLocation(B?Se.sub(B):Se);X&&(M.bearing+=X),ce&&(M.pitch+=ce),U&&(M.zoom+=U),M.setLocationAtPoint(Re,Se),this._map._update(),m.noInertia||this._inertia.record(m),this._fireEvents(x,v,!0)},Rr.prototype._fireEvents=function(m,x,v){var C=this,M=Un(this._eventsInProgress),B=Un(m),U={};for(var X in m)this._eventsInProgress[X]||(U[X+"start"]=m[X].originalEvent),this._eventsInProgress[X]=m[X];for(var ce in!M&&B&&this._fireEvent("movestart",B.originalEvent),U)this._fireEvent(ce,U[ce]);for(var Se in B&&this._fireEvent("move",B.originalEvent),m)this._fireEvent(Se,m[Se].originalEvent);var Le,Re={};for(var ze in this._eventsInProgress){var nt=this._eventsInProgress[ze],Je=nt.handlerName,ft=nt.originalEvent;this._handlersById[Je].isActive()||(delete this._eventsInProgress[ze],Re[ze+"end"]=Le=x[Je]||ft)}for(var Ge in Re)this._fireEvent(Ge,Re[Ge]);var ct=Un(this._eventsInProgress);if(v&&(M||B)&&!ct){this._updatingCamera=!0;var mt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),wt=function(zt){return zt!==0&&-C._bearingSnap<zt&&zt<C._bearingSnap};mt?(wt(mt.bearing||this._map.getBearing())&&(mt.bearing=0),this._map.easeTo(mt,{originalEvent:Le})):(this._map.fire(new _.Event("moveend",{originalEvent:Le})),wt(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Rr.prototype._fireEvent=function(m,x){this._map.fire(new _.Event(m,x?{originalEvent:x}:{}))},Rr.prototype._requestFrame=function(){var m=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(x){delete m._frameId,m.handleEvent(new Vo("renderFrame",{timeStamp:x})),m._applyChanges()})},Rr.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Hh=function(m){function x(v,C){m.call(this),this._moving=!1,this._zooming=!1,this.transform=v,this._bearingSnap=C.bearingSnap,_.bindAll(["_renderFrameCallback"],this)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getCenter=function(){return new _.LngLat(this.transform.center.lng,this.transform.center.lat)},x.prototype.setCenter=function(v,C){return this.jumpTo({center:v},C)},x.prototype.panBy=function(v,C,M){return v=_.Point.convert(v).mult(-1),this.panTo(this.transform.center,_.extend({offset:v},C),M)},x.prototype.panTo=function(v,C,M){return this.easeTo(_.extend({center:v},C),M)},x.prototype.getZoom=function(){return this.transform.zoom},x.prototype.setZoom=function(v,C){return this.jumpTo({zoom:v},C),this},x.prototype.zoomTo=function(v,C,M){return this.easeTo(_.extend({zoom:v},C),M)},x.prototype.zoomIn=function(v,C){return this.zoomTo(this.getZoom()+1,v,C),this},x.prototype.zoomOut=function(v,C){return this.zoomTo(this.getZoom()-1,v,C),this},x.prototype.getBearing=function(){return this.transform.bearing},x.prototype.setBearing=function(v,C){return this.jumpTo({bearing:v},C),this},x.prototype.getPadding=function(){return this.transform.padding},x.prototype.setPadding=function(v,C){return this.jumpTo({padding:v},C),this},x.prototype.rotateTo=function(v,C,M){return this.easeTo(_.extend({bearing:v},C),M)},x.prototype.resetNorth=function(v,C){return this.rotateTo(0,_.extend({duration:1e3},v),C),this},x.prototype.resetNorthPitch=function(v,C){return this.easeTo(_.extend({bearing:0,pitch:0,duration:1e3},v),C),this},x.prototype.snapToNorth=function(v,C){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(v,C):this},x.prototype.getPitch=function(){return this.transform.pitch},x.prototype.setPitch=function(v,C){return this.jumpTo({pitch:v},C),this},x.prototype.cameraForBounds=function(v,C){v=_.LngLatBounds.convert(v);var M=C&&C.bearing||0;return this._cameraForBoxAndBearing(v.getNorthWest(),v.getSouthEast(),M,C)},x.prototype._cameraForBoxAndBearing=function(v,C,M,B){var U={top:0,bottom:0,right:0,left:0};if(typeof(B=_.extend({padding:U,offset:[0,0],maxZoom:this.transform.maxZoom},B)).padding=="number"){var X=B.padding;B.padding={top:X,bottom:X,right:X,left:X}}B.padding=_.extend(U,B.padding);var ce=this.transform,Se=ce.padding,Le=ce.project(_.LngLat.convert(v)),Re=ce.project(_.LngLat.convert(C)),ze=Le.rotate(-M*Math.PI/180),nt=Re.rotate(-M*Math.PI/180),Je=new _.Point(Math.max(ze.x,nt.x),Math.max(ze.y,nt.y)),ft=new _.Point(Math.min(ze.x,nt.x),Math.min(ze.y,nt.y)),Ge=Je.sub(ft),ct=(ce.width-(Se.left+Se.right+B.padding.left+B.padding.right))/Ge.x,mt=(ce.height-(Se.top+Se.bottom+B.padding.top+B.padding.bottom))/Ge.y;if(!(mt<0||ct<0)){var wt=Math.min(ce.scaleZoom(ce.scale*Math.min(ct,mt)),B.maxZoom),zt=typeof B.offset.x=="number"?new _.Point(B.offset.x,B.offset.y):_.Point.convert(B.offset),Rt=new _.Point((B.padding.left-B.padding.right)/2,(B.padding.top-B.padding.bottom)/2).rotate(M*Math.PI/180),jt=zt.add(Rt).mult(ce.scale/ce.zoomScale(wt));return{center:ce.unproject(Le.add(Re).div(2).sub(jt)),zoom:wt,bearing:M}}_.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},x.prototype.fitBounds=function(v,C,M){return this._fitInternal(this.cameraForBounds(v,C),C,M)},x.prototype.fitScreenCoordinates=function(v,C,M,B,U){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(_.Point.convert(v)),this.transform.pointLocation(_.Point.convert(C)),M,B),B,U)},x.prototype._fitInternal=function(v,C,M){return v?(delete(C=_.extend(v,C)).padding,C.linear?this.easeTo(C,M):this.flyTo(C,M)):this},x.prototype.jumpTo=function(v,C){this.stop();var M=this.transform,B=!1,U=!1,X=!1;return"zoom"in v&&M.zoom!==+v.zoom&&(B=!0,M.zoom=+v.zoom),v.center!==void 0&&(M.center=_.LngLat.convert(v.center)),"bearing"in v&&M.bearing!==+v.bearing&&(U=!0,M.bearing=+v.bearing),"pitch"in v&&M.pitch!==+v.pitch&&(X=!0,M.pitch=+v.pitch),v.padding==null||M.isPaddingEqual(v.padding)||(M.padding=v.padding),this.fire(new _.Event("movestart",C)).fire(new _.Event("move",C)),B&&this.fire(new _.Event("zoomstart",C)).fire(new _.Event("zoom",C)).fire(new _.Event("zoomend",C)),U&&this.fire(new _.Event("rotatestart",C)).fire(new _.Event("rotate",C)).fire(new _.Event("rotateend",C)),X&&this.fire(new _.Event("pitchstart",C)).fire(new _.Event("pitch",C)).fire(new _.Event("pitchend",C)),this.fire(new _.Event("moveend",C))},x.prototype.easeTo=function(v,C){var M=this;this._stop(!1,v.easeId),((v=_.extend({offset:[0,0],duration:500,easing:_.ease},v)).animate===!1||!v.essential&&_.browser.prefersReducedMotion)&&(v.duration=0);var B=this.transform,U=this.getZoom(),X=this.getBearing(),ce=this.getPitch(),Se=this.getPadding(),Le="zoom"in v?+v.zoom:U,Re="bearing"in v?this._normalizeBearing(v.bearing,X):X,ze="pitch"in v?+v.pitch:ce,nt="padding"in v?v.padding:B.padding,Je=_.Point.convert(v.offset),ft=B.centerPoint.add(Je),Ge=B.pointLocation(ft),ct=_.LngLat.convert(v.center||Ge);this._normalizeCenter(ct);var mt,wt,zt=B.project(Ge),Rt=B.project(ct).sub(zt),jt=B.zoomScale(Le-U);v.around&&(mt=_.LngLat.convert(v.around),wt=B.locationPoint(mt));var er={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Le!==U,this._rotating=this._rotating||X!==Re,this._pitching=this._pitching||ze!==ce,this._padding=!B.isPaddingEqual(nt),this._easeId=v.easeId,this._prepareEase(C,v.noMoveStart,er),this._ease(function(nr){if(M._zooming&&(B.zoom=_.number(U,Le,nr)),M._rotating&&(B.bearing=_.number(X,Re,nr)),M._pitching&&(B.pitch=_.number(ce,ze,nr)),M._padding&&(B.interpolatePadding(Se,nt,nr),ft=B.centerPoint.add(Je)),mt)B.setLocationAtPoint(mt,wt);else{var lr=B.zoomScale(B.zoom-U),Er=Le>U?Math.min(2,jt):Math.max(.5,jt),Ar=Math.pow(Er,1-nr),Kr=B.unproject(zt.add(Rt.mult(nr*Ar)).mult(lr));B.setLocationAtPoint(B.renderWorldCopies?Kr.wrap():Kr,ft)}M._fireMoveEvents(C)},function(nr){M._afterEase(C,nr)},v),this},x.prototype._prepareEase=function(v,C,M){M===void 0&&(M={}),this._moving=!0,C||M.moving||this.fire(new _.Event("movestart",v)),this._zooming&&!M.zooming&&this.fire(new _.Event("zoomstart",v)),this._rotating&&!M.rotating&&this.fire(new _.Event("rotatestart",v)),this._pitching&&!M.pitching&&this.fire(new _.Event("pitchstart",v))},x.prototype._fireMoveEvents=function(v){this.fire(new _.Event("move",v)),this._zooming&&this.fire(new _.Event("zoom",v)),this._rotating&&this.fire(new _.Event("rotate",v)),this._pitching&&this.fire(new _.Event("pitch",v))},x.prototype._afterEase=function(v,C){if(!this._easeId||!C||this._easeId!==C){delete this._easeId;var M=this._zooming,B=this._rotating,U=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,M&&this.fire(new _.Event("zoomend",v)),B&&this.fire(new _.Event("rotateend",v)),U&&this.fire(new _.Event("pitchend",v)),this.fire(new _.Event("moveend",v))}},x.prototype.flyTo=function(v,C){var M=this;if(!v.essential&&_.browser.prefersReducedMotion){var B=_.pick(v,["center","zoom","bearing","pitch","around"]);return this.jumpTo(B,C)}this.stop(),v=_.extend({offset:[0,0],speed:1.2,curve:1.42,easing:_.ease},v);var U=this.transform,X=this.getZoom(),ce=this.getBearing(),Se=this.getPitch(),Le=this.getPadding(),Re="zoom"in v?_.clamp(+v.zoom,U.minZoom,U.maxZoom):X,ze="bearing"in v?this._normalizeBearing(v.bearing,ce):ce,nt="pitch"in v?+v.pitch:Se,Je="padding"in v?v.padding:U.padding,ft=U.zoomScale(Re-X),Ge=_.Point.convert(v.offset),ct=U.centerPoint.add(Ge),mt=U.pointLocation(ct),wt=_.LngLat.convert(v.center||mt);this._normalizeCenter(wt);var zt=U.project(mt),Rt=U.project(wt).sub(zt),jt=v.curve,er=Math.max(U.width,U.height),nr=er/ft,lr=Rt.mag();if("minZoom"in v){var Er=_.clamp(Math.min(v.minZoom,X,Re),U.minZoom,U.maxZoom),Ar=er/U.zoomScale(Er-X);jt=Math.sqrt(Ar/lr*2)}var Kr=jt*jt;function Vr(Qr){var Jr=(nr*nr-er*er+(Qr?-1:1)*Kr*Kr*lr*lr)/(2*(Qr?nr:er)*Kr*lr);return Math.log(Math.sqrt(Jr*Jr+1)-Jr)}function On(Qr){return(Math.exp(Qr)-Math.exp(-Qr))/2}function Dr(Qr){return(Math.exp(Qr)+Math.exp(-Qr))/2}var an=Vr(0),gn=function(Qr){return Dr(an)/Dr(an+jt*Qr)},rn=function(Qr){return er*((Dr(an)*(On(Jr=an+jt*Qr)/Dr(Jr))-On(an))/Kr)/lr;var Jr},sn=(Vr(1)-an)/jt;if(Math.abs(lr)<1e-6||!isFinite(sn)){if(Math.abs(er-nr)<1e-6)return this.easeTo(v,C);var dn=nr<er?-1:1;sn=Math.abs(Math.log(nr/er))/jt,rn=function(){return 0},gn=function(Qr){return Math.exp(dn*jt*Qr)}}return v.duration="duration"in v?+v.duration:1e3*sn/("screenSpeed"in v?+v.screenSpeed/jt:+v.speed),v.maxDuration&&v.duration>v.maxDuration&&(v.duration=0),this._zooming=!0,this._rotating=ce!==ze,this._pitching=nt!==Se,this._padding=!U.isPaddingEqual(Je),this._prepareEase(C,!1),this._ease(function(Qr){var Jr=Qr*sn,yo=1/gn(Jr);U.zoom=Qr===1?Re:X+U.scaleZoom(yo),M._rotating&&(U.bearing=_.number(ce,ze,Qr)),M._pitching&&(U.pitch=_.number(Se,nt,Qr)),M._padding&&(U.interpolatePadding(Le,Je,Qr),ct=U.centerPoint.add(Ge));var Si=Qr===1?wt:U.unproject(zt.add(Rt.mult(rn(Jr))).mult(yo));U.setLocationAtPoint(U.renderWorldCopies?Si.wrap():Si,ct),M._fireMoveEvents(C)},function(){return M._afterEase(C)},v),this},x.prototype.isEasing=function(){return!!this._easeFrameId},x.prototype.stop=function(){return this._stop()},x.prototype._stop=function(v,C){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var M=this._onEaseEnd;delete this._onEaseEnd,M.call(this,C)}if(!v){var B=this.handlers;B&&B.stop(!1)}return this},x.prototype._ease=function(v,C,M){M.animate===!1||M.duration===0?(v(1),C()):(this._easeStart=_.browser.now(),this._easeOptions=M,this._onEaseFrame=v,this._onEaseEnd=C,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},x.prototype._renderFrameCallback=function(){var v=Math.min((_.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},x.prototype._normalizeBearing=function(v,C){v=_.wrap(v,-180,180);var M=Math.abs(v-C);return Math.abs(v-360-C)<M&&(v-=360),Math.abs(v+360-C)<M&&(v+=360),v},x.prototype._normalizeCenter=function(v){var C=this.transform;if(C.renderWorldCopies&&!C.lngRange){var M=v.lng-C.center.lng;v.lng+=M>180?-360:M<-180?360:0}},x}(_.Evented),ca=function(m){m===void 0&&(m={}),this.options=m,_.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};ca.prototype.getDefaultPosition=function(){return"bottom-right"},ca.prototype.onAdd=function(m){var x=this.options&&this.options.compact;return this._map=m,this._container=ne.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=ne.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ne.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),x&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),x===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ca.prototype.onRemove=function(){ne.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ca.prototype._setElementTitle=function(m,x){var v=this._map._getUIString("AttributionControl."+x);m.title=v,m.setAttribute("aria-label",v)},ca.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},ca.prototype._updateEditLink=function(){var m=this._editLink;m||(m=this._editLink=this._container.querySelector(".mapbox-improve-map"));var x=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||_.config.ACCESS_TOKEN}];if(m){var v=x.reduce(function(C,M,B){return M.value&&(C+=M.key+"="+M.value+(B<x.length-1?"&":"")),C},"?");m.href=_.config.FEEDBACK_URL+"/"+v+(this._map._hash?this._map._hash.getHashString(!0):""),m.rel="noopener nofollow",this._setElementTitle(m,"MapFeedback")}},ca.prototype._updateData=function(m){!m||m.sourceDataType!=="metadata"&&m.sourceDataType!=="visibility"&&m.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},ca.prototype._updateAttributions=function(){if(this._map.style){var m=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?m=m.concat(this.options.customAttribution.map(function(X){return typeof X!="string"?"":X})):typeof this.options.customAttribution=="string"&&m.push(this.options.customAttribution)),this._map.style.stylesheet){var x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}var v=this._map.style.sourceCaches;for(var C in v){var M=v[C];if(M.used){var B=M.getSource();B.attribution&&m.indexOf(B.attribution)<0&&m.push(B.attribution)}}m.sort(function(X,ce){return X.length-ce.length});var U=(m=m.filter(function(X,ce){for(var Se=ce+1;Se<m.length;Se++)if(m[Se].indexOf(X)>=0)return!1;return!0})).join(" | ");U!==this._attribHTML&&(this._attribHTML=U,m.length?(this._innerContainer.innerHTML=U,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ca.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ws=function(){_.bindAll(["_updateLogo"],this),_.bindAll(["_updateCompact"],this)};Ws.prototype.onAdd=function(m){this._map=m,this._container=ne.create("div","mapboxgl-ctrl");var x=ne.create("a","mapboxgl-ctrl-logo");return x.target="_blank",x.rel="noopener nofollow",x.href="https://www.mapbox.com/",x.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),x.setAttribute("rel","noopener nofollow"),this._container.appendChild(x),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ws.prototype.onRemove=function(){ne.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ws.prototype.getDefaultPosition=function(){return"bottom-left"},Ws.prototype._updateLogo=function(m){m&&m.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Ws.prototype._logoRequired=function(){if(this._map.style){var m=this._map.style.sourceCaches;for(var x in m)if(m[x].getSource().mapbox_logo)return!0;return!1}},Ws.prototype._updateCompact=function(){var m=this._container.children;if(m.length){var x=m[0];this._map.getCanvasContainer().offsetWidth<250?x.classList.add("mapboxgl-compact"):x.classList.remove("mapboxgl-compact")}};var fa=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};fa.prototype.add=function(m){var x=++this._id;return this._queue.push({callback:m,id:x,cancelled:!1}),x},fa.prototype.remove=function(m){for(var x=this._currentlyRunning,v=0,C=x?this._queue.concat(x):this._queue;v<C.length;v+=1){var M=C[v];if(M.id===m)return void(M.cancelled=!0)}},fa.prototype.run=function(m){m===void 0&&(m=0);var x=this._currentlyRunning=this._queue;this._queue=[];for(var v=0,C=x;v<C.length;v+=1){var M=C[v];if(!M.cancelled&&(M.callback(m),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},fa.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var gl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},eh=_.window.HTMLImageElement,Wc=_.window.HTMLElement,Hn=_.window.ImageBitmap,$o={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},th=function(m){function x(C){var M=this;if((C=_.extend({},$o,C)).minZoom!=null&&C.maxZoom!=null&&C.minZoom>C.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(C.minPitch!=null&&C.maxPitch!=null&&C.minPitch>C.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(C.minPitch!=null&&C.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(C.maxPitch!=null&&C.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var B=new Ln(C.minZoom,C.maxZoom,C.minPitch,C.maxPitch,C.renderWorldCopies);if(m.call(this,B,C),this._interactive=C.interactive,this._maxTileCacheSize=C.maxTileCacheSize,this._failIfMajorPerformanceCaveat=C.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=C.preserveDrawingBuffer,this._antialias=C.antialias,this._trackResize=C.trackResize,this._bearingSnap=C.bearingSnap,this._refreshExpiredTiles=C.refreshExpiredTiles,this._fadeDuration=C.fadeDuration,this._crossSourceCollisions=C.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=C.collectResourceTiming,this._renderTaskQueue=new fa,this._controls=[],this._mapId=_.uniqueId(),this._locale=_.extend({},gl,C.locale),this._clickTolerance=C.clickTolerance,this._requestManager=new _.RequestManager(C.transformRequest,C.accessToken),typeof C.container=="string"){if(this._container=_.window.document.getElementById(C.container),!this._container)throw new Error("Container '"+C.container+"' not found.")}else{if(!(C.container instanceof Wc))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=C.container}if(C.maxBounds&&this.setMaxBounds(C.maxBounds),_.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return M._update(!1)}),this.on("moveend",function(){return M._update(!1)}),this.on("zoom",function(){return M._update(!0)}),_.window!==void 0&&(_.window.addEventListener("online",this._onWindowOnline,!1),_.window.addEventListener("resize",this._onWindowResize,!1),_.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Rr(this,C),this._hash=C.hash&&new Wo(typeof C.hash=="string"&&C.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:C.center,zoom:C.zoom,bearing:C.bearing,pitch:C.pitch}),C.bounds&&(this.resize(),this.fitBounds(C.bounds,_.extend({},C.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=C.localIdeographFontFamily,C.style&&this.setStyle(C.style,{localIdeographFontFamily:C.localIdeographFontFamily}),C.attributionControl&&this.addControl(new ca({customAttribution:C.customAttribution})),this.addControl(new Ws,C.logoPosition),this.on("style.load",function(){M.transform.unmodified&&M.jumpTo(M.style.stylesheet)}),this.on("data",function(U){M._update(U.dataType==="style"),M.fire(new _.Event(U.dataType+"data",U))}),this.on("dataloading",function(U){M.fire(new _.Event(U.dataType+"dataloading",U))})}m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x;var v={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return x.prototype._getMapId=function(){return this._mapId},x.prototype.addControl=function(C,M){if(M===void 0&&(M=C.getDefaultPosition?C.getDefaultPosition():"top-right"),!C||!C.onAdd)return this.fire(new _.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var B=C.onAdd(this);this._controls.push(C);var U=this._controlPositions[M];return M.indexOf("bottom")!==-1?U.insertBefore(B,U.firstChild):U.appendChild(B),this},x.prototype.removeControl=function(C){if(!C||!C.onRemove)return this.fire(new _.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var M=this._controls.indexOf(C);return M>-1&&this._controls.splice(M,1),C.onRemove(this),this},x.prototype.hasControl=function(C){return this._controls.indexOf(C)>-1},x.prototype.resize=function(C){var M=this._containerDimensions(),B=M[0],U=M[1];if(B===this.transform.width&&U===this.transform.height)return this;this._resizeCanvas(B,U),this.transform.resize(B,U),this.painter.resize(B,U);var X=!this._moving;return X&&this.fire(new _.Event("movestart",C)).fire(new _.Event("move",C)),this.fire(new _.Event("resize",C)),X&&this.fire(new _.Event("moveend",C)),this},x.prototype.getBounds=function(){return this.transform.getBounds()},x.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},x.prototype.setMaxBounds=function(C){return this.transform.setMaxBounds(_.LngLatBounds.convert(C)),this._update()},x.prototype.setMinZoom=function(C){if((C=C??-2)>=-2&&C<=this.transform.maxZoom)return this.transform.minZoom=C,this._update(),this.getZoom()<C&&this.setZoom(C),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},x.prototype.getMinZoom=function(){return this.transform.minZoom},x.prototype.setMaxZoom=function(C){if((C=C??22)>=this.transform.minZoom)return this.transform.maxZoom=C,this._update(),this.getZoom()>C&&this.setZoom(C),this;throw new Error("maxZoom must be greater than the current minZoom")},x.prototype.getMaxZoom=function(){return this.transform.maxZoom},x.prototype.setMinPitch=function(C){if((C=C??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(C>=0&&C<=this.transform.maxPitch)return this.transform.minPitch=C,this._update(),this.getPitch()<C&&this.setPitch(C),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},x.prototype.getMinPitch=function(){return this.transform.minPitch},x.prototype.setMaxPitch=function(C){if((C=C??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(C>=this.transform.minPitch)return this.transform.maxPitch=C,this._update(),this.getPitch()>C&&this.setPitch(C),this;throw new Error("maxPitch must be greater than the current minPitch")},x.prototype.getMaxPitch=function(){return this.transform.maxPitch},x.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},x.prototype.setRenderWorldCopies=function(C){return this.transform.renderWorldCopies=C,this._update()},x.prototype.project=function(C){return this.transform.locationPoint(_.LngLat.convert(C))},x.prototype.unproject=function(C){return this.transform.pointLocation(_.Point.convert(C))},x.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},x.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},x.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},x.prototype._createDelegatedListener=function(C,M,B){var U,X=this;if(C==="mouseenter"||C==="mouseover"){var ce=!1;return{layer:M,listener:B,delegates:{mousemove:function(Le){var Re=X.getLayer(M)?X.queryRenderedFeatures(Le.point,{layers:[M]}):[];Re.length?ce||(ce=!0,B.call(X,new Oi(C,X,Le.originalEvent,{features:Re}))):ce=!1},mouseout:function(){ce=!1}}}}if(C==="mouseleave"||C==="mouseout"){var Se=!1;return{layer:M,listener:B,delegates:{mousemove:function(Le){(X.getLayer(M)?X.queryRenderedFeatures(Le.point,{layers:[M]}):[]).length?Se=!0:Se&&(Se=!1,B.call(X,new Oi(C,X,Le.originalEvent)))},mouseout:function(Le){Se&&(Se=!1,B.call(X,new Oi(C,X,Le.originalEvent)))}}}}return{layer:M,listener:B,delegates:(U={},U[C]=function(Le){var Re=X.getLayer(M)?X.queryRenderedFeatures(Le.point,{layers:[M]}):[];Re.length&&(Le.features=Re,B.call(X,Le),delete Le.features)},U)}},x.prototype.on=function(C,M,B){if(B===void 0)return m.prototype.on.call(this,C,M);var U=this._createDelegatedListener(C,M,B);for(var X in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[C]=this._delegatedListeners[C]||[],this._delegatedListeners[C].push(U),U.delegates)this.on(X,U.delegates[X]);return this},x.prototype.once=function(C,M,B){if(B===void 0)return m.prototype.once.call(this,C,M);var U=this._createDelegatedListener(C,M,B);for(var X in U.delegates)this.once(X,U.delegates[X]);return this},x.prototype.off=function(C,M,B){var U=this;return B===void 0?m.prototype.off.call(this,C,M):(this._delegatedListeners&&this._delegatedListeners[C]&&function(X){for(var ce=X[C],Se=0;Se<ce.length;Se++){var Le=ce[Se];if(Le.layer===M&&Le.listener===B){for(var Re in Le.delegates)U.off(Re,Le.delegates[Re]);return ce.splice(Se,1),U}}}(this._delegatedListeners),this)},x.prototype.queryRenderedFeatures=function(C,M){if(!this.style)return[];var B;if(M!==void 0||C===void 0||C instanceof _.Point||Array.isArray(C)||(M=C,C=void 0),M=M||{},(C=C||[[0,0],[this.transform.width,this.transform.height]])instanceof _.Point||typeof C[0]=="number")B=[_.Point.convert(C)];else{var U=_.Point.convert(C[0]),X=_.Point.convert(C[1]);B=[U,new _.Point(X.x,U.y),X,new _.Point(U.x,X.y),U]}return this.style.queryRenderedFeatures(B,M,this.transform)},x.prototype.querySourceFeatures=function(C,M){return this.style.querySourceFeatures(C,M)},x.prototype.setStyle=function(C,M){return(M=_.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},M)).diff!==!1&&M.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&C?(this._diffStyle(C,M),this):(this._localIdeographFontFamily=M.localIdeographFontFamily,this._updateStyle(C,M))},x.prototype._getUIString=function(C){var M=this._locale[C];if(M==null)throw new Error("Missing UI string '"+C+"'");return M},x.prototype._updateStyle=function(C,M){return this.style&&(this.style.setEventedParent(null),this.style._remove()),C?(this.style=new Ha(this,M||{}),this.style.setEventedParent(this,{style:this.style}),typeof C=="string"?this.style.loadURL(C):this.style.loadJSON(C),this):(delete this.style,this)},x.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ha(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},x.prototype._diffStyle=function(C,M){var B=this;if(typeof C=="string"){var U=this._requestManager.normalizeStyleURL(C),X=this._requestManager.transformRequest(U,_.ResourceType.Style);_.getJSON(X,function(ce,Se){ce?B.fire(new _.ErrorEvent(ce)):Se&&B._updateDiff(Se,M)})}else typeof C=="object"&&this._updateDiff(C,M)},x.prototype._updateDiff=function(C,M){try{this.style.setState(C)&&this._update(!0)}catch(B){_.warnOnce("Unable to perform style diff: "+(B.message||B.error||B)+".  Rebuilding the style from scratch."),this._updateStyle(C,M)}},x.prototype.getStyle=function(){if(this.style)return this.style.serialize()},x.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():_.warnOnce("There is no style added to the map.")},x.prototype.addSource=function(C,M){return this._lazyInitEmptyStyle(),this.style.addSource(C,M),this._update(!0)},x.prototype.isSourceLoaded=function(C){var M=this.style&&this.style.sourceCaches[C];if(M!==void 0)return M.loaded();this.fire(new _.ErrorEvent(new Error("There is no source with ID '"+C+"'")))},x.prototype.areTilesLoaded=function(){var C=this.style&&this.style.sourceCaches;for(var M in C){var B=C[M]._tiles;for(var U in B){var X=B[U];if(X.state!=="loaded"&&X.state!=="errored")return!1}}return!0},x.prototype.addSourceType=function(C,M,B){return this._lazyInitEmptyStyle(),this.style.addSourceType(C,M,B)},x.prototype.removeSource=function(C){return this.style.removeSource(C),this._update(!0)},x.prototype.getSource=function(C){return this.style.getSource(C)},x.prototype.addImage=function(C,M,B){B===void 0&&(B={});var U=B.pixelRatio;U===void 0&&(U=1);var X=B.sdf;X===void 0&&(X=!1);var ce=B.stretchX,Se=B.stretchY,Le=B.content;if(this._lazyInitEmptyStyle(),M instanceof eh||Hn&&M instanceof Hn){var Re=_.browser.getImageData(M);this.style.addImage(C,{data:new _.RGBAImage({width:Re.width,height:Re.height},Re.data),pixelRatio:U,stretchX:ce,stretchY:Se,content:Le,sdf:X,version:0})}else{if(M.width===void 0||M.height===void 0)return this.fire(new _.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ze=M;this.style.addImage(C,{data:new _.RGBAImage({width:M.width,height:M.height},new Uint8Array(M.data)),pixelRatio:U,stretchX:ce,stretchY:Se,content:Le,sdf:X,version:0,userImage:ze}),ze.onAdd&&ze.onAdd(this,C)}},x.prototype.updateImage=function(C,M){var B=this.style.getImage(C);if(!B)return this.fire(new _.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var U=M instanceof eh||Hn&&M instanceof Hn?_.browser.getImageData(M):M,X=U.width,ce=U.height,Se=U.data;return X===void 0||ce===void 0?this.fire(new _.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):X!==B.data.width||ce!==B.data.height?this.fire(new _.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(B.data.replace(Se,!(M instanceof eh||Hn&&M instanceof Hn)),void this.style.updateImage(C,B))},x.prototype.hasImage=function(C){return C?!!this.style.getImage(C):(this.fire(new _.ErrorEvent(new Error("Missing required image id"))),!1)},x.prototype.removeImage=function(C){this.style.removeImage(C)},x.prototype.loadImage=function(C,M){_.getImage(this._requestManager.transformRequest(C,_.ResourceType.Image),M)},x.prototype.listImages=function(){return this.style.listImages()},x.prototype.addLayer=function(C,M){return this._lazyInitEmptyStyle(),this.style.addLayer(C,M),this._update(!0)},x.prototype.moveLayer=function(C,M){return this.style.moveLayer(C,M),this._update(!0)},x.prototype.removeLayer=function(C){return this.style.removeLayer(C),this._update(!0)},x.prototype.getLayer=function(C){return this.style.getLayer(C)},x.prototype.setLayerZoomRange=function(C,M,B){return this.style.setLayerZoomRange(C,M,B),this._update(!0)},x.prototype.setFilter=function(C,M,B){return B===void 0&&(B={}),this.style.setFilter(C,M,B),this._update(!0)},x.prototype.getFilter=function(C){return this.style.getFilter(C)},x.prototype.setPaintProperty=function(C,M,B,U){return U===void 0&&(U={}),this.style.setPaintProperty(C,M,B,U),this._update(!0)},x.prototype.getPaintProperty=function(C,M){return this.style.getPaintProperty(C,M)},x.prototype.setLayoutProperty=function(C,M,B,U){return U===void 0&&(U={}),this.style.setLayoutProperty(C,M,B,U),this._update(!0)},x.prototype.getLayoutProperty=function(C,M){return this.style.getLayoutProperty(C,M)},x.prototype.setLight=function(C,M){return M===void 0&&(M={}),this._lazyInitEmptyStyle(),this.style.setLight(C,M),this._update(!0)},x.prototype.getLight=function(){return this.style.getLight()},x.prototype.setFeatureState=function(C,M){return this.style.setFeatureState(C,M),this._update()},x.prototype.removeFeatureState=function(C,M){return this.style.removeFeatureState(C,M),this._update()},x.prototype.getFeatureState=function(C){return this.style.getFeatureState(C)},x.prototype.getContainer=function(){return this._container},x.prototype.getCanvasContainer=function(){return this._canvasContainer},x.prototype.getCanvas=function(){return this._canvas},x.prototype._containerDimensions=function(){var C=0,M=0;return this._container&&(C=this._container.clientWidth||400,M=this._container.clientHeight||300),[C,M]},x.prototype._detectMissingCSS=function(){_.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&_.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},x.prototype._setupContainer=function(){var C=this._container;C.classList.add("mapboxgl-map"),(this._missingCSSCanary=ne.create("div","mapboxgl-canary",C)).style.visibility="hidden",this._detectMissingCSS();var M=this._canvasContainer=ne.create("div","mapboxgl-canvas-container",C);this._interactive&&M.classList.add("mapboxgl-interactive"),this._canvas=ne.create("canvas","mapboxgl-canvas",M),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var B=this._containerDimensions();this._resizeCanvas(B[0],B[1]);var U=this._controlContainer=ne.create("div","mapboxgl-control-container",C),X=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ce){X[ce]=ne.create("div","mapboxgl-ctrl-"+ce,U)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},x.prototype._resizeCanvas=function(C,M){var B=_.browser.devicePixelRatio||1;this._canvas.width=B*C,this._canvas.height=B*M,this._canvas.style.width=C+"px",this._canvas.style.height=M+"px"},x.prototype._setupPainter=function(){var C=_.extend({},me.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),M=this._canvas.getContext("webgl",C)||this._canvas.getContext("experimental-webgl",C);M?(this.painter=new En(M,this.transform),_.webpSupported.testSupport(M)):this.fire(new _.ErrorEvent(new Error("Failed to initialize WebGL")))},x.prototype._contextLost=function(C){C.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new _.Event("webglcontextlost",{originalEvent:C}))},x.prototype._contextRestored=function(C){this._setupPainter(),this.resize(),this._update(),this.fire(new _.Event("webglcontextrestored",{originalEvent:C}))},x.prototype._onMapScroll=function(C){if(C.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},x.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},x.prototype._update=function(C){return this.style?(this._styleDirty=this._styleDirty||C,this._sourcesDirty=!0,this.triggerRepaint(),this):this},x.prototype._requestRenderFrame=function(C){return this._update(),this._renderTaskQueue.add(C)},x.prototype._cancelRenderFrame=function(C){this._renderTaskQueue.remove(C)},x.prototype._render=function(C){var M,B=this,U=0,X=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(M=X.createQueryEXT(),X.beginQueryEXT(X.TIME_ELAPSED_EXT,M),U=_.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(C),!this._removed){var ce=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Se=this.transform.zoom,Le=_.browser.now();this.style.zoomHistory.update(Se,Le);var Re=new _.EvaluationParameters(Se,{now:Le,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ze=Re.crossFadingFactor();ze===1&&ze===this._crossFadingFactor||(ce=!0,this._crossFadingFactor=ze),this.style.update(Re)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new _.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new _.Event("load"))),this.style&&(this.style.hasTransitions()||ce)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var nt=_.browser.now()-U;X.endQueryEXT(X.TIME_ELAPSED_EXT,M),setTimeout(function(){var Ge=X.getQueryObjectEXT(M,X.QUERY_RESULT_EXT)/1e6;X.deleteQueryEXT(M),B.fire(new _.Event("gpu-timing-frame",{cpuTime:nt,gpuTime:Ge}))},50)}if(this.listens("gpu-timing-layer")){var Je=this.painter.collectGpuTimers();setTimeout(function(){var Ge=B.painter.queryGpuTimers(Je);B.fire(new _.Event("gpu-timing-layer",{layerTimes:Ge}))},50)}var ft=this._sourcesDirty||this._styleDirty||this._placementDirty;return ft||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new _.Event("idle")),!this._loaded||this._fullyLoaded||ft||(this._fullyLoaded=!0),this}},x.prototype.remove=function(){this._hash&&this._hash.remove();for(var C=0,M=this._controls;C<M.length;C+=1)M[C].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),_.window!==void 0&&(_.window.removeEventListener("resize",this._onWindowResize,!1),_.window.removeEventListener("orientationchange",this._onWindowResize,!1),_.window.removeEventListener("online",this._onWindowOnline,!1));var B=this.painter.context.gl.getExtension("WEBGL_lose_context");B&&B.loseContext(),Nl(this._canvasContainer),Nl(this._controlContainer),Nl(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new _.Event("remove"))},x.prototype.triggerRepaint=function(){var C=this;this.style&&!this._frame&&(this._frame=_.browser.frame(function(M){C._frame=null,C._render(M)}))},x.prototype._onWindowOnline=function(){this._update()},x.prototype._onWindowResize=function(C){this._trackResize&&this.resize({originalEvent:C})._update()},v.showTileBoundaries.get=function(){return!!this._showTileBoundaries},v.showTileBoundaries.set=function(C){this._showTileBoundaries!==C&&(this._showTileBoundaries=C,this._update())},v.showPadding.get=function(){return!!this._showPadding},v.showPadding.set=function(C){this._showPadding!==C&&(this._showPadding=C,this._update())},v.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},v.showCollisionBoxes.set=function(C){this._showCollisionBoxes!==C&&(this._showCollisionBoxes=C,C?this.style._generateCollisionBoxes():this._update())},v.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},v.showOverdrawInspector.set=function(C){this._showOverdrawInspector!==C&&(this._showOverdrawInspector=C,this._update())},v.repaint.get=function(){return!!this._repaint},v.repaint.set=function(C){this._repaint!==C&&(this._repaint=C,this.triggerRepaint())},v.vertices.get=function(){return!!this._vertices},v.vertices.set=function(C){this._vertices=C,this._update()},x.prototype._setCacheLimits=function(C,M){_.setCacheLimits(C,M)},v.version.get=function(){return _.version},Object.defineProperties(x.prototype,v),x}(Hh);function Nl(m){m.parentNode&&m.parentNode.removeChild(m)}var rh={showCompass:!0,showZoom:!0,visualizePitch:!1},ks=function(m){var x=this;this.options=_.extend({},rh,m),this._container=ne.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(v){return v.preventDefault()}),this.options.showZoom&&(_.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(v){return x._map.zoomIn({},{originalEvent:v})}),ne.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(v){return x._map.zoomOut({},{originalEvent:v})}),ne.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(_.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(v){x.options.visualizePitch?x._map.resetNorthPitch({},{originalEvent:v}):x._map.resetNorth({},{originalEvent:v})}),this._compassIcon=ne.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ks.prototype._updateZoomButtons=function(){var m=this._map.getZoom(),x=m===this._map.getMaxZoom(),v=m===this._map.getMinZoom();this._zoomInButton.disabled=x,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",x.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},ks.prototype._rotateCompassArrow=function(){var m=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=m},ks.prototype.onAdd=function(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Va(this._map,this._compass,this.options.visualizePitch)),this._container},ks.prototype.onRemove=function(){ne.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ks.prototype._createButton=function(m,x){var v=ne.create("button",m,this._container);return v.type="button",v.addEventListener("click",x),v},ks.prototype._setButtonTitle=function(m,x){var v=this._map._getUIString("NavigationControl."+x);m.title=v,m.setAttribute("aria-label",v)};var Va=function(m,x,v){v===void 0&&(v=!1),this._clickTolerance=10,this.element=x,this.mouseRotate=new Fl({clickTolerance:m.dragRotate._mouseRotate._clickTolerance}),this.map=m,v&&(this.mousePitch=new ql({clickTolerance:m.dragRotate._mousePitch._clickTolerance})),_.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),ne.addEventListener(x,"mousedown",this.mousedown),ne.addEventListener(x,"touchstart",this.touchstart,{passive:!1}),ne.addEventListener(x,"touchmove",this.touchmove),ne.addEventListener(x,"touchend",this.touchend),ne.addEventListener(x,"touchcancel",this.reset)};function mu(m,x,v){if(m=new _.LngLat(m.lng,m.lat),x){var C=new _.LngLat(m.lng-360,m.lat),M=new _.LngLat(m.lng+360,m.lat),B=v.locationPoint(m).distSqr(x);v.locationPoint(C).distSqr(x)<B?m=C:v.locationPoint(M).distSqr(x)<B&&(m=M)}for(;Math.abs(m.lng-v.center.lng)>180;){var U=v.locationPoint(m);if(U.x>=0&&U.y>=0&&U.x<=v.width&&U.y<=v.height)break;m.lng>v.center.lng?m.lng-=360:m.lng+=360}return m}Va.prototype.down=function(m,x){this.mouseRotate.mousedown(m,x),this.mousePitch&&this.mousePitch.mousedown(m,x),ne.disableDrag()},Va.prototype.move=function(m,x){var v=this.map,C=this.mouseRotate.mousemoveWindow(m,x);if(C&&C.bearingDelta&&v.setBearing(v.getBearing()+C.bearingDelta),this.mousePitch){var M=this.mousePitch.mousemoveWindow(m,x);M&&M.pitchDelta&&v.setPitch(v.getPitch()+M.pitchDelta)}},Va.prototype.off=function(){var m=this.element;ne.removeEventListener(m,"mousedown",this.mousedown),ne.removeEventListener(m,"touchstart",this.touchstart,{passive:!1}),ne.removeEventListener(m,"touchmove",this.touchmove),ne.removeEventListener(m,"touchend",this.touchend),ne.removeEventListener(m,"touchcancel",this.reset),this.offTemp()},Va.prototype.offTemp=function(){ne.enableDrag(),ne.removeEventListener(_.window,"mousemove",this.mousemove),ne.removeEventListener(_.window,"mouseup",this.mouseup)},Va.prototype.mousedown=function(m){this.down(_.extend({},m,{ctrlKey:!0,preventDefault:function(){return m.preventDefault()}}),ne.mousePos(this.element,m)),ne.addEventListener(_.window,"mousemove",this.mousemove),ne.addEventListener(_.window,"mouseup",this.mouseup)},Va.prototype.mousemove=function(m){this.move(m,ne.mousePos(this.element,m))},Va.prototype.mouseup=function(m){this.mouseRotate.mouseupWindow(m),this.mousePitch&&this.mousePitch.mouseupWindow(m),this.offTemp()},Va.prototype.touchstart=function(m){m.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=ne.touchPos(this.element,m.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return m.preventDefault()}},this._startPos))},Va.prototype.touchmove=function(m){m.targetTouches.length!==1?this.reset():(this._lastPos=ne.touchPos(this.element,m.targetTouches)[0],this.move({preventDefault:function(){return m.preventDefault()}},this._lastPos))},Va.prototype.touchend=function(m){m.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Va.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var $i={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function nh(m,x,v){var C=m.classList;for(var M in $i)C.remove("mapboxgl-"+v+"-anchor-"+M);C.add("mapboxgl-"+v+"-anchor-"+x)}var Ru,Cs=function(m){function x(v,C){if(m.call(this),(v instanceof _.window.HTMLElement||C)&&(v=_.extend({element:v},C)),_.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=v&&v.anchor||"center",this._color=v&&v.color||"#3FB1CE",this._scale=v&&v.scale||1,this._draggable=v&&v.draggable||!1,this._clickTolerance=v&&v.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=v&&v.rotation||0,this._rotationAlignment=v&&v.rotationAlignment||"auto",this._pitchAlignment=v&&v.pitchAlignment&&v.pitchAlignment!=="auto"?v.pitchAlignment:this._rotationAlignment,v&&v.element)this._element=v.element,this._offset=_.Point.convert(v&&v.offset||[0,0]);else{this._defaultMarker=!0,this._element=ne.create("div"),this._element.setAttribute("aria-label","Map marker");var M=ne.createNS("http://www.w3.org/2000/svg","svg");M.setAttributeNS(null,"display","block"),M.setAttributeNS(null,"height","41px"),M.setAttributeNS(null,"width","27px"),M.setAttributeNS(null,"viewBox","0 0 27 41");var B=ne.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"stroke","none"),B.setAttributeNS(null,"stroke-width","1"),B.setAttributeNS(null,"fill","none"),B.setAttributeNS(null,"fill-rule","evenodd");var U=ne.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"fill-rule","nonzero");var X=ne.createNS("http://www.w3.org/2000/svg","g");X.setAttributeNS(null,"transform","translate(3.0, 29.0)"),X.setAttributeNS(null,"fill","#000000");for(var ce=0,Se=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ce<Se.length;ce+=1){var Le=Se[ce],Re=ne.createNS("http://www.w3.org/2000/svg","ellipse");Re.setAttributeNS(null,"opacity","0.04"),Re.setAttributeNS(null,"cx","10.5"),Re.setAttributeNS(null,"cy","5.80029008"),Re.setAttributeNS(null,"rx",Le.rx),Re.setAttributeNS(null,"ry",Le.ry),X.appendChild(Re)}var ze=ne.createNS("http://www.w3.org/2000/svg","g");ze.setAttributeNS(null,"fill",this._color);var nt=ne.createNS("http://www.w3.org/2000/svg","path");nt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ze.appendChild(nt);var Je=ne.createNS("http://www.w3.org/2000/svg","g");Je.setAttributeNS(null,"opacity","0.25"),Je.setAttributeNS(null,"fill","#000000");var ft=ne.createNS("http://www.w3.org/2000/svg","path");ft.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Je.appendChild(ft);var Ge=ne.createNS("http://www.w3.org/2000/svg","g");Ge.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Ge.setAttributeNS(null,"fill","#FFFFFF");var ct=ne.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"transform","translate(8.0, 8.0)");var mt=ne.createNS("http://www.w3.org/2000/svg","circle");mt.setAttributeNS(null,"fill","#000000"),mt.setAttributeNS(null,"opacity","0.25"),mt.setAttributeNS(null,"cx","5.5"),mt.setAttributeNS(null,"cy","5.5"),mt.setAttributeNS(null,"r","5.4999962");var wt=ne.createNS("http://www.w3.org/2000/svg","circle");wt.setAttributeNS(null,"fill","#FFFFFF"),wt.setAttributeNS(null,"cx","5.5"),wt.setAttributeNS(null,"cy","5.5"),wt.setAttributeNS(null,"r","5.4999962"),ct.appendChild(mt),ct.appendChild(wt),U.appendChild(X),U.appendChild(ze),U.appendChild(Je),U.appendChild(Ge),U.appendChild(ct),M.appendChild(U),M.setAttributeNS(null,"height",41*this._scale+"px"),M.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(M),this._offset=_.Point.convert(v&&v.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(zt){zt.preventDefault()}),this._element.addEventListener("mousedown",function(zt){zt.preventDefault()}),nh(this._element,this._anchor,"marker"),this._popup=null}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.addTo=function(v){return this.remove(),this._map=v,v.getCanvasContainer().appendChild(this._element),v.on("move",this._update),v.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},x.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),ne.remove(this._element),this._popup&&this._popup.remove(),this},x.prototype.getLngLat=function(){return this._lngLat},x.prototype.setLngLat=function(v){return this._lngLat=_.LngLat.convert(v),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},x.prototype.getElement=function(){return this._element},x.prototype.setPopup=function(v){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),v){if(!("offset"in v.options)){var C=Math.sqrt(Math.pow(13.5,2)/2);v.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[C,-1*(24.6+C)],"bottom-right":[-C,-1*(24.6+C)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=v,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},x.prototype._onKeyPress=function(v){var C=v.code,M=v.charCode||v.keyCode;C!=="Space"&&C!=="Enter"&&M!==32&&M!==13||this.togglePopup()},x.prototype._onMapClick=function(v){var C=v.originalEvent.target,M=this._element;this._popup&&(C===M||M.contains(C))&&this.togglePopup()},x.prototype.getPopup=function(){return this._popup},x.prototype.togglePopup=function(){var v=this._popup;return v?(v.isOpen()?v.remove():v.addTo(this._map),this):this},x.prototype._update=function(v){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=mu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var C="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?C="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(C="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var M="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?M="rotateX(0deg)":this._pitchAlignment==="map"&&(M="rotateX("+this._map.getPitch()+"deg)"),v&&v.type!=="moveend"||(this._pos=this._pos.round()),ne.setTransform(this._element,$i[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+M+" "+C)}},x.prototype.getOffset=function(){return this._offset},x.prototype.setOffset=function(v){return this._offset=_.Point.convert(v),this._update(),this},x.prototype._onMove=function(v){if(!this._isDragging){var C=this._clickTolerance||this._map._clickTolerance;this._isDragging=v.point.dist(this._pointerdownPos)>=C}this._isDragging&&(this._pos=v.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new _.Event("dragstart"))),this.fire(new _.Event("drag")))},x.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new _.Event("dragend")),this._state="inactive"},x.prototype._addDragHandler=function(v){this._element.contains(v.originalEvent.target)&&(v.preventDefault(),this._positionDelta=v.point.sub(this._pos).add(this._offset),this._pointerdownPos=v.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},x.prototype.setDraggable=function(v){return this._draggable=!!v,this._map&&(v?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},x.prototype.isDraggable=function(){return this._draggable},x.prototype.setRotation=function(v){return this._rotation=v||0,this._update(),this},x.prototype.getRotation=function(){return this._rotation},x.prototype.setRotationAlignment=function(v){return this._rotationAlignment=v||"auto",this._update(),this},x.prototype.getRotationAlignment=function(){return this._rotationAlignment},x.prototype.setPitchAlignment=function(v){return this._pitchAlignment=v&&v!=="auto"?v:this._rotationAlignment,this._update(),this},x.prototype.getPitchAlignment=function(){return this._pitchAlignment},x}(_.Evented),$a={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Gn=0,xa=!1,To=function(m){function x(v){m.call(this),this.options=_.extend({},$a,v),_.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.onAdd=function(v){var C;return this._map=v,this._container=ne.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),C=this._setupUI,Ru!==void 0?C(Ru):_.window.navigator.permissions!==void 0?_.window.navigator.permissions.query({name:"geolocation"}).then(function(M){C(Ru=M.state!=="denied")}):C(Ru=!!_.window.navigator.geolocation),this._container},x.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(_.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),ne.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Gn=0,xa=!1},x.prototype._isOutOfMapMaxBounds=function(v){var C=this._map.getMaxBounds(),M=v.coords;return C&&(M.longitude<C.getWest()||M.longitude>C.getEast()||M.latitude<C.getSouth()||M.latitude>C.getNorth())},x.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},x.prototype._onSuccess=function(v){if(this._map){if(this._isOutOfMapMaxBounds(v))return this._setErrorState(),this.fire(new _.Event("outofmaxbounds",v)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=v,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(v),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(v),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new _.Event("geolocate",v)),this._finish()}},x.prototype._updateCamera=function(v){var C=new _.LngLat(v.coords.longitude,v.coords.latitude),M=v.coords.accuracy,B=this._map.getBearing(),U=_.extend({bearing:B},this.options.fitBoundsOptions);this._map.fitBounds(C.toBounds(M),U,{geolocateSource:!0})},x.prototype._updateMarker=function(v){if(v){var C=new _.LngLat(v.coords.longitude,v.coords.latitude);this._accuracyCircleMarker.setLngLat(C).addTo(this._map),this._userLocationDotMarker.setLngLat(C).addTo(this._map),this._accuracy=v.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},x.prototype._updateCircleRadius=function(){var v=this._map._container.clientHeight/2,C=this._map.unproject([0,v]),M=this._map.unproject([1,v]),B=C.distanceTo(M),U=Math.ceil(2*this._accuracy/B);this._circleElement.style.width=U+"px",this._circleElement.style.height=U+"px"},x.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},x.prototype._onError=function(v){if(this._map){if(this.options.trackUserLocation)if(v.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var C=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=C,this._geolocateButton.setAttribute("aria-label",C),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(v.code===3&&xa)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new _.Event("error",v)),this._finish()}},x.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},x.prototype._setupUI=function(v){var C=this;if(this._container.addEventListener("contextmenu",function(U){return U.preventDefault()}),this._geolocateButton=ne.create("button","mapboxgl-ctrl-geolocate",this._container),ne.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",v===!1){_.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var M=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=M,this._geolocateButton.setAttribute("aria-label",M)}else{var B=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=B,this._geolocateButton.setAttribute("aria-label",B)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ne.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Cs(this._dotElement),this._circleElement=ne.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Cs({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(U){U.geolocateSource||C._watchState!=="ACTIVE_LOCK"||U.originalEvent&&U.originalEvent.type==="resize"||(C._watchState="BACKGROUND",C._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),C._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),C.fire(new _.Event("trackuserlocationend")))})},x.prototype.trigger=function(){if(!this._setup)return _.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new _.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Gn--,xa=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new _.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new _.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var v;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Gn>1?(v={maximumAge:6e5,timeout:0},xa=!0):(v=this.options.positionOptions,xa=!1),this._geolocationWatchID=_.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,v)}}else _.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},x.prototype._clearWatch=function(){_.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},x}(_.Evented),wn={maxWidth:100,unit:"metric"},ha=function(m){this.options=_.extend({},wn,m),_.bindAll(["_onMove","setUnit"],this)};function Vs(m,x,v){var C=v&&v.maxWidth||100,M=m._container.clientHeight/2,B=m.unproject([0,M]),U=m.unproject([C,M]),X=B.distanceTo(U);if(v&&v.unit==="imperial"){var ce=3.2808*X;ce>5280?Ga(x,C,ce/5280,m._getUIString("ScaleControl.Miles")):Ga(x,C,ce,m._getUIString("ScaleControl.Feet"))}else v&&v.unit==="nautical"?Ga(x,C,X/1852,m._getUIString("ScaleControl.NauticalMiles")):X>=1e3?Ga(x,C,X/1e3,m._getUIString("ScaleControl.Kilometers")):Ga(x,C,X,m._getUIString("ScaleControl.Meters"))}function Ga(m,x,v,C){var M,B,U,X=(M=v,(B=Math.pow(10,(""+Math.floor(M)).length-1))*(U=(U=M/B)>=10?10:U>=5?5:U>=3?3:U>=2?2:U>=1?1:function(ce){var Se=Math.pow(10,Math.ceil(-Math.log(ce)/Math.LN10));return Math.round(ce*Se)/Se}(U)));m.style.width=x*(X/v)+"px",m.innerHTML=X+"&nbsp;"+C}ha.prototype.getDefaultPosition=function(){return"bottom-left"},ha.prototype._onMove=function(){Vs(this._map,this._container,this.options)},ha.prototype.onAdd=function(m){return this._map=m,this._container=ne.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ha.prototype.onRemove=function(){ne.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ha.prototype.setUnit=function(m){this.options.unit=m,Vs(this._map,this._container,this.options)};var $s=function(m){this._fullscreen=!1,m&&m.container&&(m.container instanceof _.window.HTMLElement?this._container=m.container:_.warnOnce("Full screen control 'container' must be a DOM element.")),_.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in _.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in _.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in _.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in _.window.document&&(this._fullscreenchange="MSFullscreenChange")};$s.prototype.onAdd=function(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=ne.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",_.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},$s.prototype.onRemove=function(){ne.remove(this._controlContainer),this._map=null,_.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},$s.prototype._checkFullscreenSupport=function(){return!!(_.window.document.fullscreenEnabled||_.window.document.mozFullScreenEnabled||_.window.document.msFullscreenEnabled||_.window.document.webkitFullscreenEnabled)},$s.prototype._setupUI=function(){var m=this._fullscreenButton=ne.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);ne.create("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden",!0),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),_.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},$s.prototype._updateTitle=function(){var m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.title=m},$s.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},$s.prototype._isFullscreen=function(){return this._fullscreen},$s.prototype._changeIcon=function(){(_.window.document.fullscreenElement||_.window.document.mozFullScreenElement||_.window.document.webkitFullscreenElement||_.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},$s.prototype._onClickFullscreen=function(){this._isFullscreen()?_.window.document.exitFullscreen?_.window.document.exitFullscreen():_.window.document.mozCancelFullScreen?_.window.document.mozCancelFullScreen():_.window.document.msExitFullscreen?_.window.document.msExitFullscreen():_.window.document.webkitCancelFullScreen&&_.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Vc={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},gu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Wh=function(m){function x(v){m.call(this),this.options=_.extend(Object.create(Vc),v),_.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.addTo=function(v){return this._map&&this.remove(),this._map=v,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new _.Event("open")),this},x.prototype.isOpen=function(){return!!this._map},x.prototype.remove=function(){return this._content&&ne.remove(this._content),this._container&&(ne.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new _.Event("close")),this},x.prototype.getLngLat=function(){return this._lngLat},x.prototype.setLngLat=function(v){return this._lngLat=_.LngLat.convert(v),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},x.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},x.prototype.getElement=function(){return this._container},x.prototype.setText=function(v){return this.setDOMContent(_.window.document.createTextNode(v))},x.prototype.setHTML=function(v){var C,M=_.window.document.createDocumentFragment(),B=_.window.document.createElement("body");for(B.innerHTML=v;C=B.firstChild;)M.appendChild(C);return this.setDOMContent(M)},x.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},x.prototype.setMaxWidth=function(v){return this.options.maxWidth=v,this._update(),this},x.prototype.setDOMContent=function(v){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=ne.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(v),this._createCloseButton(),this._update(),this._focusFirstElement(),this},x.prototype.addClassName=function(v){this._container&&this._container.classList.add(v)},x.prototype.removeClassName=function(v){this._container&&this._container.classList.remove(v)},x.prototype.setOffset=function(v){return this.options.offset=v,this._update(),this},x.prototype.toggleClassName=function(v){if(this._container)return this._container.classList.toggle(v)},x.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=ne.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},x.prototype._onMouseUp=function(v){this._update(v.point)},x.prototype._onMouseMove=function(v){this._update(v.point)},x.prototype._onDrag=function(v){this._update(v.point)},x.prototype._update=function(v){var C=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=ne.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=ne.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Re){return C._container.classList.add(Re)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=mu(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||v)){var M=this._pos=this._trackPointer&&v?v:this._map.project(this._lngLat),B=this.options.anchor,U=function Re(ze){if(ze){if(typeof ze=="number"){var nt=Math.round(Math.sqrt(.5*Math.pow(ze,2)));return{center:new _.Point(0,0),top:new _.Point(0,ze),"top-left":new _.Point(nt,nt),"top-right":new _.Point(-nt,nt),bottom:new _.Point(0,-ze),"bottom-left":new _.Point(nt,-nt),"bottom-right":new _.Point(-nt,-nt),left:new _.Point(ze,0),right:new _.Point(-ze,0)}}if(ze instanceof _.Point||Array.isArray(ze)){var Je=_.Point.convert(ze);return{center:Je,top:Je,"top-left":Je,"top-right":Je,bottom:Je,"bottom-left":Je,"bottom-right":Je,left:Je,right:Je}}return{center:_.Point.convert(ze.center||[0,0]),top:_.Point.convert(ze.top||[0,0]),"top-left":_.Point.convert(ze["top-left"]||[0,0]),"top-right":_.Point.convert(ze["top-right"]||[0,0]),bottom:_.Point.convert(ze.bottom||[0,0]),"bottom-left":_.Point.convert(ze["bottom-left"]||[0,0]),"bottom-right":_.Point.convert(ze["bottom-right"]||[0,0]),left:_.Point.convert(ze.left||[0,0]),right:_.Point.convert(ze.right||[0,0])}}return Re(new _.Point(0,0))}(this.options.offset);if(!B){var X,ce=this._container.offsetWidth,Se=this._container.offsetHeight;X=M.y+U.bottom.y<Se?["top"]:M.y>this._map.transform.height-Se?["bottom"]:[],M.x<ce/2?X.push("left"):M.x>this._map.transform.width-ce/2&&X.push("right"),B=X.length===0?"bottom":X.join("-")}var Le=M.add(U[B]).round();ne.setTransform(this._container,$i[B]+" translate("+Le.x+"px,"+Le.y+"px)"),nh(this._container,B,"popup")}},x.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var v=this._container.querySelector(gu);v&&v.focus()}},x.prototype._onClose=function(){this.remove()},x}(_.Evented),ic={version:_.version,supported:me,setRTLTextPlugin:_.setRTLTextPlugin,getRTLTextPluginStatus:_.getRTLTextPluginStatus,Map:th,NavigationControl:ks,GeolocateControl:To,AttributionControl:ca,ScaleControl:ha,FullscreenControl:$s,Popup:Wh,Marker:Cs,Style:Ha,LngLat:_.LngLat,LngLatBounds:_.LngLatBounds,Point:_.Point,MercatorCoordinate:_.MercatorCoordinate,Evented:_.Evented,config:_.config,prewarm:function(){Ae().acquire(St)},clearPrewarmedResources:function(){var m=we;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(St),we=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return _.config.ACCESS_TOKEN},set accessToken(m){_.config.ACCESS_TOKEN=m},get baseApiUrl(){return _.config.API_URL},set baseApiUrl(m){_.config.API_URL=m},get workerCount(){return Qt.workerCount},set workerCount(m){Qt.workerCount=m},get maxParallelImageRequests(){return _.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){_.config.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage:function(m){_.clearTileCache(m)},workerUrl:""};return ic}),J})})(i);var a=n;function l(z){if(typeof z=="string"){var N=z;if(z=document.getElementById(z),!z)throw new Error("No element with id "+N)}return z}function h(z){if(!/^#([0-9a-f]{3}){1,2}$/i.test(z)&&!/^[a-z]+$/i.test(z))throw new Error("Invalid color")}function b(z,N){var V=41,Y=27,J=2,se=new z.Marker()._element.querySelector("svg");se.removeAttribute("display"),se.setAttribute("xmlns","http://www.w3.org/2000/svg"),se.setAttribute("height",V),se.setAttribute("width",Y),se.setAttribute("viewBox","0 0 "+Y+" "+V),h(N),se.querySelector("*[fill='#3FB1CE']").setAttribute("fill",N);var _=se.querySelectorAll("circle"),me=_[_.length-1];if(_.length==1){var ne=me.cloneNode();ne.setAttribute("fill","#000000"),ne.setAttribute("opacity",.25),me.parentNode.insertBefore(ne,me)}me.setAttribute("r",4.5);var de=new Image(Y*J,V*J);return de.src="data:image/svg+xml;utf8,"+encodeURIComponent(se.outerHTML),de}var S={},E=function(N,V,Y,J){var se=this;!q.library&&typeof window<"u"&&(q.library=window.mapboxgl||window.maplibregl||null);var _=q.library;if(!_)throw new Error("No mapping library found");var me,ne={},de={},he=[],be=0;N=l(N),N.id&&(S[N.id]=this);function xe(oe,ke,qe){var Yt=new XMLHttpRequest;Yt.open("GET",ke,!0),Yt.setRequestHeader("Content-Type","application/json"),Yt.onload=function(){Yt.status===200?qe(JSON.parse(Yt.responseText)):Ce(oe,Yt.statusText)},Yt.send()}function We(oe){me.loaded()?oe():me.on("load",oe)}function R(oe){return typeof oe=="number"?oe:new Date(oe).getTime()/1e3}function G(oe,ke,qe){for(var Yt=0;Yt<ke.length;Yt++){var st=ke[Yt],It=R(st.time);It&&(de[It]||(de[It]=[]),de[It].push(st),rt.extend(W(st)))}for(var Ct in de)Object.prototype.hasOwnProperty.call(de,Ct)&&he.push(parseInt(Ct));he.sort(),tr(oe,de[he[be]],qe),We(function(){setTimeout(function(){ae(oe,qe)},100)})}function ae(oe,ke){be++,pe(oe,de[he[be]],ke),be<he.length-1&&setTimeout(function(){ae(oe,ke)},100)}function Ce(oe,ke){oe.textContent=ke}function re(oe,ke,qe,Yt){try{Yt(oe,ke,qe)}catch(st){throw Ce(oe,st.message),st}}function ie(oe,ke,qe,Yt){typeof ke=="string"?xe(oe,ke,function(st){re(oe,st,qe,Yt)}):typeof ke=="function"?ke(function(st){re(oe,st,qe,Yt)},function(st){Ce(oe,st)}):re(oe,ke,qe,Yt)}function pe(oe,ke,qe){Kt(function(){qe.trail&&(ot(ke,qe.trail),me.getSource("trails").setData(et(ke))),me.getSource("objects").setData(K(ke,qe))})}var je=new window.Map;function K(oe,ke){for(var qe={type:"FeatureCollection",features:[]},Yt=0;Yt<oe.length;Yt++){var st=oe[Yt],It=Object.assign({},st),Ct=void 0;if(J==="point"){if(It.icon||(It.icon=ke.defaultIcon||"mapkick"),It.mapkickIconSize=It.icon==="mapkick"?.5:1,It.mapkickIconAnchor=It.icon==="mapkick"?"bottom":"center",It.mapkickIconOffset=It.icon==="mapkick"?[0,10]:[0,0],It.icon==="mapkick"){var ur=It.color||yt.color||"#f84d4d",sr=je.get(ur);sr===void 0&&(sr=je.size,h(ur),je.set(ur,sr)),It.icon="mapkick-"+sr}var xr=W(st);if(!xr[1])throw new Error("missing latitude (index: "+Yt+")");if(!xr[0])throw new Error("missing longitude (index: "+Yt+")");Ct={type:"Point",coordinates:xr}}else{if(Ct=st.geometry,!Ct)throw new Error("missing geometry (index: "+Yt+")");delete It.geometry,It.mapkickColor=It.color||yt.color||"#0090ff"}qe.features.push({type:"Feature",id:Yt,geometry:Ct,properties:It})}return qe}function W(oe){return[oe.longitude||oe.lng||oe.lon,oe.latitude||oe.lat]}function Ze(oe){return oe.id}function ot(oe,ke){for(var qe=0;qe<oe.length;qe++){var Yt=oe[qe],st=Ze(Yt);ne[st]||(ne[st]=[]),ne[st].push(W(Yt)),ke&&ke.len&&ne[st].length>ke.len&&ne[st].shift()}}function et(oe){for(var ke={type:"FeatureCollection",features:[]},qe=0;qe<oe.length;qe++){var Yt=oe[qe];ke.features.push({type:"Feature",geometry:{type:"LineString",coordinates:ne[Ze(Yt)]}})}return ke}function Pt(oe){for(var ke={type:"FeatureCollection",features:[]},qe=0;qe<oe.features.length;qe++){var Yt=oe.features[qe],st=void 0,It=new _.LngLatBounds;if(Lt(It,Yt.geometry),!It.isEmpty()){var Ct=It.getCenter();st=[Ct.lng,Ct.lat]}st&&ke.features.push({type:"Feature",id:qe,geometry:{type:"Point",coordinates:st},properties:Yt.properties})}return ke}function Tt(oe){for(var ke=oe.getStyle().layers,qe,Yt=ke.length-1;Yt>=0;Yt--){var st=ke[Yt];if(!(st.metadata&&st.metadata["mapbox:featureComponent"]==="place-labels"))break;qe=st.id}return qe}function Ht(oe,ke){var qe={};if(me.addSource(oe,{type:"geojson",data:ke}),J==="point")me.addLayer({id:oe+"-text",source:oe,type:"symbol",layout:{"text-field":"{label}","text-size":11,"text-anchor":"top","text-offset":[0,1]},paint:{"text-halo-color":"rgba(255, 255, 255, 1)","text-halo-width":1}}),me.addLayer({id:oe,source:oe,type:"symbol",layout:{"icon-image":"{icon}-15","icon-allow-overlap":!0,"icon-size":{type:"identity",property:"mapkickIconSize"},"icon-anchor":{type:"identity",property:"mapkickIconAnchor"},"icon-offset":{type:"identity",property:"mapkickIconOffset"}}});else{var Yt=Tt(me),st=oe+"-outline";me.addLayer({id:st,source:oe,type:"line",paint:{"line-color":{type:"identity",property:"mapkickColor"},"line-opacity":.7,"line-width":1}},Yt),me.addLayer({id:oe,source:oe,type:"fill",paint:{"fill-color":{type:"identity",property:"mapkickColor"},"fill-opacity":.3}},st);for(var It=oe+"-text",Ct=Pt(ke),ur=0;ur<Ct.features.length;ur++){var sr=Ct.features[ur];qe[sr.id]=sr.geometry.coordinates}me.addSource(It,{type:"geojson",data:Ct}),me.addLayer({id:oe+"-text",source:It,type:"symbol",layout:{"text-field":"{label}","text-size":11},paint:{"text-halo-color":"rgba(255, 255, 255, 1)","text-halo-width":1}})}var xr=!("hover"in kt)||kt.hover,fr={closeButton:!1,closeOnClick:!1};xr||(fr.anchor="bottom");var Ve=new _.Popup(fr),at=function($r,gt){var Dt=window.getComputedStyle(gt.getElement()),hr=new DOMMatrixReadOnly(Dt.transform),zr=5,wr=5,Gr=hr.m42,mn=hr.m41;(Gr<zr||mn<zr)&&$r.panBy([Math.min(mn-zr-wr,0),Math.min(Gr-zr-wr,0)])},Ut=function($r){var gt=Xn($r),Dt=gt.properties.tooltip;if(!!Dt){J==="point"&&gt.properties.icon.startsWith("mapkick-")?Ve.options.offset={top:[0,14],"top-left":[0,14],"top-right":[0,14],bottom:[0,-44],"bottom-left":[0,-44],"bottom-right":[0,-44],left:[14,0],right:[-14,0]}:Ve.options.offset=14;var hr;J==="point"?hr=gt.geometry.coordinates:hr=qe[gt.id],Ve.setLngLat(hr),kt.html?Ve.setHTML(Dt):Ve.setText(Dt),Ve.addTo(me),Ve._container.offsetWidth%2!==0&&(Ve._container.style.width=Ve._container.offsetWidth+1+"px"),J!=="area"&&at(me,Ve)}},vr=function($r){return $r.geometry.coordinates[1]},Xn=function($r){for(var gt=$r.features,Dt=gt[0],hr=1;hr<gt.length;hr++){var zr=gt[hr];vr(zr)<vr(Dt)&&(Dt=zr)}return Dt};if(!xr){var _r=null;me.on("click",oe,function($r){var gt=Xn($r).id;gt!==_r&&(Ut($r),_r=gt,$r.mapkickPopupOpened=!0)}),me.on("click",function($r){$r.mapkickPopupOpened||(Ve.remove(),_r=null)})}me.on("mouseenter",oe,function($r){var gt=Xn($r).properties.tooltip;gt&&(me.getCanvas().style.cursor="pointer",xr&&Ut($r))}),me.on("mouseleave",oe,function(){me.getCanvas().style.cursor="",xr&&Ve.remove()})}function Lt(oe,ke){if(ke.type==="Point")oe.extend(ke.coordinates);else if(ke.type==="Polygon")for(var qe=ke.coordinates[0],Yt=0;Yt<qe.length;Yt++)oe.extend(qe[Yt]);else if(ke.type==="MultiPolygon")for(var st=ke.coordinates,It=0;It<st.length;It++)for(var Ct=st[It][0],ur=0;ur<Ct.length;ur++)oe.extend(Ct[ur])}var tr=function(oe,ke,qe){var Yt=K(ke,qe);qe=qe||{};for(var st=0;st<Yt.features.length;st++)Lt(rt,Yt.features[st].geometry);oe.textContent="";var It=qe.style;if(!It){var Ct=!("accessToken"in _)||/^1\.1[45]/.test(_.version);if(Ct)throw new Error("style required for MapLibre");It="mapbox://styles/mapbox/streets-v12"}var ur=qe.zoom,sr=qe.center;sr||(rt.isEmpty()?(sr=[0,0],ur||(ur=1)):sr=rt.getCenter());var xr={container:oe,style:It,dragRotate:!1,touchZoomRotate:!1,center:sr,zoom:ur||15};qe.style||(xr.projection="mercator"),qe.accessToken&&(xr.accessToken=qe.accessToken),me=new _.Map(xr),qe.controls&&me.addControl(new _.NavigationControl({showCompass:!1})),qe.zoom||(me.style.stylesheet||(me.style.stylesheet={}),rt.isEmpty()||me.fitBounds(rt,{padding:40,animate:!1,maxZoom:15})),se.map=me,We(function(){qe.trail&&(ot(ke),me.addSource("trails",{type:"geojson",data:et([])}),me.addLayer({id:"trails",source:"trails",type:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":2}}));var fr=je.size;function Ve(){if(fr!==0){fr--;return}Ht("objects",Yt),or=!0;for(var at;at=br.shift();)at()}je.forEach(function(at,Ut){var vr=b(_,Ut);vr.addEventListener("load",function(){me.addImage("mapkick-"+at+"-15",vr),Ve()})}),Ve()})},or=!1,br=[];function Kt(oe){or?oe():br.push(oe)}Y=Y||{},Y=Object.assign({},q.options,Y);var kt=Y.tooltips||{},yt=Y.markers||{},rt=new _.LngLatBounds;Y.replay?ie(N,V,Y,G):(ie(N,V,Y,tr),Y.refresh&&(this.intervalId=setInterval(function(){ie(N,V,Y,pe)},Y.refresh*1e3)))};E.prototype.getMapObject=function(){return this.map},E.prototype.destroy=function(){this.stopRefresh(),this.map&&(this.map.remove(),this.map=null)},E.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)};var O=function(z){function N(V,Y,J){z.call(this,V,Y,J,"point")}return z&&(N.__proto__=z),N.prototype=Object.create(z&&z.prototype),N.prototype.constructor=N,N}(E),P=function(z){function N(V,Y,J){z.call(this,V,Y,J,"area")}return z&&(N.__proto__=z),N.prototype=Object.create(z&&z.prototype),N.prototype.constructor=N,N}(E),q={Map:O,AreaMap:P,maps:S,options:{},library:null};return q.use=function(z){q.library=z},typeof window<"u"&&!window.Mapkick&&(window.Mapkick=q,setTimeout(function(){window.dispatchEvent(new Event("mapkick:load"))},0)),q.use(a),q})});function FJe(r){if("immediatePropagationStopped"in r)return r;{let{stopImmediatePropagation:e}=r;return Object.assign(r,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}function NJe(r){let t=r.trim().match(zJe)||[],n=t[1],i=t[2];return i&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${i}`,i=""),{eventTarget:BJe(t[3]),eventName:n,eventOptions:t[6]?jJe(t[6]):{},identifier:t[4],methodName:t[5],keyFilter:i}}function BJe(r){if(r=="window")return window;if(r=="document")return document}function jJe(r){return r.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function UJe(r){if(r==window)return"window";if(r==document)return"document"}function m3(r){return r.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function d3(r){return m3(r.replace(/--/g,"-").replace(/__/g,"_"))}function mw(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Qae(r){return r.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function HJe(r){return r.match(/[^\s]+/g)||[]}function WJe(r){let e=r.tagName.toLowerCase();if(e in Gae)return Gae[e](r)}function lA(r){throw new Error(r)}function VJe(r){try{return JSON.parse(r)}catch{return r}}function $Je(r,e,t){nse(r,e).add(t)}function GJe(r,e,t){nse(r,e).delete(t),KJe(r,e)}function nse(r,e){let t=r.get(e);return t||(t=new Set,r.set(e,t)),t}function KJe(r,e){let t=r.get(e);t!=null&&t.size==0&&r.delete(e)}function YJe(r,e,t){return r.trim().split(/\s+/).filter(n=>n.length).map((n,i)=>({element:e,attributeName:t,content:n,index:i}))}function ZJe(r,e){let t=Math.max(r.length,e.length);return Array.from({length:t},(n,i)=>[r[i],e[i]])}function XJe(r,e){return r&&e&&r.index==e.index&&r.content==e.content}function gw(r,e){let t=use(r);return Array.from(t.reduce((n,i)=>(QJe(i,e).forEach(a=>n.add(a)),n),new Set))}function JJe(r,e){return use(r).reduce((n,i)=>(n.push(...eQe(i,e)),n),[])}function use(r){let e=[];for(;r;)e.push(r),r=Object.getPrototypeOf(r);return e.reverse()}function QJe(r,e){let t=r[e];return Array.isArray(t)?t:[]}function eQe(r,e){let t=r[e];return t?Object.keys(t).map(n=>[n,t[n]]):[]}function tQe(r){return rQe(r,nQe(r))}function rQe(r,e){let t=sQe(r),n=iQe(r.prototype,e);return Object.defineProperties(t.prototype,n),t}function nQe(r){return gw(r,"blessings").reduce((t,n)=>{let i=n(r);for(let a in i){let l=t[a]||{};t[a]=Object.assign(l,i[a])}return t},{})}function iQe(r,e){return aQe(e).reduce((t,n)=>{let i=oQe(r,e,n);return i&&Object.assign(t,{[n]:i}),t},{})}function oQe(r,e,t){let n=Object.getOwnPropertyDescriptor(r,t);if(!(n&&"value"in n)){let a=Object.getOwnPropertyDescriptor(e,t).value;return n&&(a.get=n.get||a.get,a.set=n.set||a.set),a}}function lQe(r){return{identifier:r.identifier,controllerConstructor:tQe(r.controllerConstructor)}}function p3(r,e){return`[${r}~="${e}"]`}function Kae(r){return r.reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n}),{})}function cQe(){return new Promise(r=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>r()):r()})}function fQe(r){return gw(r,"classes").reduce((t,n)=>Object.assign(t,hQe(n)),{})}function hQe(r){return{[`${r}Class`]:{get(){let{classes:e}=this;if(e.has(r))return e.get(r);{let t=e.getAttributeName(r);throw new Error(`Missing attribute "${t}"`)}}},[`${r}Classes`]:{get(){return this.classes.getAll(r)}},[`has${mw(r)}Class`]:{get(){return this.classes.has(r)}}}}function dQe(r){return gw(r,"outlets").reduce((t,n)=>Object.assign(t,pQe(n)),{})}function pQe(r){let e=d3(r);return{[`${e}Outlet`]:{get(){let t=this.outlets.find(r);if(t){let n=this.application.getControllerForElementAndIdentifier(t,r);if(n)return n;throw new Error(`Missing "data-controller=${r}" attribute on outlet element for "${this.identifier}" controller`)}throw new Error(`Missing outlet element "${r}" for "${this.identifier}" controller`)}},[`${e}Outlets`]:{get(){let t=this.outlets.findAll(r);return t.length>0?t.map(n=>{let i=this.application.getControllerForElementAndIdentifier(n,r);if(i)return i;console.warn(`The provided outlet element is missing the outlet controller "${r}" for "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let t=this.outlets.find(r);if(t)return t;throw new Error(`Missing outlet element "${r}" for "${this.identifier}" controller`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(r)}},[`has${mw(e)}Outlet`]:{get(){return this.outlets.has(r)}}}}function mQe(r){return gw(r,"targets").reduce((t,n)=>Object.assign(t,gQe(n)),{})}function gQe(r){return{[`${r}Target`]:{get(){let e=this.targets.find(r);if(e)return e;throw new Error(`Missing target element "${r}" for "${this.identifier}" controller`)}},[`${r}Targets`]:{get(){return this.targets.findAll(r)}},[`has${mw(r)}Target`]:{get(){return this.targets.has(r)}}}}function vQe(r){let e=JJe(r,"values"),t={valueDescriptorMap:{get(){return e.reduce((n,i)=>{let a=xse(i,this.identifier),l=this.data.getAttributeNameForKey(a.key);return Object.assign(n,{[l]:a})},{})}}};return e.reduce((n,i)=>Object.assign(n,yQe(i)),t)}function yQe(r,e){let t=xse(r,e),{key:n,name:i,reader:a,writer:l}=t;return{[i]:{get(){let h=this.data.get(n);return h!==null?a(h):t.defaultValue},set(h){h===void 0?this.data.delete(n):this.data.set(n,l(h))}},[`has${mw(i)}`]:{get(){return this.data.has(n)||t.hasCustomDefaultValue}}}}function xse([r,e],t){return wQe({controller:t,token:r,typeDefinition:e})}function x3(r){switch(r){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function pw(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(r))return"array";if(Object.prototype.toString.call(r)==="[object Object]")return"object"}function bQe(r){let e=x3(r.typeObject.type);if(!e)return;let t=pw(r.typeObject.default);if(e!==t){let n=r.controller?`${r.controller}.${r.token}`:r.token;throw new Error(`The specified default value for the Stimulus Value "${n}" must match the defined type "${e}". The provided default value of "${r.typeObject.default}" is of type "${t}".`)}return e}function xQe(r){let e=bQe({controller:r.controller,token:r.token,typeObject:r.typeDefinition}),t=pw(r.typeDefinition),n=x3(r.typeDefinition),i=e||t||n;if(i)return i;let a=r.controller?`${r.controller}.${r.typeDefinition}`:r.token;throw new Error(`Unknown value type "${a}" for "${r.token}" value`)}function _Qe(r){let e=x3(r);if(e)return SQe[e];let t=r.default;return t!==void 0?t:r}function wQe(r){let e=`${Qae(r.token)}-value`,t=xQe(r);return{type:t,key:e,name:m3(e),get defaultValue(){return _Qe(r.typeDefinition)},get hasCustomDefaultValue(){return pw(r.typeDefinition)!==void 0},reader:kQe[t],writer:Yae[t]||Yae.default}}function Zae(r){return JSON.stringify(r)}function CQe(r){return`${r}`}var Xae,Jae,qJe,zJe,ese,Gae,tse,g3,rse,ng,ise,ose,v3,y3,ase,sse,lse,cse,fse,aQe,sQe,hse,dse,pse,mse,gse,vse,uA,yse,bse,uQe,b3,SQe,kQe,Yae,qr,mi=He(()=>{Xae=class{constructor(e,t,n){this.eventTarget=e,this.eventName=t,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let t=FJe(e);for(let n of this.bindings){if(t.immediatePropagationStopped)break;n.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{let n=e.index,i=t.index;return n<i?-1:n>i?1:0})}};Jae=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,n={}){this.application.handleError(e,`Error ${t}`,n)}clearEventListenersForBinding(e){let t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:t,eventName:n,eventOptions:i}=e,a=this.fetchEventListenerMapForEventTarget(t),l=this.cacheKey(n,i);a.delete(l),a.size==0&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){let{eventTarget:t,eventName:n,eventOptions:i}=e;return this.fetchEventListener(t,n,i)}fetchEventListener(e,t,n){let i=this.fetchEventListenerMapForEventTarget(e),a=this.cacheKey(t,n),l=i.get(a);return l||(l=this.createEventListener(e,t,n),i.set(a,l)),l}createEventListener(e,t,n){let i=new Xae(e,t,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){let n=[e];return Object.keys(t).sort().forEach(i=>{n.push(`${t[i]?"":"!"}${i}`)}),n.join(":")}},qJe={stop({event:r,value:e}){return e&&r.stopPropagation(),!0},prevent({event:r,value:e}){return e&&r.preventDefault(),!0},self({event:r,value:e,element:t}){return e?t===r.target:!0}},zJe=/^(?:(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;ese=class{constructor(e,t,n,i){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||WJe(e)||lA("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||lA("missing identifier"),this.methodName=n.methodName||lA("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=i}static forToken(e,t){return new this(e.element,e.index,NJe(e.content),t)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}isFilterTarget(e){if(!this.keyFilter)return!1;let t=this.keyFilter.split("+"),n=["meta","ctrl","alt","shift"],[i,a,l,h]=n.map(S=>t.includes(S));if(e.metaKey!==i||e.ctrlKey!==a||e.altKey!==l||e.shiftKey!==h)return!0;let b=t.filter(S=>!n.includes(S))[0];return b?(Object.prototype.hasOwnProperty.call(this.keyMappings,b)||lA(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[b].toLowerCase()!==e.key.toLowerCase()):!1}get params(){let e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:i}of Array.from(this.element.attributes)){let a=n.match(t),l=a&&a[1];l&&(e[m3(l)]=VJe(i))}return e}get eventTargetName(){return UJe(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}},Gae={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:r=>r.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};tse=class{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){this.willBeInvokedByEvent(e)&&this.applyEventModifiers(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:t}=this.action,{actionDescriptorFilters:n}=this.context.application,i=!0;for(let[a,l]of Object.entries(this.eventOptions))if(a in n){let h=n[a];i=i&&h({name:a,value:l,event:e,element:t})}else continue;return i}invokeWithEvent(e){let{target:t,currentTarget:n}=e;try{let{params:i}=this.action,a=Object.assign(e,{params:i});this.method.call(this.controller,a),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:n,action:this.methodName})}catch(i){let{identifier:a,controller:l,element:h,index:b}=this,S={identifier:a,controller:l,element:h,index:b,event:e};this.context.handleError(i,`invoking action "${this.action}"`,S)}}willBeInvokedByEvent(e){let t=e.target;return e instanceof KeyboardEvent&&this.action.isFilterTarget(e)?!1:this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},g3=class{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(let t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(let t of e)this.processMutation(t)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){let n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)}processRemovedNodes(e){for(let t of Array.from(e)){let n=this.elementFromNode(t);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let t of Array.from(e)){let n=this.elementFromNode(t);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(let n of this.matchElementsInTree(e))t.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},rse=class{constructor(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new g3(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}};ng=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,n)=>t.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,n)=>t+n.size,0)}add(e,t){$Je(this.valuesByKey,e,t)}delete(e,t){GJe(this.valuesByKey,e,t)}has(e,t){let n=this.valuesByKey.get(e);return n!=null&&n.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,n])=>n.has(e)).map(([t,n])=>t)}},ise=class{constructor(e,t,n,i={}){this.selector=t,this.details=i,this.elementObserver=new g3(e,this),this.delegate=n,this.matchesByElement=new ng}get started(){return this.elementObserver.started}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let t=e.matches(this.selector);return this.delegate.selectorMatchElement?t&&this.delegate.selectorMatchElement(e,this.details):t}matchElementsInTree(e){let t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector)).filter(i=>this.matchElement(i));return t.concat(n)}elementMatched(e){this.selectorMatched(e)}elementUnmatched(e){this.selectorUnmatched(e)}elementAttributeChanged(e,t){let n=this.matchElement(e),i=this.matchesByElement.has(this.selector,e);!n&&i&&this.selectorUnmatched(e)}selectorMatched(e){this.delegate.selectorMatched&&(this.delegate.selectorMatched(e,this.selector,this.details),this.matchesByElement.add(this.selector,e))}selectorUnmatched(e){this.delegate.selectorUnmatched(e,this.selector,this.details),this.matchesByElement.delete(this.selector,e)}},ose=class{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let t of e)this.processMutation(t)}processMutation(e){let t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,n,t),i==null){let a=this.stringMap.get(e);this.stringMap.delete(e),a&&this.stringMapKeyRemoved(n,e,a)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,n)}stringMapKeyRemoved(e,t,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},v3=class{constructor(e,t,n){this.attributeObserver=new rse(e,t,this),this.delegate=n,this.tokensByElement=new ng}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[t,n]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(t=>this.tokenMatched(t))}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=ZJe(t,n).findIndex(([a,l])=>!XJe(a,l));return i==-1?[[],[]]:[t.slice(i),n.slice(i)]}readTokensForElement(e){let t=this.attributeName,n=e.getAttribute(t)||"";return YJe(n,e,t)}};y3=class{constructor(e,t,n){this.tokenListObserver=new v3(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))}tokenUnmatched(e){let{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(t){return{error:t}}}},ase=class{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new y3(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let t=new tse(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){let t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let t=ese.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}},sse=class{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new ose(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){let n=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,t,n){let i=this.valueDescriptorNameMap[t];e!==null&&(n===null&&(n=i.writer(i.defaultValue)),this.invokeChangedCallback(t,e,n))}stringMapKeyRemoved(e,t,n){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),n):this.invokeChangedCallback(e,i.writer(i.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:t,defaultValue:n,writer:i}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,i(n),void 0)}invokeChangedCallback(e,t,n){let i=`${e}Changed`,a=this.receiver[i];if(typeof a=="function"){let l=this.valueDescriptorNameMap[e];try{let h=l.reader(t),b=n;n&&(b=l.reader(n)),a.call(this.receiver,h,b)}catch(h){throw h instanceof TypeError&&(h.message=`Stimulus Value "${this.context.identifier}.${l.name}" - ${h.message}`),h}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{let n=this.valueDescriptorMap[t];e[n.name]=n}),e}hasValue(e){let t=this.valueDescriptorNameMap[e],n=`has${mw(t.name)}`;return this.receiver[n]}},lse=class{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new ng}start(){this.tokenListObserver||(this.tokenListObserver=new v3(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var n;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,t)))}disconnectTarget(e,t){var n;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,t)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};cse=class{constructor(e,t){this.context=e,this.delegate=t,this.outletsByName=new ng,this.outletElementsByName=new ng,this.selectorObserverMap=new Map}start(){this.selectorObserverMap.size===0&&(this.outletDefinitions.forEach(e=>{let t=this.selector(e),n={outletName:e};t&&this.selectorObserverMap.set(e,new ise(document.body,t,this,n))}),this.selectorObserverMap.forEach(e=>e.start())),this.dependentContexts.forEach(e=>e.refresh())}stop(){this.selectorObserverMap.size>0&&(this.disconnectAllOutlets(),this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}refresh(){this.selectorObserverMap.forEach(e=>e.refresh())}selectorMatched(e,t,{outletName:n}){let i=this.getOutlet(e,n);i&&this.connectOutlet(i,e,n)}selectorUnmatched(e,t,{outletName:n}){let i=this.getOutletFromMap(e,n);i&&this.disconnectOutlet(i,e,n)}selectorMatchElement(e,{outletName:t}){return this.hasOutlet(e,t)&&e.matches(`[${this.context.application.schema.controllerAttribute}~=${t}]`)}connectOutlet(e,t,n){var i;this.outletElementsByName.has(n,t)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,t),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,t,n)))}disconnectOutlet(e,t,n){var i;this.outletElementsByName.has(n,t)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,t),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,t,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let t of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,t,e)}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}get outletDependencies(){let e=new ng;return this.router.modules.forEach(t=>{let n=t.definition.controllerConstructor;gw(n,"outlets").forEach(a=>e.add(a,t.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(t=>e.includes(t.identifier))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find(n=>n.element===e)}get scope(){return this.context.scope}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},fse=class{constructor(e,t){this.logDebugActivity=(n,i={})=>{let{identifier:a,controller:l,element:h}=this;i=Object.assign({identifier:a,controller:l,element:h},i),this.application.logDebugActivity(this.identifier,n,i)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new ase(this,this.dispatcher),this.valueObserver=new sse(this,this.controller),this.targetObserver=new lse(this,this),this.outletObserver=new cse(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,n={}){let{identifier:i,controller:a,element:l}=this;n=Object.assign({identifier:i,controller:a,element:l},n),this.application.handleError(e,`Error ${t}`,n)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,n){this.invokeControllerMethod(`${d3(n)}OutletConnected`,e,t)}outletDisconnected(e,t,n){this.invokeControllerMethod(`${d3(n)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){let n=this.controller;typeof n[e]=="function"&&n[e](...t)}};aQe=(()=>typeof Object.getOwnPropertySymbols=="function"?r=>[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)]:Object.getOwnPropertyNames)(),sQe=(()=>{function r(t){function n(){return Reflect.construct(t,arguments,new.target)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,t),n}function e(){let n=r(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),r}catch{return n=>class extends n{}}})();hse=class{constructor(e,t){this.application=e,this.definition=lQe(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){let t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new fse(this,e),this.contextsByScope.set(e,t)),t}},dse=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let t=this.data.get(this.getDataKey(e))||"";return HJe(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},pse=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,t),this.get(e)}has(e){let t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){let t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Qae(e)}`}},mse=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,n){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(t)||(i.add(t),this.logger.warn(n,e))}};gse=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,n)=>t||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((t,n)=>[...t,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){let t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){let t=this.schema.targetAttributeForScope(this.identifier);return p3(t,e)}findLegacyTarget(e){let t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){let t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let t=`${this.identifier}.${e}`;return p3(this.schema.targetAttribute,t)}deprecate(e,t){if(e){let{identifier:n}=this,i=this.schema.targetAttribute,a=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${t}`,`Please replace ${i}="${n}.${t}" with ${a}="${t}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},vse=class{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,n)=>t||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((t,n)=>[...t,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){let t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){let t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))}matchesElement(e,t,n){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&i.split(" ").includes(n)}},uA=class{constructor(e,t,n,i){this.targets=new gse(this),this.classes=new dse(this),this.data=new pse(this),this.containsElement=a=>a.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=n,this.guide=new mse(i),this.outlets=new vse(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return p3(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new uA(this.schema,document.documentElement,this.identifier,this.guide.logger)}},yse=class{constructor(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new y3(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:t,content:n}=e,i=this.fetchScopesByIdentifierForElement(t),a=i.get(n);return a||(a=this.delegate.createScopeForElementAndIdentifier(t,n),i.set(n,a)),a}elementMatchedValue(e,t){let n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),n==1&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){let n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),n==1&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}},bse=class{constructor(e){this.application=e,this.scopeObserver=new yse(this.element,this.schema,this),this.scopesByIdentifier=new ng,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let t=new hse(this.application,e);this.connectModule(t);let n=e.controllerConstructor.afterLoad;n&&n(e.identifier,this.application)}unloadIdentifier(e){let t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){let n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find(i=>i.element==e)}handleError(e,t,n){this.application.handleError(e,t,n)}createScopeForElementAndIdentifier(e,t){return new uA(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},uQe={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:r=>`data-${r}-target`,outletAttributeForScope:(r,e)=>`data-${r}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End"},Kae("abcdefghijklmnopqrstuvwxyz".split("").map(r=>[r,r]))),Kae("0123456789".split("").map(r=>[r,r])))};b3=class{constructor(e=document.documentElement,t=uQe){this.logger=console,this.debug=!1,this.logDebugActivity=(n,i,a={})=>{this.debug&&this.logFormattedMessage(n,i,a)},this.element=e,this.schema=t,this.dispatcher=new Jae(this),this.router=new bse(this),this.actionDescriptorFilters=Object.assign({},qJe)}static start(e,t){let n=new this(e,t);return n.start(),n}async start(){await cQe(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){let n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null}handleError(e,t,n){var i;this.logger.error(`%s

%o

%o`,t,e,n),(i=window.onerror)===null||i===void 0||i.call(window,t,"",0,0,e)}logFormattedMessage(e,t,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};SQe={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},kQe={array(r){let e=JSON.parse(r);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${r}" of type "${pw(e)}"`);return e},boolean(r){return!(r=="0"||String(r).toLowerCase()=="false")},number(r){return Number(r)},object(r){let e=JSON.parse(r);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${r}" of type "${pw(e)}"`);return e},string(r){return r}},Yae={default:CQe,array:Zae,object:Zae};qr=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:i=this.identifier,bubbles:a=!0,cancelable:l=!0}={}){let h=i?`${i}:${e}`:e,b=new CustomEvent(h,{detail:n,bubbles:a,cancelable:l});return t.dispatchEvent(b),b}};qr.blessings=[fQe,mQe,vQe,dQe];qr.targets=[];qr.outlets=[];qr.values={}});var vw,_se,cA,_3,wse,w3,fA,Sse,kse,Cse=He(()=>{mi();vw=class extends qr{initialize(){this.hide()}connect(){setTimeout(()=>{this.show()},this.showAfter),this.hasDismissAfterValue&&setTimeout(()=>{this.close()},this.dismissAfterValue)}close(){this.hide(),setTimeout(()=>{this.element.remove()},this.removeAfter)}show(){this.element.classList.add(...this.showClasses),this.element.classList.remove(...this.hideClasses)}hide(){this.element.classList.add(...this.hideClasses),this.element.classList.remove(...this.showClasses)}get removeAfter(){return this.hasRemoveDelayValue?this.removeDelayValue:1100}get showAfter(){return this.hasShowDelayValue?this.showDelayValue:200}};vw.values={dismissAfter:Number,showDelay:Number,removeDelay:Number},vw.classes=["show","hide"];_se=class extends qr{connect(){this.timeout=null,this.duration=this.data.get("duration")||1e3}save(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.statusTarget.textContent="Saving...",Rails.fire(this.formTarget,"submit")},this.duration)}success(){this.setStatus("Saved!")}error(){this.setStatus("Unable to save!")}setStatus(e){this.statusTarget.textContent=e,this.timeout=setTimeout(()=>{this.statusTarget.textContent=""},2e3)}};_se.targets=["form","status"];cA=class extends qr{constructor(...e){super(...e),this._onMenuButtonKeydown=t=>{switch(t.keyCode){case 13:case 32:t.preventDefault(),this.toggle()}}}connect(){this.toggleClass=this.data.get("class")||"hidden",this.visibleClass=this.data.get("visibleClass")||null,this.invisibleClass=this.data.get("invisibleClass")||null,this.activeClass=this.data.get("activeClass")||null,this.enteringClass=this.data.get("enteringClass")||null,this.leavingClass=this.data.get("leavingClass")||null,this.hasButtonTarget&&this.buttonTarget.addEventListener("keydown",this._onMenuButtonKeydown),this.element.setAttribute("aria-haspopup","true")}disconnect(){this.hasButtonTarget&&this.buttonTarget.removeEventListener("keydown",this._onMenuButtonKeydown)}toggle(){this.openValue=!this.openValue}openValueChanged(){this.openValue?this._show():this._hide()}_show(e){setTimeout((()=>{this.menuTarget.classList.remove(this.toggleClass),this.element.setAttribute("aria-expanded","true"),this._enteringClassList[0].forEach((t=>{this.menuTarget.classList.add(t)}).bind(this)),this._activeClassList[0].forEach(t=>{this.activeTarget.classList.add(t)}),this._invisibleClassList[0].forEach(t=>this.menuTarget.classList.remove(t)),this._visibleClassList[0].forEach(t=>{this.menuTarget.classList.add(t)}),setTimeout((()=>{this._enteringClassList[0].forEach(t=>this.menuTarget.classList.remove(t))}).bind(this),this.enterTimeout[0]),typeof e=="function"&&e()}).bind(this))}_hide(e){setTimeout((()=>{this.element.setAttribute("aria-expanded","false"),this._invisibleClassList[0].forEach(t=>this.menuTarget.classList.add(t)),this._visibleClassList[0].forEach(t=>this.menuTarget.classList.remove(t)),this._activeClassList[0].forEach(t=>this.activeTarget.classList.remove(t)),this._leavingClassList[0].forEach(t=>this.menuTarget.classList.add(t)),setTimeout((()=>{this._leavingClassList[0].forEach(t=>this.menuTarget.classList.remove(t)),typeof e=="function"&&e(),this.menuTarget.classList.add(this.toggleClass)}).bind(this),this.leaveTimeout[0])}).bind(this))}show(){this.openValue=!0}hide(e){this.element.contains(e.target)===!1&&this.openValue&&(this.openValue=!1)}get activeTarget(){return this.data.has("activeTarget")?document.querySelector(this.data.get("activeTarget")):this.element}get _activeClassList(){return this.activeClass?this.activeClass.split(",").map(e=>e.split(" ")):[[],[]]}get _visibleClassList(){return this.visibleClass?this.visibleClass.split(",").map(e=>e.split(" ")):[[],[]]}get _invisibleClassList(){return this.invisibleClass?this.invisibleClass.split(",").map(e=>e.split(" ")):[[],[]]}get _enteringClassList(){return this.enteringClass?this.enteringClass.split(",").map(e=>e.split(" ")):[[],[]]}get _leavingClassList(){return this.leavingClass?this.leavingClass.split(",").map(e=>e.split(" ")):[[],[]]}get enterTimeout(){return(this.data.get("enterTimeout")||"0,0").split(",").map(e=>parseInt(e))}get leaveTimeout(){return(this.data.get("leaveTimeout")||"0,0").split(",").map(e=>parseInt(e))}};cA.targets=["menu","button"],cA.values={open:Boolean};_3=class extends qr{connect(){this.toggleClass=this.data.get("class")||"hidden",this.backgroundId=this.data.get("backgroundId")||"modal-background",this.backgroundHtml=this.data.get("backgroundHtml")||this._backgroundHTML(),this.allowBackgroundClose=(this.data.get("allowBackgroundClose")||"true")==="true",this.preventDefaultActionOpening=(this.data.get("preventDefaultActionOpening")||"true")==="true",this.preventDefaultActionClosing=(this.data.get("preventDefaultActionClosing")||"true")==="true"}disconnect(){this.close()}open(e){this.preventDefaultActionOpening&&e.preventDefault(),e.target.blur&&e.target.blur(),this.lockScroll(),this.containerTarget.classList.remove(this.toggleClass),this.data.get("disable-backdrop")||(document.body.insertAdjacentHTML("beforeend",this.backgroundHtml),this.background=document.querySelector(`#${this.backgroundId}`))}close(e){e&&this.preventDefaultActionClosing&&e.preventDefault(),this.unlockScroll(),this.containerTarget.classList.add(this.toggleClass),this.background&&this.background.remove()}closeBackground(e){this.allowBackgroundClose&&e.target===this.containerTarget&&this.close(e)}closeWithKeyboard(e){e.keyCode!==27||this.containerTarget.classList.contains(this.toggleClass)||this.close(e)}_backgroundHTML(){return`<div id="${this.backgroundId}" class="fixed top-0 left-0 w-full h-full" style="background-color: ${this.backdropColorValue}; z-index: 9998;"></div>`}lockScroll(){let e=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=`${e}px`,this.saveScrollPosition(),document.body.classList.add("fixed","inset-x-0","overflow-hidden"),document.body.style.top=`-${this.scrollPosition}px`}unlockScroll(){document.body.style.paddingRight=null,document.body.classList.remove("fixed","inset-x-0","overflow-hidden"),this.restoreScrollValue&&this.restoreScrollPosition(),document.body.style.top=null}saveScrollPosition(){this.scrollPosition=window.pageYOffset||document.body.scrollTop}restoreScrollPosition(){this.scrollPosition!==void 0&&(document.documentElement.scrollTop=this.scrollPosition)}};_3.targets=["container"],_3.values={backdropColor:{type:String,default:"rgba(0, 0, 0, 0.8)"},restoreScroll:{type:Boolean,default:!0}};wse=class extends qr{connect(){this.activeTabClasses=(this.data.get("activeTab")||"active").split(" "),this.inactiveTabClasses=(this.data.get("inactiveTab")||"inactive").split(" "),this.anchor&&(this.index=this.tabTargets.findIndex(e=>e.id===this.anchor)),this.showTab()}change(e){e.preventDefault(),this.index=e.currentTarget.dataset.index?e.currentTarget.dataset.index:e.currentTarget.dataset.id?this.tabTargets.findIndex(t=>t.id==e.currentTarget.dataset.id):this.tabTargets.indexOf(e.currentTarget),window.dispatchEvent(new CustomEvent("tsc:tab-change"))}showTab(){this.tabTargets.forEach((e,t)=>{let n=this.panelTargets[t];t===this.index?(n.classList.remove("hidden"),e.classList.remove(...this.inactiveTabClasses),e.classList.add(...this.activeTabClasses),e.id&&(location.hash=e.id)):(n.classList.add("hidden"),e.classList.remove(...this.activeTabClasses),e.classList.add(...this.inactiveTabClasses))})}get index(){return parseInt(this.data.get("index")||0)}set index(e){this.data.set("index",e>=0?e:0),this.showTab()}get anchor(){return document.URL.split("#").length>1?document.URL.split("#")[1]:null}};wse.targets=["tab","panel"];w3=class extends qr{connect(){this.toggleClass=this.data.get("class")||"hidden"}toggle(e){e.preventDefault(),this.openValue=!this.openValue}hide(e){e.preventDefault(),this.openValue=!1}show(e){e.preventDefault(),this.openValue=!0}openValueChanged(){this.toggleClass&&this.toggleableTargets.forEach(e=>{e.classList.toggle(this.toggleClass)})}};w3.targets=["toggleable"],w3.values={open:Boolean};fA=class extends qr{initialize(){this.contentTarget.setAttribute("style",`transform:translate(${this.data.get("translateX")}, ${this.data.get("translateY")});`)}mouseOver(){this.contentTarget.classList.remove("hidden")}mouseOut(){this.contentTarget.classList.add("hidden")}};fA.targets=["content"];Sse=class extends cA{_show(){this.overlayTarget.classList.remove(this.toggleClass),super._show((()=>{this._activeClassList[1].forEach(e=>this.overlayTarget.classList.add(e)),this._invisibleClassList[1].forEach(e=>this.overlayTarget.classList.remove(e)),this._visibleClassList[1].forEach(e=>this.overlayTarget.classList.add(e)),setTimeout((()=>{this._enteringClassList[1].forEach(e=>this.overlayTarget.classList.remove(e))}).bind(this),this.enterTimeout[1])}).bind(this))}_hide(){this._leavingClassList[1].forEach(e=>this.overlayTarget.classList.add(e)),super._hide((()=>{setTimeout((()=>{this._visibleClassList[1].forEach(e=>this.overlayTarget.classList.remove(e)),this._invisibleClassList[1].forEach(e=>this.overlayTarget.classList.add(e)),this._activeClassList[1].forEach(e=>this.overlayTarget.classList.remove(e)),this._leavingClassList[1].forEach(e=>this.overlayTarget.classList.remove(e)),this.overlayTarget.classList.add(this.toggleClass)}).bind(this),this.leaveTimeout[1])}).bind(this))}};Sse.targets=["menu","overlay"];kse=class extends qr{connect(){this.styleProperty=this.data.get("style")||"backgroundColor"}update(){this.preview=this.color}set preview(e){this.previewTarget.style[this.styleProperty]=e;let t=this._getContrastYIQ(e);this.styleProperty==="color"?this.previewTarget.style.backgroundColor=t:this.previewTarget.style.color=t}get color(){return this.colorTarget.value}_getContrastYIQ(e){return e=e.replace("#",""),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"#000":"#fff"}};kse.targets=["preview","color"]});function EQe(r,e){var t=e.attributes,n,i,a,l,h;if(!(e.nodeType===Ese||r.nodeType===Ese)){for(var b=t.length-1;b>=0;b--)n=t[b],i=n.name,a=n.namespaceURI,l=n.value,a?(i=n.localName||i,h=r.getAttributeNS(a,i),h!==l&&(n.prefix==="xmlns"&&(i=n.name),r.setAttributeNS(a,i,l))):(h=r.getAttribute(i),h!==l&&r.setAttribute(i,l));for(var S=r.attributes,E=S.length-1;E>=0;E--)n=S[E],i=n.name,a=n.namespaceURI,a?(i=n.localName||i,e.hasAttributeNS(a,i)||r.removeAttributeNS(a,i)):e.hasAttribute(i)||r.removeAttribute(i)}}function OQe(r){var e=Cc.createElement("template");return e.innerHTML=r,e.content.childNodes[0]}function IQe(r){hA||(hA=Cc.createRange(),hA.selectNode(Cc.body));var e=hA.createContextualFragment(r);return e.childNodes[0]}function MQe(r){var e=Cc.createElement("body");return e.innerHTML=r,e.childNodes[0]}function PQe(r){return r=r.trim(),AQe?OQe(r):DQe?IQe(r):MQe(r)}function dA(r,e){var t=r.nodeName,n=e.nodeName,i,a;return t===n?!0:(i=t.charCodeAt(0),a=n.charCodeAt(0),i<=90&&a>=97?t===n.toUpperCase():a<=90&&i>=97?n===t.toUpperCase():!1)}function LQe(r,e){return!e||e===TQe?Cc.createElement(r):Cc.createElementNS(e,r)}function RQe(r,e){for(var t=r.firstChild;t;){var n=t.nextSibling;e.appendChild(t),t=n}return e}function S3(r,e,t){r[t]!==e[t]&&(r[t]=e[t],r[t]?r.setAttribute(t,""):r.removeAttribute(t))}function ig(){}function FQe(r){if(r)return r.getAttribute&&r.getAttribute("id")||r.id}function qQe(r){return function(t,n,i){if(i||(i={}),typeof n=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var a=n;n=Cc.createElement("html"),n.innerHTML=a}else n=PQe(n);else n.nodeType===Ase&&(n=n.firstElementChild);var l=i.getNodeKey||FQe,h=i.onBeforeNodeAdded||ig,b=i.onNodeAdded||ig,S=i.onBeforeElUpdated||ig,E=i.onElUpdated||ig,O=i.onBeforeNodeDiscarded||ig,P=i.onNodeDiscarded||ig,q=i.onBeforeElChildrenUpdated||ig,z=i.skipFromChildren||ig,N=i.addChild||function(ie,pe){return ie.appendChild(pe)},V=i.childrenOnly===!0,Y=Object.create(null),J=[];function se(ie){J.push(ie)}function _(ie,pe){if(ie.nodeType===yw)for(var je=ie.firstChild;je;){var K=void 0;pe&&(K=l(je))?se(K):(P(je),je.firstChild&&_(je,pe)),je=je.nextSibling}}function me(ie,pe,je){O(ie)!==!1&&(pe&&pe.removeChild(ie),P(ie),_(ie,je))}function ne(ie){if(ie.nodeType===yw||ie.nodeType===Ase)for(var pe=ie.firstChild;pe;){var je=l(pe);je&&(Y[je]=pe),ne(pe),pe=pe.nextSibling}}ne(t);function de(ie){b(ie);for(var pe=ie.firstChild;pe;){var je=pe.nextSibling,K=l(pe);if(K){var W=Y[K];W&&dA(pe,W)?(pe.parentNode.replaceChild(W,pe),be(W,pe)):de(pe)}else de(pe);pe=je}}function he(ie,pe,je){for(;pe;){var K=pe.nextSibling;(je=l(pe))?se(je):me(pe,ie,!0),pe=K}}function be(ie,pe,je){var K=l(pe);K&&delete Y[K],!(!je&&(S(ie,pe)===!1||(r(ie,pe),E(ie),q(ie,pe)===!1)))&&(ie.nodeName!=="TEXTAREA"?xe(ie,pe):Tse.TEXTAREA(ie,pe))}function xe(ie,pe){var je=z(ie),K=pe.firstChild,W=ie.firstChild,Ze,ot,et,Pt,Tt;e:for(;K;){for(Pt=K.nextSibling,Ze=l(K);!je&&W;){if(et=W.nextSibling,K.isSameNode&&K.isSameNode(W)){K=Pt,W=et;continue e}ot=l(W);var Ht=W.nodeType,Lt=void 0;if(Ht===K.nodeType&&(Ht===yw?(Ze?Ze!==ot&&((Tt=Y[Ze])?et===Tt?Lt=!1:(ie.insertBefore(Tt,W),ot?se(ot):me(W,ie,!0),W=Tt):Lt=!1):ot&&(Lt=!1),Lt=Lt!==!1&&dA(W,K),Lt&&be(W,K)):(Ht===Dse||Ht==Ose)&&(Lt=!0,W.nodeValue!==K.nodeValue&&(W.nodeValue=K.nodeValue))),Lt){K=Pt,W=et;continue e}ot?se(ot):me(W,ie,!0),W=et}if(Ze&&(Tt=Y[Ze])&&dA(Tt,K))N(ie,Tt),be(Tt,K);else{var tr=h(K);tr!==!1&&(tr&&(K=tr),K.actualize&&(K=K.actualize(ie.ownerDocument||Cc)),N(ie,K),de(K))}K=Pt,W=et}he(ie,W,ot);var or=Tse[ie.nodeName];or&&or(ie,pe)}var We=t,R=We.nodeType,G=n.nodeType;if(!V){if(R===yw)G===yw?dA(t,n)||(P(t),We=RQe(t,LQe(n.nodeName,n.namespaceURI))):We=n;else if(R===Dse||R===Ose){if(G===R)return We.nodeValue!==n.nodeValue&&(We.nodeValue=n.nodeValue),We;We=n}}if(We===n)P(t);else{if(n.isSameNode&&n.isSameNode(We))return;if(be(We,n,V),J)for(var ae=0,Ce=J.length;ae<Ce;ae++){var re=Y[J[ae]];re&&me(re,re.parentNode,!1)}}return!V&&We!==t&&t.parentNode&&(We.actualize&&(We=We.actualize(t.ownerDocument||Cc)),t.parentNode.replaceChild(We,t)),We}}function NQe(){let r={childrenOnly:this.hasAttribute("children-only")};this.targetElements.forEach(e=>{zQe(e,r.childrenOnly?this.templateContent:this.templateElement.innerHTML,r)})}function k3(r){return r.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function jQe(r){return r.charAt(0).toUpperCase()+r.slice(1)}function UQe(r){return r.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function pA(r){return r?r.match(/[^\s]+/g)||[]:[]}function C3(r){try{return JSON.parse(r)}catch{return r}}function Mse(){let r=pA(this.getAttribute("classes"));r.length>0?this.targetElements.forEach(e=>e.classList.add(...r)):console.warn('[TurboPower] no "classes" provided for Turbo Streams operation "add_css_class"')}function Pse(){let r=this.getAttribute("attribute");r?this.targetElements.forEach(e=>e.removeAttribute(r)):console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "remove_attribute"')}function Lse(){let r=pA(this.getAttribute("classes"));r.length>0?this.targetElements.forEach(e=>e.classList.remove(...r)):console.warn('[TurboPower] no "classes" provided for Turbo Streams operation "remove_css_class"')}function Rse(){let r=this.getAttribute("attribute"),e=this.getAttribute("value")||"";r?this.targetElements.forEach(t=>t.setAttribute(r,e)):console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "set_attribute"')}function Fse(){let r=this.getAttribute("attribute"),e=this.getAttribute("value")||"";r?this.targetElements.forEach(t=>t.dataset[k3(r)]=e):console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "set_dataset_attribute"')}function qse(){let r=this.getAttribute("name"),e=C3(this.getAttribute("value")||"");r?this.targetElements.forEach(t=>t[r]=e):console.error('[TurboPower] no "name" provided for Turbo Streams operation "set_property"')}function zse(){let r=this.getAttribute("name"),e=this.getAttribute("value")||"";r?this.targetElements.forEach(t=>t.style[r]=e):console.error('[TurboPower] no "name" provided for Turbo Streams operation "set_style"')}function Nse(){let r=this.getAttribute("styles")||"";this.targetElements.forEach(e=>e.setAttribute("style",r))}function Bse(){let r=this.getAttribute("value")||"";this.targetElements.forEach(e=>e.value=r)}function jse(){let r=pA(this.getAttribute("classes"));r.length>0?this.targetElements.forEach(e=>{r.forEach(t=>e.classList.toggle(t))}):console.warn('[TurboPower] no "classes" provided for Turbo Streams operation "toggle_css_class"')}function Use(r){r.add_css_class=Mse,r.remove_css_class=Lse,r.remove_attribute=Pse,r.set_attribute=Rse,r.set_dataset_attribute=Fse,r.set_property=qse,r.set_style=zse,r.set_styles=Nse,r.set_value=Bse,r.toggle_css_class=jse}function Hse(){window.location.reload()}function Wse(){this.targetElements.forEach(r=>r.scrollIntoView())}function Vse(){this.targetElements.forEach(r=>r.focus())}function $se(){let r=this.getAttribute("title")||"",e=document.head.querySelector("title");e||(e=document.createElement("title"),document.head.appendChild(e)),e.textContent=r}function Gse(r){r.reload=Hse,r.scroll_into_view=Wse,r.set_focus=Vse,r.set_title=$se}function Kse(){let r=this.getAttribute("message"),e=this.getAttribute("level")||"log";console[e](r)}function Yse(){let r=JSON.parse(this.getAttribute("data")||"[]"),e=JSON.parse(this.getAttribute("columns")||"[]");console.table(r,e)}function Zse(r){r.console_log=Kse,r.console_table=Yse}function Xse(){console.warn("[TurboPower] The `invoke` Turbo Stream Action was removed from TurboPower. If you'd like to continue using this action please use the successor library instead. Read more here: https://github.com/hopsoft/turbo_boost-streams")}function Jse(r){r.invoke||(r.invoke=Xse)}function ele(){let r=this.getAttribute("cookie")||"";document.cookie=r}function tle(){let r=new Qse(this);document.cookie=r.build()}function rle(r){r.set_cookie=ele,r.set_cookie_item=tle}function nle(){let r=this.getAttribute("parent");if(r){let e=document.querySelector(r);e?this.targetElements.forEach(t=>e.appendChild(t)):console.error(`[TurboPower] couldn't find parent element using selector "${r}" for Turbo Streams operation "graft"`)}else console.error('[TurboPower] no "parent" selector provided for Turbo Streams operation "graft"')}function ile(){let r=this.templateContent.textContent||"";this.targetElements.forEach(e=>e.innerHTML=r)}function ole(){let r=this.getAttribute("position")||"beforebegin",e=this.templateContent.textContent||"";this.targetElements.forEach(t=>t.insertAdjacentHTML(r,e))}function ale(){let r=this.getAttribute("position")||"beforebegin",e=this.getAttribute("text")||"";this.targetElements.forEach(t=>t.insertAdjacentText(r,e))}function sle(){let r=this.templateContent.textContent||"";this.targetElements.forEach(e=>e.outerHTML=r)}function lle(){let r=this.getAttribute("name"),e=this.getAttribute("content")||"";if(r){let t=document.head.querySelector(`meta[name='${r}']`);t||(t=document.createElement("meta"),t.name=r,document.head.appendChild(t)),t.content=e}else console.error('[TurboPower] no "name" provided for Turbo Streams operation "set_meta"')}function ule(){let r=this.getAttribute("text")||"";this.targetElements.forEach(e=>e.textContent=r)}function cle(r){r.graft=nle,r.inner_html=ile,r.insert_adjacent_html=ole,r.insert_adjacent_text=ale,r.outer_html=sle,r.text_content=ule,r.set_meta=lle}function fle(){let r=this.getAttribute("name"),e=null;try{e=this.templateContent.textContent}catch{}try{let t=e?JSON.parse(e):{};if(r){let n={bubbles:!0,cancelable:!0,detail:t},i=new CustomEvent(r,n);this.targetElements.forEach(a=>a.dispatchEvent(i))}else console.warn('[TurboPower] no "name" provided for Turbo Streams operation "dispatch_event"')}catch(t){console.error(`[TurboPower] error proccessing provided "detail" in "<template>" ("${e}") for Turbo Streams operation "dispatch_event". Error: "${t.message}"`)}}function hle(r){r.dispatch_event=fle}function dle(){this.targetElements.forEach(r=>r.reset())}function ple(r){r.reset_form=dle}function mle(){let r=this.getAttribute("url"),e=this.getAttribute("state"),t=this.getAttribute("title")||"";window.history.pushState(e,t,r)}function gle(){let r=this.getAttribute("url"),e=this.getAttribute("state"),t=this.getAttribute("title")||"";window.history.replaceState(e,t,r)}function vle(){window.history.back()}function WQe(){window.history.forward()}function yle(){let r=Number(this.getAttribute("delta"))||0;window.history.go(r)}function ble(r){r.push_state=mle,r.replace_state=gle,r.history_back=vle,r.history_go=yle}function xle(){window.Notification?Notification.permission==="granted"?Ise(this):Notification.permission!=="denied"&&Notification.requestPermission().then(r=>{r==="granted"&&Ise(this)}):alert("This browser does not support desktop notification")}function _le(r){r.notification=xle}function E3(r){return r==="session"?window.sessionStorage:window.localStorage}function wle(){let r=this.getAttribute("type");E3(r).clear()}function Sle(){let r=this.getAttribute("key"),e=this.getAttribute("value")||"",t=this.getAttribute("type");r?E3(t).setItem(r,e):console.warn('[TurboPower] no "key" provided for Turbo Streams operation "set_storage_item"')}function kle(){let r=this.getAttribute("key"),e=this.getAttribute("type");r?E3(e).removeItem(r):console.warn('[TurboPower] no "key" provided for Turbo Streams operation "remove_storage_item"')}function Cle(r){r.clear_storage=wle,r.set_storage_item=Sle,r.remove_storage_item=kle}function Ele(){let r=this.getAttribute("url")||"/",e=this.getAttribute("turbo-action")||"advance",t=this.getAttribute("turbo-frame"),n=this.getAttribute("turbo")!=="false",i={action:e};t&&(i.frame=t),n&&window.Turbo?window.Turbo.visit(r,i):$Qe.location.assign(r)}function Tle(){window.Turbo.cache.clear()}function Ale(r){r.redirect_to=Ele,r.turbo_clear_cache=Tle}function Dle(){let r=this.getAttribute("value")||0;window.Turbo.navigator.adapter.progressBar.setValue(Number(r))}function Ole(){window.Turbo.navigator.adapter.progressBar.show()}function Ile(){window.Turbo.navigator.adapter.progressBar.hide()}function Mle(r){r.turbo_progress_bar_set_value=Dle,r.turbo_progress_bar_show=Ole,r.turbo_progress_bar_hide=Ile}function Ple(){this.targetElements.forEach(r=>r.reload())}function Lle(){let r=this.getAttribute("src");this.targetElements.forEach(e=>e.src=r)}function Rle(r){r.turbo_frame_reload=Ple,r.turbo_frame_set_src=Lle}function Fle(r){Use(r),Gse(r),Zse(r),Jse(r),rle(r),cle(r),hle(r),ple(r),ble(r),_le(r),Cle(r),Ale(r),Mle(r),Rle(r)}function KQe(r){BQe(r),Fle(r)}function YQe(r,e,t){t[r]=e}var Ese,hA,TQe,Cc,AQe,DQe,Tse,yw,Ase,Dse,Ose,zQe,BQe,HQe,Qse,VQe,Ise,$Qe,GQe,qle,zle=He(()=>{Ese=11;TQe="http://www.w3.org/1999/xhtml",Cc=typeof document>"u"?void 0:document,AQe=!!Cc&&"content"in Cc.createElement("template"),DQe=!!Cc&&Cc.createRange&&"createContextualFragment"in Cc.createRange();Tse={OPTION:function(r,e){var t=r.parentNode;if(t){var n=t.nodeName.toUpperCase();n==="OPTGROUP"&&(t=t.parentNode,n=t&&t.nodeName.toUpperCase()),n==="SELECT"&&!t.hasAttribute("multiple")&&(r.hasAttribute("selected")&&!e.selected&&(r.setAttribute("selected","selected"),r.removeAttribute("selected")),t.selectedIndex=-1)}S3(r,e,"selected")},INPUT:function(r,e){S3(r,e,"checked"),S3(r,e,"disabled"),r.value!==e.value&&(r.value=e.value),e.hasAttribute("value")||r.removeAttribute("value")},TEXTAREA:function(r,e){var t=e.value;r.value!==t&&(r.value=t);var n=r.firstChild;if(n){var i=n.nodeValue;if(i==t||!t&&i==r.placeholder)return;n.nodeValue=t}},SELECT:function(r,e){if(!e.hasAttribute("multiple")){for(var t=-1,n=0,i=r.firstChild,a,l;i;)if(l=i.nodeName&&i.nodeName.toUpperCase(),l==="OPTGROUP")a=i,i=a.firstChild;else{if(l==="OPTION"){if(i.hasAttribute("selected")){t=n;break}n++}i=i.nextSibling,!i&&a&&(i=a.nextSibling,a=null)}r.selectedIndex=t}}},yw=1,Ase=11,Dse=3,Ose=8;zQe=qQe(EQe);BQe=r=>{r.morph=NQe};HQe=Object.freeze({__proto__:null,camelize:k3,capitalize:jQe,dasherize:UQe,tokenize:pA,typecast:C3});Qse=class{constructor(e){this.ATTRIBUTE_TO_COOKIE_KEY_MAPPING=[["domain","Domain",!1],["path","Path",!1],["expires","Expires",!1],["max-age","Max-Age",!1],["http-only","HttpOnly",!0],["secure","Secure",!0],["same-site","SameSite",!1]],this.streamElement=e}build(){let e=`${this.streamElement.getAttribute("name")}=${this.streamElement.getAttribute("value")}`;return this.ATTRIBUTE_TO_COOKIE_KEY_MAPPING.forEach(([t,n,i])=>{let a=this.streamElement.getAttribute(t);if(a!==null){let l=i?n:`${n}=${a}`;e=`${e}; ${l}`}}),e}};VQe=["dir","lang","badge","body","tag","icon","image","data","vibrate","renotify","require-interaction","actions","silent"],Ise=r=>{let e=r.getAttribute("title")||"",t=Array.from(r.attributes).filter(i=>VQe.includes(i.name)).map(i=>[k3(i.name),C3(i.value)]),n=Object.fromEntries(t);new Notification(e,n)};$Qe={get location(){return window.TurboPowerLocation||window.location}};GQe=Object.freeze({__proto__:null,add_css_class:Mse,clear_storage:wle,console_log:Kse,console_table:Yse,dispatch_event:fle,graft:nle,history_back:vle,history_forward:WQe,history_go:yle,inner_html:ile,insert_adjacent_html:ole,insert_adjacent_text:ale,invoke:Xse,notification:xle,outer_html:sle,push_state:mle,redirect_to:Ele,register:Fle,registerAttributesActions:Use,registerBrowserActions:Gse,registerDOMActions:cle,registerDebugActions:Zse,registerDeprecatedActions:Jse,registerDocumentActions:rle,registerEventsActions:hle,registerFormActions:ple,registerHistoryActions:ble,registerNotificationActions:_le,registerStorageActions:Cle,registerTurboActions:Ale,registerTurboFrameActions:Rle,registerTurboProgressBarActions:Mle,reload:Hse,remove_attribute:Pse,remove_css_class:Lse,remove_storage_item:kle,replace_state:gle,reset_form:dle,scroll_into_view:Wse,set_attribute:Rse,set_cookie:ele,set_cookie_item:tle,set_dataset_attribute:Fse,set_focus:Vse,set_meta:lle,set_property:qse,set_storage_item:Sle,set_style:zse,set_styles:Nse,set_title:$se,set_value:Bse,text_content:ule,toggle_css_class:jse,turbo_clear_cache:Tle,turbo_frame_reload:Ple,turbo_frame_set_src:Lle,turbo_progress_bar_hide:Ile,turbo_progress_bar_set_value:Dle,turbo_progress_bar_show:Ole});qle={initialize:KQe,register:YQe,Actions:GQe,Utils:HQe}});var Zn,Nle=He(()=>{$ae();Cse();mi();zle();qle.initialize(Turbo.StreamActions);Zn=b3.start();Zn.debug=window==null?void 0:window.localStorage.getItem("avo.debug");window.Stimulus=Zn;Zn.register("alert",vw);Zn.register("popover",fA)});var Wu,b0=He(()=>{Wu=r=>r=="true"});var mA,Ble=He(()=>{mi();b0();mA=class extends qr{connect(){this.resourceIdsTarget.value===""&&(this.resourceIdsTarget.value=this.resourceIds),this.selectionOptions.itemSelectAllSelectedAllValue==="true"&&(this.selectedAllQueryTarget.value=this.selectionOptions.itemSelectAllSelectedAllQueryValue),this.noConfirmation?this.submitTarget.click():this.controllerDivTarget.classList.remove("hidden")}get noConfirmation(){return Wu(this.controllerDivTarget.dataset.noConfirmation)}get resourceName(){return this.controllerDivTarget.dataset.resourceName}get resourceIds(){try{return JSON.parse(this.selectionOptions.selectedResources)}catch(r){return[]}}get selectionOptions(){try{return document.querySelector(`[data-selected-resources-name="${this.resourceName}"]`).dataset}catch(r){return[]}}};Tr(mA,"targets",["controllerDiv","resourceIds","submit","selectedAllQuery"])});var bw,jle=He(()=>{mi();bw=class extends qr{constructor(){super(...arguments);Tr(this,"childDimensions",null);Tr(this,"parentDimensions",null)}get parentTarget(){return document.querySelector('[data-component-name="avo/index/resource_table_component"]')||document.querySelector('[data-component-name="avo/index/resource_grid_component"]')||document.querySelector('[data-target="panel-body"]')}connect(){this.element.style.display="block",this.childDimensions=this.contentTarget.getBoundingClientRect(),this.element.style.display="",this.parentDimensions=this.parentTarget.getBoundingClientRect(),this.adjustOverflow()}adjustOverflow(){this.adjustVerticalOverflow(),this.adjustHorizontalOverflow()}adjustVerticalOverflow(){this.contentBottomOverflow&&(this.contentTarget.classList.remove("top-full","mt-2"),this.contentTarget.classList.add("bottom-full","mb-2"))}adjustHorizontalOverflow(){this.contentLeftOverflow&&(this.contentTarget.classList.remove("xl:right-0","sm:right-0"),this.contentTarget.classList.add("xl:left-0","sm:left-0"))}get contentBottomOverflow(){return this.panelListValue===!0?!1:this.parentDimensions.bottom<this.childDimensions.bottom}get contentLeftOverflow(){return this.parentDimensions.left>this.childDimensions.left}};Tr(bw,"targets",["content"]),Tr(bw,"values",{panelList:Boolean})});var xw,Ule=He(()=>{mi();xw=class extends qr{constructor(){super(...arguments);Tr(this,"target",{})}get targetIsDisabled(){return this.target.dataset.disabled==="true"}get actionsShowTurboFrame(){return document.querySelector("turbo-frame#actions_show")}enableTarget(){this.targetIsDisabled&&(this.target.classList.remove(...this.disabledClasses),this.target.classList.add(...this.enabledClasses),this.target.dataset.disabled=!1)}disableTarget(){this.target.classList.remove(...this.enabledClasses),this.target.classList.add(...this.disabledClasses),this.target.dataset.disabled=!0}visitAction(r){if(this.target=r.target,this.targetIsDisabled){r.preventDefault();return}this.disableTarget();let e=this;setTimeout(()=>{this.actionsShowTurboFrame.loaded.then(()=>e.enableTarget(e.target))},1)}};Tr(xw,"targets",["resourceAction","standaloneAction"]),Tr(xw,"classes",["enabled","disabled"])});var gA,Hle=He(()=>{mi();gA=class extends qr{connect(){this.formTarget.submit()}};Tr(gA,"targets",["form"])});var vA,Wle=He(()=>{mi();vA=class extends qr{constructor(){super(...arguments);Tr(this,"defaults",{})}get selectedType(){return this.selectTarget.value}get isSearchable(){return this.context.scope.element.dataset.searchable==="true"}get association(){return this.context.scope.element.dataset.association}get associationClass(){return this.context.scope.element.dataset.associationClass}connect(){this.copyValidNames(),this.changeType()}changeType(){this.hideAllTypes(),this.showType(this.selectTarget.value)}hideAllTypes(){this.typeTargets.forEach(r=>{r.classList.add("hidden"),this.invalidateTarget(r)})}copyValidNames(){this.typeTargets.forEach(r=>{let{type:e}=r.dataset;if(this.isSearchable){let t=r.querySelector('input[type="text"]');t&&this.nameToValidName(t);let n=r.querySelector('input[type="hidden"]');n&&this.nameToValidName(n)}else{let t=r.querySelector("select");t&&this.nameToValidName(t);let n=r.querySelector('input[type="hidden"]');n&&this.nameToValidName(n),this.selectedType!==e&&(t.selectedIndex=0)}})}showType(r){let e=this.typeTargets.find(t=>t.dataset.type===r);e&&(e.classList.remove("hidden"),this.validateTarget(e))}validateTarget(r){if(this.isSearchable){let e=r.querySelector('input[type="text"]'),t=r.querySelector('input[type="hidden"]');this.validNameToName(e),this.validNameToName(t)}else{let e=r.querySelector("select"),t=r.querySelector('input[type="hidden"]');this.validNameToName(e),t&&this.validNameToName(t)}}invalidateTarget(r){if(this.isSearchable)try{r.querySelector('input[type="text"]').setAttribute("name",""),r.querySelector('input[type="hidden"]').setAttribute("name","")}catch(e){}else if(r)try{r.querySelector("select").setAttribute("name",""),r.querySelector('input[type="hidden"]').setAttribute("name","")}catch(e){}}validNameToName(r){r.setAttribute("name",r.getAttribute("valid-name"))}nameToValidName(r){r.setAttribute("valid-name",r.getAttribute("name"))}};Tr(vA,"targets",["select","type","loadAssociationLink"])});var Vle=fe((x0,_0)=>{(function(r){var e=typeof x0=="object"&&x0&&!x0.nodeType&&x0,t=typeof _0=="object"&&_0&&!_0.nodeType&&_0,n=typeof global=="object"&&global;(n.global===n||n.window===n||n.self===n)&&(r=n);var i,a=2147483647,l=36,h=1,b=26,S=38,E=700,O=72,P=128,q="-",z=/^xn--/,N=/[^\x20-\x7E]/,V=/[\x2E\u3002\uFF0E\uFF61]/g,Y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=l-h,se=Math.floor,_=String.fromCharCode,me;function ne(pe){throw new RangeError(Y[pe])}function de(pe,je){for(var K=pe.length,W=[];K--;)W[K]=je(pe[K]);return W}function he(pe,je){var K=pe.split("@"),W="";K.length>1&&(W=K[0]+"@",pe=K[1]),pe=pe.replace(V,".");var Ze=pe.split("."),ot=de(Ze,je).join(".");return W+ot}function be(pe){for(var je=[],K=0,W=pe.length,Ze,ot;K<W;)Ze=pe.charCodeAt(K++),Ze>=55296&&Ze<=56319&&K<W?(ot=pe.charCodeAt(K++),(ot&64512)==56320?je.push(((Ze&1023)<<10)+(ot&1023)+65536):(je.push(Ze),K--)):je.push(Ze);return je}function xe(pe){return de(pe,function(je){var K="";return je>65535&&(je-=65536,K+=_(je>>>10&1023|55296),je=56320|je&1023),K+=_(je),K}).join("")}function We(pe){return pe-48<10?pe-22:pe-65<26?pe-65:pe-97<26?pe-97:l}function R(pe,je){return pe+22+75*(pe<26)-((je!=0)<<5)}function G(pe,je,K){var W=0;for(pe=K?se(pe/E):pe>>1,pe+=se(pe/je);pe>J*b>>1;W+=l)pe=se(pe/J);return se(W+(J+1)*pe/(pe+S))}function ae(pe){var je=[],K=pe.length,W,Ze=0,ot=P,et=O,Pt,Tt,Ht,Lt,tr,or,br,Kt,kt;for(Pt=pe.lastIndexOf(q),Pt<0&&(Pt=0),Tt=0;Tt<Pt;++Tt)pe.charCodeAt(Tt)>=128&&ne("not-basic"),je.push(pe.charCodeAt(Tt));for(Ht=Pt>0?Pt+1:0;Ht<K;){for(Lt=Ze,tr=1,or=l;Ht>=K&&ne("invalid-input"),br=We(pe.charCodeAt(Ht++)),(br>=l||br>se((a-Ze)/tr))&&ne("overflow"),Ze+=br*tr,Kt=or<=et?h:or>=et+b?b:or-et,!(br<Kt);or+=l)kt=l-Kt,tr>se(a/kt)&&ne("overflow"),tr*=kt;W=je.length+1,et=G(Ze-Lt,W,Lt==0),se(Ze/W)>a-ot&&ne("overflow"),ot+=se(Ze/W),Ze%=W,je.splice(Ze++,0,ot)}return xe(je)}function Ce(pe){var je,K,W,Ze,ot,et,Pt,Tt,Ht,Lt,tr,or=[],br,Kt,kt,yt;for(pe=be(pe),br=pe.length,je=P,K=0,ot=O,et=0;et<br;++et)tr=pe[et],tr<128&&or.push(_(tr));for(W=Ze=or.length,Ze&&or.push(q);W<br;){for(Pt=a,et=0;et<br;++et)tr=pe[et],tr>=je&&tr<Pt&&(Pt=tr);for(Kt=W+1,Pt-je>se((a-K)/Kt)&&ne("overflow"),K+=(Pt-je)*Kt,je=Pt,et=0;et<br;++et)if(tr=pe[et],tr<je&&++K>a&&ne("overflow"),tr==je){for(Tt=K,Ht=l;Lt=Ht<=ot?h:Ht>=ot+b?b:Ht-ot,!(Tt<Lt);Ht+=l)yt=Tt-Lt,kt=l-Lt,or.push(_(R(Lt+yt%kt,0))),Tt=se(yt/kt);or.push(_(R(Tt,0))),ot=G(K,Kt,W==Ze),K=0,++W}++K,++je}return or.join("")}function re(pe){return he(pe,function(je){return z.test(je)?ae(je.slice(4).toLowerCase()):je})}function ie(pe){return he(pe,function(je){return N.test(je)?"xn--"+Ce(je):je})}if(i={version:"1.3.2",ucs2:{decode:be,encode:xe},decode:ae,encode:Ce,toASCII:ie,toUnicode:re},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(e&&t)if(_0.exports==e)t.exports=i;else for(me in i)i.hasOwnProperty(me)&&(e[me]=i[me]);else r.punycode=i})(x0)});var Gle=fe(($le,yA)=>{(function(r,e){"use strict";typeof yA=="object"&&yA.exports?yA.exports=e():typeof define=="function"&&define.amd?define(e):r.IPv6=e(r)})($le,function(r){"use strict";var e=r&&r.IPv6;function t(i){var a=i.toLowerCase(),l=a.split(":"),h=l.length,b=8;l[0]===""&&l[1]===""&&l[2]===""?(l.shift(),l.shift()):l[0]===""&&l[1]===""?l.shift():l[h-1]===""&&l[h-2]===""&&l.pop(),h=l.length,l[h-1].indexOf(".")!==-1&&(b=7);var S;for(S=0;S<h&&l[S]!=="";S++);if(S<b)for(l.splice(S,1,"0000");l.length<b;)l.splice(S,0,"0000");for(var E,O=0;O<b;O++){E=l[O].split("");for(var P=0;P<3&&(E[0]==="0"&&E.length>1);P++)E.splice(0,1);l[O]=E.join("")}var q=-1,z=0,N=0,V=-1,Y=!1;for(O=0;O<b;O++)Y?l[O]==="0"?N+=1:(Y=!1,N>z&&(q=V,z=N)):l[O]==="0"&&(Y=!0,V=O,N=1);N>z&&(q=V,z=N),z>1&&l.splice(q,z,""),h=l.length;var J="";for(l[0]===""&&(J=":"),O=0;O<h&&(J+=l[O],O!==h-1);O++)J+=":";return l[h-1]===""&&(J+=":"),J}function n(){return r.IPv6===this&&(r.IPv6=e),this}return{best:t,noConflict:n}})});var Yle=fe((Kle,bA)=>{(function(r,e){"use strict";typeof bA=="object"&&bA.exports?bA.exports=e():typeof define=="function"&&define.amd?define(e):r.SecondLevelDomains=e(r)})(Kle,function(r){"use strict";var e=r&&r.SecondLevelDomains,t={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(n){var i=n.lastIndexOf(".");if(i<=0||i>=n.length-1)return!1;var a=n.lastIndexOf(".",i-1);if(a<=0||a>=i-1)return!1;var l=t.list[n.slice(i+1)];return l?l.indexOf(" "+n.slice(a+1,i)+" ")>=0:!1},is:function(n){var i=n.lastIndexOf(".");if(i<=0||i>=n.length-1)return!1;var a=n.lastIndexOf(".",i-1);if(a>=0)return!1;var l=t.list[n.slice(i+1)];return l?l.indexOf(" "+n.slice(0,i)+" ")>=0:!1},get:function(n){var i=n.lastIndexOf(".");if(i<=0||i>=n.length-1)return null;var a=n.lastIndexOf(".",i-1);if(a<=0||a>=i-1)return null;var l=t.list[n.slice(i+1)];return!l||l.indexOf(" "+n.slice(a+1,i)+" ")<0?null:n.slice(a+1)},noConflict:function(){return r.SecondLevelDomains===this&&(r.SecondLevelDomains=e),this}};return t})});var _w=fe((Zle,xA)=>{(function(r,e){"use strict";typeof xA=="object"&&xA.exports?xA.exports=e(Vle(),Gle(),Yle()):typeof define=="function"&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):r.URI=e(r.punycode,r.IPv6,r.SecondLevelDomains,r)})(Zle,function(r,e,t,n){"use strict";var i=n&&n.URI;function a(R,G){var ae=arguments.length>=1,Ce=arguments.length>=2;if(!(this instanceof a))return ae?Ce?new a(R,G):new a(R):new a;if(R===void 0){if(ae)throw new TypeError("undefined is not a valid argument for URI");typeof location<"u"?R=location.href+"":R=""}if(R===null&&ae)throw new TypeError("null is not a valid argument for URI");return this.href(R),G!==void 0?this.absoluteTo(G):this}function l(R){return/^[0-9]+$/.test(R)}a.version="1.19.11";var h=a.prototype,b=Object.prototype.hasOwnProperty;function S(R){return R.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function E(R){return R===void 0?"Undefined":String(Object.prototype.toString.call(R)).slice(8,-1)}function O(R){return E(R)==="Array"}function P(R,G){var ae={},Ce,re;if(E(G)==="RegExp")ae=null;else if(O(G))for(Ce=0,re=G.length;Ce<re;Ce++)ae[G[Ce]]=!0;else ae[G]=!0;for(Ce=0,re=R.length;Ce<re;Ce++){var ie=ae&&ae[R[Ce]]!==void 0||!ae&&G.test(R[Ce]);ie&&(R.splice(Ce,1),re--,Ce--)}return R}function q(R,G){var ae,Ce;if(O(G)){for(ae=0,Ce=G.length;ae<Ce;ae++)if(!q(R,G[ae]))return!1;return!0}var re=E(G);for(ae=0,Ce=R.length;ae<Ce;ae++)if(re==="RegExp"){if(typeof R[ae]=="string"&&R[ae].match(G))return!0}else if(R[ae]===G)return!0;return!1}function z(R,G){if(!O(R)||!O(G)||R.length!==G.length)return!1;R.sort(),G.sort();for(var ae=0,Ce=R.length;ae<Ce;ae++)if(R[ae]!==G[ae])return!1;return!0}function N(R){var G=/^\/+|\/+$/g;return R.replace(G,"")}a._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:a.preventInvalidHostname,duplicateQueryParameters:a.duplicateQueryParameters,escapeQuerySpace:a.escapeQuerySpace}},a.preventInvalidHostname=!1,a.duplicateQueryParameters=!1,a.escapeQuerySpace=!0,a.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,a.idn_expression=/[^a-z0-9\._-]/i,a.punycode_expression=/(xn--)/i,a.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig,a.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},a.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,a.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},a.hostProtocols=["http","https"],a.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,a.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},a.getDomAttribute=function(R){if(!(!R||!R.nodeName)){var G=R.nodeName.toLowerCase();if(!(G==="input"&&R.type!=="image"))return a.domAttributes[G]}};function V(R){return escape(R)}function Y(R){return encodeURIComponent(R).replace(/[!'()*]/g,V).replace(/\*/g,"%2A")}a.encode=Y,a.decode=decodeURIComponent,a.iso8859=function(){a.encode=escape,a.decode=unescape},a.unicode=function(){a.encode=Y,a.decode=decodeURIComponent},a.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},a.encodeQuery=function(R,G){var ae=a.encode(R+"");return G===void 0&&(G=a.escapeQuerySpace),G?ae.replace(/%20/g,"+"):ae},a.decodeQuery=function(R,G){R+="",G===void 0&&(G=a.escapeQuerySpace);try{return a.decode(G?R.replace(/\+/g,"%20"):R)}catch{return R}};var J={encode:"encode",decode:"decode"},se,_=function(R,G){return function(ae){try{return a[G](ae+"").replace(a.characters[R][G].expression,function(Ce){return a.characters[R][G].map[Ce]})}catch{return ae}}};for(se in J)a[se+"PathSegment"]=_("pathname",J[se]),a[se+"UrnPathSegment"]=_("urnpath",J[se]);var me=function(R,G,ae){return function(Ce){var re;ae?re=function(K){return a[G](a[ae](K))}:re=a[G];for(var ie=(Ce+"").split(R),pe=0,je=ie.length;pe<je;pe++)ie[pe]=re(ie[pe]);return ie.join(R)}};a.decodePath=me("/","decodePathSegment"),a.decodeUrnPath=me(":","decodeUrnPathSegment"),a.recodePath=me("/","encodePathSegment","decode"),a.recodeUrnPath=me(":","encodeUrnPathSegment","decode"),a.encodeReserved=_("reserved","encode"),a.parse=function(R,G){var ae;return G||(G={preventInvalidHostname:a.preventInvalidHostname}),R=R.replace(a.leading_whitespace_expression,""),R=R.replace(a.ascii_tab_whitespace,""),ae=R.indexOf("#"),ae>-1&&(G.fragment=R.substring(ae+1)||null,R=R.substring(0,ae)),ae=R.indexOf("?"),ae>-1&&(G.query=R.substring(ae+1)||null,R=R.substring(0,ae)),R=R.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://"),R=R.replace(/^[/\\]{2,}/i,"//"),R.substring(0,2)==="//"?(G.protocol=null,R=R.substring(2),R=a.parseAuthority(R,G)):(ae=R.indexOf(":"),ae>-1&&(G.protocol=R.substring(0,ae)||null,G.protocol&&!G.protocol.match(a.protocol_expression)?G.protocol=void 0:R.substring(ae+1,ae+3).replace(/\\/g,"/")==="//"?(R=R.substring(ae+3),R=a.parseAuthority(R,G)):(R=R.substring(ae+1),G.urn=!0))),G.path=R,G},a.parseHost=function(R,G){R||(R=""),R=R.replace(/\\/g,"/");var ae=R.indexOf("/"),Ce,re;if(ae===-1&&(ae=R.length),R.charAt(0)==="[")Ce=R.indexOf("]"),G.hostname=R.substring(1,Ce)||null,G.port=R.substring(Ce+2,ae)||null,G.port==="/"&&(G.port=null);else{var ie=R.indexOf(":"),pe=R.indexOf("/"),je=R.indexOf(":",ie+1);je!==-1&&(pe===-1||je<pe)?(G.hostname=R.substring(0,ae)||null,G.port=null):(re=R.substring(0,ae).split(":"),G.hostname=re[0]||null,G.port=re[1]||null)}return G.hostname&&R.substring(ae).charAt(0)!=="/"&&(ae++,R="/"+R),G.preventInvalidHostname&&a.ensureValidHostname(G.hostname,G.protocol),G.port&&a.ensureValidPort(G.port),R.substring(ae)||"/"},a.parseAuthority=function(R,G){return R=a.parseUserinfo(R,G),a.parseHost(R,G)},a.parseUserinfo=function(R,G){var ae=R,Ce=R.indexOf("\\");Ce!==-1&&(R=R.replace(/\\/g,"/"));var re=R.indexOf("/"),ie=R.lastIndexOf("@",re>-1?re:R.length-1),pe;return ie>-1&&(re===-1||ie<re)?(pe=R.substring(0,ie).split(":"),G.username=pe[0]?a.decode(pe[0]):null,pe.shift(),G.password=pe[0]?a.decode(pe.join(":")):null,R=ae.substring(ie+1)):(G.username=null,G.password=null),R},a.parseQuery=function(R,G){if(!R)return{};if(R=R.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!R)return{};for(var ae={},Ce=R.split("&"),re=Ce.length,ie,pe,je,K=0;K<re;K++)ie=Ce[K].split("="),pe=a.decodeQuery(ie.shift(),G),je=ie.length?a.decodeQuery(ie.join("="),G):null,pe!=="__proto__"&&(b.call(ae,pe)?((typeof ae[pe]=="string"||ae[pe]===null)&&(ae[pe]=[ae[pe]]),ae[pe].push(je)):ae[pe]=je);return ae},a.build=function(R){var G="",ae=!1;return R.protocol&&(G+=R.protocol+":"),!R.urn&&(G||R.hostname)&&(G+="//",ae=!0),G+=a.buildAuthority(R)||"",typeof R.path=="string"&&(R.path.charAt(0)!=="/"&&ae&&(G+="/"),G+=R.path),typeof R.query=="string"&&R.query&&(G+="?"+R.query),typeof R.fragment=="string"&&R.fragment&&(G+="#"+R.fragment),G},a.buildHost=function(R){var G="";if(R.hostname)a.ip6_expression.test(R.hostname)?G+="["+R.hostname+"]":G+=R.hostname;else return"";return R.port&&(G+=":"+R.port),G},a.buildAuthority=function(R){return a.buildUserinfo(R)+a.buildHost(R)},a.buildUserinfo=function(R){var G="";return R.username&&(G+=a.encode(R.username)),R.password&&(G+=":"+a.encode(R.password)),G&&(G+="@"),G},a.buildQuery=function(R,G,ae){var Ce="",re,ie,pe,je;for(ie in R)if(ie!=="__proto__"&&b.call(R,ie))if(O(R[ie]))for(re={},pe=0,je=R[ie].length;pe<je;pe++)R[ie][pe]!==void 0&&re[R[ie][pe]+""]===void 0&&(Ce+="&"+a.buildQueryParameter(ie,R[ie][pe],ae),G!==!0&&(re[R[ie][pe]+""]=!0));else R[ie]!==void 0&&(Ce+="&"+a.buildQueryParameter(ie,R[ie],ae));return Ce.substring(1)},a.buildQueryParameter=function(R,G,ae){return a.encodeQuery(R,ae)+(G!==null?"="+a.encodeQuery(G,ae):"")},a.addQuery=function(R,G,ae){if(typeof G=="object")for(var Ce in G)b.call(G,Ce)&&a.addQuery(R,Ce,G[Ce]);else if(typeof G=="string"){if(R[G]===void 0){R[G]=ae;return}else typeof R[G]=="string"&&(R[G]=[R[G]]);O(ae)||(ae=[ae]),R[G]=(R[G]||[]).concat(ae)}else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")},a.setQuery=function(R,G,ae){if(typeof G=="object")for(var Ce in G)b.call(G,Ce)&&a.setQuery(R,Ce,G[Ce]);else if(typeof G=="string")R[G]=ae===void 0?null:ae;else throw new TypeError("URI.setQuery() accepts an object, string as the name parameter")},a.removeQuery=function(R,G,ae){var Ce,re,ie;if(O(G))for(Ce=0,re=G.length;Ce<re;Ce++)R[G[Ce]]=void 0;else if(E(G)==="RegExp")for(ie in R)G.test(ie)&&(R[ie]=void 0);else if(typeof G=="object")for(ie in G)b.call(G,ie)&&a.removeQuery(R,ie,G[ie]);else if(typeof G=="string")ae!==void 0?E(ae)==="RegExp"?!O(R[G])&&ae.test(R[G])?R[G]=void 0:R[G]=P(R[G],ae):R[G]===String(ae)&&(!O(ae)||ae.length===1)?R[G]=void 0:O(R[G])&&(R[G]=P(R[G],ae)):R[G]=void 0;else throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter")},a.hasQuery=function(R,G,ae,Ce){switch(E(G)){case"String":break;case"RegExp":for(var re in R)if(b.call(R,re)&&G.test(re)&&(ae===void 0||a.hasQuery(R,re,ae)))return!0;return!1;case"Object":for(var ie in G)if(b.call(G,ie)&&!a.hasQuery(R,ie,G[ie]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(E(ae)){case"Undefined":return G in R;case"Boolean":var pe=Boolean(O(R[G])?R[G].length:R[G]);return ae===pe;case"Function":return!!ae(R[G],G,R);case"Array":if(!O(R[G]))return!1;var je=Ce?q:z;return je(R[G],ae);case"RegExp":return O(R[G])?Ce?q(R[G],ae):!1:Boolean(R[G]&&R[G].match(ae));case"Number":ae=String(ae);case"String":return O(R[G])?Ce?q(R[G],ae):!1:R[G]===ae;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},a.joinPaths=function(){for(var R=[],G=[],ae=0,Ce=0;Ce<arguments.length;Ce++){var re=new a(arguments[Ce]);R.push(re);for(var ie=re.segment(),pe=0;pe<ie.length;pe++)typeof ie[pe]=="string"&&G.push(ie[pe]),ie[pe]&&ae++}if(!G.length||!ae)return new a("");var je=new a("").segment(G);return(R[0].path()===""||R[0].path().slice(0,1)==="/")&&je.path("/"+je.path()),je.normalize()},a.commonPath=function(R,G){var ae=Math.min(R.length,G.length),Ce;for(Ce=0;Ce<ae;Ce++)if(R.charAt(Ce)!==G.charAt(Ce)){Ce--;break}return Ce<1?R.charAt(0)===G.charAt(0)&&R.charAt(0)==="/"?"/":"":((R.charAt(Ce)!=="/"||G.charAt(Ce)!=="/")&&(Ce=R.substring(0,Ce).lastIndexOf("/")),R.substring(0,Ce+1))},a.withinString=function(R,G,ae){ae||(ae={});var Ce=ae.start||a.findUri.start,re=ae.end||a.findUri.end,ie=ae.trim||a.findUri.trim,pe=ae.parens||a.findUri.parens,je=/[a-z0-9-]=["']?$/i;for(Ce.lastIndex=0;;){var K=Ce.exec(R);if(!K)break;var W=K.index;if(ae.ignoreHtml){var Ze=R.slice(Math.max(W-3,0),W);if(Ze&&je.test(Ze))continue}for(var ot=W+R.slice(W).search(re),et=R.slice(W,ot),Pt=-1;;){var Tt=pe.exec(et);if(!Tt)break;var Ht=Tt.index+Tt[0].length;Pt=Math.max(Pt,Ht)}if(Pt>-1?et=et.slice(0,Pt)+et.slice(Pt).replace(ie,""):et=et.replace(ie,""),!(et.length<=K[0].length)&&!(ae.ignore&&ae.ignore.test(et))){ot=W+et.length;var Lt=G(et,W,ot,R);if(Lt===void 0){Ce.lastIndex=ot;continue}Lt=String(Lt),R=R.slice(0,W)+Lt+R.slice(ot),Ce.lastIndex=W+Lt.length}}return Ce.lastIndex=0,R},a.ensureValidHostname=function(R,G){var ae=!!R,Ce=!!G,re=!1;if(Ce&&(re=q(a.hostProtocols,G)),re&&!ae)throw new TypeError("Hostname cannot be empty, if protocol is "+G);if(R&&R.match(a.invalid_hostname_characters)){if(!r)throw new TypeError('Hostname "'+R+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(r.toASCII(R).match(a.invalid_hostname_characters))throw new TypeError('Hostname "'+R+'" contains characters other than [A-Z0-9.-:_]')}},a.ensureValidPort=function(R){if(!!R){var G=Number(R);if(!(l(G)&&G>0&&G<65536))throw new TypeError('Port "'+R+'" is not a valid port')}},a.noConflict=function(R){if(R){var G={URI:this.noConflict()};return n.URITemplate&&typeof n.URITemplate.noConflict=="function"&&(G.URITemplate=n.URITemplate.noConflict()),n.IPv6&&typeof n.IPv6.noConflict=="function"&&(G.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&typeof n.SecondLevelDomains.noConflict=="function"&&(G.SecondLevelDomains=n.SecondLevelDomains.noConflict()),G}else n.URI===this&&(n.URI=i);return this},h.build=function(R){return R===!0?this._deferred_build=!0:(R===void 0||this._deferred_build)&&(this._string=a.build(this._parts),this._deferred_build=!1),this},h.clone=function(){return new a(this)},h.valueOf=h.toString=function(){return this.build(!1)._string};function ne(R){return function(G,ae){return G===void 0?this._parts[R]||"":(this._parts[R]=G||null,this.build(!ae),this)}}function de(R,G){return function(ae,Ce){return ae===void 0?this._parts[R]||"":(ae!==null&&(ae=ae+"",ae.charAt(0)===G&&(ae=ae.substring(1))),this._parts[R]=ae,this.build(!Ce),this)}}h.protocol=ne("protocol"),h.username=ne("username"),h.password=ne("password"),h.hostname=ne("hostname"),h.port=ne("port"),h.query=de("query","?"),h.fragment=de("fragment","#"),h.search=function(R,G){var ae=this.query(R,G);return typeof ae=="string"&&ae.length?"?"+ae:ae},h.hash=function(R,G){var ae=this.fragment(R,G);return typeof ae=="string"&&ae.length?"#"+ae:ae},h.pathname=function(R,G){if(R===void 0||R===!0){var ae=this._parts.path||(this._parts.hostname?"/":"");return R?(this._parts.urn?a.decodeUrnPath:a.decodePath)(ae):ae}else return this._parts.urn?this._parts.path=R?a.recodeUrnPath(R):"":this._parts.path=R?a.recodePath(R):"/",this.build(!G),this},h.path=h.pathname,h.href=function(R,G){var ae;if(R===void 0)return this.toString();this._string="",this._parts=a._parts();var Ce=R instanceof a,re=typeof R=="object"&&(R.hostname||R.path||R.pathname);if(R.nodeName){var ie=a.getDomAttribute(R);R=R[ie]||"",re=!1}if(!Ce&&re&&R.pathname!==void 0&&(R=R.toString()),typeof R=="string"||R instanceof String)this._parts=a.parse(String(R),this._parts);else if(Ce||re){var pe=Ce?R._parts:R;for(ae in pe)ae!=="query"&&b.call(this._parts,ae)&&(this._parts[ae]=pe[ae]);pe.query&&this.query(pe.query,!1)}else throw new TypeError("invalid input");return this.build(!G),this},h.is=function(R){var G=!1,ae=!1,Ce=!1,re=!1,ie=!1,pe=!1,je=!1,K=!this._parts.urn;switch(this._parts.hostname&&(K=!1,ae=a.ip4_expression.test(this._parts.hostname),Ce=a.ip6_expression.test(this._parts.hostname),G=ae||Ce,re=!G,ie=re&&t&&t.has(this._parts.hostname),pe=re&&a.idn_expression.test(this._parts.hostname),je=re&&a.punycode_expression.test(this._parts.hostname)),R.toLowerCase()){case"relative":return K;case"absolute":return!K;case"domain":case"name":return re;case"sld":return ie;case"ip":return G;case"ip4":case"ipv4":case"inet4":return ae;case"ip6":case"ipv6":case"inet6":return Ce;case"idn":return pe;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return je}return null};var he=h.protocol,be=h.port,xe=h.hostname;h.protocol=function(R,G){if(R&&(R=R.replace(/:(\/\/)?$/,""),!R.match(a.protocol_expression)))throw new TypeError('Protocol "'+R+`" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]`);return he.call(this,R,G)},h.scheme=h.protocol,h.port=function(R,G){return this._parts.urn?R===void 0?"":this:(R!==void 0&&(R===0&&(R=null),R&&(R+="",R.charAt(0)===":"&&(R=R.substring(1)),a.ensureValidPort(R))),be.call(this,R,G))},h.hostname=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(R!==void 0){var ae={preventInvalidHostname:this._parts.preventInvalidHostname},Ce=a.parseHost(R,ae);if(Ce!=="/")throw new TypeError('Hostname "'+R+'" contains characters other than [A-Z0-9.-]');R=ae.hostname,this._parts.preventInvalidHostname&&a.ensureValidHostname(R,this._parts.protocol)}return xe.call(this,R,G)},h.origin=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(R===void 0){var ae=this.protocol(),Ce=this.authority();return Ce?(ae?ae+"://":"")+this.authority():""}else{var re=a(R);return this.protocol(re.protocol()).authority(re.authority()).build(!G),this}},h.host=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(R===void 0)return this._parts.hostname?a.buildHost(this._parts):"";var ae=a.parseHost(R,this._parts);if(ae!=="/")throw new TypeError('Hostname "'+R+'" contains characters other than [A-Z0-9.-]');return this.build(!G),this},h.authority=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(R===void 0)return this._parts.hostname?a.buildAuthority(this._parts):"";var ae=a.parseAuthority(R,this._parts);if(ae!=="/")throw new TypeError('Hostname "'+R+'" contains characters other than [A-Z0-9.-]');return this.build(!G),this},h.userinfo=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(R===void 0){var ae=a.buildUserinfo(this._parts);return ae&&ae.substring(0,ae.length-1)}else return R[R.length-1]!=="@"&&(R+="@"),a.parseUserinfo(R,this._parts),this.build(!G),this},h.resource=function(R,G){var ae;return R===void 0?this.path()+this.search()+this.hash():(ae=a.parse(R),this._parts.path=ae.path,this._parts.query=ae.query,this._parts.fragment=ae.fragment,this.build(!G),this)},h.subdomain=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(R===void 0){if(!this._parts.hostname||this.is("IP"))return"";var ae=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,ae)||""}else{var Ce=this._parts.hostname.length-this.domain().length,re=this._parts.hostname.substring(0,Ce),ie=new RegExp("^"+S(re));if(R&&R.charAt(R.length-1)!=="."&&(R+="."),R.indexOf(":")!==-1)throw new TypeError("Domains cannot contain colons");return R&&a.ensureValidHostname(R,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(ie,R),this.build(!G),this}},h.domain=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(typeof R=="boolean"&&(G=R,R=void 0),R===void 0){if(!this._parts.hostname||this.is("IP"))return"";var ae=this._parts.hostname.match(/\./g);if(ae&&ae.length<2)return this._parts.hostname;var Ce=this._parts.hostname.length-this.tld(G).length-1;return Ce=this._parts.hostname.lastIndexOf(".",Ce-1)+1,this._parts.hostname.substring(Ce)||""}else{if(!R)throw new TypeError("cannot set domain empty");if(R.indexOf(":")!==-1)throw new TypeError("Domains cannot contain colons");if(a.ensureValidHostname(R,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=R;else{var re=new RegExp(S(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(re,R)}return this.build(!G),this}},h.tld=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(typeof R=="boolean"&&(G=R,R=void 0),R===void 0){if(!this._parts.hostname||this.is("IP"))return"";var ae=this._parts.hostname.lastIndexOf("."),Ce=this._parts.hostname.substring(ae+1);return G!==!0&&t&&t.list[Ce.toLowerCase()]&&t.get(this._parts.hostname)||Ce}else{var re;if(R)if(R.match(/[^a-zA-Z0-9-]/))if(t&&t.is(R))re=new RegExp(S(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(re,R);else throw new TypeError('TLD "'+R+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");re=new RegExp(S(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(re,R)}else throw new TypeError("cannot set TLD empty");return this.build(!G),this}},h.directory=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(R===void 0||R===!0){if(!this._parts.path&&!this._parts.hostname)return"";if(this._parts.path==="/")return"/";var ae=this._parts.path.length-this.filename().length-1,Ce=this._parts.path.substring(0,ae)||(this._parts.hostname?"/":"");return R?a.decodePath(Ce):Ce}else{var re=this._parts.path.length-this.filename().length,ie=this._parts.path.substring(0,re),pe=new RegExp("^"+S(ie));return this.is("relative")||(R||(R="/"),R.charAt(0)!=="/"&&(R="/"+R)),R&&R.charAt(R.length-1)!=="/"&&(R+="/"),R=a.recodePath(R),this._parts.path=this._parts.path.replace(pe,R),this.build(!G),this}},h.filename=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(typeof R!="string"){if(!this._parts.path||this._parts.path==="/")return"";var ae=this._parts.path.lastIndexOf("/"),Ce=this._parts.path.substring(ae+1);return R?a.decodePathSegment(Ce):Ce}else{var re=!1;R.charAt(0)==="/"&&(R=R.substring(1)),R.match(/\.?\//)&&(re=!0);var ie=new RegExp(S(this.filename())+"$");return R=a.recodePath(R),this._parts.path=this._parts.path.replace(ie,R),re?this.normalizePath(G):this.build(!G),this}},h.suffix=function(R,G){if(this._parts.urn)return R===void 0?"":this;if(R===void 0||R===!0){if(!this._parts.path||this._parts.path==="/")return"";var ae=this.filename(),Ce=ae.lastIndexOf("."),re,ie;return Ce===-1?"":(re=ae.substring(Ce+1),ie=/^[a-z0-9%]+$/i.test(re)?re:"",R?a.decodePathSegment(ie):ie)}else{R.charAt(0)==="."&&(R=R.substring(1));var pe=this.suffix(),je;if(pe)R?je=new RegExp(S(pe)+"$"):je=new RegExp(S("."+pe)+"$");else{if(!R)return this;this._parts.path+="."+a.recodePath(R)}return je&&(R=a.recodePath(R),this._parts.path=this._parts.path.replace(je,R)),this.build(!G),this}},h.segment=function(R,G,ae){var Ce=this._parts.urn?":":"/",re=this.path(),ie=re.substring(0,1)==="/",pe=re.split(Ce);if(R!==void 0&&typeof R!="number"&&(ae=G,G=R,R=void 0),R!==void 0&&typeof R!="number")throw new Error('Bad segment "'+R+'", must be 0-based integer');if(ie&&pe.shift(),R<0&&(R=Math.max(pe.length+R,0)),G===void 0)return R===void 0?pe:pe[R];if(R===null||pe[R]===void 0)if(O(G)){pe=[];for(var je=0,K=G.length;je<K;je++)!G[je].length&&(!pe.length||!pe[pe.length-1].length)||(pe.length&&!pe[pe.length-1].length&&pe.pop(),pe.push(N(G[je])))}else(G||typeof G=="string")&&(G=N(G),pe[pe.length-1]===""?pe[pe.length-1]=G:pe.push(G));else G?pe[R]=N(G):pe.splice(R,1);return ie&&pe.unshift(""),this.path(pe.join(Ce),ae)},h.segmentCoded=function(R,G,ae){var Ce,re,ie;if(typeof R!="number"&&(ae=G,G=R,R=void 0),G===void 0){if(Ce=this.segment(R,G,ae),!O(Ce))Ce=Ce!==void 0?a.decode(Ce):void 0;else for(re=0,ie=Ce.length;re<ie;re++)Ce[re]=a.decode(Ce[re]);return Ce}if(!O(G))G=typeof G=="string"||G instanceof String?a.encode(G):G;else for(re=0,ie=G.length;re<ie;re++)G[re]=a.encode(G[re]);return this.segment(R,G,ae)};var We=h.query;return h.query=function(R,G){if(R===!0)return a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof R=="function"){var ae=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace),Ce=R.call(this,ae);return this._parts.query=a.buildQuery(Ce||ae,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!G),this}else return R!==void 0&&typeof R!="string"?(this._parts.query=a.buildQuery(R,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!G),this):We.call(this,R,G)},h.setQuery=function(R,G,ae){var Ce=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof R=="string"||R instanceof String)Ce[R]=G!==void 0?G:null;else if(typeof R=="object")for(var re in R)b.call(R,re)&&(Ce[re]=R[re]);else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");return this._parts.query=a.buildQuery(Ce,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof R!="string"&&(ae=G),this.build(!ae),this},h.addQuery=function(R,G,ae){var Ce=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.addQuery(Ce,R,G===void 0?null:G),this._parts.query=a.buildQuery(Ce,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof R!="string"&&(ae=G),this.build(!ae),this},h.removeQuery=function(R,G,ae){var Ce=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.removeQuery(Ce,R,G),this._parts.query=a.buildQuery(Ce,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof R!="string"&&(ae=G),this.build(!ae),this},h.hasQuery=function(R,G,ae){var Ce=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.hasQuery(Ce,R,G,ae)},h.setSearch=h.setQuery,h.addSearch=h.addQuery,h.removeSearch=h.removeQuery,h.hasSearch=h.hasQuery,h.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},h.normalizeProtocol=function(R){return typeof this._parts.protocol=="string"&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!R)),this},h.normalizeHostname=function(R){return this._parts.hostname&&(this.is("IDN")&&r?this._parts.hostname=r.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!R)),this},h.normalizePort=function(R){return typeof this._parts.protocol=="string"&&this._parts.port===a.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!R)),this},h.normalizePath=function(R){var G=this._parts.path;if(!G)return this;if(this._parts.urn)return this._parts.path=a.recodeUrnPath(this._parts.path),this.build(!R),this;if(this._parts.path==="/")return this;G=a.recodePath(G);var ae,Ce="",re,ie;for(G.charAt(0)!=="/"&&(ae=!0,G="/"+G),(G.slice(-3)==="/.."||G.slice(-2)==="/.")&&(G+="/"),G=G.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),ae&&(Ce=G.substring(1).match(/^(\.\.\/)+/)||"",Ce&&(Ce=Ce[0]));re=G.search(/\/\.\.(\/|$)/),re!==-1;){if(re===0){G=G.substring(3);continue}ie=G.substring(0,re).lastIndexOf("/"),ie===-1&&(ie=re),G=G.substring(0,ie)+G.substring(re+3)}return ae&&this.is("relative")&&(G=Ce+G.substring(1)),this._parts.path=G,this.build(!R),this},h.normalizePathname=h.normalizePath,h.normalizeQuery=function(R){return typeof this._parts.query=="string"&&(this._parts.query.length?this.query(a.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!R)),this},h.normalizeFragment=function(R){return this._parts.fragment||(this._parts.fragment=null,this.build(!R)),this},h.normalizeSearch=h.normalizeQuery,h.normalizeHash=h.normalizeFragment,h.iso8859=function(){var R=a.encode,G=a.decode;a.encode=escape,a.decode=decodeURIComponent;try{this.normalize()}finally{a.encode=R,a.decode=G}return this},h.unicode=function(){var R=a.encode,G=a.decode;a.encode=Y,a.decode=unescape;try{this.normalize()}finally{a.encode=R,a.decode=G}return this},h.readable=function(){var R=this.clone();R.username("").password("").normalize();var G="";if(R._parts.protocol&&(G+=R._parts.protocol+"://"),R._parts.hostname&&(R.is("punycode")&&r?(G+=r.toUnicode(R._parts.hostname),R._parts.port&&(G+=":"+R._parts.port)):G+=R.host()),R._parts.hostname&&R._parts.path&&R._parts.path.charAt(0)!=="/"&&(G+="/"),G+=R.path(!0),R._parts.query){for(var ae="",Ce=0,re=R._parts.query.split("&"),ie=re.length;Ce<ie;Ce++){var pe=(re[Ce]||"").split("=");ae+="&"+a.decodeQuery(pe[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),pe[1]!==void 0&&(ae+="="+a.decodeQuery(pe[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}G+="?"+ae.substring(1)}return G+=a.decodeQuery(R.hash(),!0),G},h.absoluteTo=function(R){var G=this.clone(),ae=["protocol","username","password","hostname","port"],Ce,re,ie;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(R instanceof a||(R=new a(R)),G._parts.protocol||(G._parts.protocol=R._parts.protocol,this._parts.hostname))return G;for(re=0;ie=ae[re];re++)G._parts[ie]=R._parts[ie];return G._parts.path?(G._parts.path.substring(-2)===".."&&(G._parts.path+="/"),G.path().charAt(0)!=="/"&&(Ce=R.directory(),Ce=Ce||(R.path().indexOf("/")===0?"/":""),G._parts.path=(Ce?Ce+"/":"")+G._parts.path,G.normalizePath())):(G._parts.path=R._parts.path,G._parts.query||(G._parts.query=R._parts.query)),G.build(),G},h.relativeTo=function(R){var G=this.clone().normalize(),ae,Ce,re,ie,pe;if(G._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(R=new a(R).normalize(),ae=G._parts,Ce=R._parts,ie=G.path(),pe=R.path(),ie.charAt(0)!=="/")throw new Error("URI is already relative");if(pe.charAt(0)!=="/")throw new Error("Cannot calculate a URI relative to another relative URI");if(ae.protocol===Ce.protocol&&(ae.protocol=null),ae.username!==Ce.username||ae.password!==Ce.password||ae.protocol!==null||ae.username!==null||ae.password!==null)return G.build();if(ae.hostname===Ce.hostname&&ae.port===Ce.port)ae.hostname=null,ae.port=null;else return G.build();if(ie===pe)return ae.path="",G.build();if(re=a.commonPath(ie,pe),!re)return G.build();var je=Ce.path.substring(re.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return ae.path=je+ae.path.substring(re.length)||"./",G.build()},h.equals=function(R){var G=this.clone(),ae=new a(R),Ce={},re={},ie={},pe,je,K;if(G.normalize(),ae.normalize(),G.toString()===ae.toString())return!0;if(pe=G.query(),je=ae.query(),G.query(""),ae.query(""),G.toString()!==ae.toString()||pe.length!==je.length)return!1;Ce=a.parseQuery(pe,this._parts.escapeQuerySpace),re=a.parseQuery(je,this._parts.escapeQuerySpace);for(K in Ce)if(b.call(Ce,K)){if(O(Ce[K])){if(!z(Ce[K],re[K]))return!1}else if(Ce[K]!==re[K])return!1;ie[K]=!0}for(K in re)if(b.call(re,K)&&!ie[K])return!1;return!0},h.preventInvalidHostname=function(R){return this._parts.preventInvalidHostname=!!R,this},h.duplicateQueryParameters=function(R){return this._parts.duplicateQueryParameters=!!R,this},h.escapeQuerySpace=function(R){return this._parts.escapeQuerySpace=!!R,this},a})});var T3,sf,w0=He(()=>{mi();T3=So(_w()),sf=class extends qr{uriParams(){return(0,T3.default)(window.location.toString()).query(!0)}viaResourceName(){return this.uriParams().via_resource_name}uriParam(r){return this.viaResourceName()?`${this.viaResourceName}_${r}`:r}b64EncodeUnicode(r){return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(`0x${t}`)))}b64DecodeUnicode(r){return decodeURIComponent(atob(r).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""))}changeFilter(){let r=this.getFilterValue(),e=this.getFilterClass(),t=this.uriParams()[this.uriParam("filters")];t?t=JSON.parse(this.b64DecodeUnicode(t)):t={},t[e]=r;let n=Object.keys(t).filter(a=>t[a]!==null).reduce((a,l)=>(a[l]=t[l],a),{}),i;n&&Object.keys(n).length>0&&(i=this.b64EncodeUnicode(JSON.stringify(n))),this.navigateToURLWithFilters(i)}navigateToURLWithFilters(r){let e=new T3.default(this.urlRedirectTarget.href),t=Cf({},e.query(!0));this.keepFiltersPanelOpenValue&&(t.keep_filters_panel_open=this.keepFiltersPanelOpenValue?1:null),t.page=1,r?t.filters=r:delete t.filters,e.query(t),this.urlRedirectTarget.href=e.readable().toString(),this.urlRedirectTarget.click()}};Tr(sf,"targets",["urlRedirect"]),Tr(sf,"values",{keepFiltersPanelOpen:Boolean})});var _A,Xle=He(()=>{w0();_A=class extends sf{getFilterValue(){let r={};return this.optionTargets.forEach(e=>{r[e.value]=e.checked}),r}getFilterClass(){let{filterClass:r}=this.optionTarget.dataset;return r}};Tr(_A,"targets",["option"])});var ya=fe((A3,D3)=>{(function(r,e){typeof A3=="object"&&typeof D3<"u"?D3.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self,r.CodeMirror=e())})(A3,function(){"use strict";var r=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(r),n=/MSIE \d/.test(r),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),a=/Edge\/(\d+)/.exec(r),l=n||i||a,h=l&&(n?document.documentMode||6:+(a||i)[1]),b=!a&&/WebKit\//.test(r),S=b&&/Qt\/\d+\.\d+/.test(r),E=!a&&/Chrome\//.test(r),O=/Opera\//.test(r),P=/Apple Computer/.test(navigator.vendor),q=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),z=/PhantomJS/.test(r),N=P&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),V=/Android/.test(r),Y=N||V||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),J=N||/Mac/.test(e),se=/\bCrOS\b/.test(r),_=/win/i.test(e),me=O&&r.match(/Version\/(\d*\.\d*)/);me&&(me=Number(me[1])),me&&me>=15&&(O=!1,b=!0);var ne=J&&(S||O&&(me==null||me<12.11)),de=t||l&&h>=9;function he(f){return new RegExp("(^|\\s)"+f+"(?:$|\\s)\\s*")}var be=function(f,g){var T=f.className,o=he(g).exec(T);if(o){var u=T.slice(o.index+o[0].length);f.className=T.slice(0,o.index)+(u?o[1]+u:"")}};function xe(f){for(var g=f.childNodes.length;g>0;--g)f.removeChild(f.firstChild);return f}function We(f,g){return xe(f).appendChild(g)}function R(f,g,T,o){var u=document.createElement(f);if(T&&(u.className=T),o&&(u.style.cssText=o),typeof g=="string")u.appendChild(document.createTextNode(g));else if(g)for(var p=0;p<g.length;++p)u.appendChild(g[p]);return u}function G(f,g,T,o){var u=R(f,g,T,o);return u.setAttribute("role","presentation"),u}var ae;document.createRange?ae=function(f,g,T,o){var u=document.createRange();return u.setEnd(o||f,T),u.setStart(f,g),u}:ae=function(f,g,T){var o=document.body.createTextRange();try{o.moveToElementText(f.parentNode)}catch{return o}return o.collapse(!0),o.moveEnd("character",T),o.moveStart("character",g),o};function Ce(f,g){if(g.nodeType==3&&(g=g.parentNode),f.contains)return f.contains(g);do if(g.nodeType==11&&(g=g.host),g==f)return!0;while(g=g.parentNode)}function re(){var f;try{f=document.activeElement}catch{f=document.body||null}for(;f&&f.shadowRoot&&f.shadowRoot.activeElement;)f=f.shadowRoot.activeElement;return f}function ie(f,g){var T=f.className;he(g).test(T)||(f.className+=(T?" ":"")+g)}function pe(f,g){for(var T=f.split(" "),o=0;o<T.length;o++)T[o]&&!he(T[o]).test(g)&&(g+=" "+T[o]);return g}var je=function(f){f.select()};N?je=function(f){f.selectionStart=0,f.selectionEnd=f.value.length}:l&&(je=function(f){try{f.select()}catch{}});function K(f){var g=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,g)}}function W(f,g,T){g||(g={});for(var o in f)f.hasOwnProperty(o)&&(T!==!1||!g.hasOwnProperty(o))&&(g[o]=f[o]);return g}function Ze(f,g,T,o,u){g==null&&(g=f.search(/[^\s\u00a0]/),g==-1&&(g=f.length));for(var p=o||0,y=u||0;;){var w=f.indexOf("	",p);if(w<0||w>=g)return y+(g-p);y+=w-p,y+=T-y%T,p=w+1}}var ot=function(){this.id=null,this.f=null,this.time=0,this.handler=K(this.onTimeout,this)};ot.prototype.onTimeout=function(f){f.id=0,f.time<=+new Date?f.f():setTimeout(f.handler,f.time-+new Date)},ot.prototype.set=function(f,g){this.f=g;var T=+new Date+f;(!this.id||T<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,f),this.time=T)};function et(f,g){for(var T=0;T<f.length;++T)if(f[T]==g)return T;return-1}var Pt=50,Tt={toString:function(){return"CodeMirror.Pass"}},Ht={scroll:!1},Lt={origin:"*mouse"},tr={origin:"+move"};function or(f,g,T){for(var o=0,u=0;;){var p=f.indexOf("	",o);p==-1&&(p=f.length);var y=p-o;if(p==f.length||u+y>=g)return o+Math.min(y,g-u);if(u+=p-o,u+=T-u%T,o=p+1,u>=g)return o}}var br=[""];function Kt(f){for(;br.length<=f;)br.push(kt(br)+" ");return br[f]}function kt(f){return f[f.length-1]}function yt(f,g){for(var T=[],o=0;o<f.length;o++)T[o]=g(f[o],o);return T}function rt(f,g,T){for(var o=0,u=T(g);o<f.length&&T(f[o])<=u;)o++;f.splice(o,0,g)}function oe(){}function ke(f,g){var T;return Object.create?T=Object.create(f):(oe.prototype=f,T=new oe),g&&W(g,T),T}var qe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Yt(f){return/\w/.test(f)||f>"\x80"&&(f.toUpperCase()!=f.toLowerCase()||qe.test(f))}function st(f,g){return g?g.source.indexOf("\\w")>-1&&Yt(f)?!0:g.test(f):Yt(f)}function It(f){for(var g in f)if(f.hasOwnProperty(g)&&f[g])return!1;return!0}var Ct=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ur(f){return f.charCodeAt(0)>=768&&Ct.test(f)}function sr(f,g,T){for(;(T<0?g>0:g<f.length)&&ur(f.charAt(g));)g+=T;return g}function xr(f,g,T){for(var o=g>T?-1:1;;){if(g==T)return g;var u=(g+T)/2,p=o<0?Math.ceil(u):Math.floor(u);if(p==g)return f(p)?g:T;f(p)?T=p:g=p+o}}function fr(f,g,T,o){if(!f)return o(g,T,"ltr",0);for(var u=!1,p=0;p<f.length;++p){var y=f[p];(y.from<T&&y.to>g||g==T&&y.to==g)&&(o(Math.max(y.from,g),Math.min(y.to,T),y.level==1?"rtl":"ltr",p),u=!0)}u||o(g,T,"ltr")}var Ve=null;function at(f,g,T){var o;Ve=null;for(var u=0;u<f.length;++u){var p=f[u];if(p.from<g&&p.to>g)return u;p.to==g&&(p.from!=p.to&&T=="before"?o=u:Ve=u),p.from==g&&(p.from!=p.to&&T!="before"?o=u:Ve=u)}return o??Ve}var Ut=function(){var f="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",g="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function T(L){return L<=247?f.charAt(L):1424<=L&&L<=1524?"R":1536<=L&&L<=1785?g.charAt(L-1536):1774<=L&&L<=2220?"r":8192<=L&&L<=8203?"w":L==8204?"b":"L"}var o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,p=/[LRr]/,y=/[Lb1n]/,w=/[1n]/;function D(L,j,$){this.level=L,this.from=j,this.to=$}return function(L,j){var $=j=="ltr"?"L":"R";if(L.length==0||j=="ltr"&&!o.test(L))return!1;for(var te=L.length,ye=[],De=0;De<te;++De)ye.push(T(L.charCodeAt(De)));for(var $e=0,Ke=$;$e<te;++$e){var pt=ye[$e];pt=="m"?ye[$e]=Ke:Ke=pt}for(var _t=0,At=$;_t<te;++_t){var Nt=ye[_t];Nt=="1"&&At=="r"?ye[_t]="n":p.test(Nt)&&(At=Nt,Nt=="r"&&(ye[_t]="R"))}for(var Xt=1,$t=ye[0];Xt<te-1;++Xt){var ir=ye[Xt];ir=="+"&&$t=="1"&&ye[Xt+1]=="1"?ye[Xt]="1":ir==","&&$t==ye[Xt+1]&&($t=="1"||$t=="n")&&(ye[Xt]=$t),$t=ir}for(var Mr=0;Mr<te;++Mr){var Nr=ye[Mr];if(Nr==",")ye[Mr]="N";else if(Nr=="%"){var nn=void 0;for(nn=Mr+1;nn<te&&ye[nn]=="%";++nn);for(var Nn=Mr&&ye[Mr-1]=="!"||nn<te&&ye[nn]=="1"?"1":"N",di=Mr;di<nn;++di)ye[di]=Nn;Mr=nn-1}}for(var Cn=0,ki=$;Cn<te;++Cn){var oi=ye[Cn];ki=="L"&&oi=="1"?ye[Cn]="L":p.test(oi)&&(ki=oi)}for(var bn=0;bn<te;++bn)if(u.test(ye[bn])){var Wn=void 0;for(Wn=bn+1;Wn<te&&u.test(ye[Wn]);++Wn);for(var hn=(bn?ye[bn-1]:$)=="L",ti=(Wn<te?ye[Wn]:$)=="L",ji=hn==ti?hn?"L":"R":$,Fn=bn;Fn<Wn;++Fn)ye[Fn]=ji;bn=Wn-1}for(var Ci=[],Os,co=0;co<te;)if(y.test(ye[co])){var wa=co;for(++co;co<te&&y.test(ye[co]);++co);Ci.push(new D(0,wa,co))}else{var Sa=co,no=Ci.length,Kc=j=="rtl"?1:0;for(++co;co<te&&ye[co]!="L";++co);for(var bo=Sa;bo<co;)if(w.test(ye[bo])){Sa<bo&&(Ci.splice(no,0,new D(1,Sa,bo)),no+=Kc);var hs=bo;for(++bo;bo<co&&w.test(ye[bo]);++bo);Ci.splice(no,0,new D(2,hs,bo)),no+=Kc,Sa=bo}else++bo;Sa<co&&Ci.splice(no,0,new D(1,Sa,co))}return j=="ltr"&&(Ci[0].level==1&&(Os=L.match(/^\s+/))&&(Ci[0].from=Os[0].length,Ci.unshift(new D(0,0,Os[0].length))),kt(Ci).level==1&&(Os=L.match(/\s+$/))&&(kt(Ci).to-=Os[0].length,Ci.push(new D(0,te-Os[0].length,te)))),j=="rtl"?Ci.reverse():Ci}}();function vr(f,g){var T=f.order;return T==null&&(T=f.order=Ut(f.text,g)),T}var Xn=[],_r=function(f,g,T){if(f.addEventListener)f.addEventListener(g,T,!1);else if(f.attachEvent)f.attachEvent("on"+g,T);else{var o=f._handlers||(f._handlers={});o[g]=(o[g]||Xn).concat(T)}};function $r(f,g){return f._handlers&&f._handlers[g]||Xn}function gt(f,g,T){if(f.removeEventListener)f.removeEventListener(g,T,!1);else if(f.detachEvent)f.detachEvent("on"+g,T);else{var o=f._handlers,u=o&&o[g];if(u){var p=et(u,T);p>-1&&(o[g]=u.slice(0,p).concat(u.slice(p+1)))}}}function Dt(f,g){var T=$r(f,g);if(!!T.length)for(var o=Array.prototype.slice.call(arguments,2),u=0;u<T.length;++u)T[u].apply(null,o)}function hr(f,g,T){return typeof g=="string"&&(g={type:g,preventDefault:function(){this.defaultPrevented=!0}}),Dt(f,T||g.type,f,g),Ue(g)||g.codemirrorIgnore}function zr(f){var g=f._handlers&&f._handlers.cursorActivity;if(!!g)for(var T=f.curOp.cursorActivityHandlers||(f.curOp.cursorActivityHandlers=[]),o=0;o<g.length;++o)et(T,g[o])==-1&&T.push(g[o])}function wr(f,g){return $r(f,g).length>0}function Gr(f){f.prototype.on=function(g,T){_r(this,g,T)},f.prototype.off=function(g,T){gt(this,g,T)}}function mn(f){f.preventDefault?f.preventDefault():f.returnValue=!1}function ai(f){f.stopPropagation?f.stopPropagation():f.cancelBubble=!0}function Ue(f){return f.defaultPrevented!=null?f.defaultPrevented:f.returnValue==!1}function Xe(f){mn(f),ai(f)}function bt(f){return f.target||f.srcElement}function Gt(f){var g=f.which;return g==null&&(f.button&1?g=1:f.button&2?g=3:f.button&4&&(g=2)),J&&f.ctrlKey&&g==1&&(g=3),g}var gr=function(){if(l&&h<9)return!1;var f=R("div");return"draggable"in f||"dragDrop"in f}(),rr;function Ur(f){if(rr==null){var g=R("span","\u200B");We(f,R("span",[g,document.createTextNode("x")])),f.firstChild.offsetHeight!=0&&(rr=g.offsetWidth<=1&&g.offsetHeight>2&&!(l&&h<8))}var T=rr?R("span","\u200B"):R("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return T.setAttribute("cm-text",""),T}var Fr;function vn(f){if(Fr!=null)return Fr;var g=We(f,document.createTextNode("A\u062EA")),T=ae(g,0,1).getBoundingClientRect(),o=ae(g,1,2).getBoundingClientRect();return xe(f),!T||T.left==T.right?!1:Fr=o.right-T.right<3}var xn=`

b`.split(/\n/).length!=3?function(f){for(var g=0,T=[],o=f.length;g<=o;){var u=f.indexOf(`
`,g);u==-1&&(u=f.length);var p=f.slice(g,f.charAt(u-1)=="\r"?u-1:u),y=p.indexOf("\r");y!=-1?(T.push(p.slice(0,y)),g+=y+1):(T.push(p),g=u+1)}return T}:function(f){return f.split(/\r\n?|\n/)},In=window.getSelection?function(f){try{return f.selectionStart!=f.selectionEnd}catch{return!1}}:function(f){var g;try{g=f.ownerDocument.selection.createRange()}catch{}return!g||g.parentElement()!=f?!1:g.compareEndPoints("StartToEnd",g)!=0},Pi=function(){var f=R("div");return"oncopy"in f?!0:(f.setAttribute("oncopy","return;"),typeof f.oncopy=="function")}(),Vn=null;function Oo(f){if(Vn!=null)return Vn;var g=We(f,R("span","x")),T=g.getBoundingClientRect(),o=ae(g,0,1).getBoundingClientRect();return Vn=Math.abs(T.left-o.left)>1}var $n={},Xi={};function ea(f,g){arguments.length>2&&(g.dependencies=Array.prototype.slice.call(arguments,2)),$n[f]=g}function zn(f,g){Xi[f]=g}function ve(f){if(typeof f=="string"&&Xi.hasOwnProperty(f))f=Xi[f];else if(f&&typeof f.name=="string"&&Xi.hasOwnProperty(f.name)){var g=Xi[f.name];typeof g=="string"&&(g={name:g}),f=ke(g,f),f.name=g.name}else{if(typeof f=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(f))return ve("application/xml");if(typeof f=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(f))return ve("application/json")}return typeof f=="string"?{name:f}:f||{name:"null"}}function Ee(f,g){g=ve(g);var T=$n[g.name];if(!T)return Ee(f,"text/plain");var o=T(f,g);if(Oe.hasOwnProperty(g.name)){var u=Oe[g.name];for(var p in u)!u.hasOwnProperty(p)||(o.hasOwnProperty(p)&&(o["_"+p]=o[p]),o[p]=u[p])}if(o.name=g.name,g.helperType&&(o.helperType=g.helperType),g.modeProps)for(var y in g.modeProps)o[y]=g.modeProps[y];return o}var Oe={};function Be(f,g){var T=Oe.hasOwnProperty(f)?Oe[f]:Oe[f]={};W(g,T)}function Ye(f,g){if(g===!0)return g;if(f.copyState)return f.copyState(g);var T={};for(var o in g){var u=g[o];u instanceof Array&&(u=u.concat([])),T[o]=u}return T}function ht(f,g){for(var T;f.innerMode&&(T=f.innerMode(g),!(!T||T.mode==f));)g=T.state,f=T.mode;return T||{mode:f,state:g}}function ut(f,g,T){return f.startState?f.startState(g,T):!0}var Ie=function(f,g,T){this.pos=this.start=0,this.string=f,this.tabSize=g||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=T};Ie.prototype.eol=function(){return this.pos>=this.string.length},Ie.prototype.sol=function(){return this.pos==this.lineStart},Ie.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ie.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ie.prototype.eat=function(f){var g=this.string.charAt(this.pos),T;if(typeof f=="string"?T=g==f:T=g&&(f.test?f.test(g):f(g)),T)return++this.pos,g},Ie.prototype.eatWhile=function(f){for(var g=this.pos;this.eat(f););return this.pos>g},Ie.prototype.eatSpace=function(){for(var f=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>f},Ie.prototype.skipToEnd=function(){this.pos=this.string.length},Ie.prototype.skipTo=function(f){var g=this.string.indexOf(f,this.pos);if(g>-1)return this.pos=g,!0},Ie.prototype.backUp=function(f){this.pos-=f},Ie.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ze(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ze(this.string,this.lineStart,this.tabSize):0)},Ie.prototype.indentation=function(){return Ze(this.string,null,this.tabSize)-(this.lineStart?Ze(this.string,this.lineStart,this.tabSize):0)},Ie.prototype.match=function(f,g,T){if(typeof f=="string"){var o=function(y){return T?y.toLowerCase():y},u=this.string.substr(this.pos,f.length);if(o(u)==o(f))return g!==!1&&(this.pos+=f.length),!0}else{var p=this.string.slice(this.pos).match(f);return p&&p.index>0?null:(p&&g!==!1&&(this.pos+=p[0].length),p)}},Ie.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ie.prototype.hideFirstChars=function(f,g){this.lineStart+=f;try{return g()}finally{this.lineStart-=f}},Ie.prototype.lookAhead=function(f){var g=this.lineOracle;return g&&g.lookAhead(f)},Ie.prototype.baseToken=function(){var f=this.lineOracle;return f&&f.baseToken(this.pos)};function Ne(f,g){if(g-=f.first,g<0||g>=f.size)throw new Error("There is no line "+(g+f.first)+" in the document.");for(var T=f;!T.lines;)for(var o=0;;++o){var u=T.children[o],p=u.chunkSize();if(g<p){T=u;break}g-=p}return T.lines[g]}function xt(f,g,T){var o=[],u=g.line;return f.iter(g.line,T.line+1,function(p){var y=p.text;u==T.line&&(y=y.slice(0,T.ch)),u==g.line&&(y=y.slice(g.ch)),o.push(y),++u}),o}function Vt(f,g,T){var o=[];return f.iter(g,T,function(u){o.push(u.text)}),o}function Et(f,g){var T=g-f.height;if(T)for(var o=f;o;o=o.parent)o.height+=T}function St(f){if(f.parent==null)return null;for(var g=f.parent,T=et(g.lines,f),o=g.parent;o;g=o,o=o.parent)for(var u=0;o.children[u]!=g;++u)T+=o.children[u].chunkSize();return T+g.first}function Qt(f,g){var T=f.first;e:do{for(var o=0;o<f.children.length;++o){var u=f.children[o],p=u.height;if(g<p){f=u;continue e}g-=p,T+=u.chunkSize()}return T}while(!f.lines);for(var y=0;y<f.lines.length;++y){var w=f.lines[y],D=w.height;if(g<D)break;g-=D}return T+y}function we(f,g){return g>=f.first&&g<f.first+f.size}function Pe(f,g){return String(f.lineNumberFormatter(g+f.firstLineNumber))}function Ae(f,g,T){if(T===void 0&&(T=null),!(this instanceof Ae))return new Ae(f,g,T);this.line=f,this.ch=g,this.sticky=T}function Q(f,g){return f.line-g.line||f.ch-g.ch}function Z(f,g){return f.sticky==g.sticky&&Q(f,g)==0}function ue(f){return Ae(f.line,f.ch)}function Fe(f,g){return Q(f,g)<0?g:f}function it(f,g){return Q(f,g)<0?f:g}function Mt(f,g){return Math.max(f.first,Math.min(g,f.first+f.size-1))}function Wt(f,g){if(g.line<f.first)return Ae(f.first,0);var T=f.first+f.size-1;return g.line>T?Ae(T,Ne(f,T).text.length):dr(g,Ne(f,g.line).text.length)}function dr(f,g){var T=f.ch;return T==null||T>g?Ae(f.line,g):T<0?Ae(f.line,0):f}function Sr(f,g){for(var T=[],o=0;o<g.length;o++)T[o]=Wt(f,g[o]);return T}var Zt=function(f,g){this.state=f,this.lookAhead=g},tn=function(f,g,T,o){this.state=g,this.doc=f,this.line=T,this.maxLookAhead=o||0,this.baseTokens=null,this.baseTokenPos=1};tn.prototype.lookAhead=function(f){var g=this.doc.getLine(this.line+f);return g!=null&&f>this.maxLookAhead&&(this.maxLookAhead=f),g},tn.prototype.baseToken=function(f){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=f;)this.baseTokenPos+=2;var g=this.baseTokens[this.baseTokenPos+1];return{type:g&&g.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-f}},tn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},tn.fromSaved=function(f,g,T){return g instanceof Zt?new tn(f,Ye(f.mode,g.state),T,g.lookAhead):new tn(f,Ye(f.mode,g),T)},tn.prototype.save=function(f){var g=f!==!1?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Zt(g,this.maxLookAhead):g};function un(f,g,T,o){var u=[f.state.modeGen],p={};ta(f,g.text,f.doc.mode,T,function(L,j){return u.push(L,j)},p,o);for(var y=T.state,w=function(L){T.baseTokens=u;var j=f.state.overlays[L],$=1,te=0;T.state=!0,ta(f,g.text,j.mode,T,function(ye,De){for(var $e=$;te<ye;){var Ke=u[$];Ke>ye&&u.splice($,1,ye,u[$+1],Ke),$+=2,te=Math.min(ye,Ke)}if(!!De)if(j.opaque)u.splice($e,$-$e,ye,"overlay "+De),$=$e+2;else for(;$e<$;$e+=2){var pt=u[$e+1];u[$e+1]=(pt?pt+" ":"")+"overlay "+De}},p),T.state=y,T.baseTokens=null,T.baseTokenPos=1},D=0;D<f.state.overlays.length;++D)w(D);return{styles:u,classes:p.bgClass||p.textClass?p:null}}function Br(f,g,T){if(!g.styles||g.styles[0]!=f.state.modeGen){var o=Lr(f,St(g)),u=g.text.length>f.options.maxHighlightLength&&Ye(f.doc.mode,o.state),p=un(f,g,o);u&&(o.state=u),g.stateAfter=o.save(!u),g.styles=p.styles,p.classes?g.styleClasses=p.classes:g.styleClasses&&(g.styleClasses=null),T===f.doc.highlightFrontier&&(f.doc.modeFrontier=Math.max(f.doc.modeFrontier,++f.doc.highlightFrontier))}return g.styles}function Lr(f,g,T){var o=f.doc,u=f.display;if(!o.mode.startState)return new tn(o,!0,g);var p=Dl(f,g,T),y=p>o.first&&Ne(o,p-1).stateAfter,w=y?tn.fromSaved(o,y,p):new tn(o,ut(o.mode),p);return o.iter(p,g,function(D){cn(f,D.text,w);var L=w.line;D.stateAfter=L==g-1||L%5==0||L>=u.viewFrom&&L<u.viewTo?w.save():null,w.nextLine()}),T&&(o.modeFrontier=w.line),w}function cn(f,g,T,o){var u=f.doc.mode,p=new Ie(g,f.options.tabSize,T);for(p.start=p.pos=o||0,g==""&&Mn(u,T.state);!p.eol();)Ji(u,p,T.state),p.start=p.pos}function Mn(f,g){if(f.blankLine)return f.blankLine(g);if(!!f.innerMode){var T=ht(f,g);if(T.mode.blankLine)return T.mode.blankLine(T.state)}}function Ji(f,g,T,o){for(var u=0;u<10;u++){o&&(o[0]=ht(f,T).mode);var p=f.token(g,T);if(g.pos>g.start)return p}throw new Error("Mode "+f.name+" failed to advance stream.")}var zs=function(f,g,T){this.start=f.start,this.end=f.pos,this.string=f.current(),this.type=g||null,this.state=T};function Pn(f,g,T,o){var u=f.doc,p=u.mode,y;g=Wt(u,g);var w=Ne(u,g.line),D=Lr(f,g.line,T),L=new Ie(w.text,f.options.tabSize,D),j;for(o&&(j=[]);(o||L.pos<g.ch)&&!L.eol();)L.start=L.pos,y=Ji(p,L,D.state),o&&j.push(new zs(L,y,Ye(u.mode,D.state)));return o?j:new zs(L,y,D.state)}function fi(f,g){if(f)for(;;){var T=f.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!T)break;f=f.slice(0,T.index)+f.slice(T.index+T[0].length);var o=T[1]?"bgClass":"textClass";g[o]==null?g[o]=T[2]:new RegExp("(?:^|\\s)"+T[2]+"(?:$|\\s)").test(g[o])||(g[o]+=" "+T[2])}return f}function ta(f,g,T,o,u,p,y){var w=T.flattenSpans;w==null&&(w=f.options.flattenSpans);var D=0,L=null,j=new Ie(g,f.options.tabSize,o),$,te=f.options.addModeClass&&[null];for(g==""&&fi(Mn(T,o.state),p);!j.eol();){if(j.pos>f.options.maxHighlightLength?(w=!1,y&&cn(f,g,o,j.pos),j.pos=g.length,$=null):$=fi(Ji(T,j,o.state,te),p),te){var ye=te[0].name;ye&&($="m-"+($?ye+" "+$:ye))}if(!w||L!=$){for(;D<j.start;)D=Math.min(j.start,D+5e3),u(D,L);L=$}j.start=j.pos}for(;D<j.pos;){var De=Math.min(j.pos,D+5e3);u(De,L),D=De}}function Dl(f,g,T){for(var o,u,p=f.doc,y=T?-1:g-(f.doc.mode.innerMode?1e3:100),w=g;w>y;--w){if(w<=p.first)return p.first;var D=Ne(p,w-1),L=D.stateAfter;if(L&&(!T||w+(L instanceof Zt?L.lookAhead:0)<=p.modeFrontier))return w;var j=Ze(D.text,null,f.options.tabSize);(u==null||o>j)&&(u=w-1,o=j)}return u}function vi(f,g){if(f.modeFrontier=Math.min(f.modeFrontier,g),!(f.highlightFrontier<g-10)){for(var T=f.first,o=g-1;o>T;o--){var u=Ne(f,o).stateAfter;if(u&&(!(u instanceof Zt)||o+u.lookAhead<g)){T=o+1;break}}f.highlightFrontier=Math.min(f.highlightFrontier,T)}}var Ns=!1,Ai=!1;function Qi(){Ns=!0}function so(){Ai=!0}function Dn(f,g,T){this.marker=f,this.from=g,this.to=T}function ra(f,g){if(f)for(var T=0;T<f.length;++T){var o=f[T];if(o.marker==g)return o}}function na(f,g){for(var T,o=0;o<f.length;++o)f[o]!=g&&(T||(T=[])).push(f[o]);return T}function Gu(f,g){f.markedSpans=f.markedSpans?f.markedSpans.concat([g]):[g],g.marker.attachLine(f)}function mo(f,g,T){var o;if(f)for(var u=0;u<f.length;++u){var p=f[u],y=p.marker,w=p.from==null||(y.inclusiveLeft?p.from<=g:p.from<g);if(w||p.from==g&&y.type=="bookmark"&&(!T||!p.marker.insertLeft)){var D=p.to==null||(y.inclusiveRight?p.to>=g:p.to>g);(o||(o=[])).push(new Dn(y,p.from,D?null:p.to))}}return o}function Vf(f,g,T){var o;if(f)for(var u=0;u<f.length;++u){var p=f[u],y=p.marker,w=p.to==null||(y.inclusiveRight?p.to>=g:p.to>g);if(w||p.from==g&&y.type=="bookmark"&&(!T||p.marker.insertLeft)){var D=p.from==null||(y.inclusiveLeft?p.from<=g:p.from<g);(o||(o=[])).push(new Dn(y,D?null:p.from-g,p.to==null?null:p.to-g))}}return o}function Uo(f,g){if(g.full)return null;var T=we(f,g.from.line)&&Ne(f,g.from.line).markedSpans,o=we(f,g.to.line)&&Ne(f,g.to.line).markedSpans;if(!T&&!o)return null;var u=g.from.ch,p=g.to.ch,y=Q(g.from,g.to)==0,w=mo(T,u,y),D=Vf(o,p,y),L=g.text.length==1,j=kt(g.text).length+(L?u:0);if(w)for(var $=0;$<w.length;++$){var te=w[$];if(te.to==null){var ye=ra(D,te.marker);ye?L&&(te.to=ye.to==null?null:ye.to+j):te.to=u}}if(D)for(var De=0;De<D.length;++De){var $e=D[De];if($e.to!=null&&($e.to+=j),$e.from==null){var Ke=ra(w,$e.marker);Ke||($e.from=j,L&&(w||(w=[])).push($e))}else $e.from+=j,L&&(w||(w=[])).push($e)}w&&(w=Vi(w)),D&&D!=w&&(D=Vi(D));var pt=[w];if(!L){var _t=g.text.length-2,At;if(_t>0&&w)for(var Nt=0;Nt<w.length;++Nt)w[Nt].to==null&&(At||(At=[])).push(new Dn(w[Nt].marker,null,null));for(var Xt=0;Xt<_t;++Xt)pt.push(At);pt.push(D)}return pt}function Vi(f){for(var g=0;g<f.length;++g){var T=f[g];T.from!=null&&T.from==T.to&&T.marker.clearWhenEmpty!==!1&&f.splice(g--,1)}return f.length?f:null}function ns(f,g,T){var o=null;if(f.iter(g.line,T.line+1,function(ye){if(ye.markedSpans)for(var De=0;De<ye.markedSpans.length;++De){var $e=ye.markedSpans[De].marker;$e.readOnly&&(!o||et(o,$e)==-1)&&(o||(o=[])).push($e)}}),!o)return null;for(var u=[{from:g,to:T}],p=0;p<o.length;++p)for(var y=o[p],w=y.find(0),D=0;D<u.length;++D){var L=u[D];if(!(Q(L.to,w.from)<0||Q(L.from,w.to)>0)){var j=[D,1],$=Q(L.from,w.from),te=Q(L.to,w.to);($<0||!y.inclusiveLeft&&!$)&&j.push({from:L.from,to:w.from}),(te>0||!y.inclusiveRight&&!te)&&j.push({from:w.to,to:L.to}),u.splice.apply(u,j),D+=j.length-3}}return u}function jn(f){var g=f.markedSpans;if(!!g){for(var T=0;T<g.length;++T)g[T].marker.detachLine(f);f.markedSpans=null}}function sl(f,g){if(!!g){for(var T=0;T<g.length;++T)g[T].marker.attachLine(f);f.markedSpans=g}}function pf(f){return f.inclusiveLeft?-1:0}function Pc(f){return f.inclusiveRight?1:0}function is(f,g){var T=f.lines.length-g.lines.length;if(T!=0)return T;var o=f.find(),u=g.find(),p=Q(o.from,u.from)||pf(f)-pf(g);if(p)return-p;var y=Q(o.to,u.to)||Pc(f)-Pc(g);return y||g.id-f.id}function _s(f,g){var T=Ai&&f.markedSpans,o;if(T)for(var u=void 0,p=0;p<T.length;++p)u=T[p],u.marker.collapsed&&(g?u.from:u.to)==null&&(!o||is(o,u.marker)<0)&&(o=u.marker);return o}function Xl(f){return _s(f,!0)}function Jl(f){return _s(f,!1)}function Ku(f,g){var T=Ai&&f.markedSpans,o;if(T)for(var u=0;u<T.length;++u){var p=T[u];p.marker.collapsed&&(p.from==null||p.from<g)&&(p.to==null||p.to>g)&&(!o||is(o,p.marker)<0)&&(o=p.marker)}return o}function Ol(f,g,T,o,u){var p=Ne(f,g),y=Ai&&p.markedSpans;if(y)for(var w=0;w<y.length;++w){var D=y[w];if(!!D.marker.collapsed){var L=D.marker.find(0),j=Q(L.from,T)||pf(D.marker)-pf(u),$=Q(L.to,o)||Pc(D.marker)-Pc(u);if(!(j>=0&&$<=0||j<=0&&$>=0)&&(j<=0&&(D.marker.inclusiveRight&&u.inclusiveLeft?Q(L.to,T)>=0:Q(L.to,T)>0)||j>=0&&(D.marker.inclusiveRight&&u.inclusiveLeft?Q(L.from,o)<=0:Q(L.from,o)<0)))return!0}}}function zi(f){for(var g;g=Xl(f);)f=g.find(-1,!0).line;return f}function mf(f){for(var g;g=Jl(f);)f=g.find(1,!0).line;return f}function Ql(f){for(var g,T;g=Jl(f);)f=g.find(1,!0).line,(T||(T=[])).push(f);return T}function Ua(f,g){var T=Ne(f,g),o=zi(T);return T==o?g:St(o)}function $f(f,g){if(g>f.lastLine())return g;var T=Ne(f,g),o;if(!ia(f,T))return g;for(;o=Jl(T);)T=o.find(1,!0).line;return St(T)+1}function ia(f,g){var T=Ai&&g.markedSpans;if(T){for(var o=void 0,u=0;u<T.length;++u)if(o=T[u],!!o.marker.collapsed){if(o.from==null)return!0;if(!o.marker.widgetNode&&o.from==0&&o.marker.inclusiveLeft&&ll(f,g,o))return!0}}}function ll(f,g,T){if(T.to==null){var o=T.marker.find(1,!0);return ll(f,o.line,ra(o.line.markedSpans,T.marker))}if(T.marker.inclusiveRight&&T.to==g.text.length)return!0;for(var u=void 0,p=0;p<g.markedSpans.length;++p)if(u=g.markedSpans[p],u.marker.collapsed&&!u.marker.widgetNode&&u.from==T.to&&(u.to==null||u.to!=T.from)&&(u.marker.inclusiveLeft||T.marker.inclusiveRight)&&ll(f,g,u))return!0}function Aa(f){f=zi(f);for(var g=0,T=f.parent,o=0;o<T.lines.length;++o){var u=T.lines[o];if(u==f)break;g+=u.height}for(var p=T.parent;p;T=p,p=T.parent)for(var y=0;y<p.children.length;++y){var w=p.children[y];if(w==T)break;g+=w.height}return g}function Da(f){if(f.height==0)return 0;for(var g=f.text.length,T,o=f;T=Xl(o);){var u=T.find(0,!0);o=u.from.line,g+=u.from.ch-u.to.ch}for(o=f;T=Jl(o);){var p=T.find(0,!0);g-=o.text.length-p.from.ch,o=p.to.line,g+=o.text.length-p.to.ch}return g}function ul(f){var g=f.display,T=f.doc;g.maxLine=Ne(T,T.first),g.maxLineLength=Da(g.maxLine),g.maxLineChanged=!0,T.iter(function(o){var u=Da(o);u>g.maxLineLength&&(g.maxLineLength=u,g.maxLine=o)})}var Io=function(f,g,T){this.text=f,sl(this,g),this.height=T?T(this):1};Io.prototype.lineNo=function(){return St(this)},Gr(Io);function Lc(f,g,T,o){f.text=g,f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null),f.order!=null&&(f.order=null),jn(f),sl(f,T);var u=o?o(f):1;u!=f.height&&Et(f,u)}function Ha(f){f.parent=null,jn(f)}var Ni={},gf={};function Bd(f,g){if(!f||/^\s*$/.test(f))return null;var T=g.addModeClass?gf:Ni;return T[f]||(T[f]=f.replace(/\S+/g,"cm-$&"))}function Kp(f,g){var T=G("span",null,null,b?"padding-right: .1px":null),o={pre:G("pre",[T],"CodeMirror-line"),content:T,col:0,pos:0,cm:f,trailingSpace:!1,splitSpaces:f.getOption("lineWrapping")};g.measure={};for(var u=0;u<=(g.rest?g.rest.length:0);u++){var p=u?g.rest[u-1]:g.line,y=void 0;o.pos=0,o.addToken=Fh,vn(f.display.measure)&&(y=vr(p,f.doc.direction))&&(o.addToken=jd(o.addToken,y)),o.map=[];var w=g!=f.display.externalMeasured&&St(p);Yp(p,o,Br(f,p,w)),p.styleClasses&&(p.styleClasses.bgClass&&(o.bgClass=pe(p.styleClasses.bgClass,o.bgClass||"")),p.styleClasses.textClass&&(o.textClass=pe(p.styleClasses.textClass,o.textClass||""))),o.map.length==0&&o.map.push(0,0,o.content.appendChild(Ur(f.display.measure))),u==0?(g.measure.map=o.map,g.measure.cache={}):((g.measure.maps||(g.measure.maps=[])).push(o.map),(g.measure.caches||(g.measure.caches=[])).push({}))}if(b){var D=o.content.lastChild;(/\bcm-tab\b/.test(D.className)||D.querySelector&&D.querySelector(".cm-tab"))&&(o.content.className="cm-tab-wrap-hack")}return Dt(f,"renderLine",f,g.line,o.pre),o.pre.className&&(o.textClass=pe(o.pre.className,o.textClass||"")),o}function _g(f){var g=R("span","\u2022","cm-invalidchar");return g.title="\\u"+f.charCodeAt(0).toString(16),g.setAttribute("aria-label",g.title),g}function Fh(f,g,T,o,u,p,y){if(!!g){var w=f.splitSpaces?qh(g,f.trailingSpace):g,D=f.cm.state.specialChars,L=!1,j;if(!D.test(g))f.col+=g.length,j=document.createTextNode(w),f.map.push(f.pos,f.pos+g.length,j),l&&h<9&&(L=!0),f.pos+=g.length;else{j=document.createDocumentFragment();for(var $=0;;){D.lastIndex=$;var te=D.exec(g),ye=te?te.index-$:g.length-$;if(ye){var De=document.createTextNode(w.slice($,$+ye));l&&h<9?j.appendChild(R("span",[De])):j.appendChild(De),f.map.push(f.pos,f.pos+ye,De),f.col+=ye,f.pos+=ye}if(!te)break;$+=ye+1;var $e=void 0;if(te[0]=="	"){var Ke=f.cm.options.tabSize,pt=Ke-f.col%Ke;$e=j.appendChild(R("span",Kt(pt),"cm-tab")),$e.setAttribute("role","presentation"),$e.setAttribute("cm-text","	"),f.col+=pt}else te[0]=="\r"||te[0]==`
`?($e=j.appendChild(R("span",te[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),$e.setAttribute("cm-text",te[0]),f.col+=1):($e=f.cm.options.specialCharPlaceholder(te[0]),$e.setAttribute("cm-text",te[0]),l&&h<9?j.appendChild(R("span",[$e])):j.appendChild($e),f.col+=1);f.map.push(f.pos,f.pos+1,$e),f.pos++}}if(f.trailingSpace=w.charCodeAt(g.length-1)==32,T||o||u||L||p||y){var _t=T||"";o&&(_t+=o),u&&(_t+=u);var At=R("span",[j],_t,p);if(y)for(var Nt in y)y.hasOwnProperty(Nt)&&Nt!="style"&&Nt!="class"&&At.setAttribute(Nt,y[Nt]);return f.content.appendChild(At)}f.content.appendChild(j)}}function qh(f,g){if(f.length>1&&!/  /.test(f))return f;for(var T=g,o="",u=0;u<f.length;u++){var p=f.charAt(u);p==" "&&T&&(u==f.length-1||f.charCodeAt(u+1)==32)&&(p="\xA0"),o+=p,T=p==" "}return o}function jd(f,g){return function(T,o,u,p,y,w,D){u=u?u+" cm-force-border":"cm-force-border";for(var L=T.pos,j=L+o.length;;){for(var $=void 0,te=0;te<g.length&&($=g[te],!($.to>L&&$.from<=L));te++);if($.to>=j)return f(T,o,u,p,y,w,D);f(T,o.slice(0,$.to-L),u,p,null,w,D),p=null,o=o.slice($.to-L),L=$.to}}}function zh(f,g,T,o){var u=!o&&T.widgetNode;u&&f.map.push(f.pos,f.pos+g,u),!o&&f.cm.display.input.needsContentAttribute&&(u||(u=f.content.appendChild(document.createElement("span"))),u.setAttribute("cm-marker",T.id)),u&&(f.cm.display.input.setUneditable(u),f.content.appendChild(u)),f.pos+=g,f.trailingSpace=!1}function Yp(f,g,T){var o=f.markedSpans,u=f.text,p=0;if(!o){for(var y=1;y<T.length;y+=2)g.addToken(g,u.slice(p,p=T[y]),Bd(T[y+1],g.cm.options));return}for(var w=u.length,D=0,L=1,j="",$,te,ye=0,De,$e,Ke,pt,_t;;){if(ye==D){De=$e=Ke=te="",_t=null,pt=null,ye=1/0;for(var At=[],Nt=void 0,Xt=0;Xt<o.length;++Xt){var $t=o[Xt],ir=$t.marker;if(ir.type=="bookmark"&&$t.from==D&&ir.widgetNode)At.push(ir);else if($t.from<=D&&($t.to==null||$t.to>D||ir.collapsed&&$t.to==D&&$t.from==D)){if($t.to!=null&&$t.to!=D&&ye>$t.to&&(ye=$t.to,$e=""),ir.className&&(De+=" "+ir.className),ir.css&&(te=(te?te+";":"")+ir.css),ir.startStyle&&$t.from==D&&(Ke+=" "+ir.startStyle),ir.endStyle&&$t.to==ye&&(Nt||(Nt=[])).push(ir.endStyle,$t.to),ir.title&&((_t||(_t={})).title=ir.title),ir.attributes)for(var Mr in ir.attributes)(_t||(_t={}))[Mr]=ir.attributes[Mr];ir.collapsed&&(!pt||is(pt.marker,ir)<0)&&(pt=$t)}else $t.from>D&&ye>$t.from&&(ye=$t.from)}if(Nt)for(var Nr=0;Nr<Nt.length;Nr+=2)Nt[Nr+1]==ye&&($e+=" "+Nt[Nr]);if(!pt||pt.from==D)for(var nn=0;nn<At.length;++nn)zh(g,0,At[nn]);if(pt&&(pt.from||0)==D){if(zh(g,(pt.to==null?w+1:pt.to)-D,pt.marker,pt.from==null),pt.to==null)return;pt.to==D&&(pt=!1)}}if(D>=w)break;for(var Nn=Math.min(w,ye);;){if(j){var di=D+j.length;if(!pt){var Cn=di>Nn?j.slice(0,Nn-D):j;g.addToken(g,Cn,$?$+De:De,Ke,D+Cn.length==ye?$e:"",te,_t)}if(di>=Nn){j=j.slice(Nn-D),D=Nn;break}D=di,Ke=""}j=u.slice(p,p=T[L++]),$=Bd(T[L++],g.cm.options)}}}function Ud(f,g,T){this.line=g,this.rest=Ql(g),this.size=this.rest?St(kt(this.rest))-T+1:1,this.node=this.text=null,this.hidden=ia(f,g)}function Gf(f,g,T){for(var o=[],u,p=g;p<T;p=u){var y=new Ud(f.doc,Ne(f.doc,p),p);u=p+y.size,o.push(y)}return o}var eu=null;function vf(f){eu?eu.ops.push(f):f.ownsGroup=eu={ops:[f],delayedCallbacks:[]}}function Kf(f){var g=f.delayedCallbacks,T=0;do{for(;T<g.length;T++)g[T].call(null);for(var o=0;o<f.ops.length;o++){var u=f.ops[o];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(T<g.length)}function go(f,g){var T=f.ownsGroup;if(!!T)try{Kf(T)}finally{eu=null,g(T)}}var Rc=null;function eo(f,g){var T=$r(f,g);if(!!T.length){var o=Array.prototype.slice.call(arguments,2),u;eu?u=eu.delayedCallbacks:Rc?u=Rc:(u=Rc=[],setTimeout(Yu,0));for(var p=function(w){u.push(function(){return T[w].apply(null,o)})},y=0;y<T.length;++y)p(y)}}function Yu(){var f=Rc;Rc=null;for(var g=0;g<f.length;++g)f[g]()}function cl(f,g,T,o){for(var u=0;u<g.changes.length;u++){var p=g.changes[u];p=="text"?Il(f,g):p=="gutter"?Nh(f,g,T,o):p=="class"?tu(f,g):p=="widget"&&Zp(f,g,o)}g.changes=null}function Di(f){return f.node==f.text&&(f.node=R("div",null,null,"position: relative"),f.text.parentNode&&f.text.parentNode.replaceChild(f.node,f.text),f.node.appendChild(f.text),l&&h<8&&(f.node.style.zIndex=2)),f.node}function Zu(f,g){var T=g.bgClass?g.bgClass+" "+(g.line.bgClass||""):g.line.bgClass;if(T&&(T+=" CodeMirror-linebackground"),g.background)T?g.background.className=T:(g.background.parentNode.removeChild(g.background),g.background=null);else if(T){var o=Di(g);g.background=o.insertBefore(R("div",null,T),o.firstChild),f.display.input.setUneditable(g.background)}}function Au(f,g){var T=f.display.externalMeasured;return T&&T.line==g.line?(f.display.externalMeasured=null,g.measure=T.measure,T.built):Kp(f,g)}function Il(f,g){var T=g.text.className,o=Au(f,g);g.text==g.node&&(g.node=o.pre),g.text.parentNode.replaceChild(o.pre,g.text),g.text=o.pre,o.bgClass!=g.bgClass||o.textClass!=g.textClass?(g.bgClass=o.bgClass,g.textClass=o.textClass,tu(f,g)):T&&(g.text.className=T)}function tu(f,g){Zu(f,g),g.line.wrapClass?Di(g).className=g.line.wrapClass:g.node!=g.text&&(g.node.className="");var T=g.textClass?g.textClass+" "+(g.line.textClass||""):g.line.textClass;g.text.className=T||""}function Nh(f,g,T,o){if(g.gutter&&(g.node.removeChild(g.gutter),g.gutter=null),g.gutterBackground&&(g.node.removeChild(g.gutterBackground),g.gutterBackground=null),g.line.gutterClass){var u=Di(g);g.gutterBackground=R("div",null,"CodeMirror-gutter-background "+g.line.gutterClass,"left: "+(f.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px; width: "+o.gutterTotalWidth+"px"),f.display.input.setUneditable(g.gutterBackground),u.insertBefore(g.gutterBackground,g.text)}var p=g.line.gutterMarkers;if(f.options.lineNumbers||p){var y=Di(g),w=g.gutter=R("div",null,"CodeMirror-gutter-wrapper","left: "+(f.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px");if(f.display.input.setUneditable(w),y.insertBefore(w,g.text),g.line.gutterClass&&(w.className+=" "+g.line.gutterClass),f.options.lineNumbers&&(!p||!p["CodeMirror-linenumbers"])&&(g.lineNumber=w.appendChild(R("div",Pe(f.options,T),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+o.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+f.display.lineNumInnerWidth+"px"))),p)for(var D=0;D<f.display.gutterSpecs.length;++D){var L=f.display.gutterSpecs[D].className,j=p.hasOwnProperty(L)&&p[L];j&&w.appendChild(R("div",[j],"CodeMirror-gutter-elt","left: "+o.gutterLeft[L]+"px; width: "+o.gutterWidth[L]+"px"))}}}function Zp(f,g,T){g.alignable&&(g.alignable=null);for(var o=he("CodeMirror-linewidget"),u=g.node.firstChild,p=void 0;u;u=p)p=u.nextSibling,o.test(u.className)&&g.node.removeChild(u);Hd(f,g,T)}function si(f,g,T,o){var u=Au(f,g);return g.text=g.node=u.pre,u.bgClass&&(g.bgClass=u.bgClass),u.textClass&&(g.textClass=u.textClass),tu(f,g),Nh(f,g,T,o),Hd(f,g,o),g.node}function Hd(f,g,T){if(Yf(f,g.line,g,T,!0),g.rest)for(var o=0;o<g.rest.length;o++)Yf(f,g.rest[o],g,T,!1)}function Yf(f,g,T,o,u){if(!!g.widgets)for(var p=Di(T),y=0,w=g.widgets;y<w.length;++y){var D=w[y],L=R("div",[D.node],"CodeMirror-linewidget"+(D.className?" "+D.className:""));D.handleMouseEvents||L.setAttribute("cm-ignore-events","true"),Xp(D,L,T,o),f.display.input.setUneditable(L),u&&D.above?p.insertBefore(L,T.gutter||T.text):p.appendChild(L),eo(D,"redraw")}}function Xp(f,g,T,o){if(f.noHScroll){(T.alignable||(T.alignable=[])).push(g);var u=o.wrapperWidth;g.style.left=o.fixedPos+"px",f.coverGutter||(u-=o.gutterTotalWidth,g.style.paddingLeft=o.gutterTotalWidth+"px"),g.style.width=u+"px"}f.coverGutter&&(g.style.zIndex=5,g.style.position="relative",f.noHScroll||(g.style.marginLeft=-o.gutterTotalWidth+"px"))}function Fc(f){if(f.height!=null)return f.height;var g=f.doc.cm;if(!g)return 0;if(!Ce(document.body,f.node)){var T="position: relative;";f.coverGutter&&(T+="margin-left: -"+g.display.gutters.offsetWidth+"px;"),f.noHScroll&&(T+="width: "+g.display.wrapper.clientWidth+"px;"),We(g.display.measure,R("div",[f.node],null,T))}return f.height=f.node.parentNode.offsetHeight}function Ml(f,g){for(var T=bt(g);T!=f.wrapper;T=T.parentNode)if(!T||T.nodeType==1&&T.getAttribute("cm-ignore-events")=="true"||T.parentNode==f.sizer&&T!=f.mover)return!0}function Zf(f){return f.lineSpace.offsetTop}function Bs(f){return f.mover.offsetHeight-f.lineSpace.offsetHeight}function Oa(f){if(f.cachedPaddingH)return f.cachedPaddingH;var g=We(f.measure,R("pre","x","CodeMirror-line-like")),T=window.getComputedStyle?window.getComputedStyle(g):g.currentStyle,o={left:parseInt(T.paddingLeft),right:parseInt(T.paddingRight)};return!isNaN(o.left)&&!isNaN(o.right)&&(f.cachedPaddingH=o),o}function oa(f){return Pt-f.display.nativeBarWidth}function ru(f){return f.display.scroller.clientWidth-oa(f)-f.display.barWidth}function Xf(f){return f.display.scroller.clientHeight-oa(f)-f.display.barHeight}function fl(f,g,T){var o=f.options.lineWrapping,u=o&&ru(f);if(!g.measure.heights||o&&g.measure.width!=u){var p=g.measure.heights=[];if(o){g.measure.width=u;for(var y=g.text.firstChild.getClientRects(),w=0;w<y.length-1;w++){var D=y[w],L=y[w+1];Math.abs(D.bottom-L.bottom)>2&&p.push((D.bottom+L.top)/2-T.top)}}p.push(T.bottom-T.top)}}function ws(f,g,T){if(f.line==g)return{map:f.measure.map,cache:f.measure.cache};for(var o=0;o<f.rest.length;o++)if(f.rest[o]==g)return{map:f.measure.maps[o],cache:f.measure.caches[o]};for(var u=0;u<f.rest.length;u++)if(St(f.rest[u])>T)return{map:f.measure.maps[u],cache:f.measure.caches[u],before:!0}}function Bh(f,g){g=zi(g);var T=St(g),o=f.display.externalMeasured=new Ud(f.doc,g,T);o.lineN=T;var u=o.built=Kp(f,o);return o.text=u.pre,We(f.display.lineMeasure,u.pre),o}function Xu(f,g,T,o){return os(f,qc(f,g),T,o)}function nu(f,g){if(g>=f.display.viewFrom&&g<f.display.viewTo)return f.display.view[cu(f,g)];var T=f.display.externalMeasured;if(T&&g>=T.lineN&&g<T.lineN+T.size)return T}function qc(f,g){var T=St(g),o=nu(f,T);o&&!o.text?o=null:o&&o.changes&&(cl(f,o,T,lu(f)),f.curOp.forceUpdate=!0),o||(o=Bh(f,g));var u=ws(o,g,T);return{line:g,view:o,rect:null,map:u.map,cache:u.cache,before:u.before,hasHeights:!1}}function os(f,g,T,o,u){g.before&&(T=-1);var p=T+(o||""),y;return g.cache.hasOwnProperty(p)?y=g.cache[p]:(g.rect||(g.rect=g.view.text.getBoundingClientRect()),g.hasHeights||(fl(f,g.view,g.rect),g.hasHeights=!0),y=zc(f,g,T,o),y.bogus||(g.cache[p]=y)),{left:y.left,right:y.right,top:u?y.rtop:y.top,bottom:u?y.rbottom:y.bottom}}var hi={left:0,right:0,top:0,bottom:0};function iu(f,g,T){for(var o,u,p,y,w,D,L=0;L<f.length;L+=3)if(w=f[L],D=f[L+1],g<w?(u=0,p=1,y="left"):g<D?(u=g-w,p=u+1):(L==f.length-3||g==D&&f[L+3]>g)&&(p=D-w,u=p-1,g>=D&&(y="right")),u!=null){if(o=f[L+2],w==D&&T==(o.insertLeft?"left":"right")&&(y=T),T=="left"&&u==0)for(;L&&f[L-2]==f[L-3]&&f[L-1].insertLeft;)o=f[(L-=3)+2],y="left";if(T=="right"&&u==D-w)for(;L<f.length-3&&f[L+3]==f[L+4]&&!f[L+5].insertLeft;)o=f[(L+=3)+2],y="right";break}return{node:o,start:u,end:p,collapse:y,coverStart:w,coverEnd:D}}function ou(f,g){var T=hi;if(g=="left")for(var o=0;o<f.length&&(T=f[o]).left==T.right;o++);else for(var u=f.length-1;u>=0&&(T=f[u]).left==T.right;u--);return T}function zc(f,g,T,o){var u=iu(g.map,T,o),p=u.node,y=u.start,w=u.end,D=u.collapse,L;if(p.nodeType==3){for(var j=0;j<4;j++){for(;y&&ur(g.line.text.charAt(u.coverStart+y));)--y;for(;u.coverStart+w<u.coverEnd&&ur(g.line.text.charAt(u.coverStart+w));)++w;if(l&&h<9&&y==0&&w==u.coverEnd-u.coverStart?L=p.parentNode.getBoundingClientRect():L=ou(ae(p,y,w).getClientRects(),o),L.left||L.right||y==0)break;w=y,y=y-1,D="right"}l&&h<11&&(L=Wd(f.display.measure,L))}else{y>0&&(D=o="right");var $;f.options.lineWrapping&&($=p.getClientRects()).length>1?L=$[o=="right"?$.length-1:0]:L=p.getBoundingClientRect()}if(l&&h<9&&!y&&(!L||!L.left&&!L.right)){var te=p.parentNode.getClientRects()[0];te?L={left:te.left,right:te.left+tc(f.display),top:te.top,bottom:te.bottom}:L=hi}for(var ye=L.top-g.rect.top,De=L.bottom-g.rect.top,$e=(ye+De)/2,Ke=g.view.measure.heights,pt=0;pt<Ke.length-1&&!($e<Ke[pt]);pt++);var _t=pt?Ke[pt-1]:0,At=Ke[pt],Nt={left:(D=="right"?L.right:L.left)-g.rect.left,right:(D=="left"?L.left:L.right)-g.rect.left,top:_t,bottom:At};return!L.left&&!L.right&&(Nt.bogus=!0),f.options.singleCursorHeightPerLine||(Nt.rtop=ye,Nt.rbottom=De),Nt}function Wd(f,g){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Oo(f))return g;var T=screen.logicalXDPI/screen.deviceXDPI,o=screen.logicalYDPI/screen.deviceYDPI;return{left:g.left*T,right:g.right*T,top:g.top*o,bottom:g.bottom*o}}function Jp(f){if(f.measure&&(f.measure.cache={},f.measure.heights=null,f.rest))for(var g=0;g<f.rest.length;g++)f.measure.caches[g]={}}function Vd(f){f.display.externalMeasure=null,xe(f.display.lineMeasure);for(var g=0;g<f.display.view.length;g++)Jp(f.display.view[g])}function Ju(f){Vd(f),f.display.cachedCharWidth=f.display.cachedTextHeight=f.display.cachedPaddingH=null,f.options.lineWrapping||(f.display.maxLineChanged=!0),f.display.lineNumChars=null}function Qu(){return E&&V?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Nc(){return E&&V?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function au(f){var g=0;if(f.widgets)for(var T=0;T<f.widgets.length;++T)f.widgets[T].above&&(g+=Fc(f.widgets[T]));return g}function Du(f,g,T,o,u){if(!u){var p=au(g);T.top+=p,T.bottom+=p}if(o=="line")return T;o||(o="local");var y=Aa(g);if(o=="local"?y+=Zf(f.display):y-=f.display.viewOffset,o=="page"||o=="window"){var w=f.display.lineSpace.getBoundingClientRect();y+=w.top+(o=="window"?0:Nc());var D=w.left+(o=="window"?0:Qu());T.left+=D,T.right+=D}return T.top+=y,T.bottom+=y,T}function ec(f,g,T){if(T=="div")return g;var o=g.left,u=g.top;if(T=="page")o-=Qu(),u-=Nc();else if(T=="local"||!T){var p=f.display.sizer.getBoundingClientRect();o+=p.left,u+=p.top}var y=f.display.lineSpace.getBoundingClientRect();return{left:o-y.left,top:u-y.top}}function yf(f,g,T,o,u){return o||(o=Ne(f.doc,g.line)),Du(f,o,Xu(f,o,g.ch,u),T)}function aa(f,g,T,o,u,p){o=o||Ne(f.doc,g.line),u||(u=qc(f,o));function y(De,$e){var Ke=os(f,u,De,$e?"right":"left",p);return $e?Ke.left=Ke.right:Ke.right=Ke.left,Du(f,o,Ke,T)}var w=vr(o,f.doc.direction),D=g.ch,L=g.sticky;if(D>=o.text.length?(D=o.text.length,L="before"):D<=0&&(D=0,L="after"),!w)return y(L=="before"?D-1:D,L=="before");function j(De,$e,Ke){var pt=w[$e],_t=pt.level==1;return y(Ke?De-1:De,_t!=Ke)}var $=at(w,D,L),te=Ve,ye=j(D,$,L=="before");return te!=null&&(ye.other=j(D,te,L!="before")),ye}function js(f,g){var T=0;g=Wt(f.doc,g),f.options.lineWrapping||(T=tc(f.display)*g.ch);var o=Ne(f.doc,g.line),u=Aa(o)+Zf(f.display);return{left:T,right:T,top:u,bottom:u+o.height}}function Bc(f,g,T,o,u){var p=Ae(f,g,T);return p.xRel=u,o&&(p.outside=o),p}function Ss(f,g,T){var o=f.doc;if(T+=f.display.viewOffset,T<0)return Bc(o.first,0,null,-1,-1);var u=Qt(o,T),p=o.first+o.size-1;if(u>p)return Bc(o.first+o.size-1,Ne(o,p).text.length,null,1,1);g<0&&(g=0);for(var y=Ne(o,u);;){var w=Jf(f,y,u,g,T),D=Ku(y,w.ch+(w.xRel>0||w.outside>0?1:0));if(!D)return w;var L=D.find(1);if(L.line==u)return L;y=Ne(o,u=L.line)}}function jh(f,g,T,o){o-=au(g);var u=g.text.length,p=xr(function(y){return os(f,T,y-1).bottom<=o},u,0);return u=xr(function(y){return os(f,T,y).top>o},p,u),{begin:p,end:u}}function su(f,g,T,o){T||(T=qc(f,g));var u=Du(f,g,os(f,T,o),"line").top;return jh(f,g,T,u)}function Ou(f,g,T,o){return f.bottom<=T?!1:f.top>T?!0:(o?f.left:f.right)>g}function Jf(f,g,T,o,u){u-=Aa(g);var p=qc(f,g),y=au(g),w=0,D=g.text.length,L=!0,j=vr(g,f.doc.direction);if(j){var $=(f.options.lineWrapping?bf:Uh)(f,g,T,p,j,o,u);L=$.level!=1,w=L?$.from:$.to-1,D=L?$.to:$.from-1}var te=null,ye=null,De=xr(function(Xt){var $t=os(f,p,Xt);return $t.top+=y,$t.bottom+=y,Ou($t,o,u,!1)?($t.top<=u&&$t.left<=o&&(te=Xt,ye=$t),!0):!1},w,D),$e,Ke,pt=!1;if(ye){var _t=o-ye.left<ye.right-o,At=_t==L;De=te+(At?0:1),Ke=At?"after":"before",$e=_t?ye.left:ye.right}else{!L&&(De==D||De==w)&&De++,Ke=De==0?"after":De==g.text.length?"before":os(f,p,De-(L?1:0)).bottom+y<=u==L?"after":"before";var Nt=aa(f,Ae(T,De,Ke),"line",g,p);$e=Nt.left,pt=u<Nt.top?-1:u>=Nt.bottom?1:0}return De=sr(g.text,De,1),Bc(T,De,Ke,pt,o-$e)}function Uh(f,g,T,o,u,p,y){var w=xr(function($){var te=u[$],ye=te.level!=1;return Ou(aa(f,Ae(T,ye?te.to:te.from,ye?"before":"after"),"line",g,o),p,y,!0)},0,u.length-1),D=u[w];if(w>0){var L=D.level!=1,j=aa(f,Ae(T,L?D.from:D.to,L?"after":"before"),"line",g,o);Ou(j,p,y,!0)&&j.top>y&&(D=u[w-1])}return D}function bf(f,g,T,o,u,p,y){var w=jh(f,g,o,y),D=w.begin,L=w.end;/\s/.test(g.text.charAt(L-1))&&L--;for(var j=null,$=null,te=0;te<u.length;te++){var ye=u[te];if(!(ye.from>=L||ye.to<=D)){var De=ye.level!=1,$e=os(f,o,De?Math.min(L,ye.to)-1:Math.max(D,ye.from)).right,Ke=$e<p?p-$e+1e9:$e-p;(!j||$>Ke)&&(j=ye,$=Ke)}}return j||(j=u[u.length-1]),j.from<D&&(j={from:D,to:j.to,level:j.level}),j.to>L&&(j={from:j.from,to:L,level:j.level}),j}var jc;function Iu(f){if(f.cachedTextHeight!=null)return f.cachedTextHeight;if(jc==null){jc=R("pre",null,"CodeMirror-line-like");for(var g=0;g<49;++g)jc.appendChild(document.createTextNode("x")),jc.appendChild(R("br"));jc.appendChild(document.createTextNode("x"))}We(f.measure,jc);var T=jc.offsetHeight/50;return T>3&&(f.cachedTextHeight=T),xe(f.measure),T||1}function tc(f){if(f.cachedCharWidth!=null)return f.cachedCharWidth;var g=R("span","xxxxxxxxxx"),T=R("pre",[g],"CodeMirror-line-like");We(f.measure,T);var o=g.getBoundingClientRect(),u=(o.right-o.left)/10;return u>2&&(f.cachedCharWidth=u),u||10}function lu(f){for(var g=f.display,T={},o={},u=g.gutters.clientLeft,p=g.gutters.firstChild,y=0;p;p=p.nextSibling,++y){var w=f.display.gutterSpecs[y].className;T[w]=p.offsetLeft+p.clientLeft+u,o[w]=p.clientWidth}return{fixedPos:Mu(g),gutterTotalWidth:g.gutters.offsetWidth,gutterLeft:T,gutterWidth:o,wrapperWidth:g.wrapper.clientWidth}}function Mu(f){return f.scroller.getBoundingClientRect().left-f.sizer.getBoundingClientRect().left}function uu(f){var g=Iu(f.display),T=f.options.lineWrapping,o=T&&Math.max(5,f.display.scroller.clientWidth/tc(f.display)-3);return function(u){if(ia(f.doc,u))return 0;var p=0;if(u.widgets)for(var y=0;y<u.widgets.length;y++)u.widgets[y].height&&(p+=u.widgets[y].height);return T?p+(Math.ceil(u.text.length/o)||1)*g:p+g}}function Uc(f){var g=f.doc,T=uu(f);g.iter(function(o){var u=T(o);u!=o.height&&Et(o,u)})}function Pl(f,g,T,o){var u=f.display;if(!T&&bt(g).getAttribute("cm-not-content")=="true")return null;var p,y,w=u.lineSpace.getBoundingClientRect();try{p=g.clientX-w.left,y=g.clientY-w.top}catch{return null}var D=Ss(f,p,y),L;if(o&&D.xRel>0&&(L=Ne(f.doc,D.line).text).length==D.ch){var j=Ze(L,L.length,f.options.tabSize)-L.length;D=Ae(D.line,Math.max(0,Math.round((p-Oa(f.display).left)/tc(f.display))-j))}return D}function cu(f,g){if(g>=f.display.viewTo||(g-=f.display.viewFrom,g<0))return null;for(var T=f.display.view,o=0;o<T.length;o++)if(g-=T[o].size,g<0)return o}function Mo(f,g,T,o){g==null&&(g=f.doc.first),T==null&&(T=f.doc.first+f.doc.size),o||(o=0);var u=f.display;if(o&&T<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>g)&&(u.updateLineNumbers=g),f.curOp.viewChanged=!0,g>=u.viewTo)Ai&&Ua(f.doc,g)<u.viewTo&&Ho(f);else if(T<=u.viewFrom)Ai&&$f(f.doc,T+o)>u.viewFrom?Ho(f):(u.viewFrom+=o,u.viewTo+=o);else if(g<=u.viewFrom&&T>=u.viewTo)Ho(f);else if(g<=u.viewFrom){var p=En(f,T,T+o,1);p?(u.view=u.view.slice(p.index),u.viewFrom=p.lineN,u.viewTo+=o):Ho(f)}else if(T>=u.viewTo){var y=En(f,g,g,-1);y?(u.view=u.view.slice(0,y.index),u.viewTo=y.lineN):Ho(f)}else{var w=En(f,g,g,-1),D=En(f,T,T+o,1);w&&D?(u.view=u.view.slice(0,w.index).concat(Gf(f,w.lineN,D.lineN)).concat(u.view.slice(D.index)),u.viewTo+=o):Ho(f)}var L=u.externalMeasured;L&&(T<L.lineN?L.lineN+=o:g<L.lineN+L.size&&(u.externalMeasured=null))}function as(f,g,T){f.curOp.viewChanged=!0;var o=f.display,u=f.display.externalMeasured;if(u&&g>=u.lineN&&g<u.lineN+u.size&&(o.externalMeasured=null),!(g<o.viewFrom||g>=o.viewTo)){var p=o.view[cu(f,g)];if(p.node!=null){var y=p.changes||(p.changes=[]);et(y,T)==-1&&y.push(T)}}}function Ho(f){f.display.viewFrom=f.display.viewTo=f.doc.first,f.display.view=[],f.display.viewOffset=0}function En(f,g,T,o){var u=cu(f,g),p,y=f.display.view;if(!Ai||T==f.doc.first+f.doc.size)return{index:u,lineN:T};for(var w=f.display.viewFrom,D=0;D<u;D++)w+=y[D].size;if(w!=g){if(o>0){if(u==y.length-1)return null;p=w+y[u].size-g,u++}else p=w-g;g+=p,T+=p}for(;Ua(f.doc,T)!=T;){if(u==(o<0?0:y.length-1))return null;T+=o*y[u-(o<0?1:0)].size,u+=o}return{index:u,lineN:T}}function Ll(f,g,T){var o=f.display,u=o.view;u.length==0||g>=o.viewTo||T<=o.viewFrom?(o.view=Gf(f,g,T),o.viewFrom=g):(o.viewFrom>g?o.view=Gf(f,g,o.viewFrom).concat(o.view):o.viewFrom<g&&(o.view=o.view.slice(cu(f,g))),o.viewFrom=g,o.viewTo<T?o.view=o.view.concat(Gf(f,o.viewTo,T)):o.viewTo>T&&(o.view=o.view.slice(0,cu(f,T)))),o.viewTo=T}function ss(f){for(var g=f.display.view,T=0,o=0;o<g.length;o++){var u=g[o];!u.hidden&&(!u.node||u.changes)&&++T}return T}function ls(f){f.display.input.showSelection(f.display.input.prepareSelection())}function Ln(f,g){g===void 0&&(g=!0);for(var T=f.doc,o={},u=o.cursors=document.createDocumentFragment(),p=o.selection=document.createDocumentFragment(),y=0;y<T.sel.ranges.length;y++)if(!(!g&&y==T.sel.primIndex)){var w=T.sel.ranges[y];if(!(w.from().line>=f.display.viewTo||w.to().line<f.display.viewFrom)){var D=w.empty();(D||f.options.showCursorWhenSelecting)&&yi(f,w.head,u),D||xf(f,w,p)}}return o}function yi(f,g,T){var o=aa(f,g,"div",null,null,!f.options.singleCursorHeightPerLine),u=T.appendChild(R("div","\xA0","CodeMirror-cursor"));if(u.style.left=o.left+"px",u.style.top=o.top+"px",u.style.height=Math.max(0,o.bottom-o.top)*f.options.cursorHeight+"px",o.other){var p=T.appendChild(R("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));p.style.display="",p.style.left=o.other.left+"px",p.style.top=o.other.top+"px",p.style.height=(o.other.bottom-o.other.top)*.85+"px"}}function Wo(f,g){return f.top-g.top||f.left-g.left}function xf(f,g,T){var o=f.display,u=f.doc,p=document.createDocumentFragment(),y=Oa(f.display),w=y.left,D=Math.max(o.sizerWidth,ru(f)-o.sizer.offsetLeft)-y.right,L=u.direction=="ltr";function j(At,Nt,Xt,$t){Nt<0&&(Nt=0),Nt=Math.round(Nt),$t=Math.round($t),p.appendChild(R("div",null,"CodeMirror-selected","position: absolute; left: "+At+`px;
                             top: `+Nt+"px; width: "+(Xt??D-At)+`px;
                             height: `+($t-Nt)+"px"))}function $(At,Nt,Xt){var $t=Ne(u,At),ir=$t.text.length,Mr,Nr;function nn(Cn,ki){return yf(f,Ae(At,Cn),"div",$t,ki)}function Nn(Cn,ki,oi){var bn=su(f,$t,null,Cn),Wn=ki=="ltr"==(oi=="after")?"left":"right",hn=oi=="after"?bn.begin:bn.end-(/\s/.test($t.text.charAt(bn.end-1))?2:1);return nn(hn,Wn)[Wn]}var di=vr($t,u.direction);return fr(di,Nt||0,Xt??ir,function(Cn,ki,oi,bn){var Wn=oi=="ltr",hn=nn(Cn,Wn?"left":"right"),ti=nn(ki-1,Wn?"right":"left"),ji=Nt==null&&Cn==0,Fn=Xt==null&&ki==ir,Ci=bn==0,Os=!di||bn==di.length-1;if(ti.top-hn.top<=3){var co=(L?ji:Fn)&&Ci,wa=(L?Fn:ji)&&Os,Sa=co?w:(Wn?hn:ti).left,no=wa?D:(Wn?ti:hn).right;j(Sa,hn.top,no-Sa,hn.bottom)}else{var Kc,bo,hs,Nu;Wn?(Kc=L&&ji&&Ci?w:hn.left,bo=L?D:Nn(Cn,oi,"before"),hs=L?w:Nn(ki,oi,"after"),Nu=L&&Fn&&Os?D:ti.right):(Kc=L?Nn(Cn,oi,"before"):w,bo=!L&&ji&&Ci?D:hn.right,hs=!L&&Fn&&Os?w:ti.left,Nu=L?Nn(ki,oi,"after"):D),j(Kc,hn.top,bo-Kc,hn.bottom),hn.bottom<ti.top&&j(w,hn.bottom,null,ti.top),j(hs,ti.top,Nu-hs,ti.bottom)}(!Mr||Wo(hn,Mr)<0)&&(Mr=hn),Wo(ti,Mr)<0&&(Mr=ti),(!Nr||Wo(hn,Nr)<0)&&(Nr=hn),Wo(ti,Nr)<0&&(Nr=ti)}),{start:Mr,end:Nr}}var te=g.from(),ye=g.to();if(te.line==ye.line)$(te.line,te.ch,ye.ch);else{var De=Ne(u,te.line),$e=Ne(u,ye.line),Ke=zi(De)==zi($e),pt=$(te.line,te.ch,Ke?De.text.length+1:null).end,_t=$(ye.line,Ke?0:null,ye.ch).start;Ke&&(pt.top<_t.top-2?(j(pt.right,pt.top,null,pt.bottom),j(w,_t.top,_t.left,_t.bottom)):j(pt.right,pt.top,_t.left-pt.right,pt.bottom)),pt.bottom<_t.top&&j(w,pt.bottom,null,_t.top)}T.appendChild(p)}function fu(f){if(!!f.state.focused){var g=f.display;clearInterval(g.blinker);var T=!0;g.cursorDiv.style.visibility="",f.options.cursorBlinkRate>0?g.blinker=setInterval(function(){f.hasFocus()||Rl(f),g.cursorDiv.style.visibility=(T=!T)?"":"hidden"},f.options.cursorBlinkRate):f.options.cursorBlinkRate<0&&(g.cursorDiv.style.visibility="hidden")}}function Pu(f){f.hasFocus()||(f.display.input.focus(),f.state.focused||Qf(f))}function $d(f){f.state.delayingBlurEvent=!0,setTimeout(function(){f.state.delayingBlurEvent&&(f.state.delayingBlurEvent=!1,f.state.focused&&Rl(f))},100)}function Qf(f,g){f.state.delayingBlurEvent&&!f.state.draggingText&&(f.state.delayingBlurEvent=!1),f.options.readOnly!="nocursor"&&(f.state.focused||(Dt(f,"focus",f,g),f.state.focused=!0,ie(f.display.wrapper,"CodeMirror-focused"),!f.curOp&&f.display.selForContextMenu!=f.doc.sel&&(f.display.input.reset(),b&&setTimeout(function(){return f.display.input.reset(!0)},20)),f.display.input.receivedFocus()),fu(f))}function Rl(f,g){f.state.delayingBlurEvent||(f.state.focused&&(Dt(f,"blur",f,g),f.state.focused=!1,be(f.display.wrapper,"CodeMirror-focused")),clearInterval(f.display.blinker),setTimeout(function(){f.state.focused||(f.display.shift=!1)},150))}function hu(f){for(var g=f.display,T=g.lineDiv.offsetTop,o=0;o<g.view.length;o++){var u=g.view[o],p=f.options.lineWrapping,y=void 0,w=0;if(!u.hidden){if(l&&h<8){var D=u.node.offsetTop+u.node.offsetHeight;y=D-T,T=D}else{var L=u.node.getBoundingClientRect();y=L.bottom-L.top,!p&&u.text.firstChild&&(w=u.text.firstChild.getBoundingClientRect().right-L.left-1)}var j=u.line.height-y;if((j>.005||j<-.005)&&(Et(u.line,y),hl(u.line),u.rest))for(var $=0;$<u.rest.length;$++)hl(u.rest[$]);if(w>f.display.sizerWidth){var te=Math.ceil(w/tc(f.display));te>f.display.maxLineLength&&(f.display.maxLineLength=te,f.display.maxLine=u.line,f.display.maxLineChanged=!0)}}}}function hl(f){if(f.widgets)for(var g=0;g<f.widgets.length;++g){var T=f.widgets[g],o=T.node.parentNode;o&&(T.height=o.offsetHeight)}}function Oi(f,g,T){var o=T&&T.top!=null?Math.max(0,T.top):f.scroller.scrollTop;o=Math.floor(o-Zf(f));var u=T&&T.bottom!=null?T.bottom:o+f.wrapper.clientHeight,p=Qt(g,o),y=Qt(g,u);if(T&&T.ensure){var w=T.ensure.from.line,D=T.ensure.to.line;w<p?(p=w,y=Qt(g,Aa(Ne(g,w))+f.wrapper.clientHeight)):Math.min(D,g.lastLine())>=y&&(p=Qt(g,Aa(Ne(g,D))-f.wrapper.clientHeight),y=D)}return{from:p,to:Math.max(y,p+1)}}function rc(f,g){if(!hr(f,"scrollCursorIntoView")){var T=f.display,o=T.sizer.getBoundingClientRect(),u=null;if(g.top+o.top<0?u=!0:g.bottom+o.top>(window.innerHeight||document.documentElement.clientHeight)&&(u=!1),u!=null&&!z){var p=R("div","\u200B",null,`position: absolute;
                         top: `+(g.top-T.viewOffset-Zf(f.display))+`px;
                         height: `+(g.bottom-g.top+oa(f)+T.barHeight)+`px;
                         left: `+g.left+"px; width: "+Math.max(2,g.right-g.left)+"px;");f.display.lineSpace.appendChild(p),p.scrollIntoView(u),f.display.lineSpace.removeChild(p)}}}function Gd(f,g,T,o){o==null&&(o=0);var u;!f.options.lineWrapping&&g==T&&(g=g.ch?Ae(g.line,g.sticky=="before"?g.ch-1:g.ch,"after"):g,T=g.sticky=="before"?Ae(g.line,g.ch+1,"before"):g);for(var p=0;p<5;p++){var y=!1,w=aa(f,g),D=!T||T==g?w:aa(f,T);u={left:Math.min(w.left,D.left),top:Math.min(w.top,D.top)-o,right:Math.max(w.left,D.left),bottom:Math.max(w.bottom,D.bottom)+o};var L=Ir(f,u),j=f.doc.scrollTop,$=f.doc.scrollLeft;if(L.scrollTop!=null&&(pr(f,L.scrollTop),Math.abs(f.doc.scrollTop-j)>1&&(y=!0)),L.scrollLeft!=null&&(Fl(f,L.scrollLeft),Math.abs(f.doc.scrollLeft-$)>1&&(y=!0)),!y)break}return u}function to(f,g){var T=Ir(f,g);T.scrollTop!=null&&pr(f,T.scrollTop),T.scrollLeft!=null&&Fl(f,T.scrollLeft)}function Ir(f,g){var T=f.display,o=Iu(f.display);g.top<0&&(g.top=0);var u=f.curOp&&f.curOp.scrollTop!=null?f.curOp.scrollTop:T.scroller.scrollTop,p=Xf(f),y={};g.bottom-g.top>p&&(g.bottom=g.top+p);var w=f.doc.height+Bs(T),D=g.top<o,L=g.bottom>w-o;if(g.top<u)y.scrollTop=D?0:g.top;else if(g.bottom>u+p){var j=Math.min(g.top,(L?w:g.bottom)-p);j!=u&&(y.scrollTop=j)}var $=f.options.fixedGutter?0:T.gutters.offsetWidth,te=f.curOp&&f.curOp.scrollLeft!=null?f.curOp.scrollLeft:T.scroller.scrollLeft-$,ye=ru(f)-T.gutters.offsetWidth,De=g.right-g.left>ye;return De&&(g.right=g.left+ye),g.left<10?y.scrollLeft=0:g.left<te?y.scrollLeft=Math.max(0,g.left+$-(De?0:10)):g.right>ye+te-3&&(y.scrollLeft=g.right+(De?0:10)-ye),y}function Wa(f,g){g!=null&&(Eo(f),f.curOp.scrollTop=(f.curOp.scrollTop==null?f.doc.scrollTop:f.curOp.scrollTop)+g)}function Lu(f){Eo(f);var g=f.getCursor();f.curOp.scrollToPos={from:g,to:g,margin:f.options.cursorScrollMargin}}function dl(f,g,T){(g!=null||T!=null)&&Eo(f),g!=null&&(f.curOp.scrollLeft=g),T!=null&&(f.curOp.scrollTop=T)}function Us(f,g){Eo(f),f.curOp.scrollToPos=g}function Eo(f){var g=f.curOp.scrollToPos;if(g){f.curOp.scrollToPos=null;var T=js(f,g.from),o=js(f,g.to);nc(f,T,o,g.margin)}}function nc(f,g,T,o){var u=Ir(f,{left:Math.min(g.left,T.left),top:Math.min(g.top,T.top)-o,right:Math.max(g.right,T.right),bottom:Math.max(g.bottom,T.bottom)+o});dl(f,u.scrollLeft,u.scrollTop)}function pr(f,g){Math.abs(f.doc.scrollTop-g)<2||(t||gl(f,{top:g}),Hc(f,g,!0),t&&gl(f),Un(f,100))}function Hc(f,g,T){g=Math.max(0,Math.min(f.display.scroller.scrollHeight-f.display.scroller.clientHeight,g)),!(f.display.scroller.scrollTop==g&&!T)&&(f.doc.scrollTop=g,f.display.scrollbars.setScrollTop(g),f.display.scroller.scrollTop!=g&&(f.display.scroller.scrollTop=g))}function Fl(f,g,T,o){g=Math.max(0,Math.min(g,f.display.scroller.scrollWidth-f.display.scroller.clientWidth)),!((T?g==f.doc.scrollLeft:Math.abs(f.doc.scrollLeft-g)<2)&&!o)&&(f.doc.scrollLeft=g,$o(f),f.display.scroller.scrollLeft!=g&&(f.display.scroller.scrollLeft=g),f.display.scrollbars.setScrollLeft(g))}function ql(f){var g=f.display,T=g.gutters.offsetWidth,o=Math.round(f.doc.height+Bs(f.display));return{clientHeight:g.scroller.clientHeight,viewHeight:g.wrapper.clientHeight,scrollWidth:g.scroller.scrollWidth,clientWidth:g.scroller.clientWidth,viewWidth:g.wrapper.clientWidth,barLeft:f.options.fixedGutter?T:0,docHeight:o,scrollHeight:o+oa(f)+g.barHeight,nativeBarWidth:g.nativeBarWidth,gutterWidth:T}}var sa=function(f,g,T){this.cm=T;var o=this.vert=R("div",[R("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),u=this.horiz=R("div",[R("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");o.tabIndex=u.tabIndex=-1,f(o),f(u),_r(o,"scroll",function(){o.clientHeight&&g(o.scrollTop,"vertical")}),_r(u,"scroll",function(){u.clientWidth&&g(u.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};sa.prototype.update=function(f){var g=f.scrollWidth>f.clientWidth+1,T=f.scrollHeight>f.clientHeight+1,o=f.nativeBarWidth;if(T){this.vert.style.display="block",this.vert.style.bottom=g?o+"px":"0";var u=f.viewHeight-(g?o:0);this.vert.firstChild.style.height=Math.max(0,f.scrollHeight-f.clientHeight+u)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(g){this.horiz.style.display="block",this.horiz.style.right=T?o+"px":"0",this.horiz.style.left=f.barLeft+"px";var p=f.viewWidth-f.barLeft-(T?o:0);this.horiz.firstChild.style.width=Math.max(0,f.scrollWidth-f.clientWidth+p)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&f.clientHeight>0&&(o==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:T?o:0,bottom:g?o:0}},sa.prototype.setScrollLeft=function(f){this.horiz.scrollLeft!=f&&(this.horiz.scrollLeft=f),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},sa.prototype.setScrollTop=function(f){this.vert.scrollTop!=f&&(this.vert.scrollTop=f),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},sa.prototype.zeroWidthHack=function(){var f=J&&!q?"12px":"18px";this.horiz.style.height=this.vert.style.width=f,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ot,this.disableVert=new ot},sa.prototype.enableZeroWidthBar=function(f,g,T){f.style.pointerEvents="auto";function o(){var u=f.getBoundingClientRect(),p=T=="vert"?document.elementFromPoint(u.right-1,(u.top+u.bottom)/2):document.elementFromPoint((u.right+u.left)/2,u.bottom-1);p!=f?f.style.pointerEvents="none":g.set(1e3,o)}g.set(1e3,o)},sa.prototype.clear=function(){var f=this.horiz.parentNode;f.removeChild(this.horiz),f.removeChild(this.vert)};var lo=function(){};lo.prototype.update=function(){return{bottom:0,right:0}},lo.prototype.setScrollLeft=function(){},lo.prototype.setScrollTop=function(){},lo.prototype.clear=function(){};function Hs(f,g){g||(g=ql(f));var T=f.display.barWidth,o=f.display.barHeight;zl(f,g);for(var u=0;u<4&&T!=f.display.barWidth||o!=f.display.barHeight;u++)T!=f.display.barWidth&&f.options.lineWrapping&&hu(f),zl(f,ql(f)),T=f.display.barWidth,o=f.display.barHeight}function zl(f,g){var T=f.display,o=T.scrollbars.update(g);T.sizer.style.paddingRight=(T.barWidth=o.right)+"px",T.sizer.style.paddingBottom=(T.barHeight=o.bottom)+"px",T.heightForcer.style.borderBottom=o.bottom+"px solid transparent",o.right&&o.bottom?(T.scrollbarFiller.style.display="block",T.scrollbarFiller.style.height=o.bottom+"px",T.scrollbarFiller.style.width=o.right+"px"):T.scrollbarFiller.style.display="",o.bottom&&f.options.coverGutterNextToScrollbar&&f.options.fixedGutter?(T.gutterFiller.style.display="block",T.gutterFiller.style.height=o.bottom+"px",T.gutterFiller.style.width=g.gutterWidth+"px"):T.gutterFiller.style.display=""}var la={native:sa,null:lo};function us(f){f.display.scrollbars&&(f.display.scrollbars.clear(),f.display.scrollbars.addClass&&be(f.display.wrapper,f.display.scrollbars.addClass)),f.display.scrollbars=new la[f.options.scrollbarStyle](function(g){f.display.wrapper.insertBefore(g,f.display.scrollbarFiller),_r(g,"mousedown",function(){f.state.focused&&setTimeout(function(){return f.display.input.focus()},0)}),g.setAttribute("cm-not-content","true")},function(g,T){T=="horizontal"?Fl(f,g):pr(f,g)},f),f.display.scrollbars.addClass&&ie(f.display.wrapper,f.display.scrollbars.addClass)}var Kd=0;function pl(f){f.curOp={cm:f,viewChanged:!1,startHeight:f.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Kd},vf(f.curOp)}function du(f){var g=f.curOp;g&&go(g,function(T){for(var o=0;o<T.ops.length;o++)T.ops[o].cm.curOp=null;Yd(T)})}function Yd(f){for(var g=f.ops,T=0;T<g.length;T++)Ia(g[T]);for(var o=0;o<g.length;o++)ua(g[o]);for(var u=0;u<g.length;u++)Tn(g[u]);for(var p=0;p<g.length;p++)pu(g[p]);for(var y=0;y<g.length;y++)ml(g[y])}function Ia(f){var g=f.cm,T=g.display;Rr(g),f.updateMaxLine&&ul(g),f.mustUpdate=f.viewChanged||f.forceUpdate||f.scrollTop!=null||f.scrollToPos&&(f.scrollToPos.from.line<T.viewFrom||f.scrollToPos.to.line>=T.viewTo)||T.maxLineChanged&&g.options.lineWrapping,f.update=f.mustUpdate&&new kr(g,f.mustUpdate&&{top:f.scrollTop,ensure:f.scrollToPos},f.forceUpdate)}function ua(f){f.updatedDisplay=f.mustUpdate&&Ws(f.cm,f.update)}function Tn(f){var g=f.cm,T=g.display;f.updatedDisplay&&hu(g),f.barMeasure=ql(g),T.maxLineChanged&&!g.options.lineWrapping&&(f.adjustWidthTo=Xu(g,T.maxLine,T.maxLine.text.length).left+3,g.display.sizerWidth=f.adjustWidthTo,f.barMeasure.scrollWidth=Math.max(T.scroller.clientWidth,T.sizer.offsetLeft+f.adjustWidthTo+oa(g)+g.display.barWidth),f.maxScrollLeft=Math.max(0,T.sizer.offsetLeft+f.adjustWidthTo-ru(g))),(f.updatedDisplay||f.selectionChanged)&&(f.preparedSelection=T.input.prepareSelection())}function pu(f){var g=f.cm;f.adjustWidthTo!=null&&(g.display.sizer.style.minWidth=f.adjustWidthTo+"px",f.maxScrollLeft<g.doc.scrollLeft&&Fl(g,Math.min(g.display.scroller.scrollLeft,f.maxScrollLeft),!0),g.display.maxLineChanged=!1);var T=f.focus&&f.focus==re();f.preparedSelection&&g.display.input.showSelection(f.preparedSelection,T),(f.updatedDisplay||f.startHeight!=g.doc.height)&&Hs(g,f.barMeasure),f.updatedDisplay&&Hn(g,f.barMeasure),f.selectionChanged&&fu(g),g.state.focused&&f.updateInput&&g.display.input.reset(f.typing),T&&Pu(f.cm)}function ml(f){var g=f.cm,T=g.display,o=g.doc;if(f.updatedDisplay&&fa(g,f.update),T.wheelStartX!=null&&(f.scrollTop!=null||f.scrollLeft!=null||f.scrollToPos)&&(T.wheelStartX=T.wheelStartY=null),f.scrollTop!=null&&Hc(g,f.scrollTop,f.forceScroll),f.scrollLeft!=null&&Fl(g,f.scrollLeft,!0,!0),f.scrollToPos){var u=Gd(g,Wt(o,f.scrollToPos.from),Wt(o,f.scrollToPos.to),f.scrollToPos.margin);rc(g,u)}var p=f.maybeHiddenMarkers,y=f.maybeUnhiddenMarkers;if(p)for(var w=0;w<p.length;++w)p[w].lines.length||Dt(p[w],"hide");if(y)for(var D=0;D<y.length;++D)y[D].lines.length&&Dt(y[D],"unhide");T.wrapper.offsetHeight&&(o.scrollTop=g.display.scroller.scrollTop),f.changeObjs&&Dt(g,"changes",g,f.changeObjs),f.update&&f.update.finish()}function bi(f,g){if(f.curOp)return g();pl(f);try{return g()}finally{du(f)}}function ro(f,g){return function(){if(f.curOp)return g.apply(f,arguments);pl(f);try{return g.apply(f,arguments)}finally{du(f)}}}function vo(f){return function(){if(this.curOp)return f.apply(this,arguments);pl(this);try{return f.apply(this,arguments)}finally{du(this)}}}function Rn(f){return function(){var g=this.cm;if(!g||g.curOp)return f.apply(this,arguments);pl(g);try{return f.apply(this,arguments)}finally{du(g)}}}function Un(f,g){f.doc.highlightFrontier<f.display.viewTo&&f.state.highlight.set(g,K(Vo,f))}function Vo(f){var g=f.doc;if(!(g.highlightFrontier>=f.display.viewTo)){var T=+new Date+f.options.workTime,o=Lr(f,g.highlightFrontier),u=[];g.iter(o.line,Math.min(g.first+g.size,f.display.viewTo+500),function(p){if(o.line>=f.display.viewFrom){var y=p.styles,w=p.text.length>f.options.maxHighlightLength?Ye(g.mode,o.state):null,D=un(f,p,o,!0);w&&(o.state=w),p.styles=D.styles;var L=p.styleClasses,j=D.classes;j?p.styleClasses=j:L&&(p.styleClasses=null);for(var $=!y||y.length!=p.styles.length||L!=j&&(!L||!j||L.bgClass!=j.bgClass||L.textClass!=j.textClass),te=0;!$&&te<y.length;++te)$=y[te]!=p.styles[te];$&&u.push(o.line),p.stateAfter=o.save(),o.nextLine()}else p.text.length<=f.options.maxHighlightLength&&cn(f,p.text,o),p.stateAfter=o.line%5==0?o.save():null,o.nextLine();if(+new Date>T)return Un(f,f.options.workDelay),!0}),g.highlightFrontier=o.line,g.modeFrontier=Math.max(g.modeFrontier,o.line),u.length&&bi(f,function(){for(var p=0;p<u.length;p++)as(f,u[p],"text")})}}var kr=function(f,g,T){var o=f.display;this.viewport=g,this.visible=Oi(o,f.doc,g),this.editorIsHidden=!o.wrapper.offsetWidth,this.wrapperHeight=o.wrapper.clientHeight,this.wrapperWidth=o.wrapper.clientWidth,this.oldDisplayWidth=ru(f),this.force=T,this.dims=lu(f),this.events=[]};kr.prototype.signal=function(f,g){wr(f,g)&&this.events.push(arguments)},kr.prototype.finish=function(){for(var f=0;f<this.events.length;f++)Dt.apply(null,this.events[f])};function Rr(f){var g=f.display;!g.scrollbarsClipped&&g.scroller.offsetWidth&&(g.nativeBarWidth=g.scroller.offsetWidth-g.scroller.clientWidth,g.heightForcer.style.height=oa(f)+"px",g.sizer.style.marginBottom=-g.nativeBarWidth+"px",g.sizer.style.borderRightWidth=oa(f)+"px",g.scrollbarsClipped=!0)}function Hh(f){if(f.hasFocus())return null;var g=re();if(!g||!Ce(f.display.lineDiv,g))return null;var T={activeElt:g};if(window.getSelection){var o=window.getSelection();o.anchorNode&&o.extend&&Ce(f.display.lineDiv,o.anchorNode)&&(T.anchorNode=o.anchorNode,T.anchorOffset=o.anchorOffset,T.focusNode=o.focusNode,T.focusOffset=o.focusOffset)}return T}function ca(f){if(!(!f||!f.activeElt||f.activeElt==re())&&(f.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(f.activeElt.nodeName)&&f.anchorNode&&Ce(document.body,f.anchorNode)&&Ce(document.body,f.focusNode))){var g=window.getSelection(),T=document.createRange();T.setEnd(f.anchorNode,f.anchorOffset),T.collapse(!1),g.removeAllRanges(),g.addRange(T),g.extend(f.focusNode,f.focusOffset)}}function Ws(f,g){var T=f.display,o=f.doc;if(g.editorIsHidden)return Ho(f),!1;if(!g.force&&g.visible.from>=T.viewFrom&&g.visible.to<=T.viewTo&&(T.updateLineNumbers==null||T.updateLineNumbers>=T.viewTo)&&T.renderedView==T.view&&ss(f)==0)return!1;th(f)&&(Ho(f),g.dims=lu(f));var u=o.first+o.size,p=Math.max(g.visible.from-f.options.viewportMargin,o.first),y=Math.min(u,g.visible.to+f.options.viewportMargin);T.viewFrom<p&&p-T.viewFrom<20&&(p=Math.max(o.first,T.viewFrom)),T.viewTo>y&&T.viewTo-y<20&&(y=Math.min(u,T.viewTo)),Ai&&(p=Ua(f.doc,p),y=$f(f.doc,y));var w=p!=T.viewFrom||y!=T.viewTo||T.lastWrapHeight!=g.wrapperHeight||T.lastWrapWidth!=g.wrapperWidth;Ll(f,p,y),T.viewOffset=Aa(Ne(f.doc,T.viewFrom)),f.display.mover.style.top=T.viewOffset+"px";var D=ss(f);if(!w&&D==0&&!g.force&&T.renderedView==T.view&&(T.updateLineNumbers==null||T.updateLineNumbers>=T.viewTo))return!1;var L=Hh(f);return D>4&&(T.lineDiv.style.display="none"),eh(f,T.updateLineNumbers,g.dims),D>4&&(T.lineDiv.style.display=""),T.renderedView=T.view,ca(L),xe(T.cursorDiv),xe(T.selectionDiv),T.gutters.style.height=T.sizer.style.minHeight=0,w&&(T.lastWrapHeight=g.wrapperHeight,T.lastWrapWidth=g.wrapperWidth,Un(f,400)),T.updateLineNumbers=null,!0}function fa(f,g){for(var T=g.viewport,o=!0;;o=!1){if(!o||!f.options.lineWrapping||g.oldDisplayWidth==ru(f)){if(T&&T.top!=null&&(T={top:Math.min(f.doc.height+Bs(f.display)-Xf(f),T.top)}),g.visible=Oi(f.display,f.doc,T),g.visible.from>=f.display.viewFrom&&g.visible.to<=f.display.viewTo)break}else o&&(g.visible=Oi(f.display,f.doc,T));if(!Ws(f,g))break;hu(f);var u=ql(f);ls(f),Hs(f,u),Hn(f,u),g.force=!1}g.signal(f,"update",f),(f.display.viewFrom!=f.display.reportedViewFrom||f.display.viewTo!=f.display.reportedViewTo)&&(g.signal(f,"viewportChange",f,f.display.viewFrom,f.display.viewTo),f.display.reportedViewFrom=f.display.viewFrom,f.display.reportedViewTo=f.display.viewTo)}function gl(f,g){var T=new kr(f,g);if(Ws(f,T)){hu(f),fa(f,T);var o=ql(f);ls(f),Hs(f,o),Hn(f,o),T.finish()}}function eh(f,g,T){var o=f.display,u=f.options.lineNumbers,p=o.lineDiv,y=p.firstChild;function w(De){var $e=De.nextSibling;return b&&J&&f.display.currentWheelTarget==De?De.style.display="none":De.parentNode.removeChild(De),$e}for(var D=o.view,L=o.viewFrom,j=0;j<D.length;j++){var $=D[j];if(!$.hidden)if(!$.node||$.node.parentNode!=p){var te=si(f,$,L,T);p.insertBefore(te,y)}else{for(;y!=$.node;)y=w(y);var ye=u&&g!=null&&g<=L&&$.lineNumber;$.changes&&(et($.changes,"gutter")>-1&&(ye=!1),cl(f,$,L,T)),ye&&(xe($.lineNumber),$.lineNumber.appendChild(document.createTextNode(Pe(f.options,L)))),y=$.node.nextSibling}L+=$.size}for(;y;)y=w(y)}function Wc(f){var g=f.gutters.offsetWidth;f.sizer.style.marginLeft=g+"px"}function Hn(f,g){f.display.sizer.style.minHeight=g.docHeight+"px",f.display.heightForcer.style.top=g.docHeight+"px",f.display.gutters.style.height=g.docHeight+f.display.barHeight+oa(f)+"px"}function $o(f){var g=f.display,T=g.view;if(!(!g.alignWidgets&&(!g.gutters.firstChild||!f.options.fixedGutter))){for(var o=Mu(g)-g.scroller.scrollLeft+f.doc.scrollLeft,u=g.gutters.offsetWidth,p=o+"px",y=0;y<T.length;y++)if(!T[y].hidden){f.options.fixedGutter&&(T[y].gutter&&(T[y].gutter.style.left=p),T[y].gutterBackground&&(T[y].gutterBackground.style.left=p));var w=T[y].alignable;if(w)for(var D=0;D<w.length;D++)w[D].style.left=p}f.options.fixedGutter&&(g.gutters.style.left=o+u+"px")}}function th(f){if(!f.options.lineNumbers)return!1;var g=f.doc,T=Pe(f.options,g.first+g.size-1),o=f.display;if(T.length!=o.lineNumChars){var u=o.measure.appendChild(R("div",[R("div",T)],"CodeMirror-linenumber CodeMirror-gutter-elt")),p=u.firstChild.offsetWidth,y=u.offsetWidth-p;return o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(p,o.lineGutter.offsetWidth-y)+1,o.lineNumWidth=o.lineNumInnerWidth+y,o.lineNumChars=o.lineNumInnerWidth?T.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",Wc(f.display),!0}return!1}function Nl(f,g){for(var T=[],o=!1,u=0;u<f.length;u++){var p=f[u],y=null;if(typeof p!="string"&&(y=p.style,p=p.className),p=="CodeMirror-linenumbers")if(g)o=!0;else continue;T.push({className:p,style:y})}return g&&!o&&T.push({className:"CodeMirror-linenumbers",style:null}),T}function rh(f){var g=f.gutters,T=f.gutterSpecs;xe(g),f.lineGutter=null;for(var o=0;o<T.length;++o){var u=T[o],p=u.className,y=u.style,w=g.appendChild(R("div",null,"CodeMirror-gutter "+p));y&&(w.style.cssText=y),p=="CodeMirror-linenumbers"&&(f.lineGutter=w,w.style.width=(f.lineNumWidth||1)+"px")}g.style.display=T.length?"":"none",Wc(f)}function ks(f){rh(f.display),Mo(f),$o(f)}function Va(f,g,T,o){var u=this;this.input=T,u.scrollbarFiller=R("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=R("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=G("div",null,"CodeMirror-code"),u.selectionDiv=R("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=R("div",null,"CodeMirror-cursors"),u.measure=R("div",null,"CodeMirror-measure"),u.lineMeasure=R("div",null,"CodeMirror-measure"),u.lineSpace=G("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var p=G("div",[u.lineSpace],"CodeMirror-lines");u.mover=R("div",[p],null,"position: relative"),u.sizer=R("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=R("div",null,null,"position: absolute; height: "+Pt+"px; width: 1px;"),u.gutters=R("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=R("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=R("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),l&&h<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),!b&&!(t&&Y)&&(u.scroller.draggable=!0),f&&(f.appendChild?f.appendChild(u.wrapper):f(u.wrapper)),u.viewFrom=u.viewTo=g.first,u.reportedViewFrom=u.reportedViewTo=g.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=Nl(o.gutters,o.lineNumbers),rh(u),T.init(u)}var mu=0,$i=null;l?$i=-.53:t?$i=15:E?$i=-.7:P&&($i=-1/3);function nh(f){var g=f.wheelDeltaX,T=f.wheelDeltaY;return g==null&&f.detail&&f.axis==f.HORIZONTAL_AXIS&&(g=f.detail),T==null&&f.detail&&f.axis==f.VERTICAL_AXIS?T=f.detail:T==null&&(T=f.wheelDelta),{x:g,y:T}}function Ru(f){var g=nh(f);return g.x*=$i,g.y*=$i,g}function Cs(f,g){var T=nh(g),o=T.x,u=T.y,p=f.display,y=p.scroller,w=y.scrollWidth>y.clientWidth,D=y.scrollHeight>y.clientHeight;if(!!(o&&w||u&&D)){if(u&&J&&b){e:for(var L=g.target,j=p.view;L!=y;L=L.parentNode)for(var $=0;$<j.length;$++)if(j[$].node==L){f.display.currentWheelTarget=L;break e}}if(o&&!t&&!O&&$i!=null){u&&D&&pr(f,Math.max(0,y.scrollTop+u*$i)),Fl(f,Math.max(0,y.scrollLeft+o*$i)),(!u||u&&D)&&mn(g),p.wheelStartX=null;return}if(u&&$i!=null){var te=u*$i,ye=f.doc.scrollTop,De=ye+p.wrapper.clientHeight;te<0?ye=Math.max(0,ye+te-50):De=Math.min(f.doc.height,De+te+50),gl(f,{top:ye,bottom:De})}mu<20&&(p.wheelStartX==null?(p.wheelStartX=y.scrollLeft,p.wheelStartY=y.scrollTop,p.wheelDX=o,p.wheelDY=u,setTimeout(function(){if(p.wheelStartX!=null){var $e=y.scrollLeft-p.wheelStartX,Ke=y.scrollTop-p.wheelStartY,pt=Ke&&p.wheelDY&&Ke/p.wheelDY||$e&&p.wheelDX&&$e/p.wheelDX;p.wheelStartX=p.wheelStartY=null,pt&&($i=($i*mu+pt)/(mu+1),++mu)}},200)):(p.wheelDX+=o,p.wheelDY+=u))}}var $a=function(f,g){this.ranges=f,this.primIndex=g};$a.prototype.primary=function(){return this.ranges[this.primIndex]},$a.prototype.equals=function(f){if(f==this)return!0;if(f.primIndex!=this.primIndex||f.ranges.length!=this.ranges.length)return!1;for(var g=0;g<this.ranges.length;g++){var T=this.ranges[g],o=f.ranges[g];if(!Z(T.anchor,o.anchor)||!Z(T.head,o.head))return!1}return!0},$a.prototype.deepCopy=function(){for(var f=[],g=0;g<this.ranges.length;g++)f[g]=new Gn(ue(this.ranges[g].anchor),ue(this.ranges[g].head));return new $a(f,this.primIndex)},$a.prototype.somethingSelected=function(){for(var f=0;f<this.ranges.length;f++)if(!this.ranges[f].empty())return!0;return!1},$a.prototype.contains=function(f,g){g||(g=f);for(var T=0;T<this.ranges.length;T++){var o=this.ranges[T];if(Q(g,o.from())>=0&&Q(f,o.to())<=0)return T}return-1};var Gn=function(f,g){this.anchor=f,this.head=g};Gn.prototype.from=function(){return it(this.anchor,this.head)},Gn.prototype.to=function(){return Fe(this.anchor,this.head)},Gn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function xa(f,g,T){var o=f&&f.options.selectionsMayTouch,u=g[T];g.sort(function(te,ye){return Q(te.from(),ye.from())}),T=et(g,u);for(var p=1;p<g.length;p++){var y=g[p],w=g[p-1],D=Q(w.to(),y.from());if(o&&!y.empty()?D>0:D>=0){var L=it(w.from(),y.from()),j=Fe(w.to(),y.to()),$=w.empty()?y.from()==y.head:w.from()==w.head;p<=T&&--T,g.splice(--p,2,new Gn($?j:L,$?L:j))}}return new $a(g,T)}function To(f,g){return new $a([new Gn(f,g||f)],0)}function wn(f){return f.text?Ae(f.from.line+f.text.length-1,kt(f.text).length+(f.text.length==1?f.from.ch:0)):f.to}function ha(f,g){if(Q(f,g.from)<0)return f;if(Q(f,g.to)<=0)return wn(g);var T=f.line+g.text.length-(g.to.line-g.from.line)-1,o=f.ch;return f.line==g.to.line&&(o+=wn(g).ch-g.to.ch),Ae(T,o)}function Vs(f,g){for(var T=[],o=0;o<f.sel.ranges.length;o++){var u=f.sel.ranges[o];T.push(new Gn(ha(u.anchor,g),ha(u.head,g)))}return xa(f.cm,T,f.sel.primIndex)}function Ga(f,g,T){return f.line==g.line?Ae(T.line,f.ch-g.ch+T.ch):Ae(T.line+(f.line-g.line),f.ch)}function $s(f,g,T){for(var o=[],u=Ae(f.first,0),p=u,y=0;y<g.length;y++){var w=g[y],D=Ga(w.from,u,p),L=Ga(wn(w),u,p);if(u=w.to,p=L,T=="around"){var j=f.sel.ranges[y],$=Q(j.head,j.anchor)<0;o[y]=new Gn($?L:D,$?D:L)}else o[y]=new Gn(D,D)}return new $a(o,f.sel.primIndex)}function Vc(f){f.doc.mode=Ee(f.options,f.doc.modeOption),gu(f)}function gu(f){f.doc.iter(function(g){g.stateAfter&&(g.stateAfter=null),g.styles&&(g.styles=null)}),f.doc.modeFrontier=f.doc.highlightFrontier=f.doc.first,Un(f,100),f.state.modeGen++,f.curOp&&Mo(f)}function Wh(f,g){return g.from.ch==0&&g.to.ch==0&&kt(g.text)==""&&(!f.cm||f.cm.options.wholeLineUpdateBefore)}function ic(f,g,T,o){function u(_t){return T?T[_t]:null}function p(_t,At,Nt){Lc(_t,At,Nt,o),eo(_t,"change",_t,g)}function y(_t,At){for(var Nt=[],Xt=_t;Xt<At;++Xt)Nt.push(new Io(L[Xt],u(Xt),o));return Nt}var w=g.from,D=g.to,L=g.text,j=Ne(f,w.line),$=Ne(f,D.line),te=kt(L),ye=u(L.length-1),De=D.line-w.line;if(g.full)f.insert(0,y(0,L.length)),f.remove(L.length,f.size-L.length);else if(Wh(f,g)){var $e=y(0,L.length-1);p($,$.text,ye),De&&f.remove(w.line,De),$e.length&&f.insert(w.line,$e)}else if(j==$)if(L.length==1)p(j,j.text.slice(0,w.ch)+te+j.text.slice(D.ch),ye);else{var Ke=y(1,L.length-1);Ke.push(new Io(te+j.text.slice(D.ch),ye,o)),p(j,j.text.slice(0,w.ch)+L[0],u(0)),f.insert(w.line+1,Ke)}else if(L.length==1)p(j,j.text.slice(0,w.ch)+L[0]+$.text.slice(D.ch),u(0)),f.remove(w.line+1,De);else{p(j,j.text.slice(0,w.ch)+L[0],u(0)),p($,te+$.text.slice(D.ch),ye);var pt=y(1,L.length-1);De>1&&f.remove(w.line+1,De-1),f.insert(w.line+1,pt)}eo(f,"change",f,g)}function m(f,g,T){function o(u,p,y){if(u.linked)for(var w=0;w<u.linked.length;++w){var D=u.linked[w];if(D.doc!=p){var L=y&&D.sharedHist;T&&!L||(g(D.doc,L),o(D.doc,u,L))}}}o(f,null,!0)}function x(f,g){if(g.cm)throw new Error("This document is already in use.");f.doc=g,g.cm=f,Uc(f),Vc(f),v(f),f.options.lineWrapping||ul(f),f.options.mode=g.modeOption,Mo(f)}function v(f){(f.doc.direction=="rtl"?ie:be)(f.display.lineDiv,"CodeMirror-rtl")}function C(f){bi(f,function(){v(f),Mo(f)})}function M(f){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=f||1}function B(f,g){var T={from:ue(g.from),to:wn(g),text:xt(f,g.from,g.to)};return ze(f,T,g.from.line,g.to.line+1),m(f,function(o){return ze(o,T,g.from.line,g.to.line+1)},!0),T}function U(f){for(;f.length;){var g=kt(f);if(g.ranges)f.pop();else break}}function X(f,g){if(g)return U(f.done),kt(f.done);if(f.done.length&&!kt(f.done).ranges)return kt(f.done);if(f.done.length>1&&!f.done[f.done.length-2].ranges)return f.done.pop(),kt(f.done)}function ce(f,g,T,o){var u=f.history;u.undone.length=0;var p=+new Date,y,w;if((u.lastOp==o||u.lastOrigin==g.origin&&g.origin&&(g.origin.charAt(0)=="+"&&u.lastModTime>p-(f.cm?f.cm.options.historyEventDelay:500)||g.origin.charAt(0)=="*"))&&(y=X(u,u.lastOp==o)))w=kt(y.changes),Q(g.from,g.to)==0&&Q(g.from,w.to)==0?w.to=wn(g):y.changes.push(B(f,g));else{var D=kt(u.done);for((!D||!D.ranges)&&Re(f.sel,u.done),y={changes:[B(f,g)],generation:u.generation},u.done.push(y);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift()}u.done.push(T),u.generation=++u.maxGeneration,u.lastModTime=u.lastSelTime=p,u.lastOp=u.lastSelOp=o,u.lastOrigin=u.lastSelOrigin=g.origin,w||Dt(f,"historyAdded")}function Se(f,g,T,o){var u=g.charAt(0);return u=="*"||u=="+"&&T.ranges.length==o.ranges.length&&T.somethingSelected()==o.somethingSelected()&&new Date-f.history.lastSelTime<=(f.cm?f.cm.options.historyEventDelay:500)}function Le(f,g,T,o){var u=f.history,p=o&&o.origin;T==u.lastSelOp||p&&u.lastSelOrigin==p&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==p||Se(f,p,kt(u.done),g))?u.done[u.done.length-1]=g:Re(g,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=p,u.lastSelOp=T,o&&o.clearRedo!==!1&&U(u.undone)}function Re(f,g){var T=kt(g);T&&T.ranges&&T.equals(f)||g.push(f)}function ze(f,g,T,o){var u=g["spans_"+f.id],p=0;f.iter(Math.max(f.first,T),Math.min(f.first+f.size,o),function(y){y.markedSpans&&((u||(u=g["spans_"+f.id]={}))[p]=y.markedSpans),++p})}function nt(f){if(!f)return null;for(var g,T=0;T<f.length;++T)f[T].marker.explicitlyCleared?g||(g=f.slice(0,T)):g&&g.push(f[T]);return g?g.length?g:null:f}function Je(f,g){var T=g["spans_"+f.id];if(!T)return null;for(var o=[],u=0;u<g.text.length;++u)o.push(nt(T[u]));return o}function ft(f,g){var T=Je(f,g),o=Uo(f,g);if(!T)return o;if(!o)return T;for(var u=0;u<T.length;++u){var p=T[u],y=o[u];if(p&&y){e:for(var w=0;w<y.length;++w){for(var D=y[w],L=0;L<p.length;++L)if(p[L].marker==D.marker)continue e;p.push(D)}}else y&&(T[u]=y)}return T}function Ge(f,g,T){for(var o=[],u=0;u<f.length;++u){var p=f[u];if(p.ranges){o.push(T?$a.prototype.deepCopy.call(p):p);continue}var y=p.changes,w=[];o.push({changes:w});for(var D=0;D<y.length;++D){var L=y[D],j=void 0;if(w.push({from:L.from,to:L.to,text:L.text}),g)for(var $ in L)(j=$.match(/^spans_(\d+)$/))&&et(g,Number(j[1]))>-1&&(kt(w)[$]=L[$],delete L[$])}}return o}function ct(f,g,T,o){if(o){var u=f.anchor;if(T){var p=Q(g,u)<0;p!=Q(T,u)<0?(u=g,g=T):p!=Q(g,T)<0&&(g=T)}return new Gn(u,g)}else return new Gn(T||g,g)}function mt(f,g,T,o,u){u==null&&(u=f.cm&&(f.cm.display.shift||f.extend)),nr(f,new $a([ct(f.sel.primary(),g,T,u)],0),o)}function wt(f,g,T){for(var o=[],u=f.cm&&(f.cm.display.shift||f.extend),p=0;p<f.sel.ranges.length;p++)o[p]=ct(f.sel.ranges[p],g[p],null,u);var y=xa(f.cm,o,f.sel.primIndex);nr(f,y,T)}function zt(f,g,T,o){var u=f.sel.ranges.slice(0);u[g]=T,nr(f,xa(f.cm,u,f.sel.primIndex),o)}function Rt(f,g,T,o){nr(f,To(g,T),o)}function jt(f,g,T){var o={ranges:g.ranges,update:function(u){this.ranges=[];for(var p=0;p<u.length;p++)this.ranges[p]=new Gn(Wt(f,u[p].anchor),Wt(f,u[p].head))},origin:T&&T.origin};return Dt(f,"beforeSelectionChange",f,o),f.cm&&Dt(f.cm,"beforeSelectionChange",f.cm,o),o.ranges!=g.ranges?xa(f.cm,o.ranges,o.ranges.length-1):g}function er(f,g,T){var o=f.history.done,u=kt(o);u&&u.ranges?(o[o.length-1]=g,lr(f,g,T)):nr(f,g,T)}function nr(f,g,T){lr(f,g,T),Le(f,f.sel,f.cm?f.cm.curOp.id:NaN,T)}function lr(f,g,T){(wr(f,"beforeSelectionChange")||f.cm&&wr(f.cm,"beforeSelectionChange"))&&(g=jt(f,g,T));var o=T&&T.bias||(Q(g.primary().head,f.sel.primary().head)<0?-1:1);Er(f,Kr(f,g,o,!0)),!(T&&T.scroll===!1)&&f.cm&&Lu(f.cm)}function Er(f,g){g.equals(f.sel)||(f.sel=g,f.cm&&(f.cm.curOp.updateInput=1,f.cm.curOp.selectionChanged=!0,zr(f.cm)),eo(f,"cursorActivity",f))}function Ar(f){Er(f,Kr(f,f.sel,null,!1))}function Kr(f,g,T,o){for(var u,p=0;p<g.ranges.length;p++){var y=g.ranges[p],w=g.ranges.length==f.sel.ranges.length&&f.sel.ranges[p],D=On(f,y.anchor,w&&w.anchor,T,o),L=On(f,y.head,w&&w.head,T,o);(u||D!=y.anchor||L!=y.head)&&(u||(u=g.ranges.slice(0,p)),u[p]=new Gn(D,L))}return u?xa(f.cm,u,g.primIndex):g}function Vr(f,g,T,o,u){var p=Ne(f,g.line);if(p.markedSpans)for(var y=0;y<p.markedSpans.length;++y){var w=p.markedSpans[y],D=w.marker,L="selectLeft"in D?!D.selectLeft:D.inclusiveLeft,j="selectRight"in D?!D.selectRight:D.inclusiveRight;if((w.from==null||(L?w.from<=g.ch:w.from<g.ch))&&(w.to==null||(j?w.to>=g.ch:w.to>g.ch))){if(u&&(Dt(D,"beforeCursorEnter"),D.explicitlyCleared))if(p.markedSpans){--y;continue}else break;if(!D.atomic)continue;if(T){var $=D.find(o<0?1:-1),te=void 0;if((o<0?j:L)&&($=Dr(f,$,-o,$&&$.line==g.line?p:null)),$&&$.line==g.line&&(te=Q($,T))&&(o<0?te<0:te>0))return Vr(f,$,g,o,u)}var ye=D.find(o<0?-1:1);return(o<0?L:j)&&(ye=Dr(f,ye,o,ye.line==g.line?p:null)),ye?Vr(f,ye,g,o,u):null}}return g}function On(f,g,T,o,u){var p=o||1,y=Vr(f,g,T,p,u)||!u&&Vr(f,g,T,p,!0)||Vr(f,g,T,-p,u)||!u&&Vr(f,g,T,-p,!0);return y||(f.cantEdit=!0,Ae(f.first,0))}function Dr(f,g,T,o){return T<0&&g.ch==0?g.line>f.first?Wt(f,Ae(g.line-1)):null:T>0&&g.ch==(o||Ne(f,g.line)).text.length?g.line<f.first+f.size-1?Ae(g.line+1,0):null:new Ae(g.line,g.ch+T)}function an(f){f.setSelection(Ae(f.firstLine(),0),Ae(f.lastLine()),Ht)}function gn(f,g,T){var o={canceled:!1,from:g.from,to:g.to,text:g.text,origin:g.origin,cancel:function(){return o.canceled=!0}};return T&&(o.update=function(u,p,y,w){u&&(o.from=Wt(f,u)),p&&(o.to=Wt(f,p)),y&&(o.text=y),w!==void 0&&(o.origin=w)}),Dt(f,"beforeChange",f,o),f.cm&&Dt(f.cm,"beforeChange",f.cm,o),o.canceled?(f.cm&&(f.cm.curOp.updateInput=2),null):{from:o.from,to:o.to,text:o.text,origin:o.origin}}function rn(f,g,T){if(f.cm){if(!f.cm.curOp)return ro(f.cm,rn)(f,g,T);if(f.cm.state.suppressEdits)return}if(!((wr(f,"beforeChange")||f.cm&&wr(f.cm,"beforeChange"))&&(g=gn(f,g,!0),!g))){var o=Ns&&!T&&ns(f,g.from,g.to);if(o)for(var u=o.length-1;u>=0;--u)sn(f,{from:o[u].from,to:o[u].to,text:u?[""]:g.text,origin:g.origin});else sn(f,g)}}function sn(f,g){if(!(g.text.length==1&&g.text[0]==""&&Q(g.from,g.to)==0)){var T=Vs(f,g);ce(f,g,T,f.cm?f.cm.curOp.id:NaN),Jr(f,g,T,Uo(f,g));var o=[];m(f,function(u,p){!p&&et(o,u.history)==-1&&(xi(u.history,g),o.push(u.history)),Jr(u,g,null,Uo(u,g))})}}function dn(f,g,T){var o=f.cm&&f.cm.state.suppressEdits;if(!(o&&!T)){for(var u=f.history,p,y=f.sel,w=g=="undo"?u.done:u.undone,D=g=="undo"?u.undone:u.done,L=0;L<w.length&&(p=w[L],!(T?p.ranges&&!p.equals(f.sel):!p.ranges));L++);if(L!=w.length){for(u.lastOrigin=u.lastSelOrigin=null;;)if(p=w.pop(),p.ranges){if(Re(p,D),T&&!p.equals(f.sel)){nr(f,p,{clearRedo:!1});return}y=p}else if(o){w.push(p);return}else break;var j=[];Re(y,D),D.push({changes:j,generation:u.generation}),u.generation=p.generation||++u.maxGeneration;for(var $=wr(f,"beforeChange")||f.cm&&wr(f.cm,"beforeChange"),te=function($e){var Ke=p.changes[$e];if(Ke.origin=g,$&&!gn(f,Ke,!1))return w.length=0,{};j.push(B(f,Ke));var pt=$e?Vs(f,Ke):kt(w);Jr(f,Ke,pt,ft(f,Ke)),!$e&&f.cm&&f.cm.scrollIntoView({from:Ke.from,to:wn(Ke)});var _t=[];m(f,function(At,Nt){!Nt&&et(_t,At.history)==-1&&(xi(At.history,Ke),_t.push(At.history)),Jr(At,Ke,null,ft(At,Ke))})},ye=p.changes.length-1;ye>=0;--ye){var De=te(ye);if(De)return De.v}}}}function Qr(f,g){if(g!=0&&(f.first+=g,f.sel=new $a(yt(f.sel.ranges,function(u){return new Gn(Ae(u.anchor.line+g,u.anchor.ch),Ae(u.head.line+g,u.head.ch))}),f.sel.primIndex),f.cm)){Mo(f.cm,f.first,f.first-g,g);for(var T=f.cm.display,o=T.viewFrom;o<T.viewTo;o++)as(f.cm,o,"gutter")}}function Jr(f,g,T,o){if(f.cm&&!f.cm.curOp)return ro(f.cm,Jr)(f,g,T,o);if(g.to.line<f.first){Qr(f,g.text.length-1-(g.to.line-g.from.line));return}if(!(g.from.line>f.lastLine())){if(g.from.line<f.first){var u=g.text.length-1-(f.first-g.from.line);Qr(f,u),g={from:Ae(f.first,0),to:Ae(g.to.line+u,g.to.ch),text:[kt(g.text)],origin:g.origin}}var p=f.lastLine();g.to.line>p&&(g={from:g.from,to:Ae(p,Ne(f,p).text.length),text:[g.text[0]],origin:g.origin}),g.removed=xt(f,g.from,g.to),T||(T=Vs(f,g)),f.cm?yo(f.cm,g,o):ic(f,g,o),lr(f,T,Ht),f.cantEdit&&On(f,Ae(f.firstLine(),0))&&(f.cantEdit=!1)}}function yo(f,g,T){var o=f.doc,u=f.display,p=g.from,y=g.to,w=!1,D=p.line;f.options.lineWrapping||(D=St(zi(Ne(o,p.line))),o.iter(D,y.line+1,function(ye){if(ye==u.maxLine)return w=!0,!0})),o.sel.contains(g.from,g.to)>-1&&zr(f),ic(o,g,T,uu(f)),f.options.lineWrapping||(o.iter(D,p.line+g.text.length,function(ye){var De=Da(ye);De>u.maxLineLength&&(u.maxLine=ye,u.maxLineLength=De,u.maxLineChanged=!0,w=!1)}),w&&(f.curOp.updateMaxLine=!0)),vi(o,p.line),Un(f,400);var L=g.text.length-(y.line-p.line)-1;g.full?Mo(f):p.line==y.line&&g.text.length==1&&!Wh(f.doc,g)?as(f,p.line,"text"):Mo(f,p.line,y.line+1,L);var j=wr(f,"changes"),$=wr(f,"change");if($||j){var te={from:p,to:y,text:g.text,removed:g.removed,origin:g.origin};$&&eo(f,"change",f,te),j&&(f.curOp.changeObjs||(f.curOp.changeObjs=[])).push(te)}f.display.selForContextMenu=null}function Si(f,g,T,o,u){var p;o||(o=T),Q(o,T)<0&&(p=[o,T],T=p[0],o=p[1]),typeof g=="string"&&(g=f.splitLines(g)),rn(f,{from:T,to:o,text:g,origin:u})}function Ao(f,g,T,o){T<f.line?f.line+=o:g<f.line&&(f.line=g,f.ch=0)}function Go(f,g,T,o){for(var u=0;u<f.length;++u){var p=f[u],y=!0;if(p.ranges){p.copied||(p=f[u]=p.deepCopy(),p.copied=!0);for(var w=0;w<p.ranges.length;w++)Ao(p.ranges[w].anchor,g,T,o),Ao(p.ranges[w].head,g,T,o);continue}for(var D=0;D<p.changes.length;++D){var L=p.changes[D];if(T<L.from.line)L.from=Ae(L.from.line+o,L.from.ch),L.to=Ae(L.to.line+o,L.to.ch);else if(g<=L.to.line){y=!1;break}}y||(f.splice(0,u+1),u=0)}}function xi(f,g){var T=g.from.line,o=g.to.line,u=g.text.length-(o-T)-1;Go(f.done,T,o,u),Go(f.undone,T,o,u)}function Li(f,g,T,o){var u=g,p=g;return typeof g=="number"?p=Ne(f,Mt(f,g)):u=St(g),u==null?null:(o(p,u)&&f.cm&&as(f.cm,u,T),p)}function da(f){this.lines=f,this.parent=null;for(var g=0,T=0;T<f.length;++T)f[T].parent=this,g+=f[T].height;this.height=g}da.prototype={chunkSize:function(){return this.lines.length},removeInner:function(f,g){for(var T=f,o=f+g;T<o;++T){var u=this.lines[T];this.height-=u.height,Ha(u),eo(u,"delete")}this.lines.splice(f,g)},collapse:function(f){f.push.apply(f,this.lines)},insertInner:function(f,g,T){this.height+=T,this.lines=this.lines.slice(0,f).concat(g).concat(this.lines.slice(f));for(var o=0;o<g.length;++o)g[o].parent=this},iterN:function(f,g,T){for(var o=f+g;f<o;++f)if(T(this.lines[f]))return!0}};function Po(f){this.children=f;for(var g=0,T=0,o=0;o<f.length;++o){var u=f[o];g+=u.chunkSize(),T+=u.height,u.parent=this}this.size=g,this.height=T,this.parent=null}Po.prototype={chunkSize:function(){return this.size},removeInner:function(f,g){this.size-=g;for(var T=0;T<this.children.length;++T){var o=this.children[T],u=o.chunkSize();if(f<u){var p=Math.min(g,u-f),y=o.height;if(o.removeInner(f,p),this.height-=y-o.height,u==p&&(this.children.splice(T--,1),o.parent=null),(g-=p)==0)break;f=0}else f-=u}if(this.size-g<25&&(this.children.length>1||!(this.children[0]instanceof da))){var w=[];this.collapse(w),this.children=[new da(w)],this.children[0].parent=this}},collapse:function(f){for(var g=0;g<this.children.length;++g)this.children[g].collapse(f)},insertInner:function(f,g,T){this.size+=g.length,this.height+=T;for(var o=0;o<this.children.length;++o){var u=this.children[o],p=u.chunkSize();if(f<=p){if(u.insertInner(f,g,T),u.lines&&u.lines.length>50){for(var y=u.lines.length%25+25,w=y;w<u.lines.length;){var D=new da(u.lines.slice(w,w+=25));u.height-=D.height,this.children.splice(++o,0,D),D.parent=this}u.lines=u.lines.slice(0,y),this.maybeSpill()}break}f-=p}},maybeSpill:function(){if(!(this.children.length<=10)){var f=this;do{var g=f.children.splice(f.children.length-5,5),T=new Po(g);if(f.parent){f.size-=T.size,f.height-=T.height;var u=et(f.parent.children,f);f.parent.children.splice(u+1,0,T)}else{var o=new Po(f.children);o.parent=f,f.children=[o,T],f=o}T.parent=f.parent}while(f.children.length>10);f.parent.maybeSpill()}},iterN:function(f,g,T){for(var o=0;o<this.children.length;++o){var u=this.children[o],p=u.chunkSize();if(f<p){var y=Math.min(g,p-f);if(u.iterN(f,y,T))return!0;if((g-=y)==0)break;f=0}else f-=p}}};var Ka=function(f,g,T){if(T)for(var o in T)T.hasOwnProperty(o)&&(this[o]=T[o]);this.doc=f,this.node=g};Ka.prototype.clear=function(){var f=this.doc.cm,g=this.line.widgets,T=this.line,o=St(T);if(!(o==null||!g)){for(var u=0;u<g.length;++u)g[u]==this&&g.splice(u--,1);g.length||(T.widgets=null);var p=Fc(this);Et(T,Math.max(0,T.height-p)),f&&(bi(f,function(){Ko(f,T,-p),as(f,o,"widget")}),eo(f,"lineWidgetCleared",f,this,o))}},Ka.prototype.changed=function(){var f=this,g=this.height,T=this.doc.cm,o=this.line;this.height=null;var u=Fc(this)-g;!u||(ia(this.doc,o)||Et(o,o.height+u),T&&bi(T,function(){T.curOp.forceUpdate=!0,Ko(T,o,u),eo(T,"lineWidgetChanged",T,f,St(o))}))},Gr(Ka);function Ko(f,g,T){Aa(g)<(f.curOp&&f.curOp.scrollTop||f.doc.scrollTop)&&Wa(f,T)}function cs(f,g,T,o){var u=new Ka(f,T,o),p=f.cm;return p&&u.noHScroll&&(p.display.alignWidgets=!0),Li(f,g,"widget",function(y){var w=y.widgets||(y.widgets=[]);if(u.insertAt==null?w.push(u):w.splice(Math.min(w.length,Math.max(0,u.insertAt)),0,u),u.line=y,p&&!ia(f,y)){var D=Aa(y)<f.scrollTop;Et(y,y.height+Fc(u)),D&&Wa(p,u.height),p.curOp.forceUpdate=!0}return!0}),p&&eo(p,"lineWidgetAdded",p,u,typeof g=="number"?g:St(g)),u}var Ma=0,Gs=function(f,g){this.lines=[],this.type=g,this.doc=f,this.id=++Ma};Gs.prototype.clear=function(){if(!this.explicitlyCleared){var f=this.doc.cm,g=f&&!f.curOp;if(g&&pl(f),wr(this,"clear")){var T=this.find();T&&eo(this,"clear",T.from,T.to)}for(var o=null,u=null,p=0;p<this.lines.length;++p){var y=this.lines[p],w=ra(y.markedSpans,this);f&&!this.collapsed?as(f,St(y),"text"):f&&(w.to!=null&&(u=St(y)),w.from!=null&&(o=St(y))),y.markedSpans=na(y.markedSpans,w),w.from==null&&this.collapsed&&!ia(this.doc,y)&&f&&Et(y,Iu(f.display))}if(f&&this.collapsed&&!f.options.lineWrapping)for(var D=0;D<this.lines.length;++D){var L=zi(this.lines[D]),j=Da(L);j>f.display.maxLineLength&&(f.display.maxLine=L,f.display.maxLineLength=j,f.display.maxLineChanged=!0)}o!=null&&f&&this.collapsed&&Mo(f,o,u+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,f&&Ar(f.doc)),f&&eo(f,"markerCleared",f,this,o,u),g&&du(f),this.parent&&this.parent.clear()}},Gs.prototype.find=function(f,g){f==null&&this.type=="bookmark"&&(f=1);for(var T,o,u=0;u<this.lines.length;++u){var p=this.lines[u],y=ra(p.markedSpans,this);if(y.from!=null&&(T=Ae(g?p:St(p),y.from),f==-1))return T;if(y.to!=null&&(o=Ae(g?p:St(p),y.to),f==1))return o}return T&&{from:T,to:o}},Gs.prototype.changed=function(){var f=this,g=this.find(-1,!0),T=this,o=this.doc.cm;!g||!o||bi(o,function(){var u=g.line,p=St(g.line),y=nu(o,p);if(y&&(Jp(y),o.curOp.selectionChanged=o.curOp.forceUpdate=!0),o.curOp.updateMaxLine=!0,!ia(T.doc,u)&&T.height!=null){var w=T.height;T.height=null;var D=Fc(T)-w;D&&Et(u,u.height+D)}eo(o,"markerChanged",o,f)})},Gs.prototype.attachLine=function(f){if(!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(!g.maybeHiddenMarkers||et(g.maybeHiddenMarkers,this)==-1)&&(g.maybeUnhiddenMarkers||(g.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(f)},Gs.prototype.detachLine=function(f){if(this.lines.splice(et(this.lines,f),1),!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(g.maybeHiddenMarkers||(g.maybeHiddenMarkers=[])).push(this)}},Gr(Gs);function Bl(f,g,T,o,u){if(o&&o.shared)return Ys(f,g,T,o,u);if(f.cm&&!f.cm.curOp)return ro(f.cm,Bl)(f,g,T,o,u);var p=new Gs(f,u),y=Q(g,T);if(o&&W(o,p,!1),y>0||y==0&&p.clearWhenEmpty!==!1)return p;if(p.replacedWith&&(p.collapsed=!0,p.widgetNode=G("span",[p.replacedWith],"CodeMirror-widget"),o.handleMouseEvents||p.widgetNode.setAttribute("cm-ignore-events","true"),o.insertLeft&&(p.widgetNode.insertLeft=!0)),p.collapsed){if(Ol(f,g.line,g,T,p)||g.line!=T.line&&Ol(f,T.line,g,T,p))throw new Error("Inserting collapsed marker partially overlapping an existing one");so()}p.addToHistory&&ce(f,{from:g,to:T,origin:"markText"},f.sel,NaN);var w=g.line,D=f.cm,L;if(f.iter(w,T.line+1,function($){D&&p.collapsed&&!D.options.lineWrapping&&zi($)==D.display.maxLine&&(L=!0),p.collapsed&&w!=g.line&&Et($,0),Gu($,new Dn(p,w==g.line?g.ch:null,w==T.line?T.ch:null)),++w}),p.collapsed&&f.iter(g.line,T.line+1,function($){ia(f,$)&&Et($,0)}),p.clearOnEnter&&_r(p,"beforeCursorEnter",function(){return p.clear()}),p.readOnly&&(Qi(),(f.history.done.length||f.history.undone.length)&&f.clearHistory()),p.collapsed&&(p.id=++Ma,p.atomic=!0),D){if(L&&(D.curOp.updateMaxLine=!0),p.collapsed)Mo(D,g.line,T.line+1);else if(p.className||p.startStyle||p.endStyle||p.css||p.attributes||p.title)for(var j=g.line;j<=T.line;j++)as(D,j,"text");p.atomic&&Ar(D.doc),eo(D,"markerAdded",D,p)}return p}var Ks=function(f,g){this.markers=f,this.primary=g;for(var T=0;T<f.length;++T)f[T].parent=this};Ks.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var f=0;f<this.markers.length;++f)this.markers[f].clear();eo(this,"clear")}},Ks.prototype.find=function(f,g){return this.primary.find(f,g)},Gr(Ks);function Ys(f,g,T,o,u){o=W(o),o.shared=!1;var p=[Bl(f,g,T,o,u)],y=p[0],w=o.widgetNode;return m(f,function(D){w&&(o.widgetNode=w.cloneNode(!0)),p.push(Bl(D,Wt(D,g),Wt(D,T),o,u));for(var L=0;L<D.linked.length;++L)if(D.linked[L].isParent)return;y=kt(p)}),new Ks(p,y)}function jl(f){return f.findMarks(Ae(f.first,0),f.clipPos(Ae(f.lastLine())),function(g){return g.parent})}function Es(f,g){for(var T=0;T<g.length;T++){var o=g[T],u=o.find(),p=f.clipPos(u.from),y=f.clipPos(u.to);if(Q(p,y)){var w=Bl(f,p,y,o.primary,o.primary.type);o.markers.push(w),w.parent=o}}}function ih(f){for(var g=function(o){var u=f[o],p=[u.primary.doc];m(u.primary.doc,function(D){return p.push(D)});for(var y=0;y<u.markers.length;y++){var w=u.markers[y];et(p,w.doc)==-1&&(w.parent=null,u.markers.splice(y--,1))}},T=0;T<f.length;T++)g(T)}var Ul=0,ni=function(f,g,T,o,u){if(!(this instanceof ni))return new ni(f,g,T,o,u);T==null&&(T=0),Po.call(this,[new da([new Io("",null)])]),this.first=T,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=T;var p=Ae(T,0);this.sel=To(p),this.history=new M(null),this.id=++Ul,this.modeOption=g,this.lineSep=o,this.direction=u=="rtl"?"rtl":"ltr",this.extend=!1,typeof f=="string"&&(f=this.splitLines(f)),ic(this,{from:p,to:p,text:f}),nr(this,To(p),Ht)};ni.prototype=ke(Po.prototype,{constructor:ni,iter:function(f,g,T){T?this.iterN(f-this.first,g-f,T):this.iterN(this.first,this.first+this.size,f)},insert:function(f,g){for(var T=0,o=0;o<g.length;++o)T+=g[o].height;this.insertInner(f-this.first,g,T)},remove:function(f,g){this.removeInner(f-this.first,g)},getValue:function(f){var g=Vt(this,this.first,this.first+this.size);return f===!1?g:g.join(f||this.lineSeparator())},setValue:Rn(function(f){var g=Ae(this.first,0),T=this.first+this.size-1;rn(this,{from:g,to:Ae(T,Ne(this,T).text.length),text:this.splitLines(f),origin:"setValue",full:!0},!0),this.cm&&dl(this.cm,0,0),nr(this,To(g),Ht)}),replaceRange:function(f,g,T,o){g=Wt(this,g),T=T?Wt(this,T):g,Si(this,f,g,T,o)},getRange:function(f,g,T){var o=xt(this,Wt(this,f),Wt(this,g));return T===!1?o:o.join(T||this.lineSeparator())},getLine:function(f){var g=this.getLineHandle(f);return g&&g.text},getLineHandle:function(f){if(we(this,f))return Ne(this,f)},getLineNumber:function(f){return St(f)},getLineHandleVisualStart:function(f){return typeof f=="number"&&(f=Ne(this,f)),zi(f)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(f){return Wt(this,f)},getCursor:function(f){var g=this.sel.primary(),T;return f==null||f=="head"?T=g.head:f=="anchor"?T=g.anchor:f=="end"||f=="to"||f===!1?T=g.to():T=g.from(),T},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Rn(function(f,g,T){Rt(this,Wt(this,typeof f=="number"?Ae(f,g||0):f),null,T)}),setSelection:Rn(function(f,g,T){Rt(this,Wt(this,f),Wt(this,g||f),T)}),extendSelection:Rn(function(f,g,T){mt(this,Wt(this,f),g&&Wt(this,g),T)}),extendSelections:Rn(function(f,g){wt(this,Sr(this,f),g)}),extendSelectionsBy:Rn(function(f,g){var T=yt(this.sel.ranges,f);wt(this,Sr(this,T),g)}),setSelections:Rn(function(f,g,T){if(!!f.length){for(var o=[],u=0;u<f.length;u++)o[u]=new Gn(Wt(this,f[u].anchor),Wt(this,f[u].head));g==null&&(g=Math.min(f.length-1,this.sel.primIndex)),nr(this,xa(this.cm,o,g),T)}}),addSelection:Rn(function(f,g,T){var o=this.sel.ranges.slice(0);o.push(new Gn(Wt(this,f),Wt(this,g||f))),nr(this,xa(this.cm,o,o.length-1),T)}),getSelection:function(f){for(var g=this.sel.ranges,T,o=0;o<g.length;o++){var u=xt(this,g[o].from(),g[o].to());T=T?T.concat(u):u}return f===!1?T:T.join(f||this.lineSeparator())},getSelections:function(f){for(var g=[],T=this.sel.ranges,o=0;o<T.length;o++){var u=xt(this,T[o].from(),T[o].to());f!==!1&&(u=u.join(f||this.lineSeparator())),g[o]=u}return g},replaceSelection:function(f,g,T){for(var o=[],u=0;u<this.sel.ranges.length;u++)o[u]=f;this.replaceSelections(o,g,T||"+input")},replaceSelections:Rn(function(f,g,T){for(var o=[],u=this.sel,p=0;p<u.ranges.length;p++){var y=u.ranges[p];o[p]={from:y.from(),to:y.to(),text:this.splitLines(f[p]),origin:T}}for(var w=g&&g!="end"&&$s(this,o,g),D=o.length-1;D>=0;D--)rn(this,o[D]);w?er(this,w):this.cm&&Lu(this.cm)}),undo:Rn(function(){dn(this,"undo")}),redo:Rn(function(){dn(this,"redo")}),undoSelection:Rn(function(){dn(this,"undo",!0)}),redoSelection:Rn(function(){dn(this,"redo",!0)}),setExtending:function(f){this.extend=f},getExtending:function(){return this.extend},historySize:function(){for(var f=this.history,g=0,T=0,o=0;o<f.done.length;o++)f.done[o].ranges||++g;for(var u=0;u<f.undone.length;u++)f.undone[u].ranges||++T;return{undo:g,redo:T}},clearHistory:function(){var f=this;this.history=new M(this.history.maxGeneration),m(this,function(g){return g.history=f.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(f){return f&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(f){return this.history.generation==(f||this.cleanGeneration)},getHistory:function(){return{done:Ge(this.history.done),undone:Ge(this.history.undone)}},setHistory:function(f){var g=this.history=new M(this.history.maxGeneration);g.done=Ge(f.done.slice(0),null,!0),g.undone=Ge(f.undone.slice(0),null,!0)},setGutterMarker:Rn(function(f,g,T){return Li(this,f,"gutter",function(o){var u=o.gutterMarkers||(o.gutterMarkers={});return u[g]=T,!T&&It(u)&&(o.gutterMarkers=null),!0})}),clearGutter:Rn(function(f){var g=this;this.iter(function(T){T.gutterMarkers&&T.gutterMarkers[f]&&Li(g,T,"gutter",function(){return T.gutterMarkers[f]=null,It(T.gutterMarkers)&&(T.gutterMarkers=null),!0})})}),lineInfo:function(f){var g;if(typeof f=="number"){if(!we(this,f)||(g=f,f=Ne(this,f),!f))return null}else if(g=St(f),g==null)return null;return{line:g,handle:f,text:f.text,gutterMarkers:f.gutterMarkers,textClass:f.textClass,bgClass:f.bgClass,wrapClass:f.wrapClass,widgets:f.widgets}},addLineClass:Rn(function(f,g,T){return Li(this,f,g=="gutter"?"gutter":"class",function(o){var u=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass";if(!o[u])o[u]=T;else{if(he(T).test(o[u]))return!1;o[u]+=" "+T}return!0})}),removeLineClass:Rn(function(f,g,T){return Li(this,f,g=="gutter"?"gutter":"class",function(o){var u=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass",p=o[u];if(p)if(T==null)o[u]=null;else{var y=p.match(he(T));if(!y)return!1;var w=y.index+y[0].length;o[u]=p.slice(0,y.index)+(!y.index||w==p.length?"":" ")+p.slice(w)||null}else return!1;return!0})}),addLineWidget:Rn(function(f,g,T){return cs(this,f,g,T)}),removeLineWidget:function(f){f.clear()},markText:function(f,g,T){return Bl(this,Wt(this,f),Wt(this,g),T,T&&T.type||"range")},setBookmark:function(f,g){var T={replacedWith:g&&(g.nodeType==null?g.widget:g),insertLeft:g&&g.insertLeft,clearWhenEmpty:!1,shared:g&&g.shared,handleMouseEvents:g&&g.handleMouseEvents};return f=Wt(this,f),Bl(this,f,f,T,"bookmark")},findMarksAt:function(f){f=Wt(this,f);var g=[],T=Ne(this,f.line).markedSpans;if(T)for(var o=0;o<T.length;++o){var u=T[o];(u.from==null||u.from<=f.ch)&&(u.to==null||u.to>=f.ch)&&g.push(u.marker.parent||u.marker)}return g},findMarks:function(f,g,T){f=Wt(this,f),g=Wt(this,g);var o=[],u=f.line;return this.iter(f.line,g.line+1,function(p){var y=p.markedSpans;if(y)for(var w=0;w<y.length;w++){var D=y[w];!(D.to!=null&&u==f.line&&f.ch>=D.to||D.from==null&&u!=f.line||D.from!=null&&u==g.line&&D.from>=g.ch)&&(!T||T(D.marker))&&o.push(D.marker.parent||D.marker)}++u}),o},getAllMarks:function(){var f=[];return this.iter(function(g){var T=g.markedSpans;if(T)for(var o=0;o<T.length;++o)T[o].from!=null&&f.push(T[o].marker)}),f},posFromIndex:function(f){var g,T=this.first,o=this.lineSeparator().length;return this.iter(function(u){var p=u.text.length+o;if(p>f)return g=f,!0;f-=p,++T}),Wt(this,Ae(T,g))},indexFromPos:function(f){f=Wt(this,f);var g=f.ch;if(f.line<this.first||f.ch<0)return 0;var T=this.lineSeparator().length;return this.iter(this.first,f.line,function(o){g+=o.text.length+T}),g},copy:function(f){var g=new ni(Vt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return g.scrollTop=this.scrollTop,g.scrollLeft=this.scrollLeft,g.sel=this.sel,g.extend=!1,f&&(g.history.undoDepth=this.history.undoDepth,g.setHistory(this.getHistory())),g},linkedDoc:function(f){f||(f={});var g=this.first,T=this.first+this.size;f.from!=null&&f.from>g&&(g=f.from),f.to!=null&&f.to<T&&(T=f.to);var o=new ni(Vt(this,g,T),f.mode||this.modeOption,g,this.lineSep,this.direction);return f.sharedHist&&(o.history=this.history),(this.linked||(this.linked=[])).push({doc:o,sharedHist:f.sharedHist}),o.linked=[{doc:this,isParent:!0,sharedHist:f.sharedHist}],Es(o,jl(this)),o},unlinkDoc:function(f){if(f instanceof uo&&(f=f.doc),this.linked)for(var g=0;g<this.linked.length;++g){var T=this.linked[g];if(T.doc==f){this.linked.splice(g,1),f.unlinkDoc(this),ih(jl(this));break}}if(f.history==this.history){var o=[f.id];m(f,function(u){return o.push(u.id)},!0),f.history=new M(null),f.history.done=Ge(this.history.done,o),f.history.undone=Ge(this.history.undone,o)}},iterLinkedDocs:function(f){m(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(f){return this.lineSep?f.split(this.lineSep):xn(f)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Rn(function(f){f!="rtl"&&(f="ltr"),f!=this.direction&&(this.direction=f,this.iter(function(g){return g.order=null}),this.cm&&C(this.cm))})}),ni.prototype.eachLine=ni.prototype.iter;var vu=0;function oc(f){var g=this;if(Ts(g),!(hr(g,f)||Ml(g.display,f))){mn(f),l&&(vu=+new Date);var T=Pl(g,f,!0),o=f.dataTransfer.files;if(!(!T||g.isReadOnly()))if(o&&o.length&&window.FileReader&&window.File)for(var u=o.length,p=Array(u),y=0,w=function(){++y==u&&ro(g,function(){T=Wt(g.doc,T);var ye={from:T,to:T,text:g.doc.splitLines(p.filter(function(De){return De!=null}).join(g.doc.lineSeparator())),origin:"paste"};rn(g.doc,ye),er(g.doc,To(Wt(g.doc,T),Wt(g.doc,wn(ye))))})()},D=function(ye,De){if(g.options.allowDropFileTypes&&et(g.options.allowDropFileTypes,ye.type)==-1){w();return}var $e=new FileReader;$e.onerror=function(){return w()},$e.onload=function(){var Ke=$e.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ke)){w();return}p[De]=Ke,w()},$e.readAsText(ye)},L=0;L<o.length;L++)D(o[L],L);else{if(g.state.draggingText&&g.doc.sel.contains(T)>-1){g.state.draggingText(f),setTimeout(function(){return g.display.input.focus()},20);return}try{var j=f.dataTransfer.getData("Text");if(j){var $;if(g.state.draggingText&&!g.state.draggingText.copy&&($=g.listSelections()),lr(g.doc,To(T,T)),$)for(var te=0;te<$.length;++te)Si(g.doc,"",$[te].anchor,$[te].head,"drag");g.replaceSelection(j,"around","paste"),g.display.input.focus()}}catch{}}}}function Lo(f,g){if(l&&(!f.state.draggingText||+new Date-vu<100)){Xe(g);return}if(!(hr(f,g)||Ml(f.display,g))&&(g.dataTransfer.setData("Text",f.getSelection()),g.dataTransfer.effectAllowed="copyMove",g.dataTransfer.setDragImage&&!P)){var T=R("img",null,null,"position: fixed; left: 0; top: 0;");T.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",O&&(T.width=T.height=1,f.display.wrapper.appendChild(T),T._top=T.offsetTop),g.dataTransfer.setDragImage(T,0,0),O&&T.parentNode.removeChild(T)}}function Kn(f,g){var T=Pl(f,g);if(!!T){var o=document.createDocumentFragment();yi(f,T,o),f.display.dragCursor||(f.display.dragCursor=R("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),f.display.lineSpace.insertBefore(f.display.dragCursor,f.display.cursorDiv)),We(f.display.dragCursor,o)}}function Ts(f){f.display.dragCursor&&(f.display.lineSpace.removeChild(f.display.dragCursor),f.display.dragCursor=null)}function Ya(f){if(!!document.getElementsByClassName){for(var g=document.getElementsByClassName("CodeMirror"),T=[],o=0;o<g.length;o++){var u=g[o].CodeMirror;u&&T.push(u)}T.length&&T[0].operation(function(){for(var p=0;p<T.length;p++)f(T[p])})}}var ac=!1;function Qp(){ac||(oh(),ac=!0)}function oh(){var f;_r(window,"resize",function(){f==null&&(f=setTimeout(function(){f=null,Ya(em)},100))}),_r(window,"blur",function(){return Ya(Rl)})}function em(f){var g=f.display;g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.scrollbarsClipped=!1,f.setSize()}for(var vl={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},_f=0;_f<10;_f++)vl[_f+48]=vl[_f+96]=String(_f);for(var Fu=65;Fu<=90;Fu++)vl[Fu]=String.fromCharCode(Fu);for(var fs=1;fs<=12;fs++)vl[fs+111]=vl[fs+63235]="F"+fs;var Zs={};Zs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Zs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Zs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Zs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Zs.default=J?Zs.macDefault:Zs.pcDefault;function sc(f){var g=f.split(/-(?!$)/);f=g[g.length-1];for(var T,o,u,p,y=0;y<g.length-1;y++){var w=g[y];if(/^(cmd|meta|m)$/i.test(w))p=!0;else if(/^a(lt)?$/i.test(w))T=!0;else if(/^(c|ctrl|control)$/i.test(w))o=!0;else if(/^s(hift)?$/i.test(w))u=!0;else throw new Error("Unrecognized modifier name: "+w)}return T&&(f="Alt-"+f),o&&(f="Ctrl-"+f),p&&(f="Cmd-"+f),u&&(f="Shift-"+f),f}function _a(f){var g={};for(var T in f)if(f.hasOwnProperty(T)){var o=f[T];if(/^(name|fallthrough|(de|at)tach)$/.test(T))continue;if(o=="..."){delete f[T];continue}for(var u=yt(T.split(" "),sc),p=0;p<u.length;p++){var y=void 0,w=void 0;p==u.length-1?(w=u.join(" "),y=o):(w=u.slice(0,p+1).join(" "),y="...");var D=g[w];if(!D)g[w]=y;else if(D!=y)throw new Error("Inconsistent bindings for "+w)}delete f[T]}for(var L in g)f[L]=g[L];return f}function yl(f,g,T,o){g=Zd(g);var u=g.call?g.call(f,o):g[f];if(u===!1)return"nothing";if(u==="...")return"multi";if(u!=null&&T(u))return"handled";if(g.fallthrough){if(Object.prototype.toString.call(g.fallthrough)!="[object Array]")return yl(f,g.fallthrough,T,o);for(var p=0;p<g.fallthrough.length;p++){var y=yl(f,g.fallthrough[p],T,o);if(y)return y}}}function wg(f){var g=typeof f=="string"?f:vl[f.keyCode];return g=="Ctrl"||g=="Alt"||g=="Shift"||g=="Mod"}function ny(f,g,T){var o=f;return g.altKey&&o!="Alt"&&(f="Alt-"+f),(ne?g.metaKey:g.ctrlKey)&&o!="Ctrl"&&(f="Ctrl-"+f),(ne?g.ctrlKey:g.metaKey)&&o!="Mod"&&(f="Cmd-"+f),!T&&g.shiftKey&&o!="Shift"&&(f="Shift-"+f),f}function ah(f,g){if(O&&f.keyCode==34&&f.char)return!1;var T=vl[f.keyCode];return T==null||f.altGraphKey?!1:(f.keyCode==3&&f.code&&(T=f.code),ny(T,f,g))}function Zd(f){return typeof f=="string"?Zs[f]:f}function sh(f,g){for(var T=f.doc.sel.ranges,o=[],u=0;u<T.length;u++){for(var p=g(T[u]);o.length&&Q(p.from,kt(o).to)<=0;){var y=o.pop();if(Q(y.from,p.from)<0){p.from=y.from;break}}o.push(p)}bi(f,function(){for(var w=o.length-1;w>=0;w--)Si(f.doc,"",o[w].from,o[w].to,"+delete");Lu(f)})}function Vh(f,g,T){var o=sr(f.text,g+T,T);return o<0||o>f.text.length?null:o}function $h(f,g,T){var o=Vh(f,g.ch,T);return o==null?null:new Ae(g.line,o,T<0?"after":"before")}function qu(f,g,T,o,u){if(f){g.doc.direction=="rtl"&&(u=-u);var p=vr(T,g.doc.direction);if(p){var y=u<0?kt(p):p[0],w=u<0==(y.level==1),D=w?"after":"before",L;if(y.level>0||g.doc.direction=="rtl"){var j=qc(g,T);L=u<0?T.text.length-1:0;var $=os(g,j,L).top;L=xr(function(te){return os(g,j,te).top==$},u<0==(y.level==1)?y.from:y.to-1,L),D=="before"&&(L=Vh(T,L,1))}else L=u<0?y.to:y.from;return new Ae(o,L,D)}}return new Ae(o,u<0?T.text.length:0,u<0?"before":"after")}function tm(f,g,T,o){var u=vr(g,f.doc.direction);if(!u)return $h(g,T,o);T.ch>=g.text.length?(T.ch=g.text.length,T.sticky="before"):T.ch<=0&&(T.ch=0,T.sticky="after");var p=at(u,T.ch,T.sticky),y=u[p];if(f.doc.direction=="ltr"&&y.level%2==0&&(o>0?y.to>T.ch:y.from<T.ch))return $h(g,T,o);var w=function(pt,_t){return Vh(g,pt instanceof Ae?pt.ch:pt,_t)},D,L=function(pt){return f.options.lineWrapping?(D=D||qc(f,g),su(f,g,D,pt)):{begin:0,end:g.text.length}},j=L(T.sticky=="before"?w(T,-1):T.ch);if(f.doc.direction=="rtl"||y.level==1){var $=y.level==1==o<0,te=w(T,$?1:-1);if(te!=null&&($?te<=y.to&&te<=j.end:te>=y.from&&te>=j.begin)){var ye=$?"before":"after";return new Ae(T.line,te,ye)}}var De=function(pt,_t,At){for(var Nt=function(Mr,Nr){return Nr?new Ae(T.line,w(Mr,1),"before"):new Ae(T.line,Mr,"after")};pt>=0&&pt<u.length;pt+=_t){var Xt=u[pt],$t=_t>0==(Xt.level!=1),ir=$t?At.begin:w(At.end,-1);if(Xt.from<=ir&&ir<Xt.to||(ir=$t?Xt.from:w(Xt.to,-1),At.begin<=ir&&ir<At.end))return Nt(ir,$t)}},$e=De(p+o,o,j);if($e)return $e;var Ke=o>0?j.end:w(j.begin,-1);return Ke!=null&&!(o>0&&Ke==g.text.length)&&($e=De(o>0?0:u.length-1,o,L(Ke)),$e)?$e:null}var bl={selectAll:an,singleSelection:function(f){return f.setSelection(f.getCursor("anchor"),f.getCursor("head"),Ht)},killLine:function(f){return sh(f,function(g){if(g.empty()){var T=Ne(f.doc,g.head.line).text.length;return g.head.ch==T&&g.head.line<f.lastLine()?{from:g.head,to:Ae(g.head.line+1,0)}:{from:g.head,to:Ae(g.head.line,T)}}else return{from:g.from(),to:g.to()}})},deleteLine:function(f){return sh(f,function(g){return{from:Ae(g.from().line,0),to:Wt(f.doc,Ae(g.to().line+1,0))}})},delLineLeft:function(f){return sh(f,function(g){return{from:Ae(g.from().line,0),to:g.from()}})},delWrappedLineLeft:function(f){return sh(f,function(g){var T=f.charCoords(g.head,"div").top+5,o=f.coordsChar({left:0,top:T},"div");return{from:o,to:g.from()}})},delWrappedLineRight:function(f){return sh(f,function(g){var T=f.charCoords(g.head,"div").top+5,o=f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:T},"div");return{from:g.from(),to:o}})},undo:function(f){return f.undo()},redo:function(f){return f.redo()},undoSelection:function(f){return f.undoSelection()},redoSelection:function(f){return f.redoSelection()},goDocStart:function(f){return f.extendSelection(Ae(f.firstLine(),0))},goDocEnd:function(f){return f.extendSelection(Ae(f.lastLine()))},goLineStart:function(f){return f.extendSelectionsBy(function(g){return wf(f,g.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(f){return f.extendSelectionsBy(function(g){return Gh(f,g.head)},{origin:"+move",bias:1})},goLineEnd:function(f){return f.extendSelectionsBy(function(g){return nx(f,g.head.line)},{origin:"+move",bias:-1})},goLineRight:function(f){return f.extendSelectionsBy(function(g){var T=f.cursorCoords(g.head,"div").top+5;return f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:T},"div")},tr)},goLineLeft:function(f){return f.extendSelectionsBy(function(g){var T=f.cursorCoords(g.head,"div").top+5;return f.coordsChar({left:0,top:T},"div")},tr)},goLineLeftSmart:function(f){return f.extendSelectionsBy(function(g){var T=f.cursorCoords(g.head,"div").top+5,o=f.coordsChar({left:0,top:T},"div");return o.ch<f.getLine(o.line).search(/\S/)?Gh(f,g.head):o},tr)},goLineUp:function(f){return f.moveV(-1,"line")},goLineDown:function(f){return f.moveV(1,"line")},goPageUp:function(f){return f.moveV(-1,"page")},goPageDown:function(f){return f.moveV(1,"page")},goCharLeft:function(f){return f.moveH(-1,"char")},goCharRight:function(f){return f.moveH(1,"char")},goColumnLeft:function(f){return f.moveH(-1,"column")},goColumnRight:function(f){return f.moveH(1,"column")},goWordLeft:function(f){return f.moveH(-1,"word")},goGroupRight:function(f){return f.moveH(1,"group")},goGroupLeft:function(f){return f.moveH(-1,"group")},goWordRight:function(f){return f.moveH(1,"word")},delCharBefore:function(f){return f.deleteH(-1,"codepoint")},delCharAfter:function(f){return f.deleteH(1,"char")},delWordBefore:function(f){return f.deleteH(-1,"word")},delWordAfter:function(f){return f.deleteH(1,"word")},delGroupBefore:function(f){return f.deleteH(-1,"group")},delGroupAfter:function(f){return f.deleteH(1,"group")},indentAuto:function(f){return f.indentSelection("smart")},indentMore:function(f){return f.indentSelection("add")},indentLess:function(f){return f.indentSelection("subtract")},insertTab:function(f){return f.replaceSelection("	")},insertSoftTab:function(f){for(var g=[],T=f.listSelections(),o=f.options.tabSize,u=0;u<T.length;u++){var p=T[u].from(),y=Ze(f.getLine(p.line),p.ch,o);g.push(Kt(o-y%o))}f.replaceSelections(g)},defaultTab:function(f){f.somethingSelected()?f.indentSelection("add"):f.execCommand("insertTab")},transposeChars:function(f){return bi(f,function(){for(var g=f.listSelections(),T=[],o=0;o<g.length;o++)if(!!g[o].empty()){var u=g[o].head,p=Ne(f.doc,u.line).text;if(p){if(u.ch==p.length&&(u=new Ae(u.line,u.ch-1)),u.ch>0)u=new Ae(u.line,u.ch+1),f.replaceRange(p.charAt(u.ch-1)+p.charAt(u.ch-2),Ae(u.line,u.ch-2),u,"+transpose");else if(u.line>f.doc.first){var y=Ne(f.doc,u.line-1).text;y&&(u=new Ae(u.line,1),f.replaceRange(p.charAt(0)+f.doc.lineSeparator()+y.charAt(y.length-1),Ae(u.line-1,y.length-1),u,"+transpose"))}}T.push(new Gn(u,u))}f.setSelections(T)})},newlineAndIndent:function(f){return bi(f,function(){for(var g=f.listSelections(),T=g.length-1;T>=0;T--)f.replaceRange(f.doc.lineSeparator(),g[T].anchor,g[T].head,"+input");g=f.listSelections();for(var o=0;o<g.length;o++)f.indentLine(g[o].from().line,null,!0);Lu(f)})},openLine:function(f){return f.replaceSelection(`
`,"start")},toggleOverwrite:function(f){return f.toggleOverwrite()}};function wf(f,g){var T=Ne(f.doc,g),o=zi(T);return o!=T&&(g=St(o)),qu(!0,f,o,g,1)}function nx(f,g){var T=Ne(f.doc,g),o=mf(T);return o!=T&&(g=St(o)),qu(!0,f,T,g,-1)}function Gh(f,g){var T=wf(f,g.line),o=Ne(f.doc,T.line),u=vr(o,f.doc.direction);if(!u||u[0].level==0){var p=Math.max(T.ch,o.text.search(/\S/)),y=g.line==T.line&&g.ch<=p&&g.ch;return Ae(T.line,y?0:p,T.sticky)}return T}function Xd(f,g,T){if(typeof g=="string"&&(g=bl[g],!g))return!1;f.display.input.ensurePolled();var o=f.display.shift,u=!1;try{f.isReadOnly()&&(f.state.suppressEdits=!0),T&&(f.display.shift=!1),u=g(f)!=Tt}finally{f.display.shift=o,f.state.suppressEdits=!1}return u}function ix(f,g,T){for(var o=0;o<f.state.keyMaps.length;o++){var u=yl(g,f.state.keyMaps[o],T,f);if(u)return u}return f.options.extraKeys&&yl(g,f.options.extraKeys,T,f)||yl(g,f.options.keyMap,T,f)}var iy=new ot;function Sf(f,g,T,o){var u=f.state.keySeq;if(u){if(wg(g))return"handled";if(/\'$/.test(g)?f.state.keySeq=null:iy.set(50,function(){f.state.keySeq==u&&(f.state.keySeq=null,f.display.input.reset())}),oy(f,u+" "+g,T,o))return!0}return oy(f,g,T,o)}function oy(f,g,T,o){var u=ix(f,g,o);return u=="multi"&&(f.state.keySeq=g),u=="handled"&&eo(f,"keyHandled",f,g,T),(u=="handled"||u=="multi")&&(mn(T),fu(f)),!!u}function rm(f,g){var T=ah(g,!0);return T?g.shiftKey&&!f.state.keySeq?Sf(f,"Shift-"+T,g,function(o){return Xd(f,o,!0)})||Sf(f,T,g,function(o){if(typeof o=="string"?/^go[A-Z]/.test(o):o.motion)return Xd(f,o)}):Sf(f,T,g,function(o){return Xd(f,o)}):!1}function Jd(f,g,T){return Sf(f,"'"+T+"'",g,function(o){return Xd(f,o,!0)})}var $c=null;function Sg(f){var g=this;if(!(f.target&&f.target!=g.display.input.getField())&&(g.curOp.focus=re(),!hr(g,f))){l&&h<11&&f.keyCode==27&&(f.returnValue=!1);var T=f.keyCode;g.display.shift=T==16||f.shiftKey;var o=rm(g,f);O&&($c=o?T:null,!o&&T==88&&!Pi&&(J?f.metaKey:f.ctrlKey)&&g.replaceSelection("",null,"cut")),t&&!J&&!o&&T==46&&f.shiftKey&&!f.ctrlKey&&document.execCommand&&document.execCommand("cut"),T==18&&!/\bCodeMirror-crosshair\b/.test(g.display.lineDiv.className)&&Ro(g)}}function Ro(f){var g=f.display.lineDiv;ie(g,"CodeMirror-crosshair");function T(o){(o.keyCode==18||!o.altKey)&&(be(g,"CodeMirror-crosshair"),gt(document,"keyup",T),gt(document,"mouseover",T))}_r(document,"keyup",T),_r(document,"mouseover",T)}function lh(f){f.keyCode==16&&(this.doc.sel.shift=!1),hr(this,f)}function nm(f){var g=this;if(!(f.target&&f.target!=g.display.input.getField())&&!(Ml(g.display,f)||hr(g,f)||f.ctrlKey&&!f.altKey||J&&f.metaKey)){var T=f.keyCode,o=f.charCode;if(O&&T==$c){$c=null,mn(f);return}if(!(O&&(!f.which||f.which<10)&&rm(g,f))){var u=String.fromCharCode(o??T);u!="\b"&&(Jd(g,f,u)||g.display.input.onKeyPress(f))}}}var im=400,uh=function(f,g,T){this.time=f,this.pos=g,this.button=T};uh.prototype.compare=function(f,g,T){return this.time+im>f&&Q(g,this.pos)==0&&T==this.button};var lc,Kh;function om(f,g){var T=+new Date;return Kh&&Kh.compare(T,f,g)?(lc=Kh=null,"triple"):lc&&lc.compare(T,f,g)?(Kh=new uh(T,f,g),lc=null,"double"):(lc=new uh(T,f,g),Kh=null,"single")}function uc(f){var g=this,T=g.display;if(!(hr(g,f)||T.activeTouch&&T.input.supportsTouch())){if(T.input.ensurePolled(),T.shift=f.shiftKey,Ml(T,f)){b||(T.scroller.draggable=!1,setTimeout(function(){return T.scroller.draggable=!0},100));return}if(!tp(g,f)){var o=Pl(g,f),u=Gt(f),p=o?om(o,u):"single";window.focus(),u==1&&g.state.selectingText&&g.state.selectingText(f),!(o&&ch(g,u,o,p,f))&&(u==1?o?ay(g,o,p,f):bt(f)==T.scroller&&mn(f):u==2?(o&&mt(g.doc,o),setTimeout(function(){return T.input.focus()},20)):u==3&&(de?g.display.input.onContextMenu(f):$d(g)))}}}function ch(f,g,T,o,u){var p="Click";return o=="double"?p="Double"+p:o=="triple"&&(p="Triple"+p),p=(g==1?"Left":g==2?"Middle":"Right")+p,Sf(f,ny(p,u),u,function(y){if(typeof y=="string"&&(y=bl[y]),!y)return!1;var w=!1;try{f.isReadOnly()&&(f.state.suppressEdits=!0),w=y(f,T)!=Tt}finally{f.state.suppressEdits=!1}return w})}function kg(f,g,T){var o=f.getOption("configureMouse"),u=o?o(f,g,T):{};if(u.unit==null){var p=se?T.shiftKey&&T.metaKey:T.altKey;u.unit=p?"rectangle":g=="single"?"char":g=="double"?"word":"line"}return(u.extend==null||f.doc.extend)&&(u.extend=f.doc.extend||T.shiftKey),u.addNew==null&&(u.addNew=J?T.metaKey:T.ctrlKey),u.moveOnDrag==null&&(u.moveOnDrag=!(J?T.altKey:T.ctrlKey)),u}function ay(f,g,T,o){l?setTimeout(K(Pu,f),0):f.curOp.focus=re();var u=kg(f,T,o),p=f.doc.sel,y;f.options.dragDrop&&gr&&!f.isReadOnly()&&T=="single"&&(y=p.contains(g))>-1&&(Q((y=p.ranges[y]).from(),g)<0||g.xRel>0)&&(Q(y.to(),g)>0||g.xRel<0)?Qd(f,o,g,u):Cg(f,o,g,u)}function Qd(f,g,T,o){var u=f.display,p=!1,y=ro(f,function(L){b&&(u.scroller.draggable=!1),f.state.draggingText=!1,f.state.delayingBlurEvent&&(f.hasFocus()?f.state.delayingBlurEvent=!1:$d(f)),gt(u.wrapper.ownerDocument,"mouseup",y),gt(u.wrapper.ownerDocument,"mousemove",w),gt(u.scroller,"dragstart",D),gt(u.scroller,"drop",y),p||(mn(L),o.addNew||mt(f.doc,T,null,null,o.extend),b&&!P||l&&h==9?setTimeout(function(){u.wrapper.ownerDocument.body.focus({preventScroll:!0}),u.input.focus()},20):u.input.focus())}),w=function(L){p=p||Math.abs(g.clientX-L.clientX)+Math.abs(g.clientY-L.clientY)>=10},D=function(){return p=!0};b&&(u.scroller.draggable=!0),f.state.draggingText=y,y.copy=!o.moveOnDrag,_r(u.wrapper.ownerDocument,"mouseup",y),_r(u.wrapper.ownerDocument,"mousemove",w),_r(u.scroller,"dragstart",D),_r(u.scroller,"drop",y),f.state.delayingBlurEvent=!0,setTimeout(function(){return u.input.focus()},20),u.scroller.dragDrop&&u.scroller.dragDrop()}function sy(f,g,T){if(T=="char")return new Gn(g,g);if(T=="word")return f.findWordAt(g);if(T=="line")return new Gn(Ae(g.line,0),Wt(f.doc,Ae(g.line+1,0)));var o=T(f,g);return new Gn(o.from,o.to)}function Cg(f,g,T,o){l&&$d(f);var u=f.display,p=f.doc;mn(g);var y,w,D=p.sel,L=D.ranges;if(o.addNew&&!o.extend?(w=p.sel.contains(T),w>-1?y=L[w]:y=new Gn(T,T)):(y=p.sel.primary(),w=p.sel.primIndex),o.unit=="rectangle")o.addNew||(y=new Gn(T,T)),T=Pl(f,g,!0,!0),w=-1;else{var j=sy(f,T,o.unit);o.extend?y=ct(y,j.anchor,j.head,o.extend):y=j}o.addNew?w==-1?(w=L.length,nr(p,xa(f,L.concat([y]),w),{scroll:!1,origin:"*mouse"})):L.length>1&&L[w].empty()&&o.unit=="char"&&!o.extend?(nr(p,xa(f,L.slice(0,w).concat(L.slice(w+1)),0),{scroll:!1,origin:"*mouse"}),D=p.sel):zt(p,w,y,Lt):(w=0,nr(p,new $a([y],0),Lt),D=p.sel);var $=T;function te(At){if(Q($,At)!=0)if($=At,o.unit=="rectangle"){for(var Nt=[],Xt=f.options.tabSize,$t=Ze(Ne(p,T.line).text,T.ch,Xt),ir=Ze(Ne(p,At.line).text,At.ch,Xt),Mr=Math.min($t,ir),Nr=Math.max($t,ir),nn=Math.min(T.line,At.line),Nn=Math.min(f.lastLine(),Math.max(T.line,At.line));nn<=Nn;nn++){var di=Ne(p,nn).text,Cn=or(di,Mr,Xt);Mr==Nr?Nt.push(new Gn(Ae(nn,Cn),Ae(nn,Cn))):di.length>Cn&&Nt.push(new Gn(Ae(nn,Cn),Ae(nn,or(di,Nr,Xt))))}Nt.length||Nt.push(new Gn(T,T)),nr(p,xa(f,D.ranges.slice(0,w).concat(Nt),w),{origin:"*mouse",scroll:!1}),f.scrollIntoView(At)}else{var ki=y,oi=sy(f,At,o.unit),bn=ki.anchor,Wn;Q(oi.anchor,bn)>0?(Wn=oi.head,bn=it(ki.from(),oi.anchor)):(Wn=oi.anchor,bn=Fe(ki.to(),oi.head));var hn=D.ranges.slice(0);hn[w]=ox(f,new Gn(Wt(p,bn),Wn)),nr(p,xa(f,hn,w),Lt)}}var ye=u.wrapper.getBoundingClientRect(),De=0;function $e(At){var Nt=++De,Xt=Pl(f,At,!0,o.unit=="rectangle");if(!!Xt)if(Q(Xt,$)!=0){f.curOp.focus=re(),te(Xt);var $t=Oi(u,p);(Xt.line>=$t.to||Xt.line<$t.from)&&setTimeout(ro(f,function(){De==Nt&&$e(At)}),150)}else{var ir=At.clientY<ye.top?-20:At.clientY>ye.bottom?20:0;ir&&setTimeout(ro(f,function(){De==Nt&&(u.scroller.scrollTop+=ir,$e(At))}),50)}}function Ke(At){f.state.selectingText=!1,De=1/0,At&&(mn(At),u.input.focus()),gt(u.wrapper.ownerDocument,"mousemove",pt),gt(u.wrapper.ownerDocument,"mouseup",_t),p.history.lastSelOrigin=null}var pt=ro(f,function(At){At.buttons===0||!Gt(At)?Ke(At):$e(At)}),_t=ro(f,Ke);f.state.selectingText=_t,_r(u.wrapper.ownerDocument,"mousemove",pt),_r(u.wrapper.ownerDocument,"mouseup",_t)}function ox(f,g){var T=g.anchor,o=g.head,u=Ne(f.doc,T.line);if(Q(T,o)==0&&T.sticky==o.sticky)return g;var p=vr(u);if(!p)return g;var y=at(p,T.ch,T.sticky),w=p[y];if(w.from!=T.ch&&w.to!=T.ch)return g;var D=y+(w.from==T.ch==(w.level!=1)?0:1);if(D==0||D==p.length)return g;var L;if(o.line!=T.line)L=(o.line-T.line)*(f.doc.direction=="ltr"?1:-1)>0;else{var j=at(p,o.ch,o.sticky),$=j-y||(o.ch-T.ch)*(w.level==1?-1:1);j==D-1||j==D?L=$<0:L=$>0}var te=p[D+(L?-1:0)],ye=L==(te.level==1),De=ye?te.from:te.to,$e=ye?"after":"before";return T.ch==De&&T.sticky==$e?g:new Gn(new Ae(T.line,De,$e),o)}function ep(f,g,T,o){var u,p;if(g.touches)u=g.touches[0].clientX,p=g.touches[0].clientY;else try{u=g.clientX,p=g.clientY}catch{return!1}if(u>=Math.floor(f.display.gutters.getBoundingClientRect().right))return!1;o&&mn(g);var y=f.display,w=y.lineDiv.getBoundingClientRect();if(p>w.bottom||!wr(f,T))return Ue(g);p-=w.top-y.viewOffset;for(var D=0;D<f.display.gutterSpecs.length;++D){var L=y.gutters.childNodes[D];if(L&&L.getBoundingClientRect().right>=u){var j=Qt(f.doc,p),$=f.display.gutterSpecs[D];return Dt(f,T,f,j,$.className,g),Ue(g)}}}function tp(f,g){return ep(f,g,"gutterClick",!0)}function yu(f,g){Ml(f.display,g)||ly(f,g)||hr(f,g,"contextmenu")||de||f.display.input.onContextMenu(g)}function ly(f,g){return wr(f,"gutterContextMenu")?ep(f,g,"gutterContextMenu",!1):!1}function am(f){f.display.wrapper.className=f.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+f.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ju(f)}var fh={toString:function(){return"CodeMirror.Init"}},uy={},Yh={};function zu(f){var g=f.optionHandlers;function T(o,u,p,y){f.defaults[o]=u,p&&(g[o]=y?function(w,D,L){L!=fh&&p(w,D,L)}:p)}f.defineOption=T,f.Init=fh,T("value","",function(o,u){return o.setValue(u)},!0),T("mode",null,function(o,u){o.doc.modeOption=u,Vc(o)},!0),T("indentUnit",2,Vc,!0),T("indentWithTabs",!1),T("smartIndent",!0),T("tabSize",4,function(o){gu(o),Ju(o),Mo(o)},!0),T("lineSeparator",null,function(o,u){if(o.doc.lineSep=u,!!u){var p=[],y=o.doc.first;o.doc.iter(function(D){for(var L=0;;){var j=D.text.indexOf(u,L);if(j==-1)break;L=j+u.length,p.push(Ae(y,j))}y++});for(var w=p.length-1;w>=0;w--)Si(o.doc,u,p[w],Ae(p[w].line,p[w].ch+u.length))}}),T("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(o,u,p){o.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),p!=fh&&o.refresh()}),T("specialCharPlaceholder",_g,function(o){return o.refresh()},!0),T("electricChars",!0),T("inputStyle",Y?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),T("spellcheck",!1,function(o,u){return o.getInputField().spellcheck=u},!0),T("autocorrect",!1,function(o,u){return o.getInputField().autocorrect=u},!0),T("autocapitalize",!1,function(o,u){return o.getInputField().autocapitalize=u},!0),T("rtlMoveVisually",!_),T("wholeLineUpdateBefore",!0),T("theme","default",function(o){am(o),ks(o)},!0),T("keyMap","default",function(o,u,p){var y=Zd(u),w=p!=fh&&Zd(p);w&&w.detach&&w.detach(o,y),y.attach&&y.attach(o,w||null)}),T("extraKeys",null),T("configureMouse",null),T("lineWrapping",!1,sm,!0),T("gutters",[],function(o,u){o.display.gutterSpecs=Nl(u,o.options.lineNumbers),ks(o)},!0),T("fixedGutter",!0,function(o,u){o.display.gutters.style.left=u?Mu(o.display)+"px":"0",o.refresh()},!0),T("coverGutterNextToScrollbar",!1,function(o){return Hs(o)},!0),T("scrollbarStyle","native",function(o){us(o),Hs(o),o.display.scrollbars.setScrollTop(o.doc.scrollTop),o.display.scrollbars.setScrollLeft(o.doc.scrollLeft)},!0),T("lineNumbers",!1,function(o,u){o.display.gutterSpecs=Nl(o.options.gutters,u),ks(o)},!0),T("firstLineNumber",1,ks,!0),T("lineNumberFormatter",function(o){return o},ks,!0),T("showCursorWhenSelecting",!1,ls,!0),T("resetSelectionOnContextMenu",!0),T("lineWiseCopyCut",!0),T("pasteLinesPerSelection",!0),T("selectionsMayTouch",!1),T("readOnly",!1,function(o,u){u=="nocursor"&&(Rl(o),o.display.input.blur()),o.display.input.readOnlyChanged(u)}),T("screenReaderLabel",null,function(o,u){u=u===""?null:u,o.display.input.screenReaderLabelChanged(u)}),T("disableInput",!1,function(o,u){u||o.display.input.reset()},!0),T("dragDrop",!0,cy),T("allowDropFileTypes",null),T("cursorBlinkRate",530),T("cursorScrollMargin",0),T("cursorHeight",1,ls,!0),T("singleCursorHeightPerLine",!0,ls,!0),T("workTime",100),T("workDelay",100),T("flattenSpans",!0,gu,!0),T("addModeClass",!1,gu,!0),T("pollInterval",100),T("undoDepth",200,function(o,u){return o.doc.history.undoDepth=u}),T("historyEventDelay",1250),T("viewportMargin",10,function(o){return o.refresh()},!0),T("maxHighlightLength",1e4,gu,!0),T("moveInputWithCursor",!0,function(o,u){u||o.display.input.resetPosition()}),T("tabindex",null,function(o,u){return o.display.input.getField().tabIndex=u||""}),T("autofocus",null),T("direction","ltr",function(o,u){return o.doc.setDirection(u)},!0),T("phrases",null)}function cy(f,g,T){var o=T&&T!=fh;if(!g!=!o){var u=f.display.dragFunctions,p=g?_r:gt;p(f.display.scroller,"dragstart",u.start),p(f.display.scroller,"dragenter",u.enter),p(f.display.scroller,"dragover",u.over),p(f.display.scroller,"dragleave",u.leave),p(f.display.scroller,"drop",u.drop)}}function sm(f){f.options.lineWrapping?(ie(f.display.wrapper,"CodeMirror-wrap"),f.display.sizer.style.minWidth="",f.display.sizerWidth=null):(be(f.display.wrapper,"CodeMirror-wrap"),ul(f)),Uc(f),Mo(f),Ju(f),setTimeout(function(){return Hs(f)},100)}function uo(f,g){var T=this;if(!(this instanceof uo))return new uo(f,g);this.options=g=g?W(g):{},W(uy,g,!1);var o=g.value;typeof o=="string"?o=new ni(o,g.mode,null,g.lineSeparator,g.direction):g.mode&&(o.modeOption=g.mode),this.doc=o;var u=new uo.inputStyles[g.inputStyle](this),p=this.display=new Va(f,o,u,g);p.wrapper.CodeMirror=this,am(this),g.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),us(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ot,keySeq:null,specialChars:null},g.autofocus&&!Y&&p.input.focus(),l&&h<11&&setTimeout(function(){return T.display.input.reset(!0)},20),fy(this),Qp(),pl(this),this.curOp.forceUpdate=!0,x(this,o),g.autofocus&&!Y||this.hasFocus()?setTimeout(function(){T.hasFocus()&&!T.state.focused&&Qf(T)},20):Rl(this);for(var y in Yh)Yh.hasOwnProperty(y)&&Yh[y](this,g[y],fh);th(this),g.finishInit&&g.finishInit(this);for(var w=0;w<Eg.length;++w)Eg[w](this);du(this),b&&g.lineWrapping&&getComputedStyle(p.lineDiv).textRendering=="optimizelegibility"&&(p.lineDiv.style.textRendering="auto")}uo.defaults=uy,uo.optionHandlers=Yh;function fy(f){var g=f.display;_r(g.scroller,"mousedown",ro(f,uc)),l&&h<11?_r(g.scroller,"dblclick",ro(f,function(D){if(!hr(f,D)){var L=Pl(f,D);if(!(!L||tp(f,D)||Ml(f.display,D))){mn(D);var j=f.findWordAt(L);mt(f.doc,j.anchor,j.head)}}})):_r(g.scroller,"dblclick",function(D){return hr(f,D)||mn(D)}),_r(g.scroller,"contextmenu",function(D){return yu(f,D)}),_r(g.input.getField(),"contextmenu",function(D){g.scroller.contains(D.target)||yu(f,D)});var T,o={end:0};function u(){g.activeTouch&&(T=setTimeout(function(){return g.activeTouch=null},1e3),o=g.activeTouch,o.end=+new Date)}function p(D){if(D.touches.length!=1)return!1;var L=D.touches[0];return L.radiusX<=1&&L.radiusY<=1}function y(D,L){if(L.left==null)return!0;var j=L.left-D.left,$=L.top-D.top;return j*j+$*$>20*20}_r(g.scroller,"touchstart",function(D){if(!hr(f,D)&&!p(D)&&!tp(f,D)){g.input.ensurePolled(),clearTimeout(T);var L=+new Date;g.activeTouch={start:L,moved:!1,prev:L-o.end<=300?o:null},D.touches.length==1&&(g.activeTouch.left=D.touches[0].pageX,g.activeTouch.top=D.touches[0].pageY)}}),_r(g.scroller,"touchmove",function(){g.activeTouch&&(g.activeTouch.moved=!0)}),_r(g.scroller,"touchend",function(D){var L=g.activeTouch;if(L&&!Ml(g,D)&&L.left!=null&&!L.moved&&new Date-L.start<300){var j=f.coordsChar(g.activeTouch,"page"),$;!L.prev||y(L,L.prev)?$=new Gn(j,j):!L.prev.prev||y(L,L.prev.prev)?$=f.findWordAt(j):$=new Gn(Ae(j.line,0),Wt(f.doc,Ae(j.line+1,0))),f.setSelection($.anchor,$.head),f.focus(),mn(D)}u()}),_r(g.scroller,"touchcancel",u),_r(g.scroller,"scroll",function(){g.scroller.clientHeight&&(pr(f,g.scroller.scrollTop),Fl(f,g.scroller.scrollLeft,!0),Dt(f,"scroll",f))}),_r(g.scroller,"mousewheel",function(D){return Cs(f,D)}),_r(g.scroller,"DOMMouseScroll",function(D){return Cs(f,D)}),_r(g.wrapper,"scroll",function(){return g.wrapper.scrollTop=g.wrapper.scrollLeft=0}),g.dragFunctions={enter:function(D){hr(f,D)||Xe(D)},over:function(D){hr(f,D)||(Kn(f,D),Xe(D))},start:function(D){return Lo(f,D)},drop:ro(f,oc),leave:function(D){hr(f,D)||Ts(f)}};var w=g.input.getField();_r(w,"keyup",function(D){return lh.call(f,D)}),_r(w,"keydown",ro(f,Sg)),_r(w,"keypress",ro(f,nm)),_r(w,"focus",function(D){return Qf(f,D)}),_r(w,"blur",function(D){return Rl(f,D)})}var Eg=[];uo.defineInitHook=function(f){return Eg.push(f)};function Bi(f,g,T,o){var u=f.doc,p;T==null&&(T="add"),T=="smart"&&(u.mode.indent?p=Lr(f,g).state:T="prev");var y=f.options.tabSize,w=Ne(u,g),D=Ze(w.text,null,y);w.stateAfter&&(w.stateAfter=null);var L=w.text.match(/^\s*/)[0],j;if(!o&&!/\S/.test(w.text))j=0,T="not";else if(T=="smart"&&(j=u.mode.indent(p,w.text.slice(L.length),w.text),j==Tt||j>150)){if(!o)return;T="prev"}T=="prev"?g>u.first?j=Ze(Ne(u,g-1).text,null,y):j=0:T=="add"?j=D+f.options.indentUnit:T=="subtract"?j=D-f.options.indentUnit:typeof T=="number"&&(j=D+T),j=Math.max(0,j);var $="",te=0;if(f.options.indentWithTabs)for(var ye=Math.floor(j/y);ye;--ye)te+=y,$+="	";if(te<j&&($+=Kt(j-te)),$!=L)return Si(u,$,Ae(g,0),Ae(g,L.length),"+input"),w.stateAfter=null,!0;for(var De=0;De<u.sel.ranges.length;De++){var $e=u.sel.ranges[De];if($e.head.line==g&&$e.head.ch<L.length){var Ke=Ae(g,L.length);zt(u,De,new Gn(Ke,Ke));break}}}var As=null;function Zh(f){As=f}function Gc(f,g,T,o,u){var p=f.doc;f.display.shift=!1,o||(o=p.sel);var y=+new Date-200,w=u=="paste"||f.state.pasteIncoming>y,D=xn(g),L=null;if(w&&o.ranges.length>1)if(As&&As.text.join(`
`)==g){if(o.ranges.length%As.text.length==0){L=[];for(var j=0;j<As.text.length;j++)L.push(p.splitLines(As.text[j]))}}else D.length==o.ranges.length&&f.options.pasteLinesPerSelection&&(L=yt(D,function(pt){return[pt]}));for(var $=f.curOp.updateInput,te=o.ranges.length-1;te>=0;te--){var ye=o.ranges[te],De=ye.from(),$e=ye.to();ye.empty()&&(T&&T>0?De=Ae(De.line,De.ch-T):f.state.overwrite&&!w?$e=Ae($e.line,Math.min(Ne(p,$e.line).text.length,$e.ch+kt(D).length)):w&&As&&As.lineWise&&As.text.join(`
`)==D.join(`
`)&&(De=$e=Ae(De.line,0)));var Ke={from:De,to:$e,text:L?L[te%L.length]:D,origin:u||(w?"paste":f.state.cutIncoming>y?"cut":"+input")};rn(f.doc,Ke),eo(f,"inputRead",f,Ke)}g&&!w&&Xs(f,g),Lu(f),f.curOp.updateInput<2&&(f.curOp.updateInput=$),f.curOp.typing=!0,f.state.pasteIncoming=f.state.cutIncoming=-1}function Ds(f,g){var T=f.clipboardData&&f.clipboardData.getData("Text");if(T)return f.preventDefault(),!g.isReadOnly()&&!g.options.disableInput&&bi(g,function(){return Gc(g,T,0,null,"paste")}),!0}function Xs(f,g){if(!(!f.options.electricChars||!f.options.smartIndent))for(var T=f.doc.sel,o=T.ranges.length-1;o>=0;o--){var u=T.ranges[o];if(!(u.head.ch>100||o&&T.ranges[o-1].head.line==u.head.line)){var p=f.getModeAt(u.head),y=!1;if(p.electricChars){for(var w=0;w<p.electricChars.length;w++)if(g.indexOf(p.electricChars.charAt(w))>-1){y=Bi(f,u.head.line,"smart");break}}else p.electricInput&&p.electricInput.test(Ne(f.doc,u.head.line).text.slice(0,u.head.ch))&&(y=Bi(f,u.head.line,"smart"));y&&eo(f,"electricInput",f,u.head.line)}}}function lm(f){for(var g=[],T=[],o=0;o<f.doc.sel.ranges.length;o++){var u=f.doc.sel.ranges[o].head.line,p={anchor:Ae(u,0),head:Ae(u+1,0)};T.push(p),g.push(f.getRange(p.anchor,p.head))}return{text:g,ranges:T}}function Tg(f,g,T,o){f.setAttribute("autocorrect",T?"":"off"),f.setAttribute("autocapitalize",o?"":"off"),f.setAttribute("spellcheck",!!g)}function Ag(){var f=R("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),g=R("div",[f],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return b?f.style.width="1000px":f.setAttribute("wrap","off"),N&&(f.style.border="1px solid black"),Tg(f),g}function Xh(f){var g=f.optionHandlers,T=f.helpers={};f.prototype={constructor:f,focus:function(){window.focus(),this.display.input.focus()},setOption:function(o,u){var p=this.options,y=p[o];p[o]==u&&o!="mode"||(p[o]=u,g.hasOwnProperty(o)&&ro(this,g[o])(this,u,y),Dt(this,"optionChange",this,o))},getOption:function(o){return this.options[o]},getDoc:function(){return this.doc},addKeyMap:function(o,u){this.state.keyMaps[u?"push":"unshift"](Zd(o))},removeKeyMap:function(o){for(var u=this.state.keyMaps,p=0;p<u.length;++p)if(u[p]==o||u[p].name==o)return u.splice(p,1),!0},addOverlay:vo(function(o,u){var p=o.token?o:f.getMode(this.options,o);if(p.startState)throw new Error("Overlays may not be stateful.");rt(this.state.overlays,{mode:p,modeSpec:o,opaque:u&&u.opaque,priority:u&&u.priority||0},function(y){return y.priority}),this.state.modeGen++,Mo(this)}),removeOverlay:vo(function(o){for(var u=this.state.overlays,p=0;p<u.length;++p){var y=u[p].modeSpec;if(y==o||typeof o=="string"&&y.name==o){u.splice(p,1),this.state.modeGen++,Mo(this);return}}}),indentLine:vo(function(o,u,p){typeof u!="string"&&typeof u!="number"&&(u==null?u=this.options.smartIndent?"smart":"prev":u=u?"add":"subtract"),we(this.doc,o)&&Bi(this,o,u,p)}),indentSelection:vo(function(o){for(var u=this.doc.sel.ranges,p=-1,y=0;y<u.length;y++){var w=u[y];if(w.empty())w.head.line>p&&(Bi(this,w.head.line,o,!0),p=w.head.line,y==this.doc.sel.primIndex&&Lu(this));else{var D=w.from(),L=w.to(),j=Math.max(p,D.line);p=Math.min(this.lastLine(),L.line-(L.ch?0:1))+1;for(var $=j;$<p;++$)Bi(this,$,o);var te=this.doc.sel.ranges;D.ch==0&&u.length==te.length&&te[y].from().ch>0&&zt(this.doc,y,new Gn(D,te[y].to()),Ht)}}}),getTokenAt:function(o,u){return Pn(this,o,u)},getLineTokens:function(o,u){return Pn(this,Ae(o),u,!0)},getTokenTypeAt:function(o){o=Wt(this.doc,o);var u=Br(this,Ne(this.doc,o.line)),p=0,y=(u.length-1)/2,w=o.ch,D;if(w==0)D=u[2];else for(;;){var L=p+y>>1;if((L?u[L*2-1]:0)>=w)y=L;else if(u[L*2+1]<w)p=L+1;else{D=u[L*2+2];break}}var j=D?D.indexOf("overlay "):-1;return j<0?D:j==0?null:D.slice(0,j-1)},getModeAt:function(o){var u=this.doc.mode;return u.innerMode?f.innerMode(u,this.getTokenAt(o).state).mode:u},getHelper:function(o,u){return this.getHelpers(o,u)[0]},getHelpers:function(o,u){var p=[];if(!T.hasOwnProperty(u))return p;var y=T[u],w=this.getModeAt(o);if(typeof w[u]=="string")y[w[u]]&&p.push(y[w[u]]);else if(w[u])for(var D=0;D<w[u].length;D++){var L=y[w[u][D]];L&&p.push(L)}else w.helperType&&y[w.helperType]?p.push(y[w.helperType]):y[w.name]&&p.push(y[w.name]);for(var j=0;j<y._global.length;j++){var $=y._global[j];$.pred(w,this)&&et(p,$.val)==-1&&p.push($.val)}return p},getStateAfter:function(o,u){var p=this.doc;return o=Mt(p,o??p.first+p.size-1),Lr(this,o+1,u).state},cursorCoords:function(o,u){var p,y=this.doc.sel.primary();return o==null?p=y.head:typeof o=="object"?p=Wt(this.doc,o):p=o?y.from():y.to(),aa(this,p,u||"page")},charCoords:function(o,u){return yf(this,Wt(this.doc,o),u||"page")},coordsChar:function(o,u){return o=ec(this,o,u||"page"),Ss(this,o.left,o.top)},lineAtHeight:function(o,u){return o=ec(this,{top:o,left:0},u||"page").top,Qt(this.doc,o+this.display.viewOffset)},heightAtLine:function(o,u,p){var y=!1,w;if(typeof o=="number"){var D=this.doc.first+this.doc.size-1;o<this.doc.first?o=this.doc.first:o>D&&(o=D,y=!0),w=Ne(this.doc,o)}else w=o;return Du(this,w,{top:0,left:0},u||"page",p||y).top+(y?this.doc.height-Aa(w):0)},defaultTextHeight:function(){return Iu(this.display)},defaultCharWidth:function(){return tc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(o,u,p,y,w){var D=this.display;o=aa(this,Wt(this.doc,o));var L=o.bottom,j=o.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),D.sizer.appendChild(u),y=="over")L=o.top;else if(y=="above"||y=="near"){var $=Math.max(D.wrapper.clientHeight,this.doc.height),te=Math.max(D.sizer.clientWidth,D.lineSpace.clientWidth);(y=="above"||o.bottom+u.offsetHeight>$)&&o.top>u.offsetHeight?L=o.top-u.offsetHeight:o.bottom+u.offsetHeight<=$&&(L=o.bottom),j+u.offsetWidth>te&&(j=te-u.offsetWidth)}u.style.top=L+"px",u.style.left=u.style.right="",w=="right"?(j=D.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(w=="left"?j=0:w=="middle"&&(j=(D.sizer.clientWidth-u.offsetWidth)/2),u.style.left=j+"px"),p&&to(this,{left:j,top:L,right:j+u.offsetWidth,bottom:L+u.offsetHeight})},triggerOnKeyDown:vo(Sg),triggerOnKeyPress:vo(nm),triggerOnKeyUp:lh,triggerOnMouseDown:vo(uc),execCommand:function(o){if(bl.hasOwnProperty(o))return bl[o].call(null,this)},triggerElectric:vo(function(o){Xs(this,o)}),findPosH:function(o,u,p,y){var w=1;u<0&&(w=-1,u=-u);for(var D=Wt(this.doc,o),L=0;L<u&&(D=Jh(this.doc,D,w,p,y),!D.hitSide);++L);return D},moveH:vo(function(o,u){var p=this;this.extendSelectionsBy(function(y){return p.display.shift||p.doc.extend||y.empty()?Jh(p.doc,y.head,o,u,p.options.rtlMoveVisually):o<0?y.from():y.to()},tr)}),deleteH:vo(function(o,u){var p=this.doc.sel,y=this.doc;p.somethingSelected()?y.replaceSelection("",null,"+delete"):sh(this,function(w){var D=Jh(y,w.head,o,u,!1);return o<0?{from:D,to:w.head}:{from:w.head,to:D}})}),findPosV:function(o,u,p,y){var w=1,D=y;u<0&&(w=-1,u=-u);for(var L=Wt(this.doc,o),j=0;j<u;++j){var $=aa(this,L,"div");if(D==null?D=$.left:$.left=D,L=Dg(this,$,w,p),L.hitSide)break}return L},moveV:vo(function(o,u){var p=this,y=this.doc,w=[],D=!this.display.shift&&!y.extend&&y.sel.somethingSelected();if(y.extendSelectionsBy(function(j){if(D)return o<0?j.from():j.to();var $=aa(p,j.head,"div");j.goalColumn!=null&&($.left=j.goalColumn),w.push($.left);var te=Dg(p,$,o,u);return u=="page"&&j==y.sel.primary()&&Wa(p,yf(p,te,"div").top-$.top),te},tr),w.length)for(var L=0;L<y.sel.ranges.length;L++)y.sel.ranges[L].goalColumn=w[L]}),findWordAt:function(o){var u=this.doc,p=Ne(u,o.line).text,y=o.ch,w=o.ch;if(p){var D=this.getHelper(o,"wordChars");(o.sticky=="before"||w==p.length)&&y?--y:++w;for(var L=p.charAt(y),j=st(L,D)?function($){return st($,D)}:/\s/.test(L)?function($){return/\s/.test($)}:function($){return!/\s/.test($)&&!st($)};y>0&&j(p.charAt(y-1));)--y;for(;w<p.length&&j(p.charAt(w));)++w}return new Gn(Ae(o.line,y),Ae(o.line,w))},toggleOverwrite:function(o){o!=null&&o==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ie(this.display.cursorDiv,"CodeMirror-overwrite"):be(this.display.cursorDiv,"CodeMirror-overwrite"),Dt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==re()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:vo(function(o,u){dl(this,o,u)}),getScrollInfo:function(){var o=this.display.scroller;return{left:o.scrollLeft,top:o.scrollTop,height:o.scrollHeight-oa(this)-this.display.barHeight,width:o.scrollWidth-oa(this)-this.display.barWidth,clientHeight:Xf(this),clientWidth:ru(this)}},scrollIntoView:vo(function(o,u){o==null?(o={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof o=="number"?o={from:Ae(o,0),to:null}:o.from==null&&(o={from:o,to:null}),o.to||(o.to=o.from),o.margin=u||0,o.from.line!=null?Us(this,o):nc(this,o.from,o.to,o.margin)}),setSize:vo(function(o,u){var p=this,y=function(D){return typeof D=="number"||/^\d+$/.test(String(D))?D+"px":D};o!=null&&(this.display.wrapper.style.width=y(o)),u!=null&&(this.display.wrapper.style.height=y(u)),this.options.lineWrapping&&Vd(this);var w=this.display.viewFrom;this.doc.iter(w,this.display.viewTo,function(D){if(D.widgets){for(var L=0;L<D.widgets.length;L++)if(D.widgets[L].noHScroll){as(p,w,"widget");break}}++w}),this.curOp.forceUpdate=!0,Dt(this,"refresh",this)}),operation:function(o){return bi(this,o)},startOperation:function(){return pl(this)},endOperation:function(){return du(this)},refresh:vo(function(){var o=this.display.cachedTextHeight;Mo(this),this.curOp.forceUpdate=!0,Ju(this),dl(this,this.doc.scrollLeft,this.doc.scrollTop),Wc(this.display),(o==null||Math.abs(o-Iu(this.display))>.5||this.options.lineWrapping)&&Uc(this),Dt(this,"refresh",this)}),swapDoc:vo(function(o){var u=this.doc;return u.cm=null,this.state.selectingText&&this.state.selectingText(),x(this,o),Ju(this),this.display.input.reset(),dl(this,o.scrollLeft,o.scrollTop),this.curOp.forceScroll=!0,eo(this,"swapDoc",this,u),u}),phrase:function(o){var u=this.options.phrases;return u&&Object.prototype.hasOwnProperty.call(u,o)?u[o]:o},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Gr(f),f.registerHelper=function(o,u,p){T.hasOwnProperty(o)||(T[o]=f[o]={_global:[]}),T[o][u]=p},f.registerGlobalHelper=function(o,u,p,y){f.registerHelper(o,u,y),T[o]._global.push({pred:p,val:y})}}function Jh(f,g,T,o,u){var p=g,y=T,w=Ne(f,g.line),D=u&&f.direction=="rtl"?-T:T;function L(){var _t=g.line+D;return _t<f.first||_t>=f.first+f.size?!1:(g=new Ae(_t,g.ch,g.sticky),w=Ne(f,_t))}function j(_t){var At;if(o=="codepoint"){var Nt=w.text.charCodeAt(g.ch+(o>0?0:-1));if(isNaN(Nt))At=null;else{var Xt=T>0?Nt>=55296&&Nt<56320:Nt>=56320&&Nt<57343;At=new Ae(g.line,Math.max(0,Math.min(w.text.length,g.ch+T*(Xt?2:1))),-T)}}else u?At=tm(f.cm,w,g,T):At=$h(w,g,T);if(At==null)if(!_t&&L())g=qu(u,f.cm,w,g.line,D);else return!1;else g=At;return!0}if(o=="char"||o=="codepoint")j();else if(o=="column")j(!0);else if(o=="word"||o=="group")for(var $=null,te=o=="group",ye=f.cm&&f.cm.getHelper(g,"wordChars"),De=!0;!(T<0&&!j(!De));De=!1){var $e=w.text.charAt(g.ch)||`
`,Ke=st($e,ye)?"w":te&&$e==`
`?"n":!te||/\s/.test($e)?null:"p";if(te&&!De&&!Ke&&(Ke="s"),$&&$!=Ke){T<0&&(T=1,j(),g.sticky="after");break}if(Ke&&($=Ke),T>0&&!j(!De))break}var pt=On(f,g,p,y,!0);return Z(p,pt)&&(pt.hitSide=!0),pt}function Dg(f,g,T,o){var u=f.doc,p=g.left,y;if(o=="page"){var w=Math.min(f.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),D=Math.max(w-.5*Iu(f.display),3);y=(T>0?g.bottom:g.top)+T*D}else o=="line"&&(y=T>0?g.bottom+3:g.top-3);for(var L;L=Ss(f,p,y),!!L.outside;){if(T<0?y<=0:y>=u.height){L.hitSide=!0;break}y+=T*5}return L}var Ri=function(f){this.cm=f,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ot,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ri.prototype.init=function(f){var g=this,T=this,o=T.cm,u=T.div=f.lineDiv;Tg(u,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize);function p(w){for(var D=w.target;D;D=D.parentNode){if(D==u)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(D.className))break}return!1}_r(u,"paste",function(w){!p(w)||hr(o,w)||Ds(w,o)||h<=11&&setTimeout(ro(o,function(){return g.updateFromDOM()}),20)}),_r(u,"compositionstart",function(w){g.composing={data:w.data,done:!1}}),_r(u,"compositionupdate",function(w){g.composing||(g.composing={data:w.data,done:!1})}),_r(u,"compositionend",function(w){g.composing&&(w.data!=g.composing.data&&g.readFromDOMSoon(),g.composing.done=!0)}),_r(u,"touchstart",function(){return T.forceCompositionEnd()}),_r(u,"input",function(){g.composing||g.readFromDOMSoon()});function y(w){if(!(!p(w)||hr(o,w))){if(o.somethingSelected())Zh({lineWise:!1,text:o.getSelections()}),w.type=="cut"&&o.replaceSelection("",null,"cut");else if(o.options.lineWiseCopyCut){var D=lm(o);Zh({lineWise:!0,text:D.text}),w.type=="cut"&&o.operation(function(){o.setSelections(D.ranges,0,Ht),o.replaceSelection("",null,"cut")})}else return;if(w.clipboardData){w.clipboardData.clearData();var L=As.text.join(`
`);if(w.clipboardData.setData("Text",L),w.clipboardData.getData("Text")==L){w.preventDefault();return}}var j=Ag(),$=j.firstChild;o.display.lineSpace.insertBefore(j,o.display.lineSpace.firstChild),$.value=As.text.join(`
`);var te=document.activeElement;je($),setTimeout(function(){o.display.lineSpace.removeChild(j),te.focus(),te==u&&T.showPrimarySelection()},50)}}_r(u,"copy",y),_r(u,"cut",y)},Ri.prototype.screenReaderLabelChanged=function(f){f?this.div.setAttribute("aria-label",f):this.div.removeAttribute("aria-label")},Ri.prototype.prepareSelection=function(){var f=Ln(this.cm,!1);return f.focus=document.activeElement==this.div,f},Ri.prototype.showSelection=function(f,g){!f||!this.cm.display.view.length||((f.focus||g)&&this.showPrimarySelection(),this.showMultipleSelections(f))},Ri.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ri.prototype.showPrimarySelection=function(){var f=this.getSelection(),g=this.cm,T=g.doc.sel.primary(),o=T.from(),u=T.to();if(g.display.viewTo==g.display.viewFrom||o.line>=g.display.viewTo||u.line<g.display.viewFrom){f.removeAllRanges();return}var p=cm(g,f.anchorNode,f.anchorOffset),y=cm(g,f.focusNode,f.focusOffset);if(!(p&&!p.bad&&y&&!y.bad&&Q(it(p,y),o)==0&&Q(Fe(p,y),u)==0)){var w=g.display.view,D=o.line>=g.display.viewFrom&&um(g,o)||{node:w[0].measure.map[2],offset:0},L=u.line<g.display.viewTo&&um(g,u);if(!L){var j=w[w.length-1].measure,$=j.maps?j.maps[j.maps.length-1]:j.map;L={node:$[$.length-1],offset:$[$.length-2]-$[$.length-3]}}if(!D||!L){f.removeAllRanges();return}var te=f.rangeCount&&f.getRangeAt(0),ye;try{ye=ae(D.node,D.offset,L.offset,L.node)}catch{}ye&&(!t&&g.state.focused?(f.collapse(D.node,D.offset),ye.collapsed||(f.removeAllRanges(),f.addRange(ye))):(f.removeAllRanges(),f.addRange(ye)),te&&f.anchorNode==null?f.addRange(te):t&&this.startGracePeriod()),this.rememberSelection()}},Ri.prototype.startGracePeriod=function(){var f=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){f.gracePeriod=!1,f.selectionChanged()&&f.cm.operation(function(){return f.cm.curOp.selectionChanged=!0})},20)},Ri.prototype.showMultipleSelections=function(f){We(this.cm.display.cursorDiv,f.cursors),We(this.cm.display.selectionDiv,f.selection)},Ri.prototype.rememberSelection=function(){var f=this.getSelection();this.lastAnchorNode=f.anchorNode,this.lastAnchorOffset=f.anchorOffset,this.lastFocusNode=f.focusNode,this.lastFocusOffset=f.focusOffset},Ri.prototype.selectionInEditor=function(){var f=this.getSelection();if(!f.rangeCount)return!1;var g=f.getRangeAt(0).commonAncestorContainer;return Ce(this.div,g)},Ri.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||document.activeElement!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ri.prototype.blur=function(){this.div.blur()},Ri.prototype.getField=function(){return this.div},Ri.prototype.supportsTouch=function(){return!0},Ri.prototype.receivedFocus=function(){var f=this;this.selectionInEditor()?this.pollSelection():bi(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function g(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,g))}this.polling.set(this.cm.options.pollInterval,g)},Ri.prototype.selectionChanged=function(){var f=this.getSelection();return f.anchorNode!=this.lastAnchorNode||f.anchorOffset!=this.lastAnchorOffset||f.focusNode!=this.lastFocusNode||f.focusOffset!=this.lastFocusOffset},Ri.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var f=this.getSelection(),g=this.cm;if(V&&E&&this.cm.display.gutterSpecs.length&&hy(f.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var T=cm(g,f.anchorNode,f.anchorOffset),o=cm(g,f.focusNode,f.focusOffset);T&&o&&bi(g,function(){nr(g.doc,To(T,o),Ht),(T.bad||o.bad)&&(g.curOp.selectionChanged=!0)})}}},Ri.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var f=this.cm,g=f.display,T=f.doc.sel.primary(),o=T.from(),u=T.to();if(o.ch==0&&o.line>f.firstLine()&&(o=Ae(o.line-1,Ne(f.doc,o.line-1).length)),u.ch==Ne(f.doc,u.line).text.length&&u.line<f.lastLine()&&(u=Ae(u.line+1,0)),o.line<g.viewFrom||u.line>g.viewTo-1)return!1;var p,y,w;o.line==g.viewFrom||(p=cu(f,o.line))==0?(y=St(g.view[0].line),w=g.view[0].node):(y=St(g.view[p].line),w=g.view[p-1].node.nextSibling);var D=cu(f,u.line),L,j;if(D==g.view.length-1?(L=g.viewTo-1,j=g.lineDiv.lastChild):(L=St(g.view[D+1].line)-1,j=g.view[D+1].node.previousSibling),!w)return!1;for(var $=f.doc.splitLines(Za(f,w,j,y,L)),te=xt(f.doc,Ae(y,0),Ae(L,Ne(f.doc,L).text.length));$.length>1&&te.length>1;)if(kt($)==kt(te))$.pop(),te.pop(),L--;else if($[0]==te[0])$.shift(),te.shift(),y++;else break;for(var ye=0,De=0,$e=$[0],Ke=te[0],pt=Math.min($e.length,Ke.length);ye<pt&&$e.charCodeAt(ye)==Ke.charCodeAt(ye);)++ye;for(var _t=kt($),At=kt(te),Nt=Math.min(_t.length-($.length==1?ye:0),At.length-(te.length==1?ye:0));De<Nt&&_t.charCodeAt(_t.length-De-1)==At.charCodeAt(At.length-De-1);)++De;if($.length==1&&te.length==1&&y==o.line)for(;ye&&ye>o.ch&&_t.charCodeAt(_t.length-De-1)==At.charCodeAt(At.length-De-1);)ye--,De++;$[$.length-1]=_t.slice(0,_t.length-De).replace(/^\u200b+/,""),$[0]=$[0].slice(ye).replace(/\u200b+$/,"");var Xt=Ae(y,ye),$t=Ae(L,te.length?kt(te).length-De:0);if($.length>1||$[0]||Q(Xt,$t))return Si(f.doc,$,Xt,$t,"+input"),!0},Ri.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ri.prototype.reset=function(){this.forceCompositionEnd()},Ri.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ri.prototype.readFromDOMSoon=function(){var f=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(f.readDOMTimeout=null,f.composing)if(f.composing.done)f.composing=null;else return;f.updateFromDOM()},80))},Ri.prototype.updateFromDOM=function(){var f=this;(this.cm.isReadOnly()||!this.pollContent())&&bi(this.cm,function(){return Mo(f.cm)})},Ri.prototype.setUneditable=function(f){f.contentEditable="false"},Ri.prototype.onKeyPress=function(f){f.charCode==0||this.composing||(f.preventDefault(),this.cm.isReadOnly()||ro(this.cm,Gc)(this.cm,String.fromCharCode(f.charCode==null?f.keyCode:f.charCode),0))},Ri.prototype.readOnlyChanged=function(f){this.div.contentEditable=String(f!="nocursor")},Ri.prototype.onContextMenu=function(){},Ri.prototype.resetPosition=function(){},Ri.prototype.needsContentAttribute=!0;function um(f,g){var T=nu(f,g.line);if(!T||T.hidden)return null;var o=Ne(f.doc,g.line),u=ws(T,o,g.line),p=vr(o,f.doc.direction),y="left";if(p){var w=at(p,g.ch);y=w%2?"right":"left"}var D=iu(u.map,g.ch,y);return D.offset=D.collapse=="right"?D.end:D.start,D}function hy(f){for(var g=f;g;g=g.parentNode)if(/CodeMirror-gutter-wrapper/.test(g.className))return!0;return!1}function ii(f,g){return g&&(f.bad=!0),f}function Za(f,g,T,o,u){var p="",y=!1,w=f.doc.lineSeparator(),D=!1;function L(ye){return function(De){return De.id==ye}}function j(){y&&(p+=w,D&&(p+=w),y=D=!1)}function $(ye){ye&&(j(),p+=ye)}function te(ye){if(ye.nodeType==1){var De=ye.getAttribute("cm-text");if(De){$(De);return}var $e=ye.getAttribute("cm-marker"),Ke;if($e){var pt=f.findMarks(Ae(o,0),Ae(u+1,0),L(+$e));pt.length&&(Ke=pt[0].find(0))&&$(xt(f.doc,Ke.from,Ke.to).join(w));return}if(ye.getAttribute("contenteditable")=="false")return;var _t=/^(pre|div|p|li|table|br)$/i.test(ye.nodeName);if(!/^br$/i.test(ye.nodeName)&&ye.textContent.length==0)return;_t&&j();for(var At=0;At<ye.childNodes.length;At++)te(ye.childNodes[At]);/^(pre|p)$/i.test(ye.nodeName)&&(D=!0),_t&&(y=!0)}else ye.nodeType==3&&$(ye.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;te(g),g!=T;)g=g.nextSibling,D=!1;return p}function cm(f,g,T){var o;if(g==f.display.lineDiv){if(o=f.display.lineDiv.childNodes[T],!o)return ii(f.clipPos(Ae(f.display.viewTo-1)),!0);g=null,T=0}else for(o=g;;o=o.parentNode){if(!o||o==f.display.lineDiv)return null;if(o.parentNode&&o.parentNode==f.display.lineDiv)break}for(var u=0;u<f.display.view.length;u++){var p=f.display.view[u];if(p.node==o)return hh(p,g,T)}}function hh(f,g,T){var o=f.text.firstChild,u=!1;if(!g||!Ce(o,g))return ii(Ae(St(f.line),0),!0);if(g==o&&(u=!0,g=o.childNodes[T],T=0,!g)){var p=f.rest?kt(f.rest):f.line;return ii(Ae(St(p),p.text.length),u)}var y=g.nodeType==3?g:null,w=g;for(!y&&g.childNodes.length==1&&g.firstChild.nodeType==3&&(y=g.firstChild,T&&(T=y.nodeValue.length));w.parentNode!=o;)w=w.parentNode;var D=f.measure,L=D.maps;function j(Ke,pt,_t){for(var At=-1;At<(L?L.length:0);At++)for(var Nt=At<0?D.map:L[At],Xt=0;Xt<Nt.length;Xt+=3){var $t=Nt[Xt+2];if($t==Ke||$t==pt){var ir=St(At<0?f.line:f.rest[At]),Mr=Nt[Xt]+_t;return(_t<0||$t!=Ke)&&(Mr=Nt[Xt+(_t?1:0)]),Ae(ir,Mr)}}}var $=j(y,w,T);if($)return ii($,u);for(var te=w.nextSibling,ye=y?y.nodeValue.length-T:0;te;te=te.nextSibling){if($=j(te,te.firstChild,0),$)return ii(Ae($.line,$.ch-ye),u);ye+=te.textContent.length}for(var De=w.previousSibling,$e=T;De;De=De.previousSibling){if($=j(De,De.firstChild,-1),$)return ii(Ae($.line,$.ch+$e),u);$e+=De.textContent.length}}var Fo=function(f){this.cm=f,this.prevInput="",this.pollingFast=!1,this.polling=new ot,this.hasSelection=!1,this.composing=null};Fo.prototype.init=function(f){var g=this,T=this,o=this.cm;this.createField(f);var u=this.textarea;f.wrapper.insertBefore(this.wrapper,f.wrapper.firstChild),N&&(u.style.width="0px"),_r(u,"input",function(){l&&h>=9&&g.hasSelection&&(g.hasSelection=null),T.poll()}),_r(u,"paste",function(y){hr(o,y)||Ds(y,o)||(o.state.pasteIncoming=+new Date,T.fastPoll())});function p(y){if(!hr(o,y)){if(o.somethingSelected())Zh({lineWise:!1,text:o.getSelections()});else if(o.options.lineWiseCopyCut){var w=lm(o);Zh({lineWise:!0,text:w.text}),y.type=="cut"?o.setSelections(w.ranges,null,Ht):(T.prevInput="",u.value=w.text.join(`
`),je(u))}else return;y.type=="cut"&&(o.state.cutIncoming=+new Date)}}_r(u,"cut",p),_r(u,"copy",p),_r(f.scroller,"paste",function(y){if(!(Ml(f,y)||hr(o,y))){if(!u.dispatchEvent){o.state.pasteIncoming=+new Date,T.focus();return}var w=new Event("paste");w.clipboardData=y.clipboardData,u.dispatchEvent(w)}}),_r(f.lineSpace,"selectstart",function(y){Ml(f,y)||mn(y)}),_r(u,"compositionstart",function(){var y=o.getCursor("from");T.composing&&T.composing.range.clear(),T.composing={start:y,range:o.markText(y,o.getCursor("to"),{className:"CodeMirror-composing"})}}),_r(u,"compositionend",function(){T.composing&&(T.poll(),T.composing.range.clear(),T.composing=null)})},Fo.prototype.createField=function(f){this.wrapper=Ag(),this.textarea=this.wrapper.firstChild},Fo.prototype.screenReaderLabelChanged=function(f){f?this.textarea.setAttribute("aria-label",f):this.textarea.removeAttribute("aria-label")},Fo.prototype.prepareSelection=function(){var f=this.cm,g=f.display,T=f.doc,o=Ln(f);if(f.options.moveInputWithCursor){var u=aa(f,T.sel.primary().head,"div"),p=g.wrapper.getBoundingClientRect(),y=g.lineDiv.getBoundingClientRect();o.teTop=Math.max(0,Math.min(g.wrapper.clientHeight-10,u.top+y.top-p.top)),o.teLeft=Math.max(0,Math.min(g.wrapper.clientWidth-10,u.left+y.left-p.left))}return o},Fo.prototype.showSelection=function(f){var g=this.cm,T=g.display;We(T.cursorDiv,f.cursors),We(T.selectionDiv,f.selection),f.teTop!=null&&(this.wrapper.style.top=f.teTop+"px",this.wrapper.style.left=f.teLeft+"px")},Fo.prototype.reset=function(f){if(!(this.contextMenuPending||this.composing)){var g=this.cm;if(g.somethingSelected()){this.prevInput="";var T=g.getSelection();this.textarea.value=T,g.state.focused&&je(this.textarea),l&&h>=9&&(this.hasSelection=T)}else f||(this.prevInput=this.textarea.value="",l&&h>=9&&(this.hasSelection=null))}},Fo.prototype.getField=function(){return this.textarea},Fo.prototype.supportsTouch=function(){return!1},Fo.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!Y||re()!=this.textarea))try{this.textarea.focus()}catch{}},Fo.prototype.blur=function(){this.textarea.blur()},Fo.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Fo.prototype.receivedFocus=function(){this.slowPoll()},Fo.prototype.slowPoll=function(){var f=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){f.poll(),f.cm.state.focused&&f.slowPoll()})},Fo.prototype.fastPoll=function(){var f=!1,g=this;g.pollingFast=!0;function T(){var o=g.poll();!o&&!f?(f=!0,g.polling.set(60,T)):(g.pollingFast=!1,g.slowPoll())}g.polling.set(20,T)},Fo.prototype.poll=function(){var f=this,g=this.cm,T=this.textarea,o=this.prevInput;if(this.contextMenuPending||!g.state.focused||In(T)&&!o&&!this.composing||g.isReadOnly()||g.options.disableInput||g.state.keySeq)return!1;var u=T.value;if(u==o&&!g.somethingSelected())return!1;if(l&&h>=9&&this.hasSelection===u||J&&/[\uf700-\uf7ff]/.test(u))return g.display.input.reset(),!1;if(g.doc.sel==g.display.selForContextMenu){var p=u.charCodeAt(0);if(p==8203&&!o&&(o="\u200B"),p==8666)return this.reset(),this.cm.execCommand("undo")}for(var y=0,w=Math.min(o.length,u.length);y<w&&o.charCodeAt(y)==u.charCodeAt(y);)++y;return bi(g,function(){Gc(g,u.slice(y),o.length-y,null,f.composing?"*compose":null),u.length>1e3||u.indexOf(`
`)>-1?T.value=f.prevInput="":f.prevInput=u,f.composing&&(f.composing.range.clear(),f.composing.range=g.markText(f.composing.start,g.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Fo.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Fo.prototype.onKeyPress=function(){l&&h>=9&&(this.hasSelection=null),this.fastPoll()},Fo.prototype.onContextMenu=function(f){var g=this,T=g.cm,o=T.display,u=g.textarea;g.contextMenuPending&&g.contextMenuPending();var p=Pl(T,f),y=o.scroller.scrollTop;if(!p||O)return;var w=T.options.resetSelectionOnContextMenu;w&&T.doc.sel.contains(p)==-1&&ro(T,nr)(T.doc,To(p),Ht);var D=u.style.cssText,L=g.wrapper.style.cssText,j=g.wrapper.offsetParent.getBoundingClientRect();g.wrapper.style.cssText="position: static",u.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(f.clientY-j.top-5)+"px; left: "+(f.clientX-j.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var $;b&&($=window.scrollY),o.input.focus(),b&&window.scrollTo(null,$),o.input.reset(),T.somethingSelected()||(u.value=g.prevInput=" "),g.contextMenuPending=ye,o.selForContextMenu=T.doc.sel,clearTimeout(o.detectingSelectAll);function te(){if(u.selectionStart!=null){var $e=T.somethingSelected(),Ke="\u200B"+($e?u.value:"");u.value="\u21DA",u.value=Ke,g.prevInput=$e?"":"\u200B",u.selectionStart=1,u.selectionEnd=Ke.length,o.selForContextMenu=T.doc.sel}}function ye(){if(g.contextMenuPending==ye&&(g.contextMenuPending=!1,g.wrapper.style.cssText=L,u.style.cssText=D,l&&h<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=y),u.selectionStart!=null)){(!l||l&&h<9)&&te();var $e=0,Ke=function(){o.selForContextMenu==T.doc.sel&&u.selectionStart==0&&u.selectionEnd>0&&g.prevInput=="\u200B"?ro(T,an)(T):$e++<10?o.detectingSelectAll=setTimeout(Ke,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(Ke,200)}}if(l&&h>=9&&te(),de){Xe(f);var De=function(){gt(window,"mouseup",De),setTimeout(ye,20)};_r(window,"mouseup",De)}else setTimeout(ye,50)},Fo.prototype.readOnlyChanged=function(f){f||this.reset(),this.textarea.disabled=f=="nocursor",this.textarea.readOnly=!!f},Fo.prototype.setUneditable=function(){},Fo.prototype.needsContentAttribute=!1;function fm(f,g){if(g=g?W(g):{},g.value=f.value,!g.tabindex&&f.tabIndex&&(g.tabindex=f.tabIndex),!g.placeholder&&f.placeholder&&(g.placeholder=f.placeholder),g.autofocus==null){var T=re();g.autofocus=T==f||f.getAttribute("autofocus")!=null&&T==document.body}function o(){f.value=w.getValue()}var u;if(f.form&&(_r(f.form,"submit",o),!g.leaveSubmitMethodAlone)){var p=f.form;u=p.submit;try{var y=p.submit=function(){o(),p.submit=u,p.submit(),p.submit=y}}catch{}}g.finishInit=function(D){D.save=o,D.getTextArea=function(){return f},D.toTextArea=function(){D.toTextArea=isNaN,o(),f.parentNode.removeChild(D.getWrapperElement()),f.style.display="",f.form&&(gt(f.form,"submit",o),!g.leaveSubmitMethodAlone&&typeof f.form.submit=="function"&&(f.form.submit=u))}},f.style.display="none";var w=uo(function(D){return f.parentNode.insertBefore(D,f.nextSibling)},g);return w}function dy(f){f.off=gt,f.on=_r,f.wheelEventPixels=Ru,f.Doc=ni,f.splitLines=xn,f.countColumn=Ze,f.findColumn=or,f.isWordChar=Yt,f.Pass=Tt,f.signal=Dt,f.Line=Io,f.changeEnd=wn,f.scrollbarModel=la,f.Pos=Ae,f.cmpPos=Q,f.modes=$n,f.mimeModes=Xi,f.resolveMode=ve,f.getMode=Ee,f.modeExtensions=Oe,f.extendMode=Be,f.copyState=Ye,f.startState=ut,f.innerMode=ht,f.commands=bl,f.keyMap=Zs,f.keyName=ah,f.isModifierKey=wg,f.lookupKey=yl,f.normalizeKeyMap=_a,f.StringStream=Ie,f.SharedTextMarker=Ks,f.TextMarker=Gs,f.LineWidget=Ka,f.e_preventDefault=mn,f.e_stopPropagation=ai,f.e_stop=Xe,f.addClass=ie,f.contains=Ce,f.rmClass=be,f.keyNames=vl}zu(uo),Xh(uo);var Yo="iter insert remove copy getEditor constructor".split(" ");for(var hm in ni.prototype)ni.prototype.hasOwnProperty(hm)&&et(Yo,hm)<0&&(uo.prototype[hm]=function(f){return function(){return f.apply(this.doc,arguments)}}(ni.prototype[hm]));return Gr(ni),uo.inputStyles={textarea:Fo,contenteditable:Ri},uo.defineMode=function(f){!uo.defaults.mode&&f!="null"&&(uo.defaults.mode=f),ea.apply(this,arguments)},uo.defineMIME=zn,uo.defineMode("null",function(){return{token:function(f){return f.skipToEnd()}}}),uo.defineMIME("text/plain","null"),uo.defineExtension=function(f,g){uo.prototype[f]=g},uo.defineDocExtension=function(f,g){ni.prototype[f]=g},uo.fromTextArea=fm,dy(uo),uo.version="5.59.1",uo})});var S0=fe((Jle,Qle)=>{(function(r){typeof Jle=="object"&&typeof Qle=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("css",function(he,be){var xe=be.inline;be.propertyKeywords||(be=r.resolveMode("text/css"));var We=he.indentUnit,R=be.tokenHooks,G=be.documentTypes||{},ae=be.mediaTypes||{},Ce=be.mediaFeatures||{},re=be.mediaValueKeywords||{},ie=be.propertyKeywords||{},pe=be.nonStandardPropertyKeywords||{},je=be.fontProperties||{},K=be.counterDescriptors||{},W=be.colorKeywords||{},Ze=be.valueKeywords||{},ot=be.allowNested,et=be.lineComment,Pt=be.supportsAtComponent===!0,Tt=he.highlightNonStandardPropertyKeywords!==!1,Ht,Lt;function tr(st,It){return Ht=It,st}function or(st,It){var Ct=st.next();if(R[Ct]){var ur=R[Ct](st,It);if(ur!==!1)return ur}if(Ct=="@")return st.eatWhile(/[\w\\\-]/),tr("def",st.current());if(Ct=="="||(Ct=="~"||Ct=="|")&&st.eat("="))return tr(null,"compare");if(Ct=='"'||Ct=="'")return It.tokenize=br(Ct),It.tokenize(st,It);if(Ct=="#")return st.eatWhile(/[\w\\\-]/),tr("atom","hash");if(Ct=="!")return st.match(/^\s*\w*/),tr("keyword","important");if(/\d/.test(Ct)||Ct=="."&&st.eat(/\d/))return st.eatWhile(/[\w.%]/),tr("number","unit");if(Ct==="-"){if(/[\d.]/.test(st.peek()))return st.eatWhile(/[\w.%]/),tr("number","unit");if(st.match(/^-[\w\\\-]*/))return st.eatWhile(/[\w\\\-]/),st.match(/^\s*:/,!1)?tr("variable-2","variable-definition"):tr("variable-2","variable");if(st.match(/^\w+-/))return tr("meta","meta")}else return/[,+>*\/]/.test(Ct)?tr(null,"select-op"):Ct=="."&&st.match(/^-?[_a-z][_a-z0-9-]*/i)?tr("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Ct)?tr(null,Ct):st.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(st.current().toLowerCase())&&(It.tokenize=Kt),tr("variable callee","variable")):/[\w\\\-]/.test(Ct)?(st.eatWhile(/[\w\\\-]/),tr("property","word")):tr(null,null)}function br(st){return function(It,Ct){for(var ur=!1,sr;(sr=It.next())!=null;){if(sr==st&&!ur){st==")"&&It.backUp(1);break}ur=!ur&&sr=="\\"}return(sr==st||!ur&&st!=")")&&(Ct.tokenize=null),tr("string","string")}}function Kt(st,It){return st.next(),st.match(/\s*[\"\')]/,!1)?It.tokenize=null:It.tokenize=br(")"),tr(null,"(")}function kt(st,It,Ct){this.type=st,this.indent=It,this.prev=Ct}function yt(st,It,Ct,ur){return st.context=new kt(Ct,It.indentation()+(ur===!1?0:We),st.context),Ct}function rt(st){return st.context.prev&&(st.context=st.context.prev),st.context.type}function oe(st,It,Ct){return Yt[Ct.context.type](st,It,Ct)}function ke(st,It,Ct,ur){for(var sr=ur||1;sr>0;sr--)Ct.context=Ct.context.prev;return oe(st,It,Ct)}function qe(st){var It=st.current().toLowerCase();Ze.hasOwnProperty(It)?Lt="atom":W.hasOwnProperty(It)?Lt="keyword":Lt="variable"}var Yt={};return Yt.top=function(st,It,Ct){if(st=="{")return yt(Ct,It,"block");if(st=="}"&&Ct.context.prev)return rt(Ct);if(Pt&&/@component/i.test(st))return yt(Ct,It,"atComponentBlock");if(/^@(-moz-)?document$/i.test(st))return yt(Ct,It,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(st))return yt(Ct,It,"atBlock");if(/^@(font-face|counter-style)/i.test(st))return Ct.stateArg=st,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(st))return"keyframes";if(st&&st.charAt(0)=="@")return yt(Ct,It,"at");if(st=="hash")Lt="builtin";else if(st=="word")Lt="tag";else{if(st=="variable-definition")return"maybeprop";if(st=="interpolation")return yt(Ct,It,"interpolation");if(st==":")return"pseudo";if(ot&&st=="(")return yt(Ct,It,"parens")}return Ct.context.type},Yt.block=function(st,It,Ct){if(st=="word"){var ur=It.current().toLowerCase();return ie.hasOwnProperty(ur)?(Lt="property","maybeprop"):pe.hasOwnProperty(ur)?(Lt=Tt?"string-2":"property","maybeprop"):ot?(Lt=It.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Lt+=" error","maybeprop")}else return st=="meta"?"block":!ot&&(st=="hash"||st=="qualifier")?(Lt="error","block"):Yt.top(st,It,Ct)},Yt.maybeprop=function(st,It,Ct){return st==":"?yt(Ct,It,"prop"):oe(st,It,Ct)},Yt.prop=function(st,It,Ct){if(st==";")return rt(Ct);if(st=="{"&&ot)return yt(Ct,It,"propBlock");if(st=="}"||st=="{")return ke(st,It,Ct);if(st=="(")return yt(Ct,It,"parens");if(st=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(It.current()))Lt+=" error";else if(st=="word")qe(It);else if(st=="interpolation")return yt(Ct,It,"interpolation");return"prop"},Yt.propBlock=function(st,It,Ct){return st=="}"?rt(Ct):st=="word"?(Lt="property","maybeprop"):Ct.context.type},Yt.parens=function(st,It,Ct){return st=="{"||st=="}"?ke(st,It,Ct):st==")"?rt(Ct):st=="("?yt(Ct,It,"parens"):st=="interpolation"?yt(Ct,It,"interpolation"):(st=="word"&&qe(It),"parens")},Yt.pseudo=function(st,It,Ct){return st=="meta"?"pseudo":st=="word"?(Lt="variable-3",Ct.context.type):oe(st,It,Ct)},Yt.documentTypes=function(st,It,Ct){return st=="word"&&G.hasOwnProperty(It.current())?(Lt="tag",Ct.context.type):Yt.atBlock(st,It,Ct)},Yt.atBlock=function(st,It,Ct){if(st=="(")return yt(Ct,It,"atBlock_parens");if(st=="}"||st==";")return ke(st,It,Ct);if(st=="{")return rt(Ct)&&yt(Ct,It,ot?"block":"top");if(st=="interpolation")return yt(Ct,It,"interpolation");if(st=="word"){var ur=It.current().toLowerCase();ur=="only"||ur=="not"||ur=="and"||ur=="or"?Lt="keyword":ae.hasOwnProperty(ur)?Lt="attribute":Ce.hasOwnProperty(ur)?Lt="property":re.hasOwnProperty(ur)?Lt="keyword":ie.hasOwnProperty(ur)?Lt="property":pe.hasOwnProperty(ur)?Lt=Tt?"string-2":"property":Ze.hasOwnProperty(ur)?Lt="atom":W.hasOwnProperty(ur)?Lt="keyword":Lt="error"}return Ct.context.type},Yt.atComponentBlock=function(st,It,Ct){return st=="}"?ke(st,It,Ct):st=="{"?rt(Ct)&&yt(Ct,It,ot?"block":"top",!1):(st=="word"&&(Lt="error"),Ct.context.type)},Yt.atBlock_parens=function(st,It,Ct){return st==")"?rt(Ct):st=="{"||st=="}"?ke(st,It,Ct,2):Yt.atBlock(st,It,Ct)},Yt.restricted_atBlock_before=function(st,It,Ct){return st=="{"?yt(Ct,It,"restricted_atBlock"):st=="word"&&Ct.stateArg=="@counter-style"?(Lt="variable","restricted_atBlock_before"):oe(st,It,Ct)},Yt.restricted_atBlock=function(st,It,Ct){return st=="}"?(Ct.stateArg=null,rt(Ct)):st=="word"?(Ct.stateArg=="@font-face"&&!je.hasOwnProperty(It.current().toLowerCase())||Ct.stateArg=="@counter-style"&&!K.hasOwnProperty(It.current().toLowerCase())?Lt="error":Lt="property","maybeprop"):"restricted_atBlock"},Yt.keyframes=function(st,It,Ct){return st=="word"?(Lt="variable","keyframes"):st=="{"?yt(Ct,It,"top"):oe(st,It,Ct)},Yt.at=function(st,It,Ct){return st==";"?rt(Ct):st=="{"||st=="}"?ke(st,It,Ct):(st=="word"?Lt="tag":st=="hash"&&(Lt="builtin"),"at")},Yt.interpolation=function(st,It,Ct){return st=="}"?rt(Ct):st=="{"||st==";"?ke(st,It,Ct):(st=="word"?Lt="variable":st!="variable"&&st!="("&&st!=")"&&(Lt="error"),"interpolation")},{startState:function(st){return{tokenize:null,state:xe?"block":"top",stateArg:null,context:new kt(xe?"block":"top",st||0,null)}},token:function(st,It){if(!It.tokenize&&st.eatSpace())return null;var Ct=(It.tokenize||or)(st,It);return Ct&&typeof Ct=="object"&&(Ht=Ct[1],Ct=Ct[0]),Lt=Ct,Ht!="comment"&&(It.state=Yt[It.state](Ht,st,It)),Lt},indent:function(st,It){var Ct=st.context,ur=It&&It.charAt(0),sr=Ct.indent;return Ct.type=="prop"&&(ur=="}"||ur==")")&&(Ct=Ct.prev),Ct.prev&&(ur=="}"&&(Ct.type=="block"||Ct.type=="top"||Ct.type=="interpolation"||Ct.type=="restricted_atBlock")?(Ct=Ct.prev,sr=Ct.indent):(ur==")"&&(Ct.type=="parens"||Ct.type=="atBlock_parens")||ur=="{"&&(Ct.type=="at"||Ct.type=="atBlock"))&&(sr=Math.max(0,Ct.indent-We))),sr},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:et,fold:"brace"}});function e(he){for(var be={},xe=0;xe<he.length;++xe)be[he[xe].toLowerCase()]=!0;return be}var t=["domain","regexp","url","url-prefix"],n=e(t),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=e(i),l=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],h=e(l),b=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],S=e(b),E=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],O=e(E),P=["border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],q=e(P),z=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],N=e(z),V=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],Y=e(V),J=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],se=e(J),_=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],me=e(_),ne=t.concat(i).concat(l).concat(b).concat(E).concat(P).concat(J).concat(_);r.registerHelper("hintWords","css",ne);function de(he,be){for(var xe=!1,We;(We=he.next())!=null;){if(xe&&We=="/"){be.tokenize=null;break}xe=We=="*"}return["comment","comment"]}r.defineMIME("text/css",{documentTypes:n,mediaTypes:a,mediaFeatures:h,mediaValueKeywords:S,propertyKeywords:O,nonStandardPropertyKeywords:q,fontProperties:N,counterDescriptors:Y,colorKeywords:se,valueKeywords:me,tokenHooks:{"/":function(he,be){return he.eat("*")?(be.tokenize=de,de(he,be)):!1}},name:"css"}),r.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:h,mediaValueKeywords:S,propertyKeywords:O,nonStandardPropertyKeywords:q,colorKeywords:se,valueKeywords:me,fontProperties:N,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(he,be){return he.eat("/")?(he.skipToEnd(),["comment","comment"]):he.eat("*")?(be.tokenize=de,de(he,be)):["operator","operator"]},":":function(he){return he.match(/\s*\{/,!1)?[null,null]:!1},$:function(he){return he.match(/^[\w-]+/),he.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(he){return he.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),r.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:h,mediaValueKeywords:S,propertyKeywords:O,nonStandardPropertyKeywords:q,colorKeywords:se,valueKeywords:me,fontProperties:N,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(he,be){return he.eat("/")?(he.skipToEnd(),["comment","comment"]):he.eat("*")?(be.tokenize=de,de(he,be)):["operator","operator"]},"@":function(he){return he.eat("{")?[null,"interpolation"]:he.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(he.eatWhile(/[\w\\\-]/),he.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),r.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:a,mediaFeatures:h,propertyKeywords:O,nonStandardPropertyKeywords:q,fontProperties:N,counterDescriptors:Y,colorKeywords:se,valueKeywords:me,supportsAtComponent:!0,tokenHooks:{"/":function(he,be){return he.eat("*")?(be.tokenize=de,de(he,be)):!1}},name:"css",helperType:"gss"})})});var O3=fe((eue,tue)=>{(function(r){typeof eue=="object"&&typeof tue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineSimpleMode=function(E,O){r.defineMode(E,function(P){return r.simpleMode(P,O)})},r.simpleMode=function(E,O){e(O,"start");var P={},q=O.meta||{},z=!1;for(var N in O)if(N!=q&&O.hasOwnProperty(N))for(var V=P[N]=[],Y=O[N],J=0;J<Y.length;J++){var se=Y[J];V.push(new i(se,O)),(se.indent||se.dedent)&&(z=!0)}var _={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:z?[]:null}},copyState:function(ne){var de={state:ne.state,pending:ne.pending,local:ne.local,localState:null,indent:ne.indent&&ne.indent.slice(0)};ne.localState&&(de.localState=r.copyState(ne.local.mode,ne.localState)),ne.stack&&(de.stack=ne.stack.slice(0));for(var he=ne.persistentStates;he;he=he.next)de.persistentStates={mode:he.mode,spec:he.spec,state:he.state==ne.localState?de.localState:r.copyState(he.mode,he.state),next:de.persistentStates};return de},token:a(P,E),innerMode:function(ne){return ne.local&&{mode:ne.local.mode,state:ne.localState}},indent:S(P,q)};if(q)for(var me in q)q.hasOwnProperty(me)&&(_[me]=q[me]);return _};function e(E,O){if(!E.hasOwnProperty(O))throw new Error("Undefined state "+O+" in simple mode")}function t(E,O){if(!E)return/(?:)/;var P="";return E instanceof RegExp?(E.ignoreCase&&(P="i"),E=E.source):E=String(E),new RegExp((O===!1?"":"^")+"(?:"+E+")",P)}function n(E){if(!E)return null;if(E.apply)return E;if(typeof E=="string")return E.replace(/\./g," ");for(var O=[],P=0;P<E.length;P++)O.push(E[P]&&E[P].replace(/\./g," "));return O}function i(E,O){(E.next||E.push)&&e(O,E.next||E.push),this.regex=t(E.regex),this.token=n(E.token),this.data=E}function a(E,O){return function(P,q){if(q.pending){var z=q.pending.shift();return q.pending.length==0&&(q.pending=null),P.pos+=z.text.length,z.token}if(q.local)if(q.local.end&&P.match(q.local.end)){var N=q.local.endToken||null;return q.local=q.localState=null,N}else{var N=q.local.mode.token(P,q.localState),V;return q.local.endScan&&(V=q.local.endScan.exec(P.current()))&&(P.pos=P.start+V.index),N}for(var Y=E[q.state],J=0;J<Y.length;J++){var se=Y[J],_=(!se.data.sol||P.sol())&&P.match(se.regex);if(_){se.data.next?q.state=se.data.next:se.data.push?((q.stack||(q.stack=[])).push(q.state),q.state=se.data.push):se.data.pop&&q.stack&&q.stack.length&&(q.state=q.stack.pop()),se.data.mode&&h(O,q,se.data.mode,se.token),se.data.indent&&q.indent.push(P.indentation()+O.indentUnit),se.data.dedent&&q.indent.pop();var me=se.token;if(me&&me.apply&&(me=me(_)),_.length>2&&se.token&&typeof se.token!="string"){q.pending=[];for(var ne=2;ne<_.length;ne++)_[ne]&&q.pending.push({text:_[ne],token:se.token[ne-1]});return P.backUp(_[0].length-(_[1]?_[1].length:0)),me[0]}else return me&&me.join?me[0]:me}}return P.next(),null}}function l(E,O){if(E===O)return!0;if(!E||typeof E!="object"||!O||typeof O!="object")return!1;var P=0;for(var q in E)if(E.hasOwnProperty(q)){if(!O.hasOwnProperty(q)||!l(E[q],O[q]))return!1;P++}for(var q in O)O.hasOwnProperty(q)&&P--;return P==0}function h(E,O,P,q){var z;if(P.persistent)for(var N=O.persistentStates;N&&!z;N=N.next)(P.spec?l(P.spec,N.spec):P.mode==N.mode)&&(z=N);var V=z?z.mode:P.mode||r.getMode(E,P.spec),Y=z?z.state:r.startState(V);P.persistent&&!z&&(O.persistentStates={mode:V,spec:P.spec,state:Y,next:O.persistentStates}),O.localState=Y,O.local={mode:V,end:P.end&&t(P.end),endScan:P.end&&P.forceEnd!==!1&&t(P.end,!1),endToken:q&&q.join?q[q.length-1]:q}}function b(E,O){for(var P=0;P<O.length;P++)if(O[P]===E)return!0}function S(E,O){return function(P,q,z){if(P.local&&P.local.mode.indent)return P.local.mode.indent(P.localState,q,z);if(P.indent==null||P.local||O.dontIndentStates&&b(P.state,O.dontIndentStates)>-1)return r.Pass;var N=P.indent.length-1,V=E[P.state];e:for(;;){for(var Y=0;Y<V.length;Y++){var J=V[Y];if(J.data.dedent&&J.data.dedentIfLineStart!==!1){var se=J.regex.exec(q);if(se&&se[0]){N--,(J.next||J.push)&&(V=E[J.next||J.push]),q=q.slice(se[0].length);continue e}}}break}return N<0?0:P.indent[N]}}})});var iue=fe((rue,nue)=>{(function(r){typeof rue=="object"&&typeof nue=="object"?r(ya(),O3()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],r):r(CodeMirror)})(function(r){"use strict";var e="from",t=new RegExp("^(\\s*)\\b("+e+")\\b","i"),n=["run","cmd","entrypoint","shell"],i=new RegExp("^(\\s*)("+n.join("|")+")(\\s+\\[)","i"),a="expose",l=new RegExp("^(\\s*)("+a+")(\\s+)","i"),h=["arg","from","maintainer","label","env","add","copy","volume","user","workdir","onbuild","stopsignal","healthcheck","shell"],b=[e,a].concat(n).concat(h),S="("+b.join("|")+")",E=new RegExp("^(\\s*)"+S+"(\\s*)(#.*)?$","i"),O=new RegExp("^(\\s*)"+S+"(\\s+)","i");r.defineSimpleMode("dockerfile",{start:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:t,token:[null,"keyword"],sol:!0,next:"from"},{regex:E,token:[null,"keyword",null,"error"],sol:!0},{regex:i,token:[null,"keyword",null],sol:!0,next:"array"},{regex:l,token:[null,"keyword",null],sol:!0,next:"expose"},{regex:O,token:[null,"keyword",null],sol:!0,next:"arguments"},{regex:/./,token:null}],from:[{regex:/\s*$/,token:null,next:"start"},{regex:/(\s*)(#.*)$/,token:[null,"error"],next:"start"},{regex:/(\s*\S+\s+)(as)/i,token:[null,"keyword"],next:"start"},{token:null,next:"start"}],single:[{regex:/(?:[^\\']|\\.)/,token:"string"},{regex:/'/,token:"string",pop:!0}],double:[{regex:/(?:[^\\"]|\\.)/,token:"string"},{regex:/"/,token:"string",pop:!0}],array:[{regex:/\]/,token:null,next:"start"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"}],expose:[{regex:/\d+$/,token:"number",next:"start"},{regex:/[^\d]+$/,token:null,next:"start"},{regex:/\d+/,token:"number"},{regex:/[^\d]+/,token:null},{token:null,next:"start"}],arguments:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:/"(?:[^\\"]|\\.)*"?$/,token:"string",next:"start"},{regex:/"/,token:"string",push:"double"},{regex:/'(?:[^\\']|\\.)*'?$/,token:"string",next:"start"},{regex:/'/,token:"string",push:"single"},{regex:/[^#"']+[\\`]$/,token:null},{regex:/[^#"']+$/,token:null,next:"start"},{regex:/[^#"']+/,token:null},{token:null,next:"start"}],meta:{lineComment:"#"}}),r.defineMIME("text/x-dockerfile","dockerfile")})});var ww=fe((oue,aue)=>{(function(r){typeof oue=="object"&&typeof aue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},t={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(n,i){var a=n.indentUnit,l={},h=i.htmlMode?e:t;for(var b in h)l[b]=h[b];for(var b in i)l[b]=i[b];var S,E;function O(R,G){function ae(ie){return G.tokenize=ie,ie(R,G)}var Ce=R.next();if(Ce=="<")return R.eat("!")?R.eat("[")?R.match("CDATA[")?ae(z("atom","]]>")):null:R.match("--")?ae(z("comment","-->")):R.match("DOCTYPE",!0,!0)?(R.eatWhile(/[\w\._\-]/),ae(N(1))):null:R.eat("?")?(R.eatWhile(/[\w\._\-]/),G.tokenize=z("meta","?>"),"meta"):(S=R.eat("/")?"closeTag":"openTag",G.tokenize=P,"tag bracket");if(Ce=="&"){var re;return R.eat("#")?R.eat("x")?re=R.eatWhile(/[a-fA-F\d]/)&&R.eat(";"):re=R.eatWhile(/[\d]/)&&R.eat(";"):re=R.eatWhile(/[\w\.\-:]/)&&R.eat(";"),re?"atom":"error"}else return R.eatWhile(/[^&<]/),null}O.isInText=!0;function P(R,G){var ae=R.next();if(ae==">"||ae=="/"&&R.eat(">"))return G.tokenize=O,S=ae==">"?"endTag":"selfcloseTag","tag bracket";if(ae=="=")return S="equals",null;if(ae=="<"){G.tokenize=O,G.state=se,G.tagName=G.tagStart=null;var Ce=G.tokenize(R,G);return Ce?Ce+" tag error":"tag error"}else return/[\'\"]/.test(ae)?(G.tokenize=q(ae),G.stringStartCol=R.column(),G.tokenize(R,G)):(R.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function q(R){var G=function(ae,Ce){for(;!ae.eol();)if(ae.next()==R){Ce.tokenize=P;break}return"string"};return G.isInAttribute=!0,G}function z(R,G){return function(ae,Ce){for(;!ae.eol();){if(ae.match(G)){Ce.tokenize=O;break}ae.next()}return R}}function N(R){return function(G,ae){for(var Ce;(Ce=G.next())!=null;){if(Ce=="<")return ae.tokenize=N(R+1),ae.tokenize(G,ae);if(Ce==">")if(R==1){ae.tokenize=O;break}else return ae.tokenize=N(R-1),ae.tokenize(G,ae)}return"meta"}}function V(R,G,ae){this.prev=R.context,this.tagName=G||"",this.indent=R.indented,this.startOfLine=ae,(l.doNotIndent.hasOwnProperty(G)||R.context&&R.context.noIndent)&&(this.noIndent=!0)}function Y(R){R.context&&(R.context=R.context.prev)}function J(R,G){for(var ae;;){if(!R.context||(ae=R.context.tagName,!l.contextGrabbers.hasOwnProperty(ae)||!l.contextGrabbers[ae].hasOwnProperty(G)))return;Y(R)}}function se(R,G,ae){return R=="openTag"?(ae.tagStart=G.column(),_):R=="closeTag"?me:se}function _(R,G,ae){return R=="word"?(ae.tagName=G.current(),E="tag",he):l.allowMissingTagName&&R=="endTag"?(E="tag bracket",he(R,G,ae)):(E="error",_)}function me(R,G,ae){if(R=="word"){var Ce=G.current();return ae.context&&ae.context.tagName!=Ce&&l.implicitlyClosed.hasOwnProperty(ae.context.tagName)&&Y(ae),ae.context&&ae.context.tagName==Ce||l.matchClosing===!1?(E="tag",ne):(E="tag error",de)}else return l.allowMissingTagName&&R=="endTag"?(E="tag bracket",ne(R,G,ae)):(E="error",de)}function ne(R,G,ae){return R!="endTag"?(E="error",ne):(Y(ae),se)}function de(R,G,ae){return E="error",ne(R,G,ae)}function he(R,G,ae){if(R=="word")return E="attribute",be;if(R=="endTag"||R=="selfcloseTag"){var Ce=ae.tagName,re=ae.tagStart;return ae.tagName=ae.tagStart=null,R=="selfcloseTag"||l.autoSelfClosers.hasOwnProperty(Ce)?J(ae,Ce):(J(ae,Ce),ae.context=new V(ae,Ce,re==ae.indented)),se}return E="error",he}function be(R,G,ae){return R=="equals"?xe:(l.allowMissing||(E="error"),he(R,G,ae))}function xe(R,G,ae){return R=="string"?We:R=="word"&&l.allowUnquoted?(E="string",he):(E="error",he(R,G,ae))}function We(R,G,ae){return R=="string"?We:he(R,G,ae)}return{startState:function(R){var G={tokenize:O,state:se,indented:R||0,tagName:null,tagStart:null,context:null};return R!=null&&(G.baseIndent=R),G},token:function(R,G){if(!G.tagName&&R.sol()&&(G.indented=R.indentation()),R.eatSpace())return null;S=null;var ae=G.tokenize(R,G);return(ae||S)&&ae!="comment"&&(E=null,G.state=G.state(S||ae,R,G),E&&(ae=E=="error"?ae+" error":E)),ae},indent:function(R,G,ae){var Ce=R.context;if(R.tokenize.isInAttribute)return R.tagStart==R.indented?R.stringStartCol+1:R.indented+a;if(Ce&&Ce.noIndent)return r.Pass;if(R.tokenize!=P&&R.tokenize!=O)return ae?ae.match(/^(\s*)/)[0].length:0;if(R.tagName)return l.multilineTagIndentPastTag!==!1?R.tagStart+R.tagName.length+2:R.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(G))return 0;var re=G&&/^<(\/)?([\w_:\.-]*)/.exec(G);if(re&&re[1])for(;Ce;)if(Ce.tagName==re[2]){Ce=Ce.prev;break}else if(l.implicitlyClosed.hasOwnProperty(Ce.tagName))Ce=Ce.prev;else break;else if(re)for(;Ce;){var ie=l.contextGrabbers[Ce.tagName];if(ie&&ie.hasOwnProperty(re[2]))Ce=Ce.prev;else break}for(;Ce&&Ce.prev&&!Ce.startOfLine;)Ce=Ce.prev;return Ce?Ce.indent+a:R.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(R){R.state==xe&&(R.state=he)},xmlCurrentTag:function(R){return R.tagName?{name:R.tagName,close:R.type=="closeTag"}:null},xmlCurrentContext:function(R){for(var G=[],ae=R.context;ae;ae=ae.prev)G.push(ae.tagName);return G.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})});var Sw=fe((sue,lue)=>{(function(r){typeof sue=="object"&&typeof lue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("javascript",function(e,t){var n=e.indentUnit,i=t.statementIndent,a=t.jsonld,l=t.json||a,h=t.typescript,b=t.wordCharacters||/[\w$\xa1-\uffff]/,S=function(){function we(it){return{type:it,style:"keyword"}}var Pe=we("keyword a"),Ae=we("keyword b"),Q=we("keyword c"),Z=we("keyword d"),ue=we("operator"),Fe={type:"atom",style:"atom"};return{if:we("if"),while:Pe,with:Pe,else:Ae,do:Ae,try:Ae,finally:Ae,return:Z,break:Z,continue:Z,new:we("new"),delete:Q,void:Q,throw:Q,debugger:we("debugger"),var:we("var"),const:we("var"),let:we("var"),function:we("function"),catch:we("catch"),for:we("for"),switch:we("switch"),case:we("case"),default:we("default"),in:ue,typeof:ue,instanceof:ue,true:Fe,false:Fe,null:Fe,undefined:Fe,NaN:Fe,Infinity:Fe,this:we("this"),class:we("class"),super:we("atom"),yield:Q,export:we("export"),import:we("import"),extends:Q,await:Q}}(),E=/[+\-*&%=<>!?|~^@]/,O=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function P(we){for(var Pe=!1,Ae,Q=!1;(Ae=we.next())!=null;){if(!Pe){if(Ae=="/"&&!Q)return;Ae=="["?Q=!0:Q&&Ae=="]"&&(Q=!1)}Pe=!Pe&&Ae=="\\"}}var q,z;function N(we,Pe,Ae){return q=we,z=Ae,Pe}function V(we,Pe){var Ae=we.next();if(Ae=='"'||Ae=="'")return Pe.tokenize=Y(Ae),Pe.tokenize(we,Pe);if(Ae=="."&&we.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return N("number","number");if(Ae=="."&&we.match(".."))return N("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ae))return N(Ae);if(Ae=="="&&we.eat(">"))return N("=>","operator");if(Ae=="0"&&we.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return N("number","number");if(/\d/.test(Ae))return we.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),N("number","number");if(Ae=="/")return we.eat("*")?(Pe.tokenize=J,J(we,Pe)):we.eat("/")?(we.skipToEnd(),N("comment","comment")):Qt(we,Pe,1)?(P(we),we.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),N("regexp","string-2")):(we.eat("="),N("operator","operator",we.current()));if(Ae=="`")return Pe.tokenize=se,se(we,Pe);if(Ae=="#"&&we.peek()=="!")return we.skipToEnd(),N("meta","meta");if(Ae=="#"&&we.eatWhile(b))return N("variable","property");if(Ae=="<"&&we.match("!--")||Ae=="-"&&we.match("->")&&!/\S/.test(we.string.slice(0,we.start)))return we.skipToEnd(),N("comment","comment");if(E.test(Ae))return(Ae!=">"||!Pe.lexical||Pe.lexical.type!=">")&&(we.eat("=")?(Ae=="!"||Ae=="=")&&we.eat("="):/[<>*+\-|&?]/.test(Ae)&&(we.eat(Ae),Ae==">"&&we.eat(Ae))),Ae=="?"&&we.eat(".")?N("."):N("operator","operator",we.current());if(b.test(Ae)){we.eatWhile(b);var Q=we.current();if(Pe.lastType!="."){if(S.propertyIsEnumerable(Q)){var Z=S[Q];return N(Z.type,Z.style,Q)}if(Q=="async"&&we.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return N("async","keyword",Q)}return N("variable","variable",Q)}}function Y(we){return function(Pe,Ae){var Q=!1,Z;if(a&&Pe.peek()=="@"&&Pe.match(O))return Ae.tokenize=V,N("jsonld-keyword","meta");for(;(Z=Pe.next())!=null&&!(Z==we&&!Q);)Q=!Q&&Z=="\\";return Q||(Ae.tokenize=V),N("string","string")}}function J(we,Pe){for(var Ae=!1,Q;Q=we.next();){if(Q=="/"&&Ae){Pe.tokenize=V;break}Ae=Q=="*"}return N("comment","comment")}function se(we,Pe){for(var Ae=!1,Q;(Q=we.next())!=null;){if(!Ae&&(Q=="`"||Q=="$"&&we.eat("{"))){Pe.tokenize=V;break}Ae=!Ae&&Q=="\\"}return N("quasi","string-2",we.current())}var _="([{}])";function me(we,Pe){Pe.fatArrowAt&&(Pe.fatArrowAt=null);var Ae=we.string.indexOf("=>",we.start);if(!(Ae<0)){if(h){var Q=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(we.string.slice(we.start,Ae));Q&&(Ae=Q.index)}for(var Z=0,ue=!1,Fe=Ae-1;Fe>=0;--Fe){var it=we.string.charAt(Fe),Mt=_.indexOf(it);if(Mt>=0&&Mt<3){if(!Z){++Fe;break}if(--Z==0){it=="("&&(ue=!0);break}}else if(Mt>=3&&Mt<6)++Z;else if(b.test(it))ue=!0;else if(/["'\/`]/.test(it))for(;;--Fe){if(Fe==0)return;var Wt=we.string.charAt(Fe-1);if(Wt==it&&we.string.charAt(Fe-2)!="\\"){Fe--;break}}else if(ue&&!Z){++Fe;break}}ue&&!Z&&(Pe.fatArrowAt=Fe)}}var ne={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function de(we,Pe,Ae,Q,Z,ue){this.indented=we,this.column=Pe,this.type=Ae,this.prev=Z,this.info=ue,Q!=null&&(this.align=Q)}function he(we,Pe){for(var Ae=we.localVars;Ae;Ae=Ae.next)if(Ae.name==Pe)return!0;for(var Q=we.context;Q;Q=Q.prev)for(var Ae=Q.vars;Ae;Ae=Ae.next)if(Ae.name==Pe)return!0}function be(we,Pe,Ae,Q,Z){var ue=we.cc;for(xe.state=we,xe.stream=Z,xe.marked=null,xe.cc=ue,xe.style=Pe,we.lexical.hasOwnProperty("align")||(we.lexical.align=!0);;){var Fe=ue.length?ue.pop():l?Lt:Tt;if(Fe(Ae,Q)){for(;ue.length&&ue[ue.length-1].lex;)ue.pop()();return xe.marked?xe.marked:Ae=="variable"&&he(we,Q)?"variable-2":Pe}}}var xe={state:null,column:null,marked:null,cc:null};function We(){for(var we=arguments.length-1;we>=0;we--)xe.cc.push(arguments[we])}function R(){return We.apply(null,arguments),!0}function G(we,Pe){for(var Ae=Pe;Ae;Ae=Ae.next)if(Ae.name==we)return!0;return!1}function ae(we){var Pe=xe.state;if(xe.marked="def",Pe.context){if(Pe.lexical.info=="var"&&Pe.context&&Pe.context.block){var Ae=Ce(we,Pe.context);if(Ae!=null){Pe.context=Ae;return}}else if(!G(we,Pe.localVars)){Pe.localVars=new pe(we,Pe.localVars);return}}t.globalVars&&!G(we,Pe.globalVars)&&(Pe.globalVars=new pe(we,Pe.globalVars))}function Ce(we,Pe){if(Pe)if(Pe.block){var Ae=Ce(we,Pe.prev);return Ae?Ae==Pe.prev?Pe:new ie(Ae,Pe.vars,!0):null}else return G(we,Pe.vars)?Pe:new ie(Pe.prev,new pe(we,Pe.vars),!1);else return null}function re(we){return we=="public"||we=="private"||we=="protected"||we=="abstract"||we=="readonly"}function ie(we,Pe,Ae){this.prev=we,this.vars=Pe,this.block=Ae}function pe(we,Pe){this.name=we,this.next=Pe}var je=new pe("this",new pe("arguments",null));function K(){xe.state.context=new ie(xe.state.context,xe.state.localVars,!1),xe.state.localVars=je}function W(){xe.state.context=new ie(xe.state.context,xe.state.localVars,!0),xe.state.localVars=null}function Ze(){xe.state.localVars=xe.state.context.vars,xe.state.context=xe.state.context.prev}Ze.lex=!0;function ot(we,Pe){var Ae=function(){var Q=xe.state,Z=Q.indented;if(Q.lexical.type=="stat")Z=Q.lexical.indented;else for(var ue=Q.lexical;ue&&ue.type==")"&&ue.align;ue=ue.prev)Z=ue.indented;Q.lexical=new de(Z,xe.stream.column(),we,null,Q.lexical,Pe)};return Ae.lex=!0,Ae}function et(){var we=xe.state;we.lexical.prev&&(we.lexical.type==")"&&(we.indented=we.lexical.indented),we.lexical=we.lexical.prev)}et.lex=!0;function Pt(we){function Pe(Ae){return Ae==we?R():we==";"||Ae=="}"||Ae==")"||Ae=="]"?We():R(Pe)}return Pe}function Tt(we,Pe){return we=="var"?R(ot("vardef",Pe),Xe,Pt(";"),et):we=="keyword a"?R(ot("form"),or,Tt,et):we=="keyword b"?R(ot("form"),Tt,et):we=="keyword d"?xe.stream.match(/^\s*$/,!1)?R():R(ot("stat"),Kt,Pt(";"),et):we=="debugger"?R(Pt(";")):we=="{"?R(ot("}"),W,Ut,et,Ze):we==";"?R():we=="if"?(xe.state.lexical.info=="else"&&xe.state.cc[xe.state.cc.length-1]==et&&xe.state.cc.pop()(),R(ot("form"),or,Tt,et,Fr)):we=="function"?R(Pi):we=="for"?R(ot("form"),vn,Tt,et):we=="class"||h&&Pe=="interface"?(xe.marked="keyword",R(ot("form",we=="class"?we:Pe),ea,et)):we=="variable"?h&&Pe=="declare"?(xe.marked="keyword",R(Tt)):h&&(Pe=="module"||Pe=="enum"||Pe=="type")&&xe.stream.match(/^\s*\w/,!1)?(xe.marked="keyword",Pe=="enum"?R(Vt):Pe=="type"?R(Oo,Pt("operator"),gt,Pt(";")):R(ot("form"),bt,Pt("{"),ot("}"),Ut,et,et)):h&&Pe=="namespace"?(xe.marked="keyword",R(ot("form"),Lt,Tt,et)):h&&Pe=="abstract"?(xe.marked="keyword",R(Tt)):R(ot("stat"),Ct):we=="switch"?R(ot("form"),or,Pt("{"),ot("}","switch"),W,Ut,et,et,Ze):we=="case"?R(Lt,Pt(":")):we=="default"?R(Pt(":")):we=="catch"?R(ot("form"),K,Ht,Tt,et,Ze):we=="export"?R(ot("stat"),Oe,et):we=="import"?R(ot("stat"),Ye,et):we=="async"?R(Tt):Pe=="@"?R(Lt,Tt):We(ot("stat"),Lt,Pt(";"),et)}function Ht(we){if(we=="(")return R($n,Pt(")"))}function Lt(we,Pe){return br(we,Pe,!1)}function tr(we,Pe){return br(we,Pe,!0)}function or(we){return we!="("?We():R(ot(")"),Kt,Pt(")"),et)}function br(we,Pe,Ae){if(xe.state.fatArrowAt==xe.stream.start){var Q=Ae?qe:ke;if(we=="(")return R(K,ot(")"),Ve($n,")"),et,Pt("=>"),Q,Ze);if(we=="variable")return We(K,bt,Pt("=>"),Q,Ze)}var Z=Ae?yt:kt;return ne.hasOwnProperty(we)?R(Z):we=="function"?R(Pi,Z):we=="class"||h&&Pe=="interface"?(xe.marked="keyword",R(ot("form"),Xi,et)):we=="keyword c"||we=="async"?R(Ae?tr:Lt):we=="("?R(ot(")"),Kt,Pt(")"),et,Z):we=="operator"||we=="spread"?R(Ae?tr:Lt):we=="["?R(ot("]"),xt,et,Z):we=="{"?at(sr,"}",null,Z):we=="quasi"?We(rt,Z):we=="new"?R(Yt(Ae)):we=="import"?R(Lt):R()}function Kt(we){return we.match(/[;\}\)\],]/)?We():We(Lt)}function kt(we,Pe){return we==","?R(Kt):yt(we,Pe,!1)}function yt(we,Pe,Ae){var Q=Ae==!1?kt:yt,Z=Ae==!1?Lt:tr;if(we=="=>")return R(K,Ae?qe:ke,Ze);if(we=="operator")return/\+\+|--/.test(Pe)||h&&Pe=="!"?R(Q):h&&Pe=="<"&&xe.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?R(ot(">"),Ve(gt,">"),et,Q):Pe=="?"?R(Lt,Pt(":"),Z):R(Z);if(we=="quasi")return We(rt,Q);if(we!=";"){if(we=="(")return at(tr,")","call",Q);if(we==".")return R(ur,Q);if(we=="[")return R(ot("]"),Kt,Pt("]"),et,Q);if(h&&Pe=="as")return xe.marked="keyword",R(gt,Q);if(we=="regexp")return xe.state.lastType=xe.marked="operator",xe.stream.backUp(xe.stream.pos-xe.stream.start-1),R(Z)}}function rt(we,Pe){return we!="quasi"?We():Pe.slice(Pe.length-2)!="${"?R(rt):R(Lt,oe)}function oe(we){if(we=="}")return xe.marked="string-2",xe.state.tokenize=se,R(rt)}function ke(we){return me(xe.stream,xe.state),We(we=="{"?Tt:Lt)}function qe(we){return me(xe.stream,xe.state),We(we=="{"?Tt:tr)}function Yt(we){return function(Pe){return Pe=="."?R(we?It:st):Pe=="variable"&&h?R(mn,we?yt:kt):We(we?tr:Lt)}}function st(we,Pe){if(Pe=="target")return xe.marked="keyword",R(kt)}function It(we,Pe){if(Pe=="target")return xe.marked="keyword",R(yt)}function Ct(we){return we==":"?R(et,Tt):We(kt,Pt(";"),et)}function ur(we){if(we=="variable")return xe.marked="property",R()}function sr(we,Pe){if(we=="async")return xe.marked="property",R(sr);if(we=="variable"||xe.style=="keyword"){if(xe.marked="property",Pe=="get"||Pe=="set")return R(xr);var Ae;return h&&xe.state.fatArrowAt==xe.stream.start&&(Ae=xe.stream.match(/^\s*:\s*/,!1))&&(xe.state.fatArrowAt=xe.stream.pos+Ae[0].length),R(fr)}else{if(we=="number"||we=="string")return xe.marked=a?"property":xe.style+" property",R(fr);if(we=="jsonld-keyword")return R(fr);if(h&&re(Pe))return xe.marked="keyword",R(sr);if(we=="[")return R(Lt,vr,Pt("]"),fr);if(we=="spread")return R(tr,fr);if(Pe=="*")return xe.marked="keyword",R(sr);if(we==":")return We(fr)}}function xr(we){return we!="variable"?We(fr):(xe.marked="property",R(Pi))}function fr(we){if(we==":")return R(tr);if(we=="(")return We(Pi)}function Ve(we,Pe,Ae){function Q(Z,ue){if(Ae?Ae.indexOf(Z)>-1:Z==","){var Fe=xe.state.lexical;return Fe.info=="call"&&(Fe.pos=(Fe.pos||0)+1),R(function(it,Mt){return it==Pe||Mt==Pe?We():We(we)},Q)}return Z==Pe||ue==Pe?R():Ae&&Ae.indexOf(";")>-1?We(we):R(Pt(Pe))}return function(Z,ue){return Z==Pe||ue==Pe?R():We(we,Q)}}function at(we,Pe,Ae){for(var Q=3;Q<arguments.length;Q++)xe.cc.push(arguments[Q]);return R(ot(Pe,Ae),Ve(we,Pe),et)}function Ut(we){return we=="}"?R():We(Tt,Ut)}function vr(we,Pe){if(h){if(we==":")return R(gt);if(Pe=="?")return R(vr)}}function Xn(we,Pe){if(h&&(we==":"||Pe=="in"))return R(gt)}function _r(we){if(h&&we==":")return xe.stream.match(/^\s*\w+\s+is\b/,!1)?R(Lt,$r,gt):R(gt)}function $r(we,Pe){if(Pe=="is")return xe.marked="keyword",R()}function gt(we,Pe){if(Pe=="keyof"||Pe=="typeof"||Pe=="infer")return xe.marked="keyword",R(Pe=="typeof"?tr:gt);if(we=="variable"||Pe=="void")return xe.marked="type",R(Gr);if(Pe=="|"||Pe=="&")return R(gt);if(we=="string"||we=="number"||we=="atom")return R(Gr);if(we=="[")return R(ot("]"),Ve(gt,"]",","),et,Gr);if(we=="{")return R(ot("}"),hr,et,Gr);if(we=="(")return R(Ve(wr,")"),Dt,Gr);if(we=="<")return R(Ve(gt,">"),gt)}function Dt(we){if(we=="=>")return R(gt)}function hr(we){return we=="}"?R():we==","||we==";"?R(hr):We(zr,hr)}function zr(we,Pe){if(we=="variable"||xe.style=="keyword")return xe.marked="property",R(zr);if(Pe=="?"||we=="number"||we=="string")return R(zr);if(we==":")return R(gt);if(we=="[")return R(Pt("variable"),Xn,Pt("]"),zr);if(we=="(")return We(Vn,zr);if(!we.match(/[;\}\)\],]/))return R()}function wr(we,Pe){return we=="variable"&&xe.stream.match(/^\s*[?:]/,!1)||Pe=="?"?R(wr):we==":"?R(gt):we=="spread"?R(wr):We(gt)}function Gr(we,Pe){if(Pe=="<")return R(ot(">"),Ve(gt,">"),et,Gr);if(Pe=="|"||we=="."||Pe=="&")return R(gt);if(we=="[")return R(gt,Pt("]"),Gr);if(Pe=="extends"||Pe=="implements")return xe.marked="keyword",R(gt);if(Pe=="?")return R(gt,Pt(":"),gt)}function mn(we,Pe){if(Pe=="<")return R(ot(">"),Ve(gt,">"),et,Gr)}function ai(){return We(gt,Ue)}function Ue(we,Pe){if(Pe=="=")return R(gt)}function Xe(we,Pe){return Pe=="enum"?(xe.marked="keyword",R(Vt)):We(bt,vr,rr,Ur)}function bt(we,Pe){if(h&&re(Pe))return xe.marked="keyword",R(bt);if(we=="variable")return ae(Pe),R();if(we=="spread")return R(bt);if(we=="[")return at(gr,"]");if(we=="{")return at(Gt,"}")}function Gt(we,Pe){return we=="variable"&&!xe.stream.match(/^\s*:/,!1)?(ae(Pe),R(rr)):(we=="variable"&&(xe.marked="property"),we=="spread"?R(bt):we=="}"?We():we=="["?R(Lt,Pt("]"),Pt(":"),Gt):R(Pt(":"),bt,rr))}function gr(){return We(bt,rr)}function rr(we,Pe){if(Pe=="=")return R(tr)}function Ur(we){if(we==",")return R(Xe)}function Fr(we,Pe){if(we=="keyword b"&&Pe=="else")return R(ot("form","else"),Tt,et)}function vn(we,Pe){if(Pe=="await")return R(vn);if(we=="(")return R(ot(")"),xn,et)}function xn(we){return we=="var"?R(Xe,In):we=="variable"?R(In):We(In)}function In(we,Pe){return we==")"?R():we==";"?R(In):Pe=="in"||Pe=="of"?(xe.marked="keyword",R(Lt,In)):We(Lt,In)}function Pi(we,Pe){if(Pe=="*")return xe.marked="keyword",R(Pi);if(we=="variable")return ae(Pe),R(Pi);if(we=="(")return R(K,ot(")"),Ve($n,")"),et,_r,Tt,Ze);if(h&&Pe=="<")return R(ot(">"),Ve(ai,">"),et,Pi)}function Vn(we,Pe){if(Pe=="*")return xe.marked="keyword",R(Vn);if(we=="variable")return ae(Pe),R(Vn);if(we=="(")return R(K,ot(")"),Ve($n,")"),et,_r,Ze);if(h&&Pe=="<")return R(ot(">"),Ve(ai,">"),et,Vn)}function Oo(we,Pe){if(we=="keyword"||we=="variable")return xe.marked="type",R(Oo);if(Pe=="<")return R(ot(">"),Ve(ai,">"),et)}function $n(we,Pe){return Pe=="@"&&R(Lt,$n),we=="spread"?R($n):h&&re(Pe)?(xe.marked="keyword",R($n)):h&&we=="this"?R(vr,rr):We(bt,vr,rr)}function Xi(we,Pe){return we=="variable"?ea(we,Pe):zn(we,Pe)}function ea(we,Pe){if(we=="variable")return ae(Pe),R(zn)}function zn(we,Pe){if(Pe=="<")return R(ot(">"),Ve(ai,">"),et,zn);if(Pe=="extends"||Pe=="implements"||h&&we==",")return Pe=="implements"&&(xe.marked="keyword"),R(h?gt:Lt,zn);if(we=="{")return R(ot("}"),ve,et)}function ve(we,Pe){if(we=="async"||we=="variable"&&(Pe=="static"||Pe=="get"||Pe=="set"||h&&re(Pe))&&xe.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return xe.marked="keyword",R(ve);if(we=="variable"||xe.style=="keyword")return xe.marked="property",R(Ee,ve);if(we=="number"||we=="string")return R(Ee,ve);if(we=="[")return R(Lt,vr,Pt("]"),Ee,ve);if(Pe=="*")return xe.marked="keyword",R(ve);if(h&&we=="(")return We(Vn,ve);if(we==";"||we==",")return R(ve);if(we=="}")return R();if(Pe=="@")return R(Lt,ve)}function Ee(we,Pe){if(Pe=="?")return R(Ee);if(we==":")return R(gt,rr);if(Pe=="=")return R(tr);var Ae=xe.state.lexical.prev,Q=Ae&&Ae.info=="interface";return We(Q?Vn:Pi)}function Oe(we,Pe){return Pe=="*"?(xe.marked="keyword",R(Ne,Pt(";"))):Pe=="default"?(xe.marked="keyword",R(Lt,Pt(";"))):we=="{"?R(Ve(Be,"}"),Ne,Pt(";")):We(Tt)}function Be(we,Pe){if(Pe=="as")return xe.marked="keyword",R(Pt("variable"));if(we=="variable")return We(tr,Be)}function Ye(we){return we=="string"?R():we=="("?We(Lt):We(ht,ut,Ne)}function ht(we,Pe){return we=="{"?at(ht,"}"):(we=="variable"&&ae(Pe),Pe=="*"&&(xe.marked="keyword"),R(Ie))}function ut(we){if(we==",")return R(ht,ut)}function Ie(we,Pe){if(Pe=="as")return xe.marked="keyword",R(ht)}function Ne(we,Pe){if(Pe=="from")return xe.marked="keyword",R(Lt)}function xt(we){return we=="]"?R():We(Ve(tr,"]"))}function Vt(){return We(ot("form"),bt,Pt("{"),ot("}"),Ve(Et,"}"),et,et)}function Et(){return We(bt,rr)}function St(we,Pe){return we.lastType=="operator"||we.lastType==","||E.test(Pe.charAt(0))||/[,.]/.test(Pe.charAt(0))}function Qt(we,Pe,Ae){return Pe.tokenize==V&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Pe.lastType)||Pe.lastType=="quasi"&&/\{\s*$/.test(we.string.slice(0,we.pos-(Ae||0)))}return{startState:function(we){var Pe={tokenize:V,lastType:"sof",cc:[],lexical:new de((we||0)-n,0,"block",!1),localVars:t.localVars,context:t.localVars&&new ie(null,null,!1),indented:we||0};return t.globalVars&&typeof t.globalVars=="object"&&(Pe.globalVars=t.globalVars),Pe},token:function(we,Pe){if(we.sol()&&(Pe.lexical.hasOwnProperty("align")||(Pe.lexical.align=!1),Pe.indented=we.indentation(),me(we,Pe)),Pe.tokenize!=J&&we.eatSpace())return null;var Ae=Pe.tokenize(we,Pe);return q=="comment"?Ae:(Pe.lastType=q=="operator"&&(z=="++"||z=="--")?"incdec":q,be(Pe,Ae,q,z,we))},indent:function(we,Pe){if(we.tokenize==J||we.tokenize==se)return r.Pass;if(we.tokenize!=V)return 0;var Ae=Pe&&Pe.charAt(0),Q=we.lexical,Z;if(!/^\s*else\b/.test(Pe))for(var ue=we.cc.length-1;ue>=0;--ue){var Fe=we.cc[ue];if(Fe==et)Q=Q.prev;else if(Fe!=Fr)break}for(;(Q.type=="stat"||Q.type=="form")&&(Ae=="}"||(Z=we.cc[we.cc.length-1])&&(Z==kt||Z==yt)&&!/^[,\.=+\-*:?[\(]/.test(Pe));)Q=Q.prev;i&&Q.type==")"&&Q.prev.type=="stat"&&(Q=Q.prev);var it=Q.type,Mt=Ae==it;return it=="vardef"?Q.indented+(we.lastType=="operator"||we.lastType==","?Q.info.length+1:0):it=="form"&&Ae=="{"?Q.indented:it=="form"?Q.indented+n:it=="stat"?Q.indented+(St(we,Pe)?i||n:0):Q.info=="switch"&&!Mt&&t.doubleIndentSwitch!=!1?Q.indented+(/^(?:case|default)\b/.test(Pe)?n:2*n):Q.align?Q.column+(Mt?0:1):Q.indented+(Mt?0:n)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:Qt,skipExpression:function(we){var Pe=we.cc[we.cc.length-1];(Pe==Lt||Pe==tr)&&we.cc.pop()}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})});var wA=fe((uue,cue)=>{(function(r){typeof uue=="object"&&typeof cue=="object"?r(ya(),ww(),Sw(),S0()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],r):r(CodeMirror)})(function(r){"use strict";var e={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function t(S,E,O){var P=S.current(),q=P.search(E);return q>-1?S.backUp(P.length-q):P.match(/<\/?$/)&&(S.backUp(P.length),S.match(E,!1)||S.match(P)),O}var n={};function i(S){var E=n[S];return E||(n[S]=new RegExp("\\s+"+S+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function a(S,E){var O=S.match(i(E));return O?/^\s*(.*?)\s*$/.exec(O[2])[1]:""}function l(S,E){return new RegExp((E?"^":"")+"</s*"+S+"s*>","i")}function h(S,E){for(var O in S)for(var P=E[O]||(E[O]=[]),q=S[O],z=q.length-1;z>=0;z--)P.unshift(q[z])}function b(S,E){for(var O=0;O<S.length;O++){var P=S[O];if(!P[0]||P[1].test(a(E,P[0])))return P[2]}}r.defineMode("htmlmixed",function(S,E){var O=r.getMode(S,{name:"xml",htmlMode:!0,multilineTagIndentFactor:E.multilineTagIndentFactor,multilineTagIndentPastTag:E.multilineTagIndentPastTag,allowMissingTagName:E.allowMissingTagName}),P={},q=E&&E.tags,z=E&&E.scriptTypes;if(h(e,P),q&&h(q,P),z)for(var N=z.length-1;N>=0;N--)P.script.unshift(["type",z[N].matches,z[N].mode]);function V(Y,J){var se=O.token(Y,J.htmlState),_=/\btag\b/.test(se),me;if(_&&!/[<>\s\/]/.test(Y.current())&&(me=J.htmlState.tagName&&J.htmlState.tagName.toLowerCase())&&P.hasOwnProperty(me))J.inTag=me+" ";else if(J.inTag&&_&&/>$/.test(Y.current())){var ne=/^([\S]+) (.*)/.exec(J.inTag);J.inTag=null;var de=Y.current()==">"&&b(P[ne[1]],ne[2]),he=r.getMode(S,de),be=l(ne[1],!0),xe=l(ne[1],!1);J.token=function(We,R){return We.match(be,!1)?(R.token=V,R.localState=R.localMode=null,null):t(We,xe,R.localMode.token(We,R.localState))},J.localMode=he,J.localState=r.startState(he,O.indent(J.htmlState,"",""))}else J.inTag&&(J.inTag+=Y.current(),Y.eol()&&(J.inTag+=" "));return se}return{startState:function(){var Y=r.startState(O);return{token:V,inTag:null,localMode:null,localState:null,htmlState:Y}},copyState:function(Y){var J;return Y.localState&&(J=r.copyState(Y.localMode,Y.localState)),{token:Y.token,inTag:Y.inTag,localMode:Y.localMode,localState:J,htmlState:r.copyState(O,Y.htmlState)}},token:function(Y,J){return J.token(Y,J)},indent:function(Y,J,se){return!Y.localMode||/^\s*<\//.test(J)?O.indent(Y.htmlState,J,se):Y.localMode.indent?Y.localMode.indent(Y.localState,J,se):r.Pass},innerMode:function(Y){return{state:Y.localState||Y.htmlState,mode:Y.localMode||O}}}},"xml","javascript","css"),r.defineMIME("text/html","htmlmixed")})});var due=fe((fue,hue)=>{(function(r){typeof fue=="object"&&typeof hue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var e=0;e<r.modeInfo.length;e++){var t=r.modeInfo[e];t.mimes&&(t.mime=t.mimes[0])}r.findModeByMIME=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.mime==n)return a;if(a.mimes){for(var l=0;l<a.mimes.length;l++)if(a.mimes[l]==n)return a}}if(/\+xml$/.test(n))return r.findModeByMIME("application/xml");if(/\+json$/.test(n))return r.findModeByMIME("application/json")},r.findModeByExtension=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.ext){for(var l=0;l<a.ext.length;l++)if(a.ext[l]==n)return a}}},r.findModeByFileName=function(n){for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.file&&a.file.test(n))return a}var l=n.lastIndexOf("."),h=l>-1&&n.substring(l+1,n.length);if(h)return r.findModeByExtension(h)},r.findModeByName=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.name.toLowerCase()==n)return a;if(a.alias){for(var l=0;l<a.alias.length;l++)if(a.alias[l].toLowerCase()==n)return a}}}})});var gue=fe((pue,mue)=>{(function(r){typeof pue=="object"&&typeof mue=="object"?r(ya(),ww(),due()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("markdown",function(e,t){var n=r.getMode(e,"text/html"),i=n.name=="null";function a(K){if(r.findModeByName){var W=r.findModeByName(K);W&&(K=W.mime||W.mimes[0])}var Ze=r.getMode(e,K);return Ze.name=="null"?null:Ze}t.highlightFormatting===void 0&&(t.highlightFormatting=!1),t.maxBlockquoteDepth===void 0&&(t.maxBlockquoteDepth=0),t.taskLists===void 0&&(t.taskLists=!1),t.strikethrough===void 0&&(t.strikethrough=!1),t.emoji===void 0&&(t.emoji=!1),t.fencedCodeBlockHighlighting===void 0&&(t.fencedCodeBlockHighlighting=!0),t.fencedCodeBlockDefaultMode===void 0&&(t.fencedCodeBlockDefaultMode="text/plain"),t.xml===void 0&&(t.xml=!0),t.tokenTypeOverrides===void 0&&(t.tokenTypeOverrides={});var l={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var h in l)l.hasOwnProperty(h)&&t.tokenTypeOverrides[h]&&(l[h]=t.tokenTypeOverrides[h]);var b=/^([*\-_])(?:\s*\1){2,}\s*$/,S=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,E=/^\[(x| )\](?=\s)/i,O=t.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,P=/^ {0,3}(?:\={1,}|-{2,})\s*$/,q=/^[^#!\[\]*_\\<>` "'(~:]+/,z=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,N=/^\s*\[[^\]]+?\]:.*$/,V=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,Y="    ";function J(K,W,Ze){return W.f=W.inline=Ze,Ze(K,W)}function se(K,W,Ze){return W.f=W.block=Ze,Ze(K,W)}function _(K){return!K||!/\S/.test(K.string)}function me(K){if(K.linkTitle=!1,K.linkHref=!1,K.linkText=!1,K.em=!1,K.strong=!1,K.strikethrough=!1,K.quote=0,K.indentedCode=!1,K.f==de){var W=i;if(!W){var Ze=r.innerMode(n,K.htmlState);W=Ze.mode.name=="xml"&&Ze.state.tagStart===null&&!Ze.state.context&&Ze.state.tokenize.isInText}W&&(K.f=We,K.block=ne,K.htmlState=null)}return K.trailingSpace=0,K.trailingSpaceNewLine=!1,K.prevLine=K.thisLine,K.thisLine={stream:null},null}function ne(K,W){var Ze=K.column()===W.indentation,ot=_(W.prevLine.stream),et=W.indentedCode,Pt=W.prevLine.hr,Tt=W.list!==!1,Ht=(W.listStack[W.listStack.length-1]||0)+3;W.indentedCode=!1;var Lt=W.indentation;if(W.indentationDiff===null&&(W.indentationDiff=W.indentation,Tt)){for(W.list=null;Lt<W.listStack[W.listStack.length-1];)W.listStack.pop(),W.listStack.length?W.indentation=W.listStack[W.listStack.length-1]:W.list=!1;W.list!==!1&&(W.indentationDiff=Lt-W.listStack[W.listStack.length-1])}var tr=!ot&&!Pt&&!W.prevLine.header&&(!Tt||!et)&&!W.prevLine.fencedCodeEnd,or=(W.list===!1||Pt||ot)&&W.indentation<=Ht&&K.match(b),br=null;if(W.indentationDiff>=4&&(et||W.prevLine.fencedCodeEnd||W.prevLine.header||ot))return K.skipToEnd(),W.indentedCode=!0,l.code;if(K.eatSpace())return null;if(Ze&&W.indentation<=Ht&&(br=K.match(O))&&br[1].length<=6)return W.quote=0,W.header=br[1].length,W.thisLine.header=!0,t.highlightFormatting&&(W.formatting="header"),W.f=W.inline,be(W);if(W.indentation<=Ht&&K.eat(">"))return W.quote=Ze?1:W.quote+1,t.highlightFormatting&&(W.formatting="quote"),K.eatSpace(),be(W);if(!or&&!W.setext&&Ze&&W.indentation<=Ht&&(br=K.match(S))){var Kt=br[1]?"ol":"ul";return W.indentation=Lt+K.current().length,W.list=!0,W.quote=0,W.listStack.push(W.indentation),W.em=!1,W.strong=!1,W.code=!1,W.strikethrough=!1,t.taskLists&&K.match(E,!1)&&(W.taskList=!0),W.f=W.inline,t.highlightFormatting&&(W.formatting=["list","list-"+Kt]),be(W)}else{if(Ze&&W.indentation<=Ht&&(br=K.match(z,!0)))return W.quote=0,W.fencedEndRE=new RegExp(br[1]+"+ *$"),W.localMode=t.fencedCodeBlockHighlighting&&a(br[2]||t.fencedCodeBlockDefaultMode),W.localMode&&(W.localState=r.startState(W.localMode)),W.f=W.block=he,t.highlightFormatting&&(W.formatting="code-block"),W.code=-1,be(W);if(W.setext||(!tr||!Tt)&&!W.quote&&W.list===!1&&!W.code&&!or&&!N.test(K.string)&&(br=K.lookAhead(1))&&(br=br.match(P)))return W.setext?(W.header=W.setext,W.setext=0,K.skipToEnd(),t.highlightFormatting&&(W.formatting="header")):(W.header=br[0].charAt(0)=="="?1:2,W.setext=W.header),W.thisLine.header=!0,W.f=W.inline,be(W);if(or)return K.skipToEnd(),W.hr=!0,W.thisLine.hr=!0,l.hr;if(K.peek()==="[")return J(K,W,re)}return J(K,W,W.inline)}function de(K,W){var Ze=n.token(K,W.htmlState);if(!i){var ot=r.innerMode(n,W.htmlState);(ot.mode.name=="xml"&&ot.state.tagStart===null&&!ot.state.context&&ot.state.tokenize.isInText||W.md_inside&&K.current().indexOf(">")>-1)&&(W.f=We,W.block=ne,W.htmlState=null)}return Ze}function he(K,W){var Ze=W.listStack[W.listStack.length-1]||0,ot=W.indentation<Ze,et=Ze+3;if(W.fencedEndRE&&W.indentation<=et&&(ot||K.match(W.fencedEndRE))){t.highlightFormatting&&(W.formatting="code-block");var Pt;return ot||(Pt=be(W)),W.localMode=W.localState=null,W.block=ne,W.f=We,W.fencedEndRE=null,W.code=0,W.thisLine.fencedCodeEnd=!0,ot?se(K,W,W.block):Pt}else return W.localMode?W.localMode.token(K,W.localState):(K.skipToEnd(),l.code)}function be(K){var W=[];if(K.formatting){W.push(l.formatting),typeof K.formatting=="string"&&(K.formatting=[K.formatting]);for(var Ze=0;Ze<K.formatting.length;Ze++)W.push(l.formatting+"-"+K.formatting[Ze]),K.formatting[Ze]==="header"&&W.push(l.formatting+"-"+K.formatting[Ze]+"-"+K.header),K.formatting[Ze]==="quote"&&(!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?W.push(l.formatting+"-"+K.formatting[Ze]+"-"+K.quote):W.push("error"))}if(K.taskOpen)return W.push("meta"),W.length?W.join(" "):null;if(K.taskClosed)return W.push("property"),W.length?W.join(" "):null;if(K.linkHref?W.push(l.linkHref,"url"):(K.strong&&W.push(l.strong),K.em&&W.push(l.em),K.strikethrough&&W.push(l.strikethrough),K.emoji&&W.push(l.emoji),K.linkText&&W.push(l.linkText),K.code&&W.push(l.code),K.image&&W.push(l.image),K.imageAltText&&W.push(l.imageAltText,"link"),K.imageMarker&&W.push(l.imageMarker)),K.header&&W.push(l.header,l.header+"-"+K.header),K.quote&&(W.push(l.quote),!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?W.push(l.quote+"-"+K.quote):W.push(l.quote+"-"+t.maxBlockquoteDepth)),K.list!==!1){var ot=(K.listStack.length-1)%3;ot?ot===1?W.push(l.list2):W.push(l.list3):W.push(l.list1)}return K.trailingSpaceNewLine?W.push("trailing-space-new-line"):K.trailingSpace&&W.push("trailing-space-"+(K.trailingSpace%2?"a":"b")),W.length?W.join(" "):null}function xe(K,W){if(K.match(q,!0))return be(W)}function We(K,W){var Ze=W.text(K,W);if(typeof Ze<"u")return Ze;if(W.list)return W.list=null,be(W);if(W.taskList){var ot=K.match(E,!0)[1]===" ";return ot?W.taskOpen=!0:W.taskClosed=!0,t.highlightFormatting&&(W.formatting="task"),W.taskList=!1,be(W)}if(W.taskOpen=!1,W.taskClosed=!1,W.header&&K.match(/^#+$/,!0))return t.highlightFormatting&&(W.formatting="header"),be(W);var et=K.next();if(W.linkTitle){W.linkTitle=!1;var Pt=et;et==="("&&(Pt=")"),Pt=(Pt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Tt="^\\s*(?:[^"+Pt+"\\\\]+|\\\\\\\\|\\\\.)"+Pt;if(K.match(new RegExp(Tt),!0))return l.linkHref}if(et==="`"){var Ht=W.formatting;t.highlightFormatting&&(W.formatting="code"),K.eatWhile("`");var Lt=K.current().length;if(W.code==0&&(!W.quote||Lt==1))return W.code=Lt,be(W);if(Lt==W.code){var tr=be(W);return W.code=0,tr}else return W.formatting=Ht,be(W)}else if(W.code)return be(W);if(et==="\\"&&(K.next(),t.highlightFormatting)){var or=be(W),br=l.formatting+"-escape";return or?or+" "+br:br}if(et==="!"&&K.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return W.imageMarker=!0,W.image=!0,t.highlightFormatting&&(W.formatting="image"),be(W);if(et==="["&&W.imageMarker&&K.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return W.imageMarker=!1,W.imageAltText=!0,t.highlightFormatting&&(W.formatting="image"),be(W);if(et==="]"&&W.imageAltText){t.highlightFormatting&&(W.formatting="image");var or=be(W);return W.imageAltText=!1,W.image=!1,W.inline=W.f=G,or}if(et==="["&&!W.image)return W.linkText&&K.match(/^.*?\]/)||(W.linkText=!0,t.highlightFormatting&&(W.formatting="link")),be(W);if(et==="]"&&W.linkText){t.highlightFormatting&&(W.formatting="link");var or=be(W);return W.linkText=!1,W.inline=W.f=K.match(/\(.*?\)| ?\[.*?\]/,!1)?G:We,or}if(et==="<"&&K.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){W.f=W.inline=R,t.highlightFormatting&&(W.formatting="link");var or=be(W);return or?or+=" ":or="",or+l.linkInline}if(et==="<"&&K.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){W.f=W.inline=R,t.highlightFormatting&&(W.formatting="link");var or=be(W);return or?or+=" ":or="",or+l.linkEmail}if(t.xml&&et==="<"&&K.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Kt=K.string.indexOf(">",K.pos);if(Kt!=-1){var kt=K.string.substring(K.start,Kt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(kt)&&(W.md_inside=!0)}return K.backUp(1),W.htmlState=r.startState(n),se(K,W,de)}if(t.xml&&et==="<"&&K.match(/^\/\w*?>/))return W.md_inside=!1,"tag";if(et==="*"||et==="_"){for(var yt=1,rt=K.pos==1?" ":K.string.charAt(K.pos-2);yt<3&&K.eat(et);)yt++;var oe=K.peek()||" ",ke=!/\s/.test(oe)&&(!V.test(oe)||/\s/.test(rt)||V.test(rt)),qe=!/\s/.test(rt)&&(!V.test(rt)||/\s/.test(oe)||V.test(oe)),Yt=null,st=null;if(yt%2&&(!W.em&&ke&&(et==="*"||!qe||V.test(rt))?Yt=!0:W.em==et&&qe&&(et==="*"||!ke||V.test(oe))&&(Yt=!1)),yt>1&&(!W.strong&&ke&&(et==="*"||!qe||V.test(rt))?st=!0:W.strong==et&&qe&&(et==="*"||!ke||V.test(oe))&&(st=!1)),st!=null||Yt!=null){t.highlightFormatting&&(W.formatting=Yt==null?"strong":st==null?"em":"strong em"),Yt===!0&&(W.em=et),st===!0&&(W.strong=et);var tr=be(W);return Yt===!1&&(W.em=!1),st===!1&&(W.strong=!1),tr}}else if(et===" "&&(K.eat("*")||K.eat("_"))){if(K.peek()===" ")return be(W);K.backUp(1)}if(t.strikethrough){if(et==="~"&&K.eatWhile(et)){if(W.strikethrough){t.highlightFormatting&&(W.formatting="strikethrough");var tr=be(W);return W.strikethrough=!1,tr}else if(K.match(/^[^\s]/,!1))return W.strikethrough=!0,t.highlightFormatting&&(W.formatting="strikethrough"),be(W)}else if(et===" "&&K.match(/^~~/,!0)){if(K.peek()===" ")return be(W);K.backUp(2)}}if(t.emoji&&et===":"&&K.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){W.emoji=!0,t.highlightFormatting&&(W.formatting="emoji");var It=be(W);return W.emoji=!1,It}return et===" "&&(K.match(/^ +$/,!1)?W.trailingSpace++:W.trailingSpace&&(W.trailingSpaceNewLine=!0)),be(W)}function R(K,W){var Ze=K.next();if(Ze===">"){W.f=W.inline=We,t.highlightFormatting&&(W.formatting="link");var ot=be(W);return ot?ot+=" ":ot="",ot+l.linkInline}return K.match(/^[^>]+/,!0),l.linkInline}function G(K,W){if(K.eatSpace())return null;var Ze=K.next();return Ze==="("||Ze==="["?(W.f=W.inline=Ce(Ze==="("?")":"]"),t.highlightFormatting&&(W.formatting="link-string"),W.linkHref=!0,be(W)):"error"}var ae={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Ce(K){return function(W,Ze){var ot=W.next();if(ot===K){Ze.f=Ze.inline=We,t.highlightFormatting&&(Ze.formatting="link-string");var et=be(Ze);return Ze.linkHref=!1,et}return W.match(ae[K]),Ze.linkHref=!0,be(Ze)}}function re(K,W){return K.match(/^([^\]\\]|\\.)*\]:/,!1)?(W.f=ie,K.next(),t.highlightFormatting&&(W.formatting="link"),W.linkText=!0,be(W)):J(K,W,We)}function ie(K,W){if(K.match(/^\]:/,!0)){W.f=W.inline=pe,t.highlightFormatting&&(W.formatting="link");var Ze=be(W);return W.linkText=!1,Ze}return K.match(/^([^\]\\]|\\.)+/,!0),l.linkText}function pe(K,W){return K.eatSpace()?null:(K.match(/^[^\s]+/,!0),K.peek()===void 0?W.linkTitle=!0:K.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),W.f=W.inline=We,l.linkHref+" url")}var je={startState:function(){return{f:ne,prevLine:{stream:null},thisLine:{stream:null},block:ne,htmlState:null,indentation:0,inline:We,text:xe,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(K){return{f:K.f,prevLine:K.prevLine,thisLine:K.thisLine,block:K.block,htmlState:K.htmlState&&r.copyState(n,K.htmlState),indentation:K.indentation,localMode:K.localMode,localState:K.localMode?r.copyState(K.localMode,K.localState):null,inline:K.inline,text:K.text,formatting:!1,linkText:K.linkText,linkTitle:K.linkTitle,linkHref:K.linkHref,code:K.code,em:K.em,strong:K.strong,strikethrough:K.strikethrough,emoji:K.emoji,header:K.header,setext:K.setext,hr:K.hr,taskList:K.taskList,list:K.list,listStack:K.listStack.slice(0),quote:K.quote,indentedCode:K.indentedCode,trailingSpace:K.trailingSpace,trailingSpaceNewLine:K.trailingSpaceNewLine,md_inside:K.md_inside,fencedEndRE:K.fencedEndRE}},token:function(K,W){if(W.formatting=!1,K!=W.thisLine.stream){if(W.header=0,W.hr=!1,K.match(/^\s*$/,!0))return me(W),null;if(W.prevLine=W.thisLine,W.thisLine={stream:K},W.taskList=!1,W.trailingSpace=0,W.trailingSpaceNewLine=!1,!W.localState&&(W.f=W.block,W.f!=de)){var Ze=K.match(/^\s*/,!0)[0].replace(/\t/g,Y).length;if(W.indentation=Ze,W.indentationDiff=null,Ze>0)return null}}return W.f(K,W)},innerMode:function(K){return K.block==de?{state:K.htmlState,mode:n}:K.localState?{state:K.localState,mode:K.localMode}:{state:K,mode:je}},indent:function(K,W,Ze){return K.block==de&&n.indent?n.indent(K.htmlState,W,Ze):K.localState&&K.localMode.indent?K.localMode.indent(K.localState,W,Ze):r.Pass},blankLine:me,getType:be,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return je},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})});var bue=fe((vue,yue)=>{(function(r){typeof vue=="object"&&typeof yue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("nginx",function(e){function t(q){for(var z={},N=q.split(" "),V=0;V<N.length;++V)z[N[V]]=!0;return z}var n=t("break return rewrite set accept_mutex accept_mutex_delay access_log add_after_body add_before_body add_header addition_types aio alias allow ancient_browser ancient_browser_value auth_basic auth_basic_user_file auth_http auth_http_header auth_http_timeout autoindex autoindex_exact_size autoindex_localtime charset charset_types client_body_buffer_size client_body_in_file_only client_body_in_single_buffer client_body_temp_path client_body_timeout client_header_buffer_size client_header_timeout client_max_body_size connection_pool_size create_full_put_path daemon dav_access dav_methods debug_connection debug_points default_type degradation degrade deny devpoll_changes devpoll_events directio directio_alignment empty_gif env epoll_events error_log eventport_events expires fastcgi_bind fastcgi_buffer_size fastcgi_buffers fastcgi_busy_buffers_size fastcgi_cache fastcgi_cache_key fastcgi_cache_methods fastcgi_cache_min_uses fastcgi_cache_path fastcgi_cache_use_stale fastcgi_cache_valid fastcgi_catch_stderr fastcgi_connect_timeout fastcgi_hide_header fastcgi_ignore_client_abort fastcgi_ignore_headers fastcgi_index fastcgi_intercept_errors fastcgi_max_temp_file_size fastcgi_next_upstream fastcgi_param fastcgi_pass_header fastcgi_pass_request_body fastcgi_pass_request_headers fastcgi_read_timeout fastcgi_send_lowat fastcgi_send_timeout fastcgi_split_path_info fastcgi_store fastcgi_store_access fastcgi_temp_file_write_size fastcgi_temp_path fastcgi_upstream_fail_timeout fastcgi_upstream_max_fails flv geoip_city geoip_country google_perftools_profiles gzip gzip_buffers gzip_comp_level gzip_disable gzip_hash gzip_http_version gzip_min_length gzip_no_buffer gzip_proxied gzip_static gzip_types gzip_vary gzip_window if_modified_since ignore_invalid_headers image_filter image_filter_buffer image_filter_jpeg_quality image_filter_transparency imap_auth imap_capabilities imap_client_buffer index ip_hash keepalive_requests keepalive_timeout kqueue_changes kqueue_events large_client_header_buffers limit_conn limit_conn_log_level limit_rate limit_rate_after limit_req limit_req_log_level limit_req_zone limit_zone lingering_time lingering_timeout lock_file log_format log_not_found log_subrequest map_hash_bucket_size map_hash_max_size master_process memcached_bind memcached_buffer_size memcached_connect_timeout memcached_next_upstream memcached_read_timeout memcached_send_timeout memcached_upstream_fail_timeout memcached_upstream_max_fails merge_slashes min_delete_depth modern_browser modern_browser_value msie_padding msie_refresh multi_accept open_file_cache open_file_cache_errors open_file_cache_events open_file_cache_min_uses open_file_cache_valid open_log_file_cache output_buffers override_charset perl perl_modules perl_require perl_set pid pop3_auth pop3_capabilities port_in_redirect postpone_gzipping postpone_output protocol proxy proxy_bind proxy_buffer proxy_buffer_size proxy_buffering proxy_buffers proxy_busy_buffers_size proxy_cache proxy_cache_key proxy_cache_methods proxy_cache_min_uses proxy_cache_path proxy_cache_use_stale proxy_cache_valid proxy_connect_timeout proxy_headers_hash_bucket_size proxy_headers_hash_max_size proxy_hide_header proxy_ignore_client_abort proxy_ignore_headers proxy_intercept_errors proxy_max_temp_file_size proxy_method proxy_next_upstream proxy_pass_error_message proxy_pass_header proxy_pass_request_body proxy_pass_request_headers proxy_read_timeout proxy_redirect proxy_send_lowat proxy_send_timeout proxy_set_body proxy_set_header proxy_ssl_session_reuse proxy_store proxy_store_access proxy_temp_file_write_size proxy_temp_path proxy_timeout proxy_upstream_fail_timeout proxy_upstream_max_fails random_index read_ahead real_ip_header recursive_error_pages request_pool_size reset_timedout_connection resolver resolver_timeout rewrite_log rtsig_overflow_events rtsig_overflow_test rtsig_overflow_threshold rtsig_signo satisfy secure_link_secret send_lowat send_timeout sendfile sendfile_max_chunk server_name_in_redirect server_names_hash_bucket_size server_names_hash_max_size server_tokens set_real_ip_from smtp_auth smtp_capabilities smtp_client_buffer smtp_greeting_delay so_keepalive source_charset ssi ssi_ignore_recycled_buffers ssi_min_file_chunk ssi_silent_errors ssi_types ssi_value_length ssl ssl_certificate ssl_certificate_key ssl_ciphers ssl_client_certificate ssl_crl ssl_dhparam ssl_engine ssl_prefer_server_ciphers ssl_protocols ssl_session_cache ssl_session_timeout ssl_verify_client ssl_verify_depth starttls stub_status sub_filter sub_filter_once sub_filter_types tcp_nodelay tcp_nopush thread_stack_size timeout timer_resolution types_hash_bucket_size types_hash_max_size underscores_in_headers uninitialized_variable_warn use user userid userid_domain userid_expires userid_mark userid_name userid_p3p userid_path userid_service valid_referers variables_hash_bucket_size variables_hash_max_size worker_connections worker_cpu_affinity worker_priority worker_processes worker_rlimit_core worker_rlimit_nofile worker_rlimit_sigpending worker_threads working_directory xclient xml_entities xslt_stylesheet xslt_typesdrew@li229-23"),i=t("http mail events server types location upstream charset_map limit_except if geo map"),a=t("include root server server_name listen internal proxy_pass memcached_pass fastcgi_pass try_files"),l=e.indentUnit,h;function b(q,z){return h=z,q}function S(q,z){q.eatWhile(/[\w\$_]/);var N=q.current();if(n.propertyIsEnumerable(N))return"keyword";if(i.propertyIsEnumerable(N))return"variable-2";if(a.propertyIsEnumerable(N))return"string-2";var V=q.next();if(V=="@")return q.eatWhile(/[\w\\\-]/),b("meta",q.current());if(V=="/"&&q.eat("*"))return z.tokenize=E,E(q,z);if(V=="<"&&q.eat("!"))return z.tokenize=O,O(q,z);if(V=="=")b(null,"compare");else return(V=="~"||V=="|")&&q.eat("=")?b(null,"compare"):V=='"'||V=="'"?(z.tokenize=P(V),z.tokenize(q,z)):V=="#"?(q.skipToEnd(),b("comment","comment")):V=="!"?(q.match(/^\s*\w*/),b("keyword","important")):/\d/.test(V)?(q.eatWhile(/[\w.%]/),b("number","unit")):/[,.+>*\/]/.test(V)?b(null,"select-op"):/[;{}:\[\]]/.test(V)?b(null,V):(q.eatWhile(/[\w\\\-]/),b("variable","variable"))}function E(q,z){for(var N=!1,V;(V=q.next())!=null;){if(N&&V=="/"){z.tokenize=S;break}N=V=="*"}return b("comment","comment")}function O(q,z){for(var N=0,V;(V=q.next())!=null;){if(N>=2&&V==">"){z.tokenize=S;break}N=V=="-"?N+1:0}return b("comment","comment")}function P(q){return function(z,N){for(var V=!1,Y;(Y=z.next())!=null&&!(Y==q&&!V);)V=!V&&Y=="\\";return V||(N.tokenize=S),b("string","string")}}return{startState:function(q){return{tokenize:S,baseIndent:q||0,stack:[]}},token:function(q,z){if(q.eatSpace())return null;h=null;var N=z.tokenize(q,z),V=z.stack[z.stack.length-1];return h=="hash"&&V=="rule"?N="atom":N=="variable"&&(V=="rule"?N="number":(!V||V=="@media{")&&(N="tag")),V=="rule"&&/^[\{\};]$/.test(h)&&z.stack.pop(),h=="{"?V=="@media"?z.stack[z.stack.length-1]="@media{":z.stack.push("{"):h=="}"?z.stack.pop():h=="@media"?z.stack.push("@media"):V=="{"&&h!="comment"&&z.stack.push("rule"),N},indent:function(q,z){var N=q.stack.length;return/^\}/.test(z)&&(N-=q.stack[q.stack.length-1]=="rule"?2:1),q.baseIndent+N*l},electricChars:"}"}}),r.defineMIME("text/x-nginx-conf","nginx")})});var wue=fe((xue,_ue)=>{(function(r){typeof xue=="object"&&typeof _ue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";function e(re,ie,pe,je,K,W){this.indented=re,this.column=ie,this.type=pe,this.info=je,this.align=K,this.prev=W}function t(re,ie,pe,je){var K=re.indented;return re.context&&re.context.type=="statement"&&pe!="statement"&&(K=re.context.indented),re.context=new e(K,ie,pe,je,null,re.context)}function n(re){var ie=re.context.type;return(ie==")"||ie=="]"||ie=="}")&&(re.indented=re.context.indented),re.context=re.context.prev}function i(re,ie,pe){if(ie.prevToken=="variable"||ie.prevToken=="type"||/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(re.string.slice(0,pe))||ie.typeAtEndOfLine&&re.column()==re.indentation())return!0}function a(re){for(;;){if(!re||re.type=="top")return!0;if(re.type=="}"&&re.prev.info!="namespace")return!1;re=re.prev}}r.defineMode("clike",function(re,ie){var pe=re.indentUnit,je=ie.statementIndentUnit||pe,K=ie.dontAlignCalls,W=ie.keywords||{},Ze=ie.types||{},ot=ie.builtin||{},et=ie.blockKeywords||{},Pt=ie.defKeywords||{},Tt=ie.atoms||{},Ht=ie.hooks||{},Lt=ie.multiLineStrings,tr=ie.indentStatements!==!1,or=ie.indentSwitch!==!1,br=ie.namespaceSeparator,Kt=ie.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,kt=ie.numberStart||/[\d\.]/,yt=ie.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,rt=ie.isOperatorChar||/[+\-*&%=<>!?|\/]/,oe=ie.isIdentifierChar||/[\w\$_\xa1-\uffff]/,ke=ie.isReservedIdentifier||!1,qe,Yt;function st(sr,xr){var fr=sr.next();if(Ht[fr]){var Ve=Ht[fr](sr,xr);if(Ve!==!1)return Ve}if(fr=='"'||fr=="'")return xr.tokenize=It(fr),xr.tokenize(sr,xr);if(kt.test(fr)){if(sr.backUp(1),sr.match(yt))return"number";sr.next()}if(Kt.test(fr))return qe=fr,null;if(fr=="/"){if(sr.eat("*"))return xr.tokenize=Ct,Ct(sr,xr);if(sr.eat("/"))return sr.skipToEnd(),"comment"}if(rt.test(fr)){for(;!sr.match(/^\/[\/*]/,!1)&&sr.eat(rt););return"operator"}if(sr.eatWhile(oe),br)for(;sr.match(br);)sr.eatWhile(oe);var at=sr.current();return h(W,at)?(h(et,at)&&(qe="newstatement"),h(Pt,at)&&(Yt=!0),"keyword"):h(Ze,at)?"type":h(ot,at)||ke&&ke(at)?(h(et,at)&&(qe="newstatement"),"builtin"):h(Tt,at)?"atom":"variable"}function It(sr){return function(xr,fr){for(var Ve=!1,at,Ut=!1;(at=xr.next())!=null;){if(at==sr&&!Ve){Ut=!0;break}Ve=!Ve&&at=="\\"}return(Ut||!(Ve||Lt))&&(fr.tokenize=null),"string"}}function Ct(sr,xr){for(var fr=!1,Ve;Ve=sr.next();){if(Ve=="/"&&fr){xr.tokenize=null;break}fr=Ve=="*"}return"comment"}function ur(sr,xr){ie.typeFirstDefinitions&&sr.eol()&&a(xr.context)&&(xr.typeAtEndOfLine=i(sr,xr,sr.pos))}return{startState:function(sr){return{tokenize:null,context:new e((sr||0)-pe,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(sr,xr){var fr=xr.context;if(sr.sol()&&(fr.align==null&&(fr.align=!1),xr.indented=sr.indentation(),xr.startOfLine=!0),sr.eatSpace())return ur(sr,xr),null;qe=Yt=null;var Ve=(xr.tokenize||st)(sr,xr);if(Ve=="comment"||Ve=="meta")return Ve;if(fr.align==null&&(fr.align=!0),qe==";"||qe==":"||qe==","&&sr.match(/^\s*(?:\/\/.*)?$/,!1))for(;xr.context.type=="statement";)n(xr);else if(qe=="{")t(xr,sr.column(),"}");else if(qe=="[")t(xr,sr.column(),"]");else if(qe=="(")t(xr,sr.column(),")");else if(qe=="}"){for(;fr.type=="statement";)fr=n(xr);for(fr.type=="}"&&(fr=n(xr));fr.type=="statement";)fr=n(xr)}else qe==fr.type?n(xr):tr&&((fr.type=="}"||fr.type=="top")&&qe!=";"||fr.type=="statement"&&qe=="newstatement")&&t(xr,sr.column(),"statement",sr.current());if(Ve=="variable"&&(xr.prevToken=="def"||ie.typeFirstDefinitions&&i(sr,xr,sr.start)&&a(xr.context)&&sr.match(/^\s*\(/,!1))&&(Ve="def"),Ht.token){var at=Ht.token(sr,xr,Ve);at!==void 0&&(Ve=at)}return Ve=="def"&&ie.styleDefs===!1&&(Ve="variable"),xr.startOfLine=!1,xr.prevToken=Yt?"def":Ve||qe,ur(sr,xr),Ve},indent:function(sr,xr){if(sr.tokenize!=st&&sr.tokenize!=null||sr.typeAtEndOfLine)return r.Pass;var fr=sr.context,Ve=xr&&xr.charAt(0),at=Ve==fr.type;if(fr.type=="statement"&&Ve=="}"&&(fr=fr.prev),ie.dontIndentStatements)for(;fr.type=="statement"&&ie.dontIndentStatements.test(fr.info);)fr=fr.prev;if(Ht.indent){var Ut=Ht.indent(sr,fr,xr,pe);if(typeof Ut=="number")return Ut}var vr=fr.prev&&fr.prev.info=="switch";if(ie.allmanIndentation&&/[{(]/.test(Ve)){for(;fr.type!="top"&&fr.type!="}";)fr=fr.prev;return fr.indented}return fr.type=="statement"?fr.indented+(Ve=="{"?0:je):fr.align&&(!K||fr.type!=")")?fr.column+(at?0:1):fr.type==")"&&!at?fr.indented+je:fr.indented+(at?0:pe)+(!at&&vr&&!/^(?:case|default)\b/.test(xr)?pe:0)},electricInput:or?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});function l(re){for(var ie={},pe=re.split(" "),je=0;je<pe.length;++je)ie[pe[je]]=!0;return ie}function h(re,ie){return typeof re=="function"?re(ie):re.propertyIsEnumerable(ie)}var b="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",S="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",E="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",O="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",P=l("int long char short double float unsigned signed void bool"),q=l("SEL instancetype id Class Protocol BOOL");function z(re){return h(P,re)||/.+_t$/.test(re)}function N(re){return z(re)||h(q,re)}var V="case do else for if switch while struct enum union",Y="struct enum union";function J(re,ie){if(!ie.startOfLine)return!1;for(var pe,je=null;pe=re.peek();){if(pe=="\\"&&re.match(/^.$/)){je=J;break}else if(pe=="/"&&re.match(/^\/[\/\*]/,!1))break;re.next()}return ie.tokenize=je,"meta"}function se(re,ie){return ie.prevToken=="type"?"type":!1}function _(re){return!re||re.length<2||re[0]!="_"?!1:re[1]=="_"||re[1]!==re[1].toLowerCase()}function me(re){return re.eatWhile(/[\w\.']/),"number"}function ne(re,ie){if(re.backUp(1),re.match(/(R|u8R|uR|UR|LR)/)){var pe=re.match(/"([^\s\\()]{0,16})\(/);return pe?(ie.cpp11RawStringDelim=pe[1],ie.tokenize=be,be(re,ie)):!1}return re.match(/(u8|u|U|L)/)?re.match(/["']/,!1)?"string":!1:(re.next(),!1)}function de(re){var ie=/(\w+)::~?(\w+)$/.exec(re);return ie&&ie[1]==ie[2]}function he(re,ie){for(var pe;(pe=re.next())!=null;)if(pe=='"'&&!re.eat('"')){ie.tokenize=null;break}return"string"}function be(re,ie){var pe=ie.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),je=re.match(new RegExp(".*?\\)"+pe+'"'));return je?ie.tokenize=null:re.skipToEnd(),"string"}function xe(re,ie){typeof re=="string"&&(re=[re]);var pe=[];function je(W){if(W)for(var Ze in W)W.hasOwnProperty(Ze)&&pe.push(Ze)}je(ie.keywords),je(ie.types),je(ie.builtin),je(ie.atoms),pe.length&&(ie.helperType=re[0],r.registerHelper("hintWords",re[0],pe));for(var K=0;K<re.length;++K)r.defineMIME(re[K],ie)}xe(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:l(b),types:z,blockKeywords:l(V),defKeywords:l(Y),typeFirstDefinitions:!0,atoms:l("NULL true false"),isReservedIdentifier:_,hooks:{"#":J,"*":se},modeProps:{fold:["brace","include"]}}),xe(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:l(b+" "+S),types:z,blockKeywords:l(V+" class try catch"),defKeywords:l(Y+" class namespace"),typeFirstDefinitions:!0,atoms:l("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:_,hooks:{"#":J,"*":se,u:ne,U:ne,L:ne,R:ne,"0":me,"1":me,"2":me,"3":me,"4":me,"5":me,"6":me,"7":me,"8":me,"9":me,token:function(re,ie,pe){if(pe=="variable"&&re.peek()=="("&&(ie.prevToken==";"||ie.prevToken==null||ie.prevToken=="}")&&de(re.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),xe("text/x-java",{name:"clike",keywords:l("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:l("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:l("catch class do else finally for if switch try while"),defKeywords:l("class interface enum @interface"),typeFirstDefinitions:!0,atoms:l("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(re){return re.match("interface",!1)?!1:(re.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),xe("text/x-csharp",{name:"clike",keywords:l("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:l("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:l("catch class do else finally for foreach if struct switch try while"),defKeywords:l("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:l("true false null"),hooks:{"@":function(re,ie){return re.eat('"')?(ie.tokenize=he,he(re,ie)):(re.eatWhile(/[\w\$_]/),"meta")}}});function We(re,ie){for(var pe=!1;!re.eol();){if(!pe&&re.match('"""')){ie.tokenize=null;break}pe=re.next()=="\\"&&!pe}return"string"}function R(re){return function(ie,pe){for(var je;je=ie.next();)if(je=="*"&&ie.eat("/"))if(re==1){pe.tokenize=null;break}else return pe.tokenize=R(re-1),pe.tokenize(ie,pe);else if(je=="/"&&ie.eat("*"))return pe.tokenize=R(re+1),pe.tokenize(ie,pe);return"comment"}}xe("text/x-scala",{name:"clike",keywords:l("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:l("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:l("catch class enum do else finally for forSome if match switch try while"),defKeywords:l("class enum def object package trait type val var"),atoms:l("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(re){return re.eatWhile(/[\w\$_]/),"meta"},'"':function(re,ie){return re.match('""')?(ie.tokenize=We,ie.tokenize(re,ie)):!1},"'":function(re){return re.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(re,ie){var pe=ie.context;return pe.type=="}"&&pe.align&&re.eat(">")?(ie.context=new e(pe.indented,pe.column,pe.type,pe.info,null,pe.prev),"operator"):!1},"/":function(re,ie){return re.eat("*")?(ie.tokenize=R(1),ie.tokenize(re,ie)):!1}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}});function G(re){return function(ie,pe){for(var je=!1,K,W=!1;!ie.eol();){if(!re&&!je&&ie.match('"')){W=!0;break}if(re&&ie.match('"""')){W=!0;break}K=ie.next(),!je&&K=="$"&&ie.match("{")&&ie.skipTo("}"),je=!je&&K=="\\"&&!re}return(W||!re)&&(pe.tokenize=null),"string"}}xe("text/x-kotlin",{name:"clike",keywords:l("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:l("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:l("catch class do else finally for if where try while enum"),defKeywords:l("class val var object interface fun"),atoms:l("true false null this"),hooks:{"@":function(re){return re.eatWhile(/[\w\$_]/),"meta"},"*":function(re,ie){return ie.prevToken=="."?"variable":"operator"},'"':function(re,ie){return ie.tokenize=G(re.match('""')),ie.tokenize(re,ie)},"/":function(re,ie){return re.eat("*")?(ie.tokenize=R(1),ie.tokenize(re,ie)):!1},indent:function(re,ie,pe,je){var K=pe&&pe.charAt(0);if((re.prevToken=="}"||re.prevToken==")")&&pe=="")return re.indented;if(re.prevToken=="operator"&&pe!="}"&&re.context.type!="}"||re.prevToken=="variable"&&K=="."||(re.prevToken=="}"||re.prevToken==")")&&K==".")return je*2+ie.indented;if(ie.align&&ie.type=="}")return ie.indented+(re.context.type==(pe||"").charAt(0)?0:je)}},modeProps:{closeBrackets:{triples:'"'}}}),xe(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:l("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:l("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:l("for while do if else struct"),builtin:l("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:l("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":J},modeProps:{fold:["brace","include"]}}),xe("text/x-nesc",{name:"clike",keywords:l(b+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:z,blockKeywords:l(V),atoms:l("null true false"),hooks:{"#":J},modeProps:{fold:["brace","include"]}}),xe("text/x-objectivec",{name:"clike",keywords:l(b+" "+E),types:N,builtin:l(O),blockKeywords:l(V+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:l(Y+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:l("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:_,hooks:{"#":J,"*":se},modeProps:{fold:["brace","include"]}}),xe("text/x-objectivec++",{name:"clike",keywords:l(b+" "+E+" "+S),types:N,builtin:l(O),blockKeywords:l(V+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:l(Y+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:l("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:_,hooks:{"#":J,"*":se,u:ne,U:ne,L:ne,R:ne,"0":me,"1":me,"2":me,"3":me,"4":me,"5":me,"6":me,"7":me,"8":me,"9":me,token:function(re,ie,pe){if(pe=="variable"&&re.peek()=="("&&(ie.prevToken==";"||ie.prevToken==null||ie.prevToken=="}")&&de(re.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),xe("text/x-squirrel",{name:"clike",keywords:l("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:z,blockKeywords:l("case catch class else for foreach if switch try while"),defKeywords:l("function local class"),typeFirstDefinitions:!0,atoms:l("true false null"),hooks:{"#":J},modeProps:{fold:["brace","include"]}});var ae=null;function Ce(re){return function(ie,pe){for(var je=!1,K,W=!1;!ie.eol();){if(!je&&ie.match('"')&&(re=="single"||ie.match('""'))){W=!0;break}if(!je&&ie.match("``")){ae=Ce(re),W=!0;break}K=ie.next(),je=re=="single"&&!je&&K=="\\"}return W&&(pe.tokenize=null),"string"}}xe("text/x-ceylon",{name:"clike",keywords:l("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(re){var ie=re.charAt(0);return ie===ie.toUpperCase()&&ie!==ie.toLowerCase()},blockKeywords:l("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:l("class dynamic function interface module object package value"),builtin:l("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:l("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(re){return re.eatWhile(/[\w\$_]/),"meta"},'"':function(re,ie){return ie.tokenize=Ce(re.match('""')?"triple":"single"),ie.tokenize(re,ie)},"`":function(re,ie){return!ae||!re.match("`")?!1:(ie.tokenize=ae,ae=null,ie.tokenize(re,ie))},"'":function(re){return re.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(re,ie,pe){if((pe=="variable"||pe=="type")&&ie.prevToken==".")return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})});var Cue=fe((Sue,kue)=>{(function(r){typeof Sue=="object"&&typeof kue=="object"?r(ya(),wA(),wue()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../clike/clike"],r):r(CodeMirror)})(function(r){"use strict";function e(S){for(var E={},O=S.split(" "),P=0;P<O.length;++P)E[O[P]]=!0;return E}function t(S,E,O){return S.length==0?n(E):function(P,q){for(var z=S[0],N=0;N<z.length;N++)if(P.match(z[N][0]))return q.tokenize=t(S.slice(1),E),z[N][1];return q.tokenize=n(E,O),"string"}}function n(S,E){return function(O,P){return i(O,P,S,E)}}function i(S,E,O,P){if(P!==!1&&S.match("${",!1)||S.match("{$",!1))return E.tokenize=null,"string";if(P!==!1&&S.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/))return S.match("[",!1)&&(E.tokenize=t([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],O,P)),S.match(/\-\>\w/,!1)&&(E.tokenize=t([[["->",null]],[[/[\w]+/,"variable"]]],O,P)),"variable-2";for(var q=!1;!S.eol()&&(q||P===!1||!S.match("{$",!1)&&!S.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1));){if(!q&&S.match(O)){E.tokenize=null,E.tokStack.pop(),E.tokStack.pop();break}q=S.next()=="\\"&&!q}return"string"}var a="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",l="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",h="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";r.registerHelper("hintWords","php",[a,l,h].join(" ").split(" ")),r.registerHelper("wordChars","php",/[\w$]/);var b={name:"clike",helperType:"php",keywords:e(a),blockKeywords:e("catch do else elseif for foreach if switch try while finally"),defKeywords:e("class function interface namespace trait"),atoms:e(l),builtin:e(h),multiLineStrings:!0,hooks:{$:function(S){return S.eatWhile(/[\w\$_]/),"variable-2"},"<":function(S,E){var O;if(O=S.match(/<<\s*/)){var P=S.eat(/['"]/);S.eatWhile(/[\w\.]/);var q=S.current().slice(O[0].length+(P?2:1));if(P&&S.eat(P),q)return(E.tokStack||(E.tokStack=[])).push(q,0),E.tokenize=n(q,P!="'"),"string"}return!1},"#":function(S){for(;!S.eol()&&!S.match("?>",!1);)S.next();return"comment"},"/":function(S){if(S.eat("/")){for(;!S.eol()&&!S.match("?>",!1);)S.next();return"comment"}return!1},'"':function(S,E){return(E.tokStack||(E.tokStack=[])).push('"',0),E.tokenize=n('"'),"string"},"{":function(S,E){return E.tokStack&&E.tokStack.length&&E.tokStack[E.tokStack.length-1]++,!1},"}":function(S,E){return E.tokStack&&E.tokStack.length>0&&!--E.tokStack[E.tokStack.length-1]&&(E.tokenize=n(E.tokStack[E.tokStack.length-2])),!1}}};r.defineMode("php",function(S,E){var O=r.getMode(S,E&&E.htmlMode||"text/html"),P=r.getMode(S,b);function q(z,N){var V=N.curMode==P;if(z.sol()&&N.pending&&N.pending!='"'&&N.pending!="'"&&(N.pending=null),V)return V&&N.php.tokenize==null&&z.match("?>")?(N.curMode=O,N.curState=N.html,N.php.context.prev||(N.php=null),"meta"):P.token(z,N.curState);if(z.match(/^<\?\w*/))return N.curMode=P,N.php||(N.php=r.startState(P,O.indent(N.html,"",""))),N.curState=N.php,"meta";if(N.pending=='"'||N.pending=="'"){for(;!z.eol()&&z.next()!=N.pending;);var Y="string"}else if(N.pending&&z.pos<N.pending.end){z.pos=N.pending.end;var Y=N.pending.style}else var Y=O.token(z,N.curState);N.pending&&(N.pending=null);var J=z.current(),se=J.search(/<\?/),_;return se!=-1&&(Y=="string"&&(_=J.match(/[\'\"]$/))&&!/\?>/.test(J)?N.pending=_[0]:N.pending={end:z.pos,style:Y},z.backUp(J.length-se)),Y}return{startState:function(){var z=r.startState(O),N=E.startOpen?r.startState(P):null;return{html:z,php:N,curMode:E.startOpen?P:O,curState:E.startOpen?N:z,pending:null}},copyState:function(z){var N=z.html,V=r.copyState(O,N),Y=z.php,J=Y&&r.copyState(P,Y),se;return z.curMode==O?se=V:se=J,{html:V,php:J,curMode:z.curMode,curState:se,pending:z.pending}},token:q,indent:function(z,N,V){return z.curMode!=P&&/^\s*<\//.test(N)||z.curMode==P&&/^\?>/.test(N)?O.indent(z.html,N,V):z.curMode.indent(z.curState,N,V)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(z){return{state:z.curState,mode:z.curMode}}}},"htmlmixed","clike"),r.defineMIME("application/x-httpd-php","php"),r.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),r.defineMIME("text/x-php",b)})});var Aue=fe((Eue,Tue)=>{(function(r){typeof Eue=="object"&&typeof Tue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";function e(b){for(var S={},E=0,O=b.length;E<O;++E)S[b[E]]=!0;return S}var t=["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"],n=e(t),i=e(["def","class","case","for","while","until","module","then","catch","loop","proc","begin"]),a=e(["end","until"]),l={"[":"]","{":"}","(":")"},h={"]":"[","}":"{",")":"("};r.defineMode("ruby",function(b){var S;function E(J,se,_){return _.tokenize.push(J),J(se,_)}function O(J,se){if(J.sol()&&J.match("=begin")&&J.eol())return se.tokenize.push(Y),"comment";if(J.eatSpace())return null;var _=J.next(),me;if(_=="`"||_=="'"||_=='"')return E(N(_,"string",_=='"'||_=="`"),J,se);if(_=="/")return P(J)?E(N(_,"string-2",!0),J,se):"operator";if(_=="%"){var ne="string",de=!0;J.eat("s")?ne="atom":J.eat(/[WQ]/)?ne="string":J.eat(/[r]/)?ne="string-2":J.eat(/[wxq]/)&&(ne="string",de=!1);var he=J.eat(/[^\w\s=]/);return he?(l.propertyIsEnumerable(he)&&(he=l[he]),E(N(he,ne,de,!0),J,se)):"operator"}else{if(_=="#")return J.skipToEnd(),"comment";if(_=="<"&&(me=J.match(/^<([-~])[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return E(V(me[2],me[1]),J,se);if(_=="0")return J.eat("x")?J.eatWhile(/[\da-fA-F]/):J.eat("b")?J.eatWhile(/[01]/):J.eatWhile(/[0-7]/),"number";if(/\d/.test(_))return J.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if(_=="?"){for(;J.match(/^\\[CM]-/););return J.eat("\\")?J.eatWhile(/\w/):J.next(),"string"}else{if(_==":")return J.eat("'")?E(N("'","atom",!1),J,se):J.eat('"')?E(N('"',"atom",!0),J,se):J.eat(/[\<\>]/)?(J.eat(/[\<\>]/),"atom"):J.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":J.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(J.eatWhile(/[\w$\xa1-\uffff]/),J.eat(/[\?\!\=]/),"atom"):"operator";if(_=="@"&&J.match(/^@?[a-zA-Z_\xa1-\uffff]/))return J.eat("@"),J.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if(_=="$")return J.eat(/[a-zA-Z_]/)?J.eatWhile(/[\w]/):J.eat(/\d/)?J.eat(/\d/):J.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(_))return J.eatWhile(/[\w\xa1-\uffff]/),J.eat(/[\?\!]/),J.eat(":")?"atom":"ident";if(_=="|"&&(se.varList||se.lastTok=="{"||se.lastTok=="do"))return S="|",null;if(/[\(\)\[\]{}\\;]/.test(_))return S=_,null;if(_=="-"&&J.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(_)){var be=J.eatWhile(/[=+\-\/*:\.^%<>~|]/);return _=="."&&!be&&(S="."),"operator"}else return null}}}function P(J){for(var se=J.pos,_=0,me,ne=!1,de=!1;(me=J.next())!=null;)if(de)de=!1;else{if("[{(".indexOf(me)>-1)_++;else if("]})".indexOf(me)>-1){if(_--,_<0)break}else if(me=="/"&&_==0){ne=!0;break}de=me=="\\"}return J.backUp(J.pos-se),ne}function q(J){return J||(J=1),function(se,_){if(se.peek()=="}"){if(J==1)return _.tokenize.pop(),_.tokenize[_.tokenize.length-1](se,_);_.tokenize[_.tokenize.length-1]=q(J-1)}else se.peek()=="{"&&(_.tokenize[_.tokenize.length-1]=q(J+1));return O(se,_)}}function z(){var J=!1;return function(se,_){return J?(_.tokenize.pop(),_.tokenize[_.tokenize.length-1](se,_)):(J=!0,O(se,_))}}function N(J,se,_,me){return function(ne,de){var he=!1,be;for(de.context.type==="read-quoted-paused"&&(de.context=de.context.prev,ne.eat("}"));(be=ne.next())!=null;){if(be==J&&(me||!he)){de.tokenize.pop();break}if(_&&be=="#"&&!he){if(ne.eat("{")){J=="}"&&(de.context={prev:de.context,type:"read-quoted-paused"}),de.tokenize.push(q());break}else if(/[@\$]/.test(ne.peek())){de.tokenize.push(z());break}}he=!he&&be=="\\"}return se}}function V(J,se){return function(_,me){return se&&_.eatSpace(),_.match(J)?me.tokenize.pop():_.skipToEnd(),"string"}}function Y(J,se){return J.sol()&&J.match("=end")&&J.eol()&&se.tokenize.pop(),J.skipToEnd(),"comment"}return{startState:function(){return{tokenize:[O],indented:0,context:{type:"top",indented:-b.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(J,se){S=null,J.sol()&&(se.indented=J.indentation());var _=se.tokenize[se.tokenize.length-1](J,se),me,ne=S;if(_=="ident"){var de=J.current();_=se.lastTok=="."?"property":n.propertyIsEnumerable(J.current())?"keyword":/^[A-Z]/.test(de)?"tag":se.lastTok=="def"||se.lastTok=="class"||se.varList?"def":"variable",_=="keyword"&&(ne=de,i.propertyIsEnumerable(de)?me="indent":a.propertyIsEnumerable(de)?me="dedent":((de=="if"||de=="unless")&&J.column()==J.indentation()||de=="do"&&se.context.indented<se.indented)&&(me="indent"))}return(S||_&&_!="comment")&&(se.lastTok=ne),S=="|"&&(se.varList=!se.varList),me=="indent"||/[\(\[\{]/.test(S)?se.context={prev:se.context,type:S||_,indented:se.indented}:(me=="dedent"||/[\)\]\}]/.test(S))&&se.context.prev&&(se.context=se.context.prev),J.eol()&&(se.continuedLine=S=="\\"||_=="operator"),_},indent:function(J,se){if(J.tokenize[J.tokenize.length-1]!=O)return r.Pass;var _=se&&se.charAt(0),me=J.context,ne=me.type==h[_]||me.type=="keyword"&&/^(?:end|until|else|elsif|when|rescue)\b/.test(se);return me.indented+(ne?0:b.indentUnit)+(J.continuedLine?b.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#",fold:"indent"}}),r.defineMIME("text/x-ruby","ruby"),r.registerHelper("hintWords","ruby",t)})});var I3=fe((Due,Oue)=>{(function(r){typeof Due=="object"&&typeof Oue=="object"?r(ya(),S0()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../css/css"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("sass",function(e){var t=r.mimeModes["text/css"],n=t.propertyKeywords||{},i=t.colorKeywords||{},a=t.valueKeywords||{},l=t.fontProperties||{};function h(de){return new RegExp("^"+de.join("|"))}var b=["true","false","null","auto"],S=new RegExp("^"+b.join("|")),E=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],O=h(E),P=/^::?[a-zA-Z_][\w\-]*/,q;function z(de){return!de.peek()||de.match(/\s+$/,!1)}function N(de,he){var be=de.peek();return be===")"?(de.next(),he.tokenizer=me,"operator"):be==="("?(de.next(),de.eatSpace(),"operator"):be==="'"||be==='"'?(he.tokenizer=Y(de.next()),"string"):(he.tokenizer=Y(")",!1),"string")}function V(de,he){return function(be,xe){return be.sol()&&be.indentation()<=de?(xe.tokenizer=me,me(be,xe)):(he&&be.skipTo("*/")?(be.next(),be.next(),xe.tokenizer=me):be.skipToEnd(),"comment")}}function Y(de,he){he==null&&(he=!0);function be(xe,We){var R=xe.next(),G=xe.peek(),ae=xe.string.charAt(xe.pos-2),Ce=R!=="\\"&&G===de||R===de&&ae!=="\\";return Ce?(R!==de&&he&&xe.next(),z(xe)&&(We.cursorHalf=0),We.tokenizer=me,"string"):R==="#"&&G==="{"?(We.tokenizer=J(be),xe.next(),"operator"):"string"}return be}function J(de){return function(he,be){return he.peek()==="}"?(he.next(),be.tokenizer=de,"operator"):me(he,be)}}function se(de){if(de.indentCount==0){de.indentCount++;var he=de.scopes[0].offset,be=he+e.indentUnit;de.scopes.unshift({offset:be})}}function _(de){de.scopes.length!=1&&de.scopes.shift()}function me(de,he){var be=de.peek();if(de.match("/*"))return he.tokenizer=V(de.indentation(),!0),he.tokenizer(de,he);if(de.match("//"))return he.tokenizer=V(de.indentation(),!1),he.tokenizer(de,he);if(de.match("#{"))return he.tokenizer=J(me),"operator";if(be==='"'||be==="'")return de.next(),he.tokenizer=Y(be),"string";if(he.cursorHalf){if(be==="#"&&(de.next(),de.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))||de.match(/^-?[0-9\.]+/))return z(de)&&(he.cursorHalf=0),"number";if(de.match(/^(px|em|in)\b/))return z(de)&&(he.cursorHalf=0),"unit";if(de.match(S))return z(de)&&(he.cursorHalf=0),"keyword";if(de.match(/^url/)&&de.peek()==="(")return he.tokenizer=N,z(de)&&(he.cursorHalf=0),"atom";if(be==="$")return de.next(),de.eatWhile(/[\w-]/),z(de)&&(he.cursorHalf=0),"variable-2";if(be==="!")return de.next(),he.cursorHalf=0,de.match(/^[\w]+/)?"keyword":"operator";if(de.match(O))return z(de)&&(he.cursorHalf=0),"operator";if(de.eatWhile(/[\w-]/))return z(de)&&(he.cursorHalf=0),q=de.current().toLowerCase(),a.hasOwnProperty(q)?"atom":i.hasOwnProperty(q)?"keyword":n.hasOwnProperty(q)?(he.prevProp=de.current().toLowerCase(),"property"):"tag";if(z(de))return he.cursorHalf=0,null}else{if(be==="-"&&de.match(/^-\w+-/))return"meta";if(be==="."){if(de.next(),de.match(/^[\w-]+/))return se(he),"qualifier";if(de.peek()==="#")return se(he),"tag"}if(be==="#"){if(de.next(),de.match(/^[\w-]+/))return se(he),"builtin";if(de.peek()==="#")return se(he),"tag"}if(be==="$")return de.next(),de.eatWhile(/[\w-]/),"variable-2";if(de.match(/^-?[0-9\.]+/))return"number";if(de.match(/^(px|em|in)\b/))return"unit";if(de.match(S))return"keyword";if(de.match(/^url/)&&de.peek()==="(")return he.tokenizer=N,"atom";if(be==="="&&de.match(/^=[\w-]+/))return se(he),"meta";if(be==="+"&&de.match(/^\+[\w-]+/))return"variable-3";if(be==="@"&&de.match(/@extend/)&&(de.match(/\s*[\w]/)||_(he)),de.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return se(he),"def";if(be==="@")return de.next(),de.eatWhile(/[\w-]/),"def";if(de.eatWhile(/[\w-]/))if(de.match(/ *: *[\w-\+\$#!\("']/,!1)){q=de.current().toLowerCase();var xe=he.prevProp+"-"+q;return n.hasOwnProperty(xe)?"property":n.hasOwnProperty(q)?(he.prevProp=q,"property"):l.hasOwnProperty(q)?"property":"tag"}else return de.match(/ *:/,!1)?(se(he),he.cursorHalf=1,he.prevProp=de.current().toLowerCase(),"property"):(de.match(/ *,/,!1)||se(he),"tag");if(be===":")return de.match(P)?"variable-3":(de.next(),he.cursorHalf=1,"operator")}return de.match(O)?"operator":(de.next(),null)}function ne(de,he){de.sol()&&(he.indentCount=0);var be=he.tokenizer(de,he),xe=de.current();if((xe==="@return"||xe==="}")&&_(he),be!==null){for(var We=de.pos-xe.length,R=We+e.indentUnit*he.indentCount,G=[],ae=0;ae<he.scopes.length;ae++){var Ce=he.scopes[ae];Ce.offset<=R&&G.push(Ce)}he.scopes=G}return be}return{startState:function(){return{tokenizer:me,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(de,he){var be=ne(de,he);return he.lastToken={style:be,content:de.current()},be},indent:function(de){return de.scopes[0].offset}}},"css"),r.defineMIME("text/x-sass","sass")})});var Pue=fe((Iue,Mue)=>{(function(r){typeof Iue=="object"&&typeof Mue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("shell",function(){var e={};function t(P,q){for(var z=0;z<q.length;z++)e[q[z]]=P}var n=["true","false"],i=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],a=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];r.registerHelper("hintWords","shell",n.concat(i,a)),t("atom",n),t("keyword",i),t("builtin",a);function l(P,q){if(P.eatSpace())return null;var z=P.sol(),N=P.next();if(N==="\\")return P.next(),null;if(N==="'"||N==='"'||N==="`")return q.tokens.unshift(h(N,N==="`"?"quote":"string")),O(P,q);if(N==="#")return z&&P.eat("!")?(P.skipToEnd(),"meta"):(P.skipToEnd(),"comment");if(N==="$")return q.tokens.unshift(S),O(P,q);if(N==="+"||N==="=")return"operator";if(N==="-")return P.eat("-"),P.eatWhile(/\w/),"attribute";if(N=="<"){if(P.match("<<"))return"operator";var V=P.match(/^<-?\s*['"]?([^'"]*)['"]?/);if(V)return q.tokens.unshift(E(V[1])),"string-2"}if(/\d/.test(N)&&(P.eatWhile(/\d/),P.eol()||!/\w/.test(P.peek())))return"number";P.eatWhile(/[\w-]/);var Y=P.current();return P.peek()==="="&&/\w+/.test(Y)?"def":e.hasOwnProperty(Y)?e[Y]:null}function h(P,q){var z=P=="("?")":P=="{"?"}":P;return function(N,V){for(var Y,J=!1;(Y=N.next())!=null;){if(Y===z&&!J){V.tokens.shift();break}else if(Y==="$"&&!J&&P!=="'"&&N.peek()!=z){J=!0,N.backUp(1),V.tokens.unshift(S);break}else{if(!J&&P!==z&&Y===P)return V.tokens.unshift(h(P,q)),O(N,V);if(!J&&/['"]/.test(Y)&&!/['"]/.test(P)){V.tokens.unshift(b(Y,"string")),N.backUp(1);break}}J=!J&&Y==="\\"}return q}}function b(P,q){return function(z,N){return N.tokens[0]=h(P,q),z.next(),O(z,N)}}var S=function(P,q){q.tokens.length>1&&P.eat("$");var z=P.next();return/['"({]/.test(z)?(q.tokens[0]=h(z,z=="("?"quote":z=="{"?"def":"string"),O(P,q)):(/\d/.test(z)||P.eatWhile(/\w/),q.tokens.shift(),"def")};function E(P){return function(q,z){return q.sol()&&q.string==P&&z.tokens.shift(),q.skipToEnd(),"string-2"}}function O(P,q){return(q.tokens[0]||l)(P,q)}return{startState:function(){return{tokens:[]}},token:function(P,q){return O(P,q)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),r.defineMIME("text/x-sh","shell"),r.defineMIME("application/x-sh","shell")})});var Fue=fe((Lue,Rue)=>{(function(r){typeof Lue=="object"&&typeof Rue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("sql",function(b,S){var E=S.client||{},O=S.atoms||{false:!0,true:!0,null:!0},P=S.builtin||l(h),q=S.keywords||l(a),z=S.operatorChars||/^[*+\-%<>!=&|~^\/]/,N=S.support||{},V=S.hooks||{},Y=S.dateSQL||{date:!0,time:!0,timestamp:!0},J=S.backslashStringEscapes!==!1,se=S.brackets||/^[\{}\(\)\[\]]/,_=S.punctuation||/^[;.,:]/;function me(xe,We){var R=xe.next();if(V[R]){var G=V[R](xe,We);if(G!==!1)return G}if(N.hexNumber&&(R=="0"&&xe.match(/^[xX][0-9a-fA-F]+/)||(R=="x"||R=="X")&&xe.match(/^'[0-9a-fA-F]+'/)))return"number";if(N.binaryNumber&&((R=="b"||R=="B")&&xe.match(/^'[01]+'/)||R=="0"&&xe.match(/^b[01]+/)))return"number";if(R.charCodeAt(0)>47&&R.charCodeAt(0)<58)return xe.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),N.decimallessFloat&&xe.match(/^\.(?!\.)/),"number";if(R=="?"&&(xe.eatSpace()||xe.eol()||xe.eat(";")))return"variable-3";if(R=="'"||R=='"'&&N.doubleQuote)return We.tokenize=ne(R),We.tokenize(xe,We);if((N.nCharCast&&(R=="n"||R=="N")||N.charsetCast&&R=="_"&&xe.match(/[a-z][a-z0-9]*/i))&&(xe.peek()=="'"||xe.peek()=='"'))return"keyword";if(N.escapeConstant&&(R=="e"||R=="E")&&(xe.peek()=="'"||xe.peek()=='"'&&N.doubleQuote))return We.tokenize=function(Ce,re){return(re.tokenize=ne(Ce.next(),!0))(Ce,re)},"keyword";if(N.commentSlashSlash&&R=="/"&&xe.eat("/"))return xe.skipToEnd(),"comment";if(N.commentHash&&R=="#"||R=="-"&&xe.eat("-")&&(!N.commentSpaceRequired||xe.eat(" ")))return xe.skipToEnd(),"comment";if(R=="/"&&xe.eat("*"))return We.tokenize=de(1),We.tokenize(xe,We);if(R=="."){if(N.zerolessFloat&&xe.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(xe.match(/^\.+/))return null;if(N.ODBCdotTable&&xe.match(/^[\w\d_$#]+/))return"variable-2"}else{if(z.test(R))return xe.eatWhile(z),"operator";if(se.test(R))return"bracket";if(_.test(R))return xe.eatWhile(_),"punctuation";if(R=="{"&&(xe.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||xe.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";xe.eatWhile(/^[_\w\d]/);var ae=xe.current().toLowerCase();return Y.hasOwnProperty(ae)&&(xe.match(/^( )+'[^']*'/)||xe.match(/^( )+"[^"]*"/))?"number":O.hasOwnProperty(ae)?"atom":P.hasOwnProperty(ae)?"builtin":q.hasOwnProperty(ae)?"keyword":E.hasOwnProperty(ae)?"string-2":null}}function ne(xe,We){return function(R,G){for(var ae=!1,Ce;(Ce=R.next())!=null;){if(Ce==xe&&!ae){G.tokenize=me;break}ae=(J||We)&&!ae&&Ce=="\\"}return"string"}}function de(xe){return function(We,R){var G=We.match(/^.*?(\/\*|\*\/)/);return G?G[1]=="/*"?R.tokenize=de(xe+1):xe>1?R.tokenize=de(xe-1):R.tokenize=me:We.skipToEnd(),"comment"}}function he(xe,We,R){We.context={prev:We.context,indent:xe.indentation(),col:xe.column(),type:R}}function be(xe){xe.indent=xe.context.indent,xe.context=xe.context.prev}return{startState:function(){return{tokenize:me,context:null}},token:function(xe,We){if(xe.sol()&&We.context&&We.context.align==null&&(We.context.align=!1),We.tokenize==me&&xe.eatSpace())return null;var R=We.tokenize(xe,We);if(R=="comment")return R;We.context&&We.context.align==null&&(We.context.align=!0);var G=xe.current();return G=="("?he(xe,We,")"):G=="["?he(xe,We,"]"):We.context&&We.context.type==G&&be(We),R},indent:function(xe,We){var R=xe.context;if(!R)return r.Pass;var G=We.charAt(0)==R.type;return R.align?R.col+(G?0:1):R.indent+(G?0:b.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:N.commentSlashSlash?"//":N.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}});function e(b){for(var S;(S=b.next())!=null;)if(S=="`"&&!b.eat("`"))return"variable-2";return b.backUp(b.current().length-1),b.eatWhile(/\w/)?"variable-2":null}function t(b){for(var S;(S=b.next())!=null;)if(S=='"'&&!b.eat('"'))return"variable-2";return b.backUp(b.current().length-1),b.eatWhile(/\w/)?"variable-2":null}function n(b){return b.eat("@")&&(b.match(/^session\./),b.match(/^local\./),b.match(/^global\./)),b.eat("'")?(b.match(/^.*'/),"variable-2"):b.eat('"')?(b.match(/^.*"/),"variable-2"):b.eat("`")?(b.match(/^.*`/),"variable-2"):b.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function i(b){return b.eat("N")?"atom":b.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var a="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function l(b){for(var S={},E=b.split(" "),O=0;O<E.length;++O)S[E[O]]=!0;return S}var h="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";r.defineMIME("text/x-sql",{name:"sql",keywords:l(a+"begin"),builtin:l(h),atoms:l("false true null unknown"),dateSQL:l("date time timestamp"),support:l("ODBCdotTable doubleQuote binaryNumber hexNumber")}),r.defineMIME("text/x-mssql",{name:"sql",client:l("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:l(a+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:l("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:l("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:l("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":n}}),r.defineMIME("text/x-mysql",{name:"sql",client:l("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:l(a+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:l("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:l("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:l("date time timestamp"),support:l("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":e,"\\":i}}),r.defineMIME("text/x-mariadb",{name:"sql",client:l("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:l(a+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:l("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:l("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:l("date time timestamp"),support:l("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":e,"\\":i}}),r.defineMIME("text/x-sqlite",{name:"sql",client:l("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:l(a+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:l("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:l("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:l("date time timestamp datetime"),support:l("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":n,":":n,"?":n,$:n,'"':t,"`":e}}),r.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:l("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:l("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:l("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:l("commentSlashSlash decimallessFloat"),hooks:{}}),r.defineMIME("text/x-plsql",{name:"sql",client:l("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:l("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:l("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:l("date time timestamp"),support:l("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),r.defineMIME("text/x-hive",{name:"sql",keywords:l("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:l("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:l("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:l("date timestamp"),support:l("ODBCdotTable doubleQuote binaryNumber hexNumber")}),r.defineMIME("text/x-pgsql",{name:"sql",client:l("source"),keywords:l(a+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:l("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:l("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:l("date time timestamp"),support:l("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),r.defineMIME("text/x-gql",{name:"sql",keywords:l("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:l("false true"),builtin:l("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),r.defineMIME("text/x-gpsql",{name:"sql",client:l("source"),keywords:l("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:l("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:l("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:l("date time timestamp"),support:l("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),r.defineMIME("text/x-sparksql",{name:"sql",keywords:l("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:l("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:l("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:l("date time timestamp"),support:l("ODBCdotTable doubleQuote zerolessFloat")}),r.defineMIME("text/x-esper",{name:"sql",client:l("source"),keywords:l("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:l("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:l("time"),support:l("decimallessFloat zerolessFloat binaryNumber hexNumber")})})});var Nue=fe((que,zue)=>{(function(r){typeof que=="object"&&typeof zue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.overlayMode=function(e,t,n){return{startState:function(){return{base:r.startState(e),overlay:r.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:r.copyState(e,i.base),overlay:r.copyState(t,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(i,a){return(i!=a.streamSeen||Math.min(a.basePos,a.overlayPos)<i.start)&&(a.streamSeen=i,a.basePos=a.overlayPos=i.start),i.start==a.basePos&&(a.baseCur=e.token(i,a.base),a.basePos=i.pos),i.start==a.overlayPos&&(i.pos=i.start,a.overlayCur=t.token(i,a.overlay),a.overlayPos=i.pos),i.pos=Math.min(a.basePos,a.overlayPos),a.overlayCur==null?a.baseCur:a.baseCur!=null&&a.overlay.combineTokens||n&&a.overlay.combineTokens==null?a.baseCur+" "+a.overlayCur:a.overlayCur},indent:e.indent&&function(i,a,l){return e.indent(i.base,a,l)},electricChars:e.electricChars,innerMode:function(i){return{state:i.base,mode:e}},blankLine:function(i){var a,l;return e.blankLine&&(a=e.blankLine(i.base)),t.blankLine&&(l=t.blankLine(i.overlay)),l==null?a:n&&a!=null?a+" "+l:l}}}})});var Uue=fe((Bue,jue)=>{(function(r){typeof Bue=="object"&&typeof jue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("coffeescript",function(e,t){var n="error";function i(he){return new RegExp("^(("+he.join(")|(")+"))\\b")}var a=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,l=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,h=/^[_A-Za-z$][_A-Za-z$0-9]*/,b=/^@[_A-Za-z$][_A-Za-z$0-9]*/,S=i(["and","or","not","is","isnt","in","instanceof","typeof"]),E=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],O=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],P=i(E.concat(O));E=i(E);var q=/^('{3}|\"{3}|['\"])/,z=/^(\/{3}|\/)/,N=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],V=i(N);function Y(he,be){if(he.sol()){be.scope.align===null&&(be.scope.align=!1);var xe=be.scope.offset;if(he.eatSpace()){var We=he.indentation();return We>xe&&be.scope.type=="coffee"?"indent":We<xe?"dedent":null}else xe>0&&me(he,be)}if(he.eatSpace())return null;var R=he.peek();if(he.match("####"))return he.skipToEnd(),"comment";if(he.match("###"))return be.tokenize=se,be.tokenize(he,be);if(R==="#")return he.skipToEnd(),"comment";if(he.match(/^-?[0-9\.]/,!1)){var G=!1;if(he.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(G=!0),he.match(/^-?\d+\.\d*/)&&(G=!0),he.match(/^-?\.\d+/)&&(G=!0),G)return he.peek()=="."&&he.backUp(1),"number";var ae=!1;if(he.match(/^-?0x[0-9a-f]+/i)&&(ae=!0),he.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(ae=!0),he.match(/^-?0(?![\dx])/i)&&(ae=!0),ae)return"number"}if(he.match(q))return be.tokenize=J(he.current(),!1,"string"),be.tokenize(he,be);if(he.match(z)){if(he.current()!="/"||he.match(/^.*\//,!1))return be.tokenize=J(he.current(),!0,"string-2"),be.tokenize(he,be);he.backUp(1)}return he.match(a)||he.match(S)?"operator":he.match(l)?"punctuation":he.match(V)?"atom":he.match(b)||be.prop&&he.match(h)?"property":he.match(P)?"keyword":he.match(h)?"variable":(he.next(),n)}function J(he,be,xe){return function(We,R){for(;!We.eol();)if(We.eatWhile(/[^'"\/\\]/),We.eat("\\")){if(We.next(),be&&We.eol())return xe}else{if(We.match(he))return R.tokenize=Y,xe;We.eat(/['"\/]/)}return be&&(t.singleLineStringErrors?xe=n:R.tokenize=Y),xe}}function se(he,be){for(;!he.eol();){if(he.eatWhile(/[^#]/),he.match("###")){be.tokenize=Y;break}he.eatWhile("#")}return"comment"}function _(he,be,xe){xe=xe||"coffee";for(var We=0,R=!1,G=null,ae=be.scope;ae;ae=ae.prev)if(ae.type==="coffee"||ae.type=="}"){We=ae.offset+e.indentUnit;break}xe!=="coffee"?(R=null,G=he.column()+he.current().length):be.scope.align&&(be.scope.align=!1),be.scope={offset:We,type:xe,prev:be.scope,align:R,alignOffset:G}}function me(he,be){if(!!be.scope.prev)if(be.scope.type==="coffee"){for(var xe=he.indentation(),We=!1,R=be.scope;R;R=R.prev)if(xe===R.offset){We=!0;break}if(!We)return!0;for(;be.scope.prev&&be.scope.offset!==xe;)be.scope=be.scope.prev;return!1}else return be.scope=be.scope.prev,!1}function ne(he,be){var xe=be.tokenize(he,be),We=he.current();We==="return"&&(be.dedent=!0),((We==="->"||We==="=>")&&he.eol()||xe==="indent")&&_(he,be);var R="[({".indexOf(We);if(R!==-1&&_(he,be,"])}".slice(R,R+1)),E.exec(We)&&_(he,be),We=="then"&&me(he,be),xe==="dedent"&&me(he,be))return n;if(R="])}".indexOf(We),R!==-1){for(;be.scope.type=="coffee"&&be.scope.prev;)be.scope=be.scope.prev;be.scope.type==We&&(be.scope=be.scope.prev)}return be.dedent&&he.eol()&&(be.scope.type=="coffee"&&be.scope.prev&&(be.scope=be.scope.prev),be.dedent=!1),xe}var de={startState:function(he){return{tokenize:Y,scope:{offset:he||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(he,be){var xe=be.scope.align===null&&be.scope;xe&&he.sol()&&(xe.align=!1);var We=ne(he,be);return We&&We!="comment"&&(xe&&(xe.align=!0),be.prop=We=="punctuation"&&he.current()=="."),We},indent:function(he,be){if(he.tokenize!=Y)return 0;var xe=he.scope,We=be&&"])}".indexOf(be.charAt(0))>-1;if(We)for(;xe.type=="coffee"&&xe.prev;)xe=xe.prev;var R=We&&xe.type===be.charAt(0);return xe.align?xe.alignOffset-(R?1:0):(R?xe.prev:xe).offset},lineComment:"#",fold:"indent"};return de}),r.defineMIME("application/vnd.coffeescript","coffeescript"),r.defineMIME("text/x-coffeescript","coffeescript"),r.defineMIME("text/coffeescript","coffeescript")})});var Vue=fe((Hue,Wue)=>{(function(r){typeof Hue=="object"&&typeof Wue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("stylus",function(J){for(var se=J.indentUnit,_="",me=V(e),ne=/^(a|b|i|s|col|em)$/i,de=V(a),he=V(l),be=V(S),xe=V(b),We=V(t),R=N(t),G=V(i),ae=V(n),Ce=V(h),re=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,ie=N(E),pe=V(O),je=new RegExp(/^\-(moz|ms|o|webkit)-/i),K=V(P),W="",Ze={},ot,et,Pt,Tt;_.length<se;)_+=" ";function Ht(Ve,at){if(W=Ve.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),at.context.line.firstWord=W?W[0].replace(/^\s*/,""):"",at.context.line.indent=Ve.indentation(),ot=Ve.peek(),Ve.match("//"))return Ve.skipToEnd(),["comment","comment"];if(Ve.match("/*"))return at.tokenize=Lt,Lt(Ve,at);if(ot=='"'||ot=="'")return Ve.next(),at.tokenize=tr(ot),at.tokenize(Ve,at);if(ot=="@")return Ve.next(),Ve.eatWhile(/[\w\\-]/),["def",Ve.current()];if(ot=="#"){if(Ve.next(),Ve.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(Ve.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return Ve.match(je)?["meta","vendor-prefixes"]:Ve.match(/^-?[0-9]?\.?[0-9]/)?(Ve.eatWhile(/[a-z%]/i),["number","unit"]):ot=="!"?(Ve.next(),[Ve.match(/^(important|optional)/i)?"keyword":"operator","important"]):ot=="."&&Ve.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:Ve.match(R)?(Ve.peek()=="("&&(at.tokenize=or),["property","word"]):Ve.match(/^[a-z][\w-]*\(/i)?(Ve.backUp(1),["keyword","mixin"]):Ve.match(/^(\+|-)[a-z][\w-]*\(/i)?(Ve.backUp(1),["keyword","block-mixin"]):Ve.string.match(/^\s*&/)&&Ve.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:Ve.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(Ve.backUp(1),["variable-3","reference"]):Ve.match(/^&{1}\s*$/)?["variable-3","reference"]:Ve.match(ie)?["operator","operator"]:Ve.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?Ve.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!oe(Ve.current())?(Ve.match(/\./),["variable-2","variable-name"]):["variable-2","word"]:Ve.match(re)?["operator",Ve.current()]:/[:;,{}\[\]\(\)]/.test(ot)?(Ve.next(),[null,ot]):(Ve.next(),[null,null])}function Lt(Ve,at){for(var Ut=!1,vr;(vr=Ve.next())!=null;){if(Ut&&vr=="/"){at.tokenize=null;break}Ut=vr=="*"}return["comment","comment"]}function tr(Ve){return function(at,Ut){for(var vr=!1,Xn;(Xn=at.next())!=null;){if(Xn==Ve&&!vr){Ve==")"&&at.backUp(1);break}vr=!vr&&Xn=="\\"}return(Xn==Ve||!vr&&Ve!=")")&&(Ut.tokenize=null),["string","string"]}}function or(Ve,at){return Ve.next(),Ve.match(/\s*[\"\')]/,!1)?at.tokenize=null:at.tokenize=tr(")"),[null,"("]}function br(Ve,at,Ut,vr){this.type=Ve,this.indent=at,this.prev=Ut,this.line=vr||{firstWord:"",indent:0}}function Kt(Ve,at,Ut,vr){return vr=vr>=0?vr:se,Ve.context=new br(Ut,at.indentation()+vr,Ve.context),Ut}function kt(Ve,at){var Ut=Ve.context.indent-se;return at=at||!1,Ve.context=Ve.context.prev,at&&(Ve.context.indent=Ut),Ve.context.type}function yt(Ve,at,Ut){return Ze[Ut.context.type](Ve,at,Ut)}function rt(Ve,at,Ut,vr){for(var Xn=vr||1;Xn>0;Xn--)Ut.context=Ut.context.prev;return yt(Ve,at,Ut)}function oe(Ve){return Ve.toLowerCase()in me}function ke(Ve){return Ve=Ve.toLowerCase(),Ve in de||Ve in Ce}function qe(Ve){return Ve.toLowerCase()in pe}function Yt(Ve){return Ve.toLowerCase().match(je)}function st(Ve){var at=Ve.toLowerCase(),Ut="variable-2";return oe(Ve)?Ut="tag":qe(Ve)?Ut="block-keyword":ke(Ve)?Ut="property":at in be||at in K?Ut="atom":at=="return"||at in xe?Ut="keyword":Ve.match(/^[A-Z]/)&&(Ut="string"),Ut}function It(Ve,at){return xr(at)&&(Ve=="{"||Ve=="]"||Ve=="hash"||Ve=="qualifier")||Ve=="block-mixin"}function Ct(Ve,at){return Ve=="{"&&at.match(/^\s*\$?[\w-]+/i,!1)}function ur(Ve,at){return Ve==":"&&at.match(/^[a-z-]+/,!1)}function sr(Ve){return Ve.sol()||Ve.string.match(new RegExp("^\\s*"+Y(Ve.current())))}function xr(Ve){return Ve.eol()||Ve.match(/^\s*$/,!1)}function fr(Ve){var at=/^\s*[-_]*[a-z0-9]+[\w-]*/i,Ut=typeof Ve=="string"?Ve.match(at):Ve.string.match(at);return Ut?Ut[0].replace(/^\s*/,""):""}return Ze.block=function(Ve,at,Ut){if(Ve=="comment"&&sr(at)||Ve==","&&xr(at)||Ve=="mixin")return Kt(Ut,at,"block",0);if(Ct(Ve,at))return Kt(Ut,at,"interpolation");if(xr(at)&&Ve=="]"&&!/^\s*(\.|#|:|\[|\*|&)/.test(at.string)&&!oe(fr(at)))return Kt(Ut,at,"block",0);if(It(Ve,at))return Kt(Ut,at,"block");if(Ve=="}"&&xr(at))return Kt(Ut,at,"block",0);if(Ve=="variable-name")return at.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||qe(fr(at))?Kt(Ut,at,"variableName"):Kt(Ut,at,"variableName",0);if(Ve=="=")return!xr(at)&&!qe(fr(at))?Kt(Ut,at,"block",0):Kt(Ut,at,"block");if(Ve=="*"&&(xr(at)||at.match(/\s*(,|\.|#|\[|:|{)/,!1)))return Tt="tag",Kt(Ut,at,"block");if(ur(Ve,at))return Kt(Ut,at,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(Ve))return Kt(Ut,at,xr(at)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(Ve))return Kt(Ut,at,"keyframes");if(/@extends?/.test(Ve))return Kt(Ut,at,"extend",0);if(Ve&&Ve.charAt(0)=="@")return at.indentation()>0&&ke(at.current().slice(1))?(Tt="variable-2","block"):/(@import|@require|@charset)/.test(Ve)?Kt(Ut,at,"block",0):Kt(Ut,at,"block");if(Ve=="reference"&&xr(at))return Kt(Ut,at,"block");if(Ve=="(")return Kt(Ut,at,"parens");if(Ve=="vendor-prefixes")return Kt(Ut,at,"vendorPrefixes");if(Ve=="word"){var vr=at.current();if(Tt=st(vr),Tt=="property")return sr(at)?Kt(Ut,at,"block",0):(Tt="atom","block");if(Tt=="tag"){if(/embed|menu|pre|progress|sub|table/.test(vr)&&ke(fr(at))||at.string.match(new RegExp("\\[\\s*"+vr+"|"+vr+"\\s*\\]")))return Tt="atom","block";if(ne.test(vr)&&(sr(at)&&at.string.match(/=/)||!sr(at)&&!at.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!oe(fr(at))))return Tt="variable-2",qe(fr(at))?"block":Kt(Ut,at,"block",0);if(xr(at))return Kt(Ut,at,"block")}if(Tt=="block-keyword")return Tt="keyword",at.current(/(if|unless)/)&&!sr(at)?"block":Kt(Ut,at,"block");if(vr=="return")return Kt(Ut,at,"block",0);if(Tt=="variable-2"&&at.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return Kt(Ut,at,"block")}return Ut.context.type},Ze.parens=function(Ve,at,Ut){if(Ve=="(")return Kt(Ut,at,"parens");if(Ve==")")return Ut.context.prev.type=="parens"?kt(Ut):at.string.match(/^[a-z][\w-]*\(/i)&&xr(at)||qe(fr(at))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(fr(at))||!at.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&oe(fr(at))?Kt(Ut,at,"block"):at.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||at.string.match(/^\s*(\(|\)|[0-9])/)||at.string.match(/^\s+[a-z][\w-]*\(/i)||at.string.match(/^\s+[\$-]?[a-z]/i)?Kt(Ut,at,"block",0):xr(at)?Kt(Ut,at,"block"):Kt(Ut,at,"block",0);if(Ve&&Ve.charAt(0)=="@"&&ke(at.current().slice(1))&&(Tt="variable-2"),Ve=="word"){var vr=at.current();Tt=st(vr),Tt=="tag"&&ne.test(vr)&&(Tt="variable-2"),(Tt=="property"||vr=="to")&&(Tt="atom")}return Ve=="variable-name"?Kt(Ut,at,"variableName"):ur(Ve,at)?Kt(Ut,at,"pseudo"):Ut.context.type},Ze.vendorPrefixes=function(Ve,at,Ut){return Ve=="word"?(Tt="property",Kt(Ut,at,"block",0)):kt(Ut)},Ze.pseudo=function(Ve,at,Ut){return ke(fr(at.string))?rt(Ve,at,Ut):(at.match(/^[a-z-]+/),Tt="variable-3",xr(at)?Kt(Ut,at,"block"):kt(Ut))},Ze.atBlock=function(Ve,at,Ut){if(Ve=="(")return Kt(Ut,at,"atBlock_parens");if(It(Ve,at))return Kt(Ut,at,"block");if(Ct(Ve,at))return Kt(Ut,at,"interpolation");if(Ve=="word"){var vr=at.current().toLowerCase();if(/^(only|not|and|or)$/.test(vr)?Tt="keyword":We.hasOwnProperty(vr)?Tt="tag":ae.hasOwnProperty(vr)?Tt="attribute":G.hasOwnProperty(vr)?Tt="property":he.hasOwnProperty(vr)?Tt="string-2":Tt=st(at.current()),Tt=="tag"&&xr(at))return Kt(Ut,at,"block")}return Ve=="operator"&&/^(not|and|or)$/.test(at.current())&&(Tt="keyword"),Ut.context.type},Ze.atBlock_parens=function(Ve,at,Ut){if(Ve=="{"||Ve=="}")return Ut.context.type;if(Ve==")")return xr(at)?Kt(Ut,at,"block"):Kt(Ut,at,"atBlock");if(Ve=="word"){var vr=at.current().toLowerCase();return Tt=st(vr),/^(max|min)/.test(vr)&&(Tt="property"),Tt=="tag"&&(ne.test(vr)?Tt="variable-2":Tt="atom"),Ut.context.type}return Ze.atBlock(Ve,at,Ut)},Ze.keyframes=function(Ve,at,Ut){return at.indentation()=="0"&&(Ve=="}"&&sr(at)||Ve=="]"||Ve=="hash"||Ve=="qualifier"||oe(at.current()))?rt(Ve,at,Ut):Ve=="{"?Kt(Ut,at,"keyframes"):Ve=="}"?sr(at)?kt(Ut,!0):Kt(Ut,at,"keyframes"):Ve=="unit"&&/^[0-9]+\%$/.test(at.current())?Kt(Ut,at,"keyframes"):Ve=="word"&&(Tt=st(at.current()),Tt=="block-keyword")?(Tt="keyword",Kt(Ut,at,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(Ve)?Kt(Ut,at,xr(at)?"block":"atBlock"):Ve=="mixin"?Kt(Ut,at,"block",0):Ut.context.type},Ze.interpolation=function(Ve,at,Ut){return Ve=="{"&&kt(Ut)&&Kt(Ut,at,"block"),Ve=="}"?at.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||at.string.match(/^\s*[a-z]/i)&&oe(fr(at))?Kt(Ut,at,"block"):!at.string.match(/^(\{|\s*\&)/)||at.match(/\s*[\w-]/,!1)?Kt(Ut,at,"block",0):Kt(Ut,at,"block"):Ve=="variable-name"?Kt(Ut,at,"variableName",0):(Ve=="word"&&(Tt=st(at.current()),Tt=="tag"&&(Tt="atom")),Ut.context.type)},Ze.extend=function(Ve,at,Ut){return Ve=="["||Ve=="="?"extend":Ve=="]"?kt(Ut):Ve=="word"?(Tt=st(at.current()),"extend"):kt(Ut)},Ze.variableName=function(Ve,at,Ut){return Ve=="string"||Ve=="["||Ve=="]"||at.current().match(/^(\.|\$)/)?(at.current().match(/^\.[\w-]+/i)&&(Tt="variable-2"),"variableName"):rt(Ve,at,Ut)},{startState:function(Ve){return{tokenize:null,state:"block",context:new br("block",Ve||0,null)}},token:function(Ve,at){return!at.tokenize&&Ve.eatSpace()?null:(et=(at.tokenize||Ht)(Ve,at),et&&typeof et=="object"&&(Pt=et[1],et=et[0]),Tt=et,at.state=Ze[at.state](Pt,Ve,at),Tt)},indent:function(Ve,at,Ut){var vr=Ve.context,Xn=at&&at.charAt(0),_r=vr.indent,$r=fr(at),gt=Ut.match(/^\s*/)[0].replace(/\t/g,_).length,Dt=Ve.context.prev?Ve.context.prev.line.firstWord:"",hr=Ve.context.prev?Ve.context.prev.line.indent:gt;return vr.prev&&(Xn=="}"&&(vr.type=="block"||vr.type=="atBlock"||vr.type=="keyframes")||Xn==")"&&(vr.type=="parens"||vr.type=="atBlock_parens")||Xn=="{"&&vr.type=="at")?_r=vr.indent-se:/(\})/.test(Xn)||(/@|\$|\d/.test(Xn)||/^\{/.test(at)||/^\s*\/(\/|\*)/.test(at)||/^\s*\/\*/.test(Dt)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(at)||/^(\+|-)?[a-z][\w-]*\(/i.test(at)||/^return/.test(at)||qe($r)?_r=gt:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(Xn)||oe($r)?/\,\s*$/.test(Dt)?_r=hr:/^\s+/.test(Ut)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(Dt)||oe(Dt))?_r=gt<=hr?hr:hr+se:_r=gt:!/,\s*$/.test(Ut)&&(Yt($r)||ke($r))&&(qe(Dt)?_r=gt<=hr?hr:hr+se:/^\{/.test(Dt)?_r=gt<=hr?gt:hr+se:Yt(Dt)||ke(Dt)?_r=gt>=hr?hr:gt:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(Dt)||/=\s*$/.test(Dt)||oe(Dt)||/^\$[\w-\.\[\]\'\"]/.test(Dt)?_r=hr+se:_r=gt)),_r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"indent"}});var e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],t=["domain","regexp","url-prefix","url"],n=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],a=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],l=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],h=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],S=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],E=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],O=["for","if","else","unless","from","to"],P=["null","true","false","href","title","type","not-allowed","readonly","disabled"],q=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],z=e.concat(t,n,i,a,l,b,S,h,E,O,P,q);function N(J){return J=J.sort(function(se,_){return _>se}),new RegExp("^(("+J.join(")|(")+"))\\b")}function V(J){for(var se={},_=0;_<J.length;++_)se[J[_]]=!0;return se}function Y(J){return J.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}r.registerHelper("hintWords","stylus",z),r.defineMIME("text/x-styl","stylus")})});var Kue=fe(($ue,Gue)=>{(function(r){typeof $ue=="object"&&typeof Gue=="object"?r(ya(),Sw(),S0(),wA()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../javascript/javascript","../css/css","../htmlmixed/htmlmixed"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("pug",function(e){var t="keyword",n="meta",i="builtin",a="qualifier",l={"{":"}","(":")","[":"]"},h=r.getMode(e,"javascript");function b(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=r.startState(h),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}b.prototype.copy=function(){var oe=new b;return oe.javaScriptLine=this.javaScriptLine,oe.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,oe.javaScriptArguments=this.javaScriptArguments,oe.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,oe.isInterpolating=this.isInterpolating,oe.interpolationNesting=this.interpolationNesting,oe.jsState=r.copyState(h,this.jsState),oe.innerMode=this.innerMode,this.innerMode&&this.innerState&&(oe.innerState=r.copyState(this.innerMode,this.innerState)),oe.restOfLine=this.restOfLine,oe.isIncludeFiltered=this.isIncludeFiltered,oe.isEach=this.isEach,oe.lastTag=this.lastTag,oe.scriptType=this.scriptType,oe.isAttrs=this.isAttrs,oe.attrsNest=this.attrsNest.slice(),oe.inAttributeName=this.inAttributeName,oe.attributeIsType=this.attributeIsType,oe.attrValue=this.attrValue,oe.indentOf=this.indentOf,oe.indentToken=this.indentToken,oe.innerModeForLine=this.innerModeForLine,oe};function S(oe,ke){if(oe.sol()&&(ke.javaScriptLine=!1,ke.javaScriptLineExcludesColon=!1),ke.javaScriptLine){if(ke.javaScriptLineExcludesColon&&oe.peek()===":"){ke.javaScriptLine=!1,ke.javaScriptLineExcludesColon=!1;return}var qe=h.token(oe,ke.jsState);return oe.eol()&&(ke.javaScriptLine=!1),qe||!0}}function E(oe,ke){if(ke.javaScriptArguments){if(ke.javaScriptArgumentsDepth===0&&oe.peek()!=="("){ke.javaScriptArguments=!1;return}if(oe.peek()==="("?ke.javaScriptArgumentsDepth++:oe.peek()===")"&&ke.javaScriptArgumentsDepth--,ke.javaScriptArgumentsDepth===0){ke.javaScriptArguments=!1;return}var qe=h.token(oe,ke.jsState);return qe||!0}}function O(oe){if(oe.match(/^yield\b/))return"keyword"}function P(oe){if(oe.match(/^(?:doctype) *([^\n]+)?/))return n}function q(oe,ke){if(oe.match("#{"))return ke.isInterpolating=!0,ke.interpolationNesting=0,"punctuation"}function z(oe,ke){if(ke.isInterpolating){if(oe.peek()==="}"){if(ke.interpolationNesting--,ke.interpolationNesting<0)return oe.next(),ke.isInterpolating=!1,"punctuation"}else oe.peek()==="{"&&ke.interpolationNesting++;return h.token(oe,ke.jsState)||!0}}function N(oe,ke){if(oe.match(/^case\b/))return ke.javaScriptLine=!0,t}function V(oe,ke){if(oe.match(/^when\b/))return ke.javaScriptLine=!0,ke.javaScriptLineExcludesColon=!0,t}function Y(oe){if(oe.match(/^default\b/))return t}function J(oe,ke){if(oe.match(/^extends?\b/))return ke.restOfLine="string",t}function se(oe,ke){if(oe.match(/^append\b/))return ke.restOfLine="variable",t}function _(oe,ke){if(oe.match(/^prepend\b/))return ke.restOfLine="variable",t}function me(oe,ke){if(oe.match(/^block\b *(?:(prepend|append)\b)?/))return ke.restOfLine="variable",t}function ne(oe,ke){if(oe.match(/^include\b/))return ke.restOfLine="string",t}function de(oe,ke){if(oe.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&oe.match("include"))return ke.isIncludeFiltered=!0,t}function he(oe,ke){if(ke.isIncludeFiltered){var qe=ie(oe,ke);return ke.isIncludeFiltered=!1,ke.restOfLine="string",qe}}function be(oe,ke){if(oe.match(/^mixin\b/))return ke.javaScriptLine=!0,t}function xe(oe,ke){if(oe.match(/^\+([-\w]+)/))return oe.match(/^\( *[-\w]+ *=/,!1)||(ke.javaScriptArguments=!0,ke.javaScriptArgumentsDepth=0),"variable";if(oe.match(/^\+#{/,!1))return oe.next(),ke.mixinCallAfter=!0,q(oe,ke)}function We(oe,ke){if(ke.mixinCallAfter)return ke.mixinCallAfter=!1,oe.match(/^\( *[-\w]+ *=/,!1)||(ke.javaScriptArguments=!0,ke.javaScriptArgumentsDepth=0),!0}function R(oe,ke){if(oe.match(/^(if|unless|else if|else)\b/))return ke.javaScriptLine=!0,t}function G(oe,ke){if(oe.match(/^(- *)?(each|for)\b/))return ke.isEach=!0,t}function ae(oe,ke){if(ke.isEach){if(oe.match(/^ in\b/))return ke.javaScriptLine=!0,ke.isEach=!1,t;if(oe.sol()||oe.eol())ke.isEach=!1;else if(oe.next()){for(;!oe.match(/^ in\b/,!1)&&oe.next(););return"variable"}}}function Ce(oe,ke){if(oe.match(/^while\b/))return ke.javaScriptLine=!0,t}function re(oe,ke){var qe;if(qe=oe.match(/^(\w(?:[-:\w]*\w)?)\/?/))return ke.lastTag=qe[1].toLowerCase(),ke.lastTag==="script"&&(ke.scriptType="application/javascript"),"tag"}function ie(oe,ke){if(oe.match(/^:([\w\-]+)/)){var qe;return e&&e.innerModes&&(qe=e.innerModes(oe.current().substring(1))),qe||(qe=oe.current().substring(1)),typeof qe=="string"&&(qe=r.getMode(e,qe)),or(oe,ke,qe),"atom"}}function pe(oe,ke){if(oe.match(/^(!?=|-)/))return ke.javaScriptLine=!0,"punctuation"}function je(oe){if(oe.match(/^#([\w-]+)/))return i}function K(oe){if(oe.match(/^\.([\w-]+)/))return a}function W(oe,ke){if(oe.peek()=="(")return oe.next(),ke.isAttrs=!0,ke.attrsNest=[],ke.inAttributeName=!0,ke.attrValue="",ke.attributeIsType=!1,"punctuation"}function Ze(oe,ke){if(ke.isAttrs){if(l[oe.peek()]&&ke.attrsNest.push(l[oe.peek()]),ke.attrsNest[ke.attrsNest.length-1]===oe.peek())ke.attrsNest.pop();else if(oe.eat(")"))return ke.isAttrs=!1,"punctuation";if(ke.inAttributeName&&oe.match(/^[^=,\)!]+/))return(oe.peek()==="="||oe.peek()==="!")&&(ke.inAttributeName=!1,ke.jsState=r.startState(h),ke.lastTag==="script"&&oe.current().trim().toLowerCase()==="type"?ke.attributeIsType=!0:ke.attributeIsType=!1),"attribute";var qe=h.token(oe,ke.jsState);if(ke.attributeIsType&&qe==="string"&&(ke.scriptType=oe.current().toString()),ke.attrsNest.length===0&&(qe==="string"||qe==="variable"||qe==="keyword"))try{return Function("","var x "+ke.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),ke.inAttributeName=!0,ke.attrValue="",oe.backUp(oe.current().length),Ze(oe,ke)}catch{}return ke.attrValue+=oe.current(),qe||!0}}function ot(oe,ke){if(oe.match(/^&attributes\b/))return ke.javaScriptArguments=!0,ke.javaScriptArgumentsDepth=0,"keyword"}function et(oe){if(oe.sol()&&oe.eatSpace())return"indent"}function Pt(oe,ke){if(oe.match(/^ *\/\/(-)?([^\n]*)/))return ke.indentOf=oe.indentation(),ke.indentToken="comment","comment"}function Tt(oe){if(oe.match(/^: */))return"colon"}function Ht(oe,ke){if(oe.match(/^(?:\| ?| )([^\n]+)/))return"string";if(oe.match(/^(<[^\n]*)/,!1))return or(oe,ke,"htmlmixed"),ke.innerModeForLine=!0,br(oe,ke,!0)}function Lt(oe,ke){if(oe.eat(".")){var qe=null;return ke.lastTag==="script"&&ke.scriptType.toLowerCase().indexOf("javascript")!=-1?qe=ke.scriptType.toLowerCase().replace(/"|'/g,""):ke.lastTag==="style"&&(qe="css"),or(oe,ke,qe),"dot"}}function tr(oe){return oe.next(),null}function or(oe,ke,qe){qe=r.mimeModes[qe]||qe,qe=e.innerModes&&e.innerModes(qe)||qe,qe=r.mimeModes[qe]||qe,qe=r.getMode(e,qe),ke.indentOf=oe.indentation(),qe&&qe.name!=="null"?ke.innerMode=qe:ke.indentToken="string"}function br(oe,ke,qe){if(oe.indentation()>ke.indentOf||ke.innerModeForLine&&!oe.sol()||qe)return ke.innerMode?(ke.innerState||(ke.innerState=ke.innerMode.startState?r.startState(ke.innerMode,oe.indentation()):{}),oe.hideFirstChars(ke.indentOf+2,function(){return ke.innerMode.token(oe,ke.innerState)||!0})):(oe.skipToEnd(),ke.indentToken);oe.sol()&&(ke.indentOf=1/0,ke.indentToken=null,ke.innerMode=null,ke.innerState=null)}function Kt(oe,ke){if(oe.sol()&&(ke.restOfLine=""),ke.restOfLine){oe.skipToEnd();var qe=ke.restOfLine;return ke.restOfLine="",qe}}function kt(){return new b}function yt(oe){return oe.copy()}function rt(oe,ke){var qe=br(oe,ke)||Kt(oe,ke)||z(oe,ke)||he(oe,ke)||ae(oe,ke)||Ze(oe,ke)||S(oe,ke)||E(oe,ke)||We(oe,ke)||O(oe)||P(oe)||q(oe,ke)||N(oe,ke)||V(oe,ke)||Y(oe)||J(oe,ke)||se(oe,ke)||_(oe,ke)||me(oe,ke)||ne(oe,ke)||de(oe,ke)||be(oe,ke)||xe(oe,ke)||R(oe,ke)||G(oe,ke)||Ce(oe,ke)||re(oe,ke)||ie(oe,ke)||pe(oe,ke)||je(oe)||K(oe)||W(oe,ke)||ot(oe,ke)||et(oe)||Ht(oe,ke)||Pt(oe,ke)||Tt(oe)||Lt(oe,ke)||tr(oe);return qe===!0?null:qe}return{startState:kt,copyState:yt,token:rt}},"javascript","css","htmlmixed"),r.defineMIME("text/x-pug","pug"),r.defineMIME("text/x-jade","pug")})});var Xue=fe((Yue,Zue)=>{(function(r){typeof Yue=="object"&&typeof Zue=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.multiplexingMode=function(e){var t=Array.prototype.slice.call(arguments,1);function n(i,a,l,h){if(typeof a=="string"){var b=i.indexOf(a,l);return h&&b>-1?b+a.length:b}var S=a.exec(l?i.slice(l):i);return S?S.index+l+(h?S[0].length:0):-1}return{startState:function(){return{outer:r.startState(e),innerActive:null,inner:null}},copyState:function(i){return{outer:r.copyState(e,i.outer),innerActive:i.innerActive,inner:i.innerActive&&r.copyState(i.innerActive.mode,i.inner)}},token:function(i,a){if(a.innerActive){var z=a.innerActive,h=i.string;if(!z.close&&i.sol())return a.innerActive=a.inner=null,this.token(i,a);var E=z.close?n(h,z.close,i.pos,z.parseDelimiters):-1;if(E==i.pos&&!z.parseDelimiters)return i.match(z.close),a.innerActive=a.inner=null,z.delimStyle&&z.delimStyle+" "+z.delimStyle+"-close";E>-1&&(i.string=h.slice(0,E));var N=z.mode.token(i,a.inner);return E>-1&&(i.string=h),E==i.pos&&z.parseDelimiters&&(a.innerActive=a.inner=null),z.innerStyle&&(N?N=N+" "+z.innerStyle:N=z.innerStyle),N}else{for(var l=1/0,h=i.string,b=0;b<t.length;++b){var S=t[b],E=n(h,S.open,i.pos);if(E==i.pos){S.parseDelimiters||i.match(S.open),a.innerActive=S;var O=0;if(e.indent){var P=e.indent(a.outer,"","");P!==r.Pass&&(O=P)}return a.inner=r.startState(S.mode,O),S.delimStyle&&S.delimStyle+" "+S.delimStyle+"-open"}else E!=-1&&E<l&&(l=E)}l!=1/0&&(i.string=h.slice(0,l));var q=e.token(i,a.outer);return l!=1/0&&(i.string=h),q}},indent:function(i,a,l){var h=i.innerActive?i.innerActive.mode:e;return h.indent?h.indent(i.innerActive?i.inner:i.outer,a,l):r.Pass},blankLine:function(i){var a=i.innerActive?i.innerActive.mode:e;if(a.blankLine&&a.blankLine(i.innerActive?i.inner:i.outer),i.innerActive)i.innerActive.close===`
`&&(i.innerActive=i.inner=null);else for(var l=0;l<t.length;++l){var h=t[l];h.open===`
`&&(i.innerActive=h,i.inner=r.startState(h.mode,a.indent?a.indent(i.outer,"",""):0))}},electricChars:e.electricChars,innerMode:function(i){return i.inner?{state:i.inner,mode:i.innerActive.mode}:{state:i.outer,mode:e}}}}})});var ece=fe((Jue,Que)=>{(function(r){typeof Jue=="object"&&typeof Que=="object"?r(ya(),O3(),Xue()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple","../../addon/mode/multiplex"],r):r(CodeMirror)})(function(r){"use strict";r.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),r.defineMode("handlebars",function(e,t){var n=r.getMode(e,"handlebars-tags");return!t||!t.base?n:r.multiplexingMode(r.getMode(e,t.base),{open:"{{",close:/\}\}\}?/,mode:n,parseDelimiters:!0})}),r.defineMIME("text/x-handlebars-template","handlebars")})});var nce=fe((tce,rce)=>{(function(r){"use strict";typeof tce=="object"&&typeof rce=="object"?r(ya(),Nue(),ww(),Sw(),Uue(),S0(),I3(),Vue(),Kue(),ece()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/overlay","../xml/xml","../javascript/javascript","../coffeescript/coffeescript","../css/css","../sass/sass","../stylus/stylus","../pug/pug","../handlebars/handlebars"],r):r(CodeMirror)})(function(r){var e={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};r.defineMode("vue-template",function(t,n){var i={token:function(a){if(a.match(/^\{\{.*?\}\}/))return"meta mustache";for(;a.next()&&!a.match("{{",!1););return null}};return r.overlayMode(r.getMode(t,n.backdrop||"text/html"),i)}),r.defineMode("vue",function(t){return r.getMode(t,{name:"htmlmixed",tags:e})},"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),r.defineMIME("script/x-vue","vue"),r.defineMIME("text/x-vue","vue")})});var ace=fe((ice,oce)=>{(function(r){typeof ice=="object"&&typeof oce=="object"?r(ya()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(n,i){var a=n.peek(),l=i.escaped;if(i.escaped=!1,a=="#"&&(n.pos==0||/\s/.test(n.string.charAt(n.pos-1))))return n.skipToEnd(),"comment";if(n.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(i.literal&&n.indentation()>i.keyCol)return n.skipToEnd(),"string";if(i.literal&&(i.literal=!1),n.sol()){if(i.keyCol=0,i.pair=!1,i.pairStart=!1,n.match(/---/)||n.match(/\.\.\./))return"def";if(n.match(/\s*-\s+/))return"meta"}if(n.match(/^(\{|\}|\[|\])/))return a=="{"?i.inlinePairs++:a=="}"?i.inlinePairs--:a=="["?i.inlineList++:i.inlineList--,"meta";if(i.inlineList>0&&!l&&a==",")return n.next(),"meta";if(i.inlinePairs>0&&!l&&a==",")return i.keyCol=0,i.pair=!1,i.pairStart=!1,n.next(),"meta";if(i.pairStart){if(n.match(/^\s*(\||\>)\s*/))return i.literal=!0,"meta";if(n.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(i.inlinePairs==0&&n.match(/^\s*-?[0-9\.\,]+\s?$/)||i.inlinePairs>0&&n.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(n.match(t))return"keyword"}return!i.pair&&n.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(i.pair=!0,i.keyCol=n.indentation(),"atom"):i.pair&&n.match(/^:\s*/)?(i.pairStart=!0,"meta"):(i.pairStart=!1,i.escaped=a=="\\",n.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),r.defineMIME("text/x-yaml","yaml"),r.defineMIME("text/yaml","yaml")})});var ZDt,XDt,JDt,QDt,eOt,tOt,rOt,nOt,iOt,oOt,aOt,sOt,lOt,uOt,sce,SA,lce=He(()=>{ZDt=So(S0()),XDt=So(iue()),JDt=So(wA()),QDt=So(Sw()),eOt=So(gue()),tOt=So(bue()),rOt=So(Cue()),nOt=So(Aue()),iOt=So(I3()),oOt=So(Pue()),aOt=So(Fue()),sOt=So(nce()),lOt=So(ww()),uOt=So(ace());mi();sce=So(ya());b0();SA=class extends qr{connect(){let r={readOnly:Wu(this.elementTarget.dataset.readOnly),mode:this.elementTarget.dataset.language,theme:this.elementTarget.dataset.theme,tabSize:this.elementTarget.dataset.tabSize,indentWithTabs:Wu(this.elementTarget.dataset.indentWithTabs),lineWrapping:Wu(this.elementTarget.dataset.lineWrapping),lineNumbers:!0},e=this;setTimeout(()=>{sce.default.fromTextArea(this.elementTarget,r).on("change",t=>{e.elementTarget.innerText=t.getValue(),e.elementTarget.dispatchEvent(new Event("input"))})},1)}};Tr(SA,"targets",["element"])});var M3,uce=He(()=>{mi();M3=class extends qr{copy(){let r=this.context.element.dataset.text,e=document.createElement("textarea"),t=e.contentEditable,n=e.readOnly;e.value=r,e.contentEditable=!0,e.readOnly=!1,e.setAttribute("readonly",!1),e.setAttribute("contenteditable",!0),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);let i=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;e.select(),e.setSelectionRange(0,999999),document.execCommand("copy"),document.body.removeChild(e),i&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(i)),e.contentEditable=t,e.readOnly=n}}});var kA,cce=He(()=>{mi();kA=class extends qr{constructor(){super(...arguments);Tr(this,"interval")}get parentTurboFrame(){return this.context.scope.element.closest("turbo-frame")}get refreshInterval(){if(this.cardTarget.dataset.refreshEvery)return parseInt(this.cardTarget.dataset.refreshEvery,10)*1e3}connect(){this.refreshInterval&&(this.interval=setInterval(()=>{this.parentTurboFrame.reload()},this.refreshInterval))}cardTargetDisconnected(){this.interval&&clearInterval(this.interval)}};Tr(kA,"targets",["card"])});var yfe=fe(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});function fce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Lh(r,e,t){return e&&fce(r.prototype,e),t&&fce(r,t),r}function Uf(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}function B3(r){return B3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},B3(r)}function IA(r,e){return IA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},IA(r,e)}function ZQe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function AA(r,e,t){return ZQe()?AA=Reflect.construct:AA=function(i,a,l){var h=[null];h.push.apply(h,a);var b=Function.bind.apply(i,h),S=new b;return l&&IA(S,l.prototype),S},AA.apply(null,arguments)}function XQe(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function j3(r){var e=typeof Map=="function"?new Map:void 0;return j3=function(n){if(n===null||!XQe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return AA(n,arguments,B3(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),IA(i,n)},j3(r)}function JQe(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function QQe(r,e){if(!!r){if(typeof r=="string")return hce(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hce(r,e)}}function hce(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ag(r){var e=0;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(r=QQe(r)))return function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return e=r[Symbol.iterator](),e.next.bind(e)}var qv=function(r){Uf(e,r);function e(){return r.apply(this,arguments)||this}return e}(j3(Error)),eet=function(r){Uf(e,r);function e(t){return r.call(this,"Invalid DateTime: "+t.toMessage())||this}return e}(qv),tet=function(r){Uf(e,r);function e(t){return r.call(this,"Invalid Interval: "+t.toMessage())||this}return e}(qv),ret=function(r){Uf(e,r);function e(t){return r.call(this,"Invalid Duration: "+t.toMessage())||this}return e}(qv),Aw=function(r){Uf(e,r);function e(){return r.apply(this,arguments)||this}return e}(qv),Rce=function(r){Uf(e,r);function e(t){return r.call(this,"Invalid unit "+t)||this}return e}(qv),Bf=function(r){Uf(e,r);function e(){return r.apply(this,arguments)||this}return e}(qv),og=function(r){Uf(e,r);function e(){return r.call(this,"Zone is an abstract class")||this}return e}(qv),Yr="numeric",Rh="short",uf="long",MA={year:Yr,month:Yr,day:Yr},Y3={year:Yr,month:Rh,day:Yr},Fce={year:Yr,month:Rh,day:Yr,weekday:Rh},Z3={year:Yr,month:uf,day:Yr},X3={year:Yr,month:uf,day:Yr,weekday:uf},J3={hour:Yr,minute:Yr},Q3={hour:Yr,minute:Yr,second:Yr},ez={hour:Yr,minute:Yr,second:Yr,timeZoneName:Rh},tz={hour:Yr,minute:Yr,second:Yr,timeZoneName:uf},rz={hour:Yr,minute:Yr,hour12:!1},nz={hour:Yr,minute:Yr,second:Yr,hour12:!1},iz={hour:Yr,minute:Yr,second:Yr,hour12:!1,timeZoneName:Rh},oz={hour:Yr,minute:Yr,second:Yr,hour12:!1,timeZoneName:uf},az={year:Yr,month:Yr,day:Yr,hour:Yr,minute:Yr},sz={year:Yr,month:Yr,day:Yr,hour:Yr,minute:Yr,second:Yr},lz={year:Yr,month:Rh,day:Yr,hour:Yr,minute:Yr},uz={year:Yr,month:Rh,day:Yr,hour:Yr,minute:Yr,second:Yr},qce={year:Yr,month:Rh,day:Yr,weekday:Rh,hour:Yr,minute:Yr},cz={year:Yr,month:uf,day:Yr,hour:Yr,minute:Yr,timeZoneName:Rh},fz={year:Yr,month:uf,day:Yr,hour:Yr,minute:Yr,second:Yr,timeZoneName:Rh},hz={year:Yr,month:uf,day:Yr,weekday:uf,hour:Yr,minute:Yr,timeZoneName:uf},dz={year:Yr,month:uf,day:Yr,weekday:uf,hour:Yr,minute:Yr,second:Yr,timeZoneName:uf};function Wi(r){return typeof r>"u"}function Fv(r){return typeof r=="number"}function qA(r){return typeof r=="number"&&r%1===0}function net(r){return typeof r=="string"}function iet(r){return Object.prototype.toString.call(r)==="[object Date]"}function Fd(){try{return typeof Intl<"u"&&Intl.DateTimeFormat}catch{return!1}}function Mw(){return!Wi(Intl.DateTimeFormat.prototype.formatToParts)}function zce(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function oet(r){return Array.isArray(r)?r:[r]}function dce(r,e,t){if(r.length!==0)return r.reduce(function(n,i){var a=[e(i),i];return n&&t(n[0],a[0])===n[0]?n:a},null)[1]}function Nce(r,e){return e.reduce(function(t,n){return t[n]=r[n],t},{})}function D0(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function Up(r,e,t){return qA(r)&&r>=e&&r<=t}function aet(r,e){return r-e*Math.floor(r/e)}function T0(r,e){e===void 0&&(e=2);var t=r<0?"-":"",n=t?r*-1:r,i;return n.toString().length<e?i=("0".repeat(e)+n).slice(-e):i=n.toString(),""+t+i}function Vu(r){if(!(Wi(r)||r===null||r===""))return parseInt(r,10)}function pz(r){if(!(Wi(r)||r===null||r==="")){var e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function mz(r,e,t){t===void 0&&(t=!1);var n=Math.pow(10,e),i=t?Math.trunc:Math.round;return i(r*n)/n}function Pw(r){return r%4===0&&(r%100!==0||r%400===0)}function Ow(r){return Pw(r)?366:365}function PA(r,e){var t=aet(e-1,12)+1,n=r+(e-t)/12;return t===2?Pw(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function gz(r){var e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function LA(r){var e=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7,t=r-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||n===3?53:52}function U3(r){return r>99?r:r>60?1900+r:2e3+r}function Bce(r,e,t,n){n===void 0&&(n=null);var i=new Date(r),a={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);var l=Object.assign({timeZoneName:e},a),h=Fd();if(h&&Mw()){var b=new Intl.DateTimeFormat(t,l).formatToParts(i).find(function(q){return q.type.toLowerCase()==="timezonename"});return b?b.value:null}else if(h){var S=new Intl.DateTimeFormat(t,a).format(i),E=new Intl.DateTimeFormat(t,l).format(i),O=E.substring(S.length),P=O.replace(/^[, \u200e]+/,"");return P}else return null}function zA(r,e){var t=parseInt(r,10);Number.isNaN(t)&&(t=0);var n=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-n:n;return t*60+i}function jce(r){var e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new Bf("Invalid unit value "+r);return e}function RA(r,e,t){var n={};for(var i in r)if(D0(r,i)){if(t.indexOf(i)>=0)continue;var a=r[i];if(a==null)continue;n[e(i)]=jce(a)}return n}function FA(r,e){var t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),i=r>=0?"+":"-";switch(e){case"short":return""+i+T0(t,2)+":"+T0(n,2);case"narrow":return""+i+t+(n>0?":"+n:"");case"techie":return""+i+T0(t,2)+T0(n,2);default:throw new RangeError("Value format "+e+" is out of range for property format")}}function NA(r){return Nce(r,["hour","minute","second","millisecond"])}var Uce=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function Na(r){return JSON.stringify(r,Object.keys(r).sort())}var set=["January","February","March","April","May","June","July","August","September","October","November","December"],Hce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],uet=["J","F","M","A","M","J","J","A","S","O","N","D"];function Wce(r){switch(r){case"narrow":return[].concat(uet);case"short":return[].concat(Hce);case"long":return[].concat(set);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Vce=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$ce=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],cet=["M","T","W","T","F","S","S"];function Gce(r){switch(r){case"narrow":return[].concat(cet);case"short":return[].concat($ce);case"long":return[].concat(Vce);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Kce=["AM","PM"],fet=["Before Christ","Anno Domini"],het=["BC","AD"],det=["B","A"];function Yce(r){switch(r){case"narrow":return[].concat(det);case"short":return[].concat(het);case"long":return[].concat(fet);default:return null}}function pet(r){return Kce[r.hour<12?0:1]}function met(r,e){return Gce(e)[r.weekday-1]}function get(r,e){return Wce(e)[r.month-1]}function vet(r,e){return Yce(e)[r.year<0?0:1]}function yet(r,e,t,n){t===void 0&&(t="always"),n===void 0&&(n=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&a){var l=r==="days";switch(e){case 1:return l?"tomorrow":"next "+i[r][0];case-1:return l?"yesterday":"last "+i[r][0];case 0:return l?"today":"this "+i[r][0]}}var h=Object.is(e,-0)||e<0,b=Math.abs(e),S=b===1,E=i[r],O=n?S?E[1]:E[2]||E[1]:S?i[r][0]:r;return h?b+" "+O+" ago":"in "+b+" "+O}function bet(r){var e=Nce(r,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),t=Na(e),n="EEEE, LLLL d, yyyy, h:mm a";switch(t){case Na(MA):return"M/d/yyyy";case Na(Y3):return"LLL d, yyyy";case Na(Fce):return"EEE, LLL d, yyyy";case Na(Z3):return"LLLL d, yyyy";case Na(X3):return"EEEE, LLLL d, yyyy";case Na(J3):return"h:mm a";case Na(Q3):return"h:mm:ss a";case Na(ez):return"h:mm a";case Na(tz):return"h:mm a";case Na(rz):return"HH:mm";case Na(nz):return"HH:mm:ss";case Na(iz):return"HH:mm";case Na(oz):return"HH:mm";case Na(az):return"M/d/yyyy, h:mm a";case Na(lz):return"LLL d, yyyy, h:mm a";case Na(cz):return"LLLL d, yyyy, h:mm a";case Na(hz):return n;case Na(sz):return"M/d/yyyy, h:mm:ss a";case Na(uz):return"LLL d, yyyy, h:mm:ss a";case Na(qce):return"EEE, d LLL yyyy, h:mm a";case Na(fz):return"LLLL d, yyyy, h:mm:ss a";case Na(dz):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return n}}function pce(r,e){for(var t="",n=ag(r),i;!(i=n()).done;){var a=i.value;a.literal?t+=a.val:t+=e(a.val)}return t}var xet={D:MA,DD:Y3,DDD:Z3,DDDD:X3,t:J3,tt:Q3,ttt:ez,tttt:tz,T:rz,TT:nz,TTT:iz,TTTT:oz,f:az,ff:lz,fff:cz,ffff:hz,F:sz,FF:uz,FFF:fz,FFFF:dz},Ld=function(){r.create=function(n,i){return i===void 0&&(i={}),new r(n,i)},r.parseFormat=function(n){for(var i=null,a="",l=!1,h=[],b=0;b<n.length;b++){var S=n.charAt(b);S==="'"?(a.length>0&&h.push({literal:l,val:a}),i=null,a="",l=!l):l||S===i?a+=S:(a.length>0&&h.push({literal:!1,val:a}),a=S,i=S)}return a.length>0&&h.push({literal:l,val:a}),h},r.macroTokenToFormatOpts=function(n){return xet[n]};function r(t,n){this.opts=n,this.loc=t,this.systemLoc=null}var e=r.prototype;return e.formatWithSystemDefault=function(n,i){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var a=this.systemLoc.dtFormatter(n,Object.assign({},this.opts,i));return a.format()},e.formatDateTime=function(n,i){i===void 0&&(i={});var a=this.loc.dtFormatter(n,Object.assign({},this.opts,i));return a.format()},e.formatDateTimeParts=function(n,i){i===void 0&&(i={});var a=this.loc.dtFormatter(n,Object.assign({},this.opts,i));return a.formatToParts()},e.resolvedOptions=function(n,i){i===void 0&&(i={});var a=this.loc.dtFormatter(n,Object.assign({},this.opts,i));return a.resolvedOptions()},e.num=function(n,i){if(i===void 0&&(i=0),this.opts.forceSimple)return T0(n,i);var a=Object.assign({},this.opts);return i>0&&(a.padTo=i),this.loc.numberFormatter(a).format(n)},e.formatDateTimeFromString=function(n,i){var a=this,l=this.loc.listingMode()==="en",h=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&Mw(),b=function(Y,J){return a.loc.extract(n,Y,J)},S=function(Y){return n.isOffsetFixed&&n.offset===0&&Y.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,Y.format):""},E=function(){return l?pet(n):b({hour:"numeric",hour12:!0},"dayperiod")},O=function(Y,J){return l?get(n,Y):b(J?{month:Y}:{month:Y,day:"numeric"},"month")},P=function(Y,J){return l?met(n,Y):b(J?{weekday:Y}:{weekday:Y,month:"long",day:"numeric"},"weekday")},q=function(Y){var J=r.macroTokenToFormatOpts(Y);return J?a.formatWithSystemDefault(n,J):Y},z=function(Y){return l?vet(n,Y):b({era:Y},"era")},N=function(Y){switch(Y){case"S":return a.num(n.millisecond);case"u":case"SSS":return a.num(n.millisecond,3);case"s":return a.num(n.second);case"ss":return a.num(n.second,2);case"m":return a.num(n.minute);case"mm":return a.num(n.minute,2);case"h":return a.num(n.hour%12===0?12:n.hour%12);case"hh":return a.num(n.hour%12===0?12:n.hour%12,2);case"H":return a.num(n.hour);case"HH":return a.num(n.hour,2);case"Z":return S({format:"narrow",allowZ:a.opts.allowZ});case"ZZ":return S({format:"short",allowZ:a.opts.allowZ});case"ZZZ":return S({format:"techie",allowZ:a.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:a.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:a.loc.locale});case"z":return n.zoneName;case"a":return E();case"d":return h?b({day:"numeric"},"day"):a.num(n.day);case"dd":return h?b({day:"2-digit"},"day"):a.num(n.day,2);case"c":return a.num(n.weekday);case"ccc":return P("short",!0);case"cccc":return P("long",!0);case"ccccc":return P("narrow",!0);case"E":return a.num(n.weekday);case"EEE":return P("short",!1);case"EEEE":return P("long",!1);case"EEEEE":return P("narrow",!1);case"L":return h?b({month:"numeric",day:"numeric"},"month"):a.num(n.month);case"LL":return h?b({month:"2-digit",day:"numeric"},"month"):a.num(n.month,2);case"LLL":return O("short",!0);case"LLLL":return O("long",!0);case"LLLLL":return O("narrow",!0);case"M":return h?b({month:"numeric"},"month"):a.num(n.month);case"MM":return h?b({month:"2-digit"},"month"):a.num(n.month,2);case"MMM":return O("short",!1);case"MMMM":return O("long",!1);case"MMMMM":return O("narrow",!1);case"y":return h?b({year:"numeric"},"year"):a.num(n.year);case"yy":return h?b({year:"2-digit"},"year"):a.num(n.year.toString().slice(-2),2);case"yyyy":return h?b({year:"numeric"},"year"):a.num(n.year,4);case"yyyyyy":return h?b({year:"numeric"},"year"):a.num(n.year,6);case"G":return z("short");case"GG":return z("long");case"GGGGG":return z("narrow");case"kk":return a.num(n.weekYear.toString().slice(-2),2);case"kkkk":return a.num(n.weekYear,4);case"W":return a.num(n.weekNumber);case"WW":return a.num(n.weekNumber,2);case"o":return a.num(n.ordinal);case"ooo":return a.num(n.ordinal,3);case"q":return a.num(n.quarter);case"qq":return a.num(n.quarter,2);case"X":return a.num(Math.floor(n.ts/1e3));case"x":return a.num(n.ts);default:return q(Y)}};return pce(r.parseFormat(i),N)},e.formatDurationFromString=function(n,i){var a=this,l=function(P){switch(P[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},h=function(P){return function(q){var z=l(q);return z?a.num(P.get(z),q.length):q}},b=r.parseFormat(i),S=b.reduce(function(O,P){var q=P.literal,z=P.val;return q?O:O.concat(z)},[]),E=n.shiftTo.apply(n,S.map(l).filter(function(O){return O}));return pce(b,h(E))},r}(),Ph=function(){function r(t,n){this.reason=t,this.explanation=n}var e=r.prototype;return e.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},r}(),O0=function(){function r(){}var e=r.prototype;return e.offsetName=function(n,i){throw new og},e.formatOffset=function(n,i){throw new og},e.offset=function(n){throw new og},e.equals=function(n){throw new og},Lh(r,[{key:"type",get:function(){throw new og}},{key:"name",get:function(){throw new og}},{key:"universal",get:function(){throw new og}},{key:"isValid",get:function(){throw new og}}]),r}(),P3=null,Zce=function(r){Uf(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.offsetName=function(i,a){var l=a.format,h=a.locale;return Bce(i,l,h)},t.formatOffset=function(i,a){return FA(this.offset(i),a)},t.offset=function(i){return-new Date(i).getTimezoneOffset()},t.equals=function(i){return i.type==="local"},Lh(e,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return Fd()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return P3===null&&(P3=new e),P3}}]),e}(O0),_et=RegExp("^"+Uce.source+"$"),DA={};function wet(r){return DA[r]||(DA[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),DA[r]}var ket={year:0,month:1,day:2,hour:3,minute:4,second:5};function Cet(r,e){var t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t),i=n[1],a=n[2],l=n[3],h=n[4],b=n[5],S=n[6];return[l,i,a,h,b,S]}function Eet(r,e){for(var t=r.formatToParts(e),n=[],i=0;i<t.length;i++){var a=t[i],l=a.type,h=a.value,b=ket[l];Wi(b)||(n[b]=parseInt(h,10))}return n}var CA={},Rd=function(r){Uf(e,r),e.create=function(i){return CA[i]||(CA[i]=new e(i)),CA[i]},e.resetCache=function(){CA={},DA={}},e.isValidSpecifier=function(i){return!!(i&&i.match(_et))},e.isValidZone=function(i){try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}},e.parseGMTOffset=function(i){if(i){var a=i.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(a)return-60*parseInt(a[1])}return null};function e(n){var i;return i=r.call(this)||this,i.zoneName=n,i.valid=e.isValidZone(n),i}var t=e.prototype;return t.offsetName=function(i,a){var l=a.format,h=a.locale;return Bce(i,l,h,this.name)},t.formatOffset=function(i,a){return FA(this.offset(i),a)},t.offset=function(i){var a=new Date(i);if(isNaN(a))return NaN;var l=wet(this.name),h=l.formatToParts?Eet(l,a):Cet(l,a),b=h[0],S=h[1],E=h[2],O=h[3],P=h[4],q=h[5],z=O===24?0:O,N=gz({year:b,month:S,day:E,hour:z,minute:P,second:q,millisecond:0}),V=+a,Y=V%1e3;return V-=Y>=0?Y:1e3+Y,(N-V)/(60*1e3)},t.equals=function(i){return i.type==="iana"&&i.name===this.name},Lh(e,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),e}(O0),L3=null,lf=function(r){Uf(e,r),e.instance=function(i){return i===0?e.utcInstance:new e(i)},e.parseSpecifier=function(i){if(i){var a=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(a)return new e(zA(a[1],a[2]))}return null},Lh(e,null,[{key:"utcInstance",get:function(){return L3===null&&(L3=new e(0)),L3}}]);function e(n){var i;return i=r.call(this)||this,i.fixed=n,i}var t=e.prototype;return t.offsetName=function(){return this.name},t.formatOffset=function(i,a){return FA(this.fixed,a)},t.offset=function(){return this.fixed},t.equals=function(i){return i.type==="fixed"&&i.fixed===this.fixed},Lh(e,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+FA(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),e}(O0),H3=function(r){Uf(e,r);function e(n){var i;return i=r.call(this)||this,i.zoneName=n,i}var t=e.prototype;return t.offsetName=function(){return null},t.formatOffset=function(){return""},t.offset=function(){return NaN},t.equals=function(){return!1},Lh(e,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),e}(O0);function Lv(r,e){var t;if(Wi(r)||r===null)return e;if(r instanceof O0)return r;if(net(r)){var n=r.toLowerCase();return n==="local"?e:n==="utc"||n==="gmt"?lf.utcInstance:(t=Rd.parseGMTOffset(r))!=null?lf.instance(t):Rd.isValidSpecifier(n)?Rd.create(r):lf.parseSpecifier(n)||new H3(r)}else return Fv(r)?lf.instance(r):typeof r=="object"&&r.offset&&typeof r.offset=="number"?r:new H3(r)}var mce=function(){return Date.now()},R3=null,gce=null,vce=null,yce=null,bce=!1,bs=function(){function r(){}return r.resetCaches=function(){Tl.resetCache(),Rd.resetCache()},Lh(r,null,[{key:"now",get:function(){return mce},set:function(t){mce=t}},{key:"defaultZoneName",get:function(){return r.defaultZone.name},set:function(t){t?R3=Lv(t):R3=null}},{key:"defaultZone",get:function(){return R3||Zce.instance}},{key:"defaultLocale",get:function(){return gce},set:function(t){gce=t}},{key:"defaultNumberingSystem",get:function(){return vce},set:function(t){vce=t}},{key:"defaultOutputCalendar",get:function(){return yce},set:function(t){yce=t}},{key:"throwOnInvalid",get:function(){return bce},set:function(t){bce=t}}]),r}(),W3={};function V3(r,e){e===void 0&&(e={});var t=JSON.stringify([r,e]),n=W3[t];return n||(n=new Intl.DateTimeFormat(r,e),W3[t]=n),n}var $3={};function Tet(r,e){e===void 0&&(e={});var t=JSON.stringify([r,e]),n=$3[t];return n||(n=new Intl.NumberFormat(r,e),$3[t]=n),n}var G3={};function Aet(r,e){e===void 0&&(e={});var t=e,n=t.base,i=JQe(t,["base"]),a=JSON.stringify([r,i]),l=G3[a];return l||(l=new Intl.RelativeTimeFormat(r,e),G3[a]=l),l}var Pv=null;function Det(){if(Pv)return Pv;if(Fd()){var r=new Intl.DateTimeFormat().resolvedOptions().locale;return Pv=!r||r==="und"?"en-US":r,Pv}else return Pv="en-US",Pv}function Oet(r){var e=r.indexOf("-u-");if(e===-1)return[r];var t,n=r.substring(0,e);try{t=V3(r).resolvedOptions()}catch{t=V3(n).resolvedOptions()}var i=t,a=i.numberingSystem,l=i.calendar;return[n,a,l]}function Iet(r,e,t){return Fd()?((t||e)&&(r+="-u",t&&(r+="-ca-"+t),e&&(r+="-nu-"+e)),r):[]}function Met(r){for(var e=[],t=1;t<=12;t++){var n=Ls.utc(2016,t,1);e.push(r(n))}return e}function Pet(r){for(var e=[],t=1;t<=7;t++){var n=Ls.utc(2016,11,13+t);e.push(r(n))}return e}function EA(r,e,t,n,i){var a=r.listingMode(t);return a==="error"?null:a==="en"?n(e):i(e)}function Let(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||Fd()&&new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}var Ret=function(){function r(t,n,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!n&&Fd()){var a={useGrouping:!1};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=Tet(t,a)}}var e=r.prototype;return e.format=function(n){if(this.inf){var i=this.floor?Math.floor(n):n;return this.inf.format(i)}else{var a=this.floor?Math.floor(n):mz(n,3);return T0(a,this.padTo)}},r}(),Fet=function(){function r(t,n,i){this.opts=i,this.hasIntl=Fd();var a;if(t.zone.universal&&this.hasIntl){var l=-1*(t.offset/60),h=l>=0?"Etc/GMT+"+l:"Etc/GMT"+l,b=Rd.isValidZone(h);t.offset!==0&&b?(a=h,this.dt=t):(a="UTC",i.timeZoneName?this.dt=t:this.dt=t.offset===0?t:Ls.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="local"?this.dt=t:(this.dt=t,a=t.zone.name);if(this.hasIntl){var S=Object.assign({},this.opts);a&&(S.timeZone=a),this.dtf=V3(n,S)}}var e=r.prototype;return e.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var n=bet(this.opts),i=Tl.create("en-US");return Ld.create(i).formatDateTimeFromString(this.dt,n)},e.formatToParts=function(){return this.hasIntl&&Mw()?this.dtf.formatToParts(this.dt.toJSDate()):[]},e.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},r}(),qet=function(){function r(t,n,i){this.opts=Object.assign({style:"long"},i),!n&&zce()&&(this.rtf=Aet(t,i))}var e=r.prototype;return e.format=function(n,i){return this.rtf?this.rtf.format(n,i):yet(i,n,this.opts.numeric,this.opts.style!=="long")},e.formatToParts=function(n,i){return this.rtf?this.rtf.formatToParts(n,i):[]},r}(),Tl=function(){r.fromOpts=function(n){return r.create(n.locale,n.numberingSystem,n.outputCalendar,n.defaultToEN)},r.create=function(n,i,a,l){l===void 0&&(l=!1);var h=n||bs.defaultLocale,b=h||(l?"en-US":Det()),S=i||bs.defaultNumberingSystem,E=a||bs.defaultOutputCalendar;return new r(b,S,E,h)},r.resetCache=function(){Pv=null,W3={},$3={},G3={}},r.fromObject=function(n){var i=n===void 0?{}:n,a=i.locale,l=i.numberingSystem,h=i.outputCalendar;return r.create(a,l,h)};function r(t,n,i,a){var l=Oet(t),h=l[0],b=l[1],S=l[2];this.locale=h,this.numberingSystem=n||b||null,this.outputCalendar=i||S||null,this.intl=Iet(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}var e=r.prototype;return e.listingMode=function(n){n===void 0&&(n=!0);var i=Fd(),a=i&&Mw(),l=this.isEnglish(),h=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!a&&!(l&&h)&&!n?"error":!a||l&&h?"en":"intl"},e.clone=function(n){return!n||Object.getOwnPropertyNames(n).length===0?this:r.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,n.defaultToEN||!1)},e.redefaultToEN=function(n){return n===void 0&&(n={}),this.clone(Object.assign({},n,{defaultToEN:!0}))},e.redefaultToSystem=function(n){return n===void 0&&(n={}),this.clone(Object.assign({},n,{defaultToEN:!1}))},e.months=function(n,i,a){var l=this;return i===void 0&&(i=!1),a===void 0&&(a=!0),EA(this,n,a,Wce,function(){var h=i?{month:n,day:"numeric"}:{month:n},b=i?"format":"standalone";return l.monthsCache[b][n]||(l.monthsCache[b][n]=Met(function(S){return l.extract(S,h,"month")})),l.monthsCache[b][n]})},e.weekdays=function(n,i,a){var l=this;return i===void 0&&(i=!1),a===void 0&&(a=!0),EA(this,n,a,Gce,function(){var h=i?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},b=i?"format":"standalone";return l.weekdaysCache[b][n]||(l.weekdaysCache[b][n]=Pet(function(S){return l.extract(S,h,"weekday")})),l.weekdaysCache[b][n]})},e.meridiems=function(n){var i=this;return n===void 0&&(n=!0),EA(this,void 0,n,function(){return Kce},function(){if(!i.meridiemCache){var a={hour:"numeric",hour12:!0};i.meridiemCache=[Ls.utc(2016,11,13,9),Ls.utc(2016,11,13,19)].map(function(l){return i.extract(l,a,"dayperiod")})}return i.meridiemCache})},e.eras=function(n,i){var a=this;return i===void 0&&(i=!0),EA(this,n,i,Yce,function(){var l={era:n};return a.eraCache[n]||(a.eraCache[n]=[Ls.utc(-40,1,1),Ls.utc(2017,1,1)].map(function(h){return a.extract(h,l,"era")})),a.eraCache[n]})},e.extract=function(n,i,a){var l=this.dtFormatter(n,i),h=l.formatToParts(),b=h.find(function(S){return S.type.toLowerCase()===a});return b?b.value:null},e.numberFormatter=function(n){return n===void 0&&(n={}),new Ret(this.intl,n.forceSimple||this.fastNumbers,n)},e.dtFormatter=function(n,i){return i===void 0&&(i={}),new Fet(n,this.intl,i)},e.relFormatter=function(n){return n===void 0&&(n={}),new qet(this.intl,this.isEnglish(),n)},e.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||Fd()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},e.equals=function(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar},Lh(r,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Let(this)),this.fastNumbersCached}}]),r}();function I0(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=e.reduce(function(i,a){return i+a.source},"");return RegExp("^"+n+"$")}function zv(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){return e.reduce(function(i,a){var l=i[0],h=i[1],b=i[2],S=a(n,b),E=S[0],O=S[1],P=S[2];return[Object.assign(l,E),h||O,P]},[{},null,1]).slice(0,2)}}function M0(r){if(r==null)return[null,null];for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(var i=0,a=t;i<a.length;i++){var l=a[i],h=l[0],b=l[1],S=h.exec(r);if(S)return b(S)}return[null,null]}function Xce(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n,i){var a={},l;for(l=0;l<e.length;l++)a[e[l]]=Vu(n[i+l]);return[a,null,i+l]}}var Jce=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,vz=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Qce=RegExp(""+vz.source+Jce.source+"?"),yz=RegExp("(?:T"+Qce.source+")?"),zet=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Net=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Bet=/(\d{4})-?(\d{3})/,jet=Xce("weekYear","weekNumber","weekDay"),Uet=Xce("year","ordinal"),Het=/(\d{4})-(\d\d)-(\d\d)/,efe=RegExp(vz.source+" ?(?:"+Jce.source+"|("+Uce.source+"))?"),Wet=RegExp("(?: "+efe.source+")?");function A0(r,e,t){var n=r[e];return Wi(n)?t:Vu(n)}function tfe(r,e){var t={year:A0(r,e),month:A0(r,e+1,1),day:A0(r,e+2,1)};return[t,null,e+3]}function Nv(r,e){var t={hours:A0(r,e,0),minutes:A0(r,e+1,0),seconds:A0(r,e+2,0),milliseconds:pz(r[e+3])};return[t,null,e+4]}function P0(r,e){var t=!r[e]&&!r[e+1],n=zA(r[e+1],r[e+2]),i=t?null:lf.instance(n);return[{},i,e+3]}function rfe(r,e){var t=r[e]?Rd.create(r[e]):null;return[{},t,e+1]}var Vet=RegExp("^T?"+vz.source+"$"),$et=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Get(r){var e=r[0],t=r[1],n=r[2],i=r[3],a=r[4],l=r[5],h=r[6],b=r[7],S=r[8],E=e[0]==="-",O=b&&b[0]==="-",P=function(z,N){return N===void 0&&(N=!1),z!==void 0&&(N||z&&E)?-z:z};return[{years:P(Vu(t)),months:P(Vu(n)),weeks:P(Vu(i)),days:P(Vu(a)),hours:P(Vu(l)),minutes:P(Vu(h)),seconds:P(Vu(b),b==="-0"),milliseconds:P(pz(S),O)}]}var Ket={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function bz(r,e,t,n,i,a,l){var h={year:e.length===2?U3(Vu(e)):Vu(e),month:Hce.indexOf(t)+1,day:Vu(n),hour:Vu(i),minute:Vu(a)};return l&&(h.second=Vu(l)),r&&(h.weekday=r.length>3?Vce.indexOf(r)+1:$ce.indexOf(r)+1),h}var Yet=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Zet(r){var e=r[1],t=r[2],n=r[3],i=r[4],a=r[5],l=r[6],h=r[7],b=r[8],S=r[9],E=r[10],O=r[11],P=bz(e,i,n,t,a,l,h),q;return b?q=Ket[b]:S?q=0:q=zA(E,O),[P,new lf(q)]}function Xet(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Jet=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Qet=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ett=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function xce(r){var e=r[1],t=r[2],n=r[3],i=r[4],a=r[5],l=r[6],h=r[7],b=bz(e,i,n,t,a,l,h);return[b,lf.utcInstance]}function ttt(r){var e=r[1],t=r[2],n=r[3],i=r[4],a=r[5],l=r[6],h=r[7],b=bz(e,h,t,n,i,a,l);return[b,lf.utcInstance]}var rtt=I0(zet,yz),ntt=I0(Net,yz),itt=I0(Bet,yz),ott=I0(Qce),att=zv(tfe,Nv,P0),stt=zv(jet,Nv,P0),ltt=zv(Uet,Nv,P0),utt=zv(Nv,P0);function ctt(r){return M0(r,[rtt,att],[ntt,stt],[itt,ltt],[ott,utt])}function ftt(r){return M0(Xet(r),[Yet,Zet])}function htt(r){return M0(r,[Jet,xce],[Qet,xce],[ett,ttt])}function dtt(r){return M0(r,[$et,Get])}var ptt=zv(Nv);function mtt(r){return M0(r,[Vet,ptt])}var gtt=I0(Het,Wet),vtt=I0(efe),ytt=zv(tfe,Nv,P0,rfe),btt=zv(Nv,P0,rfe);function xtt(r){return M0(r,[gtt,ytt],[vtt,btt])}var _tt="Invalid Duration",nfe={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},wtt=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},nfe),Nf=146097/400,k0=146097/4800,Stt=Object.assign({years:{quarters:4,months:12,weeks:Nf/7,days:Nf,hours:Nf*24,minutes:Nf*24*60,seconds:Nf*24*60*60,milliseconds:Nf*24*60*60*1e3},quarters:{months:3,weeks:Nf/28,days:Nf/4,hours:Nf*24/4,minutes:Nf*24*60/4,seconds:Nf*24*60*60/4,milliseconds:Nf*24*60*60*1e3/4},months:{weeks:k0/7,days:k0,hours:k0*24,minutes:k0*24*60,seconds:k0*24*60*60,milliseconds:k0*24*60*60*1e3}},nfe),C0=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ktt=C0.slice(0).reverse();function Mv(r,e,t){t===void 0&&(t=!1);var n={values:t?e.values:Object.assign({},r.values,e.values||{}),loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy};return new $u(n)}function Ctt(r){return r<0?Math.floor(r):Math.ceil(r)}function ife(r,e,t,n,i){var a=r[i][t],l=e[t]/a,h=Math.sign(l)===Math.sign(n[i]),b=!h&&n[i]!==0&&Math.abs(l)<=1?Ctt(l):Math.trunc(l);n[i]+=b,e[t]-=b*a}function Ett(r,e){ktt.reduce(function(t,n){return Wi(e[n])?t:(t&&ife(r,e,t,e,n),n)},null)}var $u=function(){function r(t){var n=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||Tl.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n?Stt:wtt,this.isLuxonDuration=!0}r.fromMillis=function(n,i){return r.fromObject(Object.assign({milliseconds:n},i))},r.fromObject=function(n){if(n==null||typeof n!="object")throw new Bf("Duration.fromObject: argument expected to be an object, got "+(n===null?"null":typeof n));return new r({values:RA(n,r.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Tl.fromObject(n),conversionAccuracy:n.conversionAccuracy})},r.fromISO=function(n,i){var a=dtt(n),l=a[0];if(l){var h=Object.assign(l,i);return r.fromObject(h)}else return r.invalid("unparsable",'the input "'+n+`" can't be parsed as ISO 8601`)},r.fromISOTime=function(n,i){var a=mtt(n),l=a[0];if(l){var h=Object.assign(l,i);return r.fromObject(h)}else return r.invalid("unparsable",'the input "'+n+`" can't be parsed as ISO 8601`)},r.invalid=function(n,i){if(i===void 0&&(i=null),!n)throw new Bf("need to specify a reason the Duration is invalid");var a=n instanceof Ph?n:new Ph(n,i);if(bs.throwOnInvalid)throw new ret(a);return new r({invalid:a})},r.normalizeUnit=function(n){var i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!i)throw new Rce(n);return i},r.isDuration=function(n){return n&&n.isLuxonDuration||!1};var e=r.prototype;return e.toFormat=function(n,i){i===void 0&&(i={});var a=Object.assign({},i,{floor:i.round!==!1&&i.floor!==!1});return this.isValid?Ld.create(this.loc,a).formatDurationFromString(this,n):_tt},e.toObject=function(n){if(n===void 0&&(n={}),!this.isValid)return{};var i=Object.assign({},this.values);return n.includeConfig&&(i.conversionAccuracy=this.conversionAccuracy,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toISO=function(){if(!this.isValid)return null;var n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=mz(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n},e.toISOTime=function(n){if(n===void 0&&(n={}),!this.isValid)return null;var i=this.toMillis();if(i<0||i>=864e5)return null;n=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},n);var a=this.shiftTo("hours","minutes","seconds","milliseconds"),l=n.format==="basic"?"hhmm":"hh:mm";(!n.suppressSeconds||a.seconds!==0||a.milliseconds!==0)&&(l+=n.format==="basic"?"ss":":ss",(!n.suppressMilliseconds||a.milliseconds!==0)&&(l+=".SSS"));var h=a.toFormat(l);return n.includePrefix&&(h="T"+h),h},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as("milliseconds")},e.valueOf=function(){return this.toMillis()},e.plus=function(n){if(!this.isValid)return this;for(var i=Rv(n),a={},l=ag(C0),h;!(h=l()).done;){var b=h.value;(D0(i.values,b)||D0(this.values,b))&&(a[b]=i.get(b)+this.get(b))}return Mv(this,{values:a},!0)},e.minus=function(n){if(!this.isValid)return this;var i=Rv(n);return this.plus(i.negate())},e.mapUnits=function(n){if(!this.isValid)return this;for(var i={},a=0,l=Object.keys(this.values);a<l.length;a++){var h=l[a];i[h]=jce(n(this.values[h],h))}return Mv(this,{values:i},!0)},e.get=function(n){return this[r.normalizeUnit(n)]},e.set=function(n){if(!this.isValid)return this;var i=Object.assign(this.values,RA(n,r.normalizeUnit,[]));return Mv(this,{values:i})},e.reconfigure=function(n){var i=n===void 0?{}:n,a=i.locale,l=i.numberingSystem,h=i.conversionAccuracy,b=this.loc.clone({locale:a,numberingSystem:l}),S={loc:b};return h&&(S.conversionAccuracy=h),Mv(this,S)},e.as=function(n){return this.isValid?this.shiftTo(n).get(n):NaN},e.normalize=function(){if(!this.isValid)return this;var n=this.toObject();return Ett(this.matrix,n),Mv(this,{values:n},!0)},e.shiftTo=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(!this.isValid)return this;if(i.length===0)return this;i=i.map(function(J){return r.normalizeUnit(J)});for(var l={},h={},b=this.toObject(),S,E=ag(C0),O;!(O=E()).done;){var P=O.value;if(i.indexOf(P)>=0){S=P;var q=0;for(var z in h)q+=this.matrix[z][P]*h[z],h[z]=0;Fv(b[P])&&(q+=b[P]);var N=Math.trunc(q);l[P]=N,h[P]=q-N;for(var V in b)C0.indexOf(V)>C0.indexOf(P)&&ife(this.matrix,b,V,l,P)}else Fv(b[P])&&(h[P]=b[P])}for(var Y in h)h[Y]!==0&&(l[S]+=Y===S?h[Y]:h[Y]/this.matrix[S][Y]);return Mv(this,{values:l},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var n={},i=0,a=Object.keys(this.values);i<a.length;i++){var l=a[i];n[l]=-this.values[l]}return Mv(this,{values:n},!0)},e.equals=function(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function i(b,S){return b===void 0||b===0?S===void 0||S===0:b===S}for(var a=ag(C0),l;!(l=a()).done;){var h=l.value;if(!i(this.values[h],n.values[h]))return!1}return!0},Lh(r,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),r}();function Rv(r){if(Fv(r))return $u.fromMillis(r);if($u.isDuration(r))return r;if(typeof r=="object")return $u.fromObject(r);throw new Bf("Unknown duration argument "+r+" of type "+typeof r)}var kw="Invalid Interval";function Ttt(r,e){return!r||!r.isValid?Iw.invalid("missing or invalid start"):!e||!e.isValid?Iw.invalid("missing or invalid end"):e<r?Iw.invalid("end before start","The end of an interval must be after its start, but you had start="+r.toISO()+" and end="+e.toISO()):null}var Iw=function(){function r(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}r.invalid=function(n,i){if(i===void 0&&(i=null),!n)throw new Bf("need to specify a reason the Interval is invalid");var a=n instanceof Ph?n:new Ph(n,i);if(bs.throwOnInvalid)throw new tet(a);return new r({invalid:a})},r.fromDateTimes=function(n,i){var a=Tw(n),l=Tw(i),h=Ttt(a,l);return h??new r({start:a,end:l})},r.after=function(n,i){var a=Rv(i),l=Tw(n);return r.fromDateTimes(l,l.plus(a))},r.before=function(n,i){var a=Rv(i),l=Tw(n);return r.fromDateTimes(l.minus(a),l)},r.fromISO=function(n,i){var a=(n||"").split("/",2),l=a[0],h=a[1];if(l&&h){var b,S;try{b=Ls.fromISO(l,i),S=b.isValid}catch{S=!1}var E,O;try{E=Ls.fromISO(h,i),O=E.isValid}catch{O=!1}if(S&&O)return r.fromDateTimes(b,E);if(S){var P=$u.fromISO(h,i);if(P.isValid)return r.after(b,P)}else if(O){var q=$u.fromISO(l,i);if(q.isValid)return r.before(E,q)}}return r.invalid("unparsable",'the input "'+n+`" can't be parsed as ISO 8601`)},r.isInterval=function(n){return n&&n.isLuxonInterval||!1};var e=r.prototype;return e.length=function(n){return n===void 0&&(n="milliseconds"),this.isValid?this.toDuration.apply(this,[n]).get(n):NaN},e.count=function(n){if(n===void 0&&(n="milliseconds"),!this.isValid)return NaN;var i=this.start.startOf(n),a=this.end.startOf(n);return Math.floor(a.diff(i,n).get(n))+1},e.hasSame=function(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(n){return this.isValid?this.s>n:!1},e.isBefore=function(n){return this.isValid?this.e<=n:!1},e.contains=function(n){return this.isValid?this.s<=n&&this.e>n:!1},e.set=function(n){var i=n===void 0?{}:n,a=i.start,l=i.end;return this.isValid?r.fromDateTimes(a||this.s,l||this.e):this},e.splitAt=function(){var n=this;if(!this.isValid)return[];for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];for(var h=a.map(Tw).filter(function(q){return n.contains(q)}).sort(),b=[],S=this.s,E=0;S<this.e;){var O=h[E]||this.e,P=+O>+this.e?this.e:O;b.push(r.fromDateTimes(S,P)),S=P,E+=1}return b},e.splitBy=function(n){var i=Rv(n);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];for(var a=this.s,l=1,h,b=[];a<this.e;){var S=this.start.plus(i.mapUnits(function(E){return E*l}));h=+S>+this.e?this.e:S,b.push(r.fromDateTimes(a,h)),a=h,l+=1}return b},e.divideEqually=function(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]},e.overlaps=function(n){return this.e>n.s&&this.s<n.e},e.abutsStart=function(n){return this.isValid?+this.e==+n.s:!1},e.abutsEnd=function(n){return this.isValid?+n.e==+this.s:!1},e.engulfs=function(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1},e.equals=function(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)},e.intersection=function(n){if(!this.isValid)return this;var i=this.s>n.s?this.s:n.s,a=this.e<n.e?this.e:n.e;return i>=a?null:r.fromDateTimes(i,a)},e.union=function(n){if(!this.isValid)return this;var i=this.s<n.s?this.s:n.s,a=this.e>n.e?this.e:n.e;return r.fromDateTimes(i,a)},r.merge=function(n){var i=n.sort(function(h,b){return h.s-b.s}).reduce(function(h,b){var S=h[0],E=h[1];return E?E.overlaps(b)||E.abutsStart(b)?[S,E.union(b)]:[S.concat([E]),b]:[S,b]},[[],null]),a=i[0],l=i[1];return l&&a.push(l),a},r.xor=function(n){for(var i,a=null,l=0,h=[],b=n.map(function(z){return[{time:z.s,type:"s"},{time:z.e,type:"e"}]}),S=(i=Array.prototype).concat.apply(i,b),E=S.sort(function(z,N){return z.time-N.time}),O=ag(E),P;!(P=O()).done;){var q=P.value;l+=q.type==="s"?1:-1,l===1?a=q.time:(a&&+a!=+q.time&&h.push(r.fromDateTimes(a,q.time)),a=null)}return r.merge(h)},e.difference=function(){for(var n=this,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r.xor([this].concat(a)).map(function(h){return n.intersection(h)}).filter(function(h){return h&&!h.isEmpty()})},e.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":kw},e.toISO=function(n){return this.isValid?this.s.toISO(n)+"/"+this.e.toISO(n):kw},e.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():kw},e.toISOTime=function(n){return this.isValid?this.s.toISOTime(n)+"/"+this.e.toISOTime(n):kw},e.toFormat=function(n,i){var a=i===void 0?{}:i,l=a.separator,h=l===void 0?" \u2013 ":l;return this.isValid?""+this.s.toFormat(n)+h+this.e.toFormat(n):kw},e.toDuration=function(n,i){return this.isValid?this.e.diff(this.s,n,i):$u.invalid(this.invalidReason)},e.mapEndpoints=function(n){return r.fromDateTimes(n(this.s),n(this.e))},Lh(r,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),r}(),Dw=function(){function r(){}return r.hasDST=function(t){t===void 0&&(t=bs.defaultZone);var n=Ls.now().setZone(t).set({month:12});return!t.universal&&n.offset!==n.set({month:6}).offset},r.isValidIANAZone=function(t){return Rd.isValidSpecifier(t)&&Rd.isValidZone(t)},r.normalizeZone=function(t){return Lv(t,bs.defaultZone)},r.months=function(t,n){t===void 0&&(t="long");var i=n===void 0?{}:n,a=i.locale,l=a===void 0?null:a,h=i.numberingSystem,b=h===void 0?null:h,S=i.locObj,E=S===void 0?null:S,O=i.outputCalendar,P=O===void 0?"gregory":O;return(E||Tl.create(l,b,P)).months(t)},r.monthsFormat=function(t,n){t===void 0&&(t="long");var i=n===void 0?{}:n,a=i.locale,l=a===void 0?null:a,h=i.numberingSystem,b=h===void 0?null:h,S=i.locObj,E=S===void 0?null:S,O=i.outputCalendar,P=O===void 0?"gregory":O;return(E||Tl.create(l,b,P)).months(t,!0)},r.weekdays=function(t,n){t===void 0&&(t="long");var i=n===void 0?{}:n,a=i.locale,l=a===void 0?null:a,h=i.numberingSystem,b=h===void 0?null:h,S=i.locObj,E=S===void 0?null:S;return(E||Tl.create(l,b,null)).weekdays(t)},r.weekdaysFormat=function(t,n){t===void 0&&(t="long");var i=n===void 0?{}:n,a=i.locale,l=a===void 0?null:a,h=i.numberingSystem,b=h===void 0?null:h,S=i.locObj,E=S===void 0?null:S;return(E||Tl.create(l,b,null)).weekdays(t,!0)},r.meridiems=function(t){var n=t===void 0?{}:t,i=n.locale,a=i===void 0?null:i;return Tl.create(a).meridiems()},r.eras=function(t,n){t===void 0&&(t="short");var i=n===void 0?{}:n,a=i.locale,l=a===void 0?null:a;return Tl.create(l,null,"gregory").eras(t)},r.features=function(){var t=!1,n=!1,i=!1,a=!1;if(Fd()){t=!0,n=Mw(),a=zce();try{i=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{i=!1}}return{intl:t,intlTokens:n,zones:i,relative:a}},r}();function _ce(r,e){var t=function(a){return a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},n=t(e)-t(r);return Math.floor($u.fromMillis(n).as("days"))}function Att(r,e,t){for(var n=[["years",function(N,V){return V.year-N.year}],["quarters",function(N,V){return V.quarter-N.quarter}],["months",function(N,V){return V.month-N.month+(V.year-N.year)*12}],["weeks",function(N,V){var Y=_ce(N,V);return(Y-Y%7)/7}],["days",_ce]],i={},a,l,h=0,b=n;h<b.length;h++){var S=b[h],E=S[0],O=S[1];if(t.indexOf(E)>=0){var P;a=E;var q=O(r,e);if(l=r.plus((P={},P[E]=q,P)),l>e){var z;r=r.plus((z={},z[E]=q-1,z)),q-=1}else r=l;i[E]=q}}return[r,i,l,a]}function Dtt(r,e,t,n){var i=Att(r,e,t),a=i[0],l=i[1],h=i[2],b=i[3],S=e-a,E=t.filter(function(z){return["hours","minutes","seconds","milliseconds"].indexOf(z)>=0});if(E.length===0){if(h<e){var O;h=a.plus((O={},O[b]=1,O))}h!==a&&(l[b]=(l[b]||0)+S/(h-a))}var P=$u.fromObject(Object.assign(l,n));if(E.length>0){var q;return(q=$u.fromMillis(S,n)).shiftTo.apply(q,E).plus(P)}else return P}var xz={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},wce={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ott=xz.hanidec.replace(/[\[|\]]/g,"").split("");function Itt(r){var e=parseInt(r,10);if(isNaN(e)){e="";for(var t=0;t<r.length;t++){var n=r.charCodeAt(t);if(r[t].search(xz.hanidec)!==-1)e+=Ott.indexOf(r[t]);else for(var i in wce){var a=wce[i],l=a[0],h=a[1];n>=l&&n<=h&&(e+=n-l)}}return parseInt(e,10)}else return e}function Ih(r,e){var t=r.numberingSystem;return e===void 0&&(e=""),new RegExp(""+xz[t||"latn"]+e)}var Mtt="missing Intl.DateTimeFormat.formatToParts support";function po(r,e){return e===void 0&&(e=function(n){return n}),{regex:r,deser:function(n){var i=n[0];return e(Itt(i))}}}var Ptt=String.fromCharCode(160),ofe="( |"+Ptt+")",afe=new RegExp(ofe,"g");function Ltt(r){return r.replace(/\./g,"\\.?").replace(afe,ofe)}function Sce(r){return r.replace(/\./g,"").replace(afe," ").toLowerCase()}function Mh(r,e){return r===null?null:{regex:RegExp(r.map(Ltt).join("|")),deser:function(n){var i=n[0];return r.findIndex(function(a){return Sce(i)===Sce(a)})+e}}}function kce(r,e){return{regex:r,deser:function(n){var i=n[1],a=n[2];return zA(i,a)},groups:e}}function Cce(r){return{regex:r,deser:function(t){var n=t[0];return n}}}function Rtt(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ftt(r,e){var t=Ih(e),n=Ih(e,"{2}"),i=Ih(e,"{3}"),a=Ih(e,"{4}"),l=Ih(e,"{6}"),h=Ih(e,"{1,2}"),b=Ih(e,"{1,3}"),S=Ih(e,"{1,6}"),E=Ih(e,"{1,9}"),O=Ih(e,"{2,4}"),P=Ih(e,"{4,6}"),q=function(Y){return{regex:RegExp(Rtt(Y.val)),deser:function(se){var _=se[0];return _},literal:!0}},z=function(Y){if(r.literal)return q(Y);switch(Y.val){case"G":return Mh(e.eras("short",!1),0);case"GG":return Mh(e.eras("long",!1),0);case"y":return po(S);case"yy":return po(O,U3);case"yyyy":return po(a);case"yyyyy":return po(P);case"yyyyyy":return po(l);case"M":return po(h);case"MM":return po(n);case"MMM":return Mh(e.months("short",!0,!1),1);case"MMMM":return Mh(e.months("long",!0,!1),1);case"L":return po(h);case"LL":return po(n);case"LLL":return Mh(e.months("short",!1,!1),1);case"LLLL":return Mh(e.months("long",!1,!1),1);case"d":return po(h);case"dd":return po(n);case"o":return po(b);case"ooo":return po(i);case"HH":return po(n);case"H":return po(h);case"hh":return po(n);case"h":return po(h);case"mm":return po(n);case"m":return po(h);case"q":return po(h);case"qq":return po(n);case"s":return po(h);case"ss":return po(n);case"S":return po(b);case"SSS":return po(i);case"u":return Cce(E);case"a":return Mh(e.meridiems(),0);case"kkkk":return po(a);case"kk":return po(O,U3);case"W":return po(h);case"WW":return po(n);case"E":case"c":return po(t);case"EEE":return Mh(e.weekdays("short",!1,!1),1);case"EEEE":return Mh(e.weekdays("long",!1,!1),1);case"ccc":return Mh(e.weekdays("short",!0,!1),1);case"cccc":return Mh(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return kce(new RegExp("([+-]"+h.source+")(?::("+n.source+"))?"),2);case"ZZZ":return kce(new RegExp("([+-]"+h.source+")("+n.source+")?"),2);case"z":return Cce(/[a-z_+-/]{1,256}?/i);default:return q(Y)}},N=z(r)||{invalidReason:Mtt};return N.token=r,N}var qtt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function ztt(r,e,t){var n=r.type,i=r.value;if(n==="literal")return{literal:!0,val:i};var a=t[n],l=qtt[n];if(typeof l=="object"&&(l=l[a]),l)return{literal:!1,val:l}}function Ntt(r){var e=r.map(function(t){return t.regex}).reduce(function(t,n){return t+"("+n.source+")"},"");return["^"+e+"$",r]}function Btt(r,e,t){var n=r.match(e);if(n){var i={},a=1;for(var l in t)if(D0(t,l)){var h=t[l],b=h.groups?h.groups+1:1;!h.literal&&h.token&&(i[h.token.val[0]]=h.deser(n.slice(a,a+b))),a+=b}return[n,i]}else return[n,{}]}function jtt(r){var e=function(a){switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t;Wi(r.Z)?Wi(r.z)?t=null:t=Rd.create(r.z):t=new lf(r.Z),Wi(r.q)||(r.M=(r.q-1)*3+1),Wi(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),Wi(r.u)||(r.S=pz(r.u));var n=Object.keys(r).reduce(function(i,a){var l=e(a);return l&&(i[l]=r[a]),i},{});return[n,t]}var F3=null;function Utt(){return F3||(F3=Ls.fromMillis(1555555555555)),F3}function Htt(r,e){if(r.literal)return r;var t=Ld.macroTokenToFormatOpts(r.val);if(!t)return r;var n=Ld.create(e,t),i=n.formatDateTimeParts(Utt()),a=i.map(function(l){return ztt(l,e,t)});return a.includes(void 0)?r:a}function Wtt(r,e){var t;return(t=Array.prototype).concat.apply(t,r.map(function(n){return Htt(n,e)}))}function sfe(r,e,t){var n=Wtt(Ld.parseFormat(t),r),i=n.map(function(V){return Ftt(V,r)}),a=i.find(function(V){return V.invalidReason});if(a)return{input:e,tokens:n,invalidReason:a.invalidReason};var l=Ntt(i),h=l[0],b=l[1],S=RegExp(h,"i"),E=Btt(e,S,b),O=E[0],P=E[1],q=P?jtt(P):[null,null],z=q[0],N=q[1];if(D0(P,"a")&&D0(P,"H"))throw new Aw("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:S,rawMatches:O,matches:P,result:z,zone:N}}function Vtt(r,e,t){var n=sfe(r,e,t),i=n.result,a=n.zone,l=n.invalidReason;return[i,a,l]}var lfe=[0,31,59,90,120,151,181,212,243,273,304,334],ufe=[0,31,60,91,121,152,182,213,244,274,305,335];function jf(r,e){return new Ph("unit out of range","you specified "+e+" (of type "+typeof e+") as a "+r+", which is invalid")}function cfe(r,e,t){var n=new Date(Date.UTC(r,e-1,t)).getUTCDay();return n===0?7:n}function ffe(r,e,t){return t+(Pw(r)?ufe:lfe)[e-1]}function hfe(r,e){var t=Pw(r)?ufe:lfe,n=t.findIndex(function(a){return a<e}),i=e-t[n];return{month:n+1,day:i}}function K3(r){var e=r.year,t=r.month,n=r.day,i=ffe(e,t,n),a=cfe(e,t,n),l=Math.floor((i-a+10)/7),h;return l<1?(h=e-1,l=LA(h)):l>LA(e)?(h=e+1,l=1):h=e,Object.assign({weekYear:h,weekNumber:l,weekday:a},NA(r))}function Ece(r){var e=r.weekYear,t=r.weekNumber,n=r.weekday,i=cfe(e,1,4),a=Ow(e),l=t*7+n-i-3,h;l<1?(h=e-1,l+=Ow(h)):l>a?(h=e+1,l-=Ow(e)):h=e;var b=hfe(h,l),S=b.month,E=b.day;return Object.assign({year:h,month:S,day:E},NA(r))}function q3(r){var e=r.year,t=r.month,n=r.day,i=ffe(e,t,n);return Object.assign({year:e,ordinal:i},NA(r))}function Tce(r){var e=r.year,t=r.ordinal,n=hfe(e,t),i=n.month,a=n.day;return Object.assign({year:e,month:i,day:a},NA(r))}function $tt(r){var e=qA(r.weekYear),t=Up(r.weekNumber,1,LA(r.weekYear)),n=Up(r.weekday,1,7);return e?t?n?!1:jf("weekday",r.weekday):jf("week",r.week):jf("weekYear",r.weekYear)}function Gtt(r){var e=qA(r.year),t=Up(r.ordinal,1,Ow(r.year));return e?t?!1:jf("ordinal",r.ordinal):jf("year",r.year)}function dfe(r){var e=qA(r.year),t=Up(r.month,1,12),n=Up(r.day,1,PA(r.year,r.month));return e?t?n?!1:jf("day",r.day):jf("month",r.month):jf("year",r.year)}function pfe(r){var e=r.hour,t=r.minute,n=r.second,i=r.millisecond,a=Up(e,0,23)||e===24&&t===0&&n===0&&i===0,l=Up(t,0,59),h=Up(n,0,59),b=Up(i,0,999);return a?l?h?b?!1:jf("millisecond",i):jf("second",n):jf("minute",t):jf("hour",e)}var z3="Invalid DateTime",Ace=864e13;function TA(r){return new Ph("unsupported zone",'the zone "'+r.name+'" is not supported')}function N3(r){return r.weekData===null&&(r.weekData=K3(r.c)),r.weekData}function Cw(r,e){var t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new Ls(Object.assign({},t,e,{old:t}))}function mfe(r,e,t){var n=r-e*60*1e3,i=t.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;var a=t.offset(n);return i===a?[n,i]:[r-Math.min(i,a)*60*1e3,Math.max(i,a)]}function Dce(r,e){r+=e*60*1e3;var t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function OA(r,e,t){return mfe(gz(r),e,t)}function Oce(r,e){var t=r.o,n=r.c.year+Math.trunc(e.years),i=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a=Object.assign({},r.c,{year:n,month:i,day:Math.min(r.c.day,PA(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),l=$u.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),h=gz(a),b=mfe(h,t,r.zone),S=b[0],E=b[1];return l!==0&&(S+=l,E=r.zone.offset(S)),{ts:S,o:E}}function Ew(r,e,t,n,i){var a=t.setZone,l=t.zone;if(r&&Object.keys(r).length!==0){var h=e||l,b=Ls.fromObject(Object.assign(r,t,{zone:h,setZone:void 0}));return a?b:b.setZone(l)}else return Ls.invalid(new Ph("unparsable",'the input "'+i+`" can't be parsed as `+n))}function E0(r,e,t){return t===void 0&&(t=!0),r.isValid?Ld.create(Tl.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function Ice(r,e){var t=e.suppressSeconds,n=t===void 0?!1:t,i=e.suppressMilliseconds,a=i===void 0?!1:i,l=e.includeOffset,h=e.includePrefix,b=h===void 0?!1:h,S=e.includeZone,E=S===void 0?!1:S,O=e.spaceZone,P=O===void 0?!1:O,q=e.format,z=q===void 0?"extended":q,N=z==="basic"?"HHmm":"HH:mm";(!n||r.second!==0||r.millisecond!==0)&&(N+=z==="basic"?"ss":":ss",(!a||r.millisecond!==0)&&(N+=".SSS")),(E||l)&&P&&(N+=" "),E?N+="z":l&&(N+=z==="basic"?"ZZZ":"ZZ");var V=E0(r,N);return b&&(V="T"+V),V}var gfe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ktt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ytt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},vfe=["year","month","day","hour","minute","second","millisecond"],Ztt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Xtt=["year","ordinal","hour","minute","second","millisecond"];function Mce(r){var e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new Rce(r);return e}function Pce(r,e){for(var t=ag(vfe),n;!(n=t()).done;){var i=n.value;Wi(r[i])&&(r[i]=gfe[i])}var a=dfe(r)||pfe(r);if(a)return Ls.invalid(a);var l=bs.now(),h=e.offset(l),b=OA(r,h,e),S=b[0],E=b[1];return new Ls({ts:S,zone:e,o:E})}function Lce(r,e,t){var n=Wi(t.round)?!0:t.round,i=function(O,P){O=mz(O,n||t.calendary?0:2,!0);var q=e.loc.clone(t).relFormatter(t);return q.format(O,P)},a=function(O){return t.calendary?e.hasSame(r,O)?0:e.startOf(O).diff(r.startOf(O),O).get(O):e.diff(r,O).get(O)};if(t.unit)return i(a(t.unit),t.unit);for(var l=ag(t.units),h;!(h=l()).done;){var b=h.value,S=a(b);if(Math.abs(S)>=1)return i(S,b)}return i(r>e?-0:0,t.units[t.units.length-1])}var Ls=function(){function r(t){var n=t.zone||bs.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new Ph("invalid input"):null)||(n.isValid?null:TA(n));this.ts=Wi(t.ts)?bs.now():t.ts;var a=null,l=null;if(!i){var h=t.old&&t.old.ts===this.ts&&t.old.zone.equals(n);if(h){var b=[t.old.c,t.old.o];a=b[0],l=b[1]}else{var S=n.offset(this.ts);a=Dce(this.ts,S),i=Number.isNaN(a.year)?new Ph("invalid input"):null,a=i?null:a,l=i?null:S}}this._zone=n,this.loc=t.loc||Tl.create(),this.invalid=i,this.weekData=null,this.c=a,this.o=l,this.isLuxonDateTime=!0}r.now=function(){return new r({})},r.local=function(n,i,a,l,h,b,S){return Wi(n)?r.now():Pce({year:n,month:i,day:a,hour:l,minute:h,second:b,millisecond:S},bs.defaultZone)},r.utc=function(n,i,a,l,h,b,S){return Wi(n)?new r({ts:bs.now(),zone:lf.utcInstance}):Pce({year:n,month:i,day:a,hour:l,minute:h,second:b,millisecond:S},lf.utcInstance)},r.fromJSDate=function(n,i){i===void 0&&(i={});var a=iet(n)?n.valueOf():NaN;if(Number.isNaN(a))return r.invalid("invalid input");var l=Lv(i.zone,bs.defaultZone);return l.isValid?new r({ts:a,zone:l,loc:Tl.fromObject(i)}):r.invalid(TA(l))},r.fromMillis=function(n,i){if(i===void 0&&(i={}),Fv(n))return n<-Ace||n>Ace?r.invalid("Timestamp out of range"):new r({ts:n,zone:Lv(i.zone,bs.defaultZone),loc:Tl.fromObject(i)});throw new Bf("fromMillis requires a numerical input, but received a "+typeof n+" with value "+n)},r.fromSeconds=function(n,i){if(i===void 0&&(i={}),Fv(n))return new r({ts:n*1e3,zone:Lv(i.zone,bs.defaultZone),loc:Tl.fromObject(i)});throw new Bf("fromSeconds requires a numerical input")},r.fromObject=function(n){var i=Lv(n.zone,bs.defaultZone);if(!i.isValid)return r.invalid(TA(i));var a=bs.now(),l=i.offset(a),h=RA(n,Mce,["zone","locale","outputCalendar","numberingSystem"]),b=!Wi(h.ordinal),S=!Wi(h.year),E=!Wi(h.month)||!Wi(h.day),O=S||E,P=h.weekYear||h.weekNumber,q=Tl.fromObject(n);if((O||b)&&P)throw new Aw("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(E&&b)throw new Aw("Can't mix ordinal dates with month/day");var z=P||h.weekday&&!O,N,V,Y=Dce(a,l);z?(N=Ztt,V=Ktt,Y=K3(Y)):b?(N=Xtt,V=Ytt,Y=q3(Y)):(N=vfe,V=gfe);for(var J=!1,se=ag(N),_;!(_=se()).done;){var me=_.value,ne=h[me];Wi(ne)?J?h[me]=V[me]:h[me]=Y[me]:J=!0}var de=z?$tt(h):b?Gtt(h):dfe(h),he=de||pfe(h);if(he)return r.invalid(he);var be=z?Ece(h):b?Tce(h):h,xe=OA(be,l,i),We=xe[0],R=xe[1],G=new r({ts:We,zone:i,o:R,loc:q});return h.weekday&&O&&n.weekday!==G.weekday?r.invalid("mismatched weekday","you can't specify both a weekday of "+h.weekday+" and a date of "+G.toISO()):G},r.fromISO=function(n,i){i===void 0&&(i={});var a=ctt(n),l=a[0],h=a[1];return Ew(l,h,i,"ISO 8601",n)},r.fromRFC2822=function(n,i){i===void 0&&(i={});var a=ftt(n),l=a[0],h=a[1];return Ew(l,h,i,"RFC 2822",n)},r.fromHTTP=function(n,i){i===void 0&&(i={});var a=htt(n),l=a[0],h=a[1];return Ew(l,h,i,"HTTP",i)},r.fromFormat=function(n,i,a){if(a===void 0&&(a={}),Wi(n)||Wi(i))throw new Bf("fromFormat requires an input string and a format");var l=a,h=l.locale,b=h===void 0?null:h,S=l.numberingSystem,E=S===void 0?null:S,O=Tl.fromOpts({locale:b,numberingSystem:E,defaultToEN:!0}),P=Vtt(O,n,i),q=P[0],z=P[1],N=P[2];return N?r.invalid(N):Ew(q,z,a,"format "+i,n)},r.fromString=function(n,i,a){return a===void 0&&(a={}),r.fromFormat(n,i,a)},r.fromSQL=function(n,i){i===void 0&&(i={});var a=xtt(n),l=a[0],h=a[1];return Ew(l,h,i,"SQL",n)},r.invalid=function(n,i){if(i===void 0&&(i=null),!n)throw new Bf("need to specify a reason the DateTime is invalid");var a=n instanceof Ph?n:new Ph(n,i);if(bs.throwOnInvalid)throw new eet(a);return new r({invalid:a})},r.isDateTime=function(n){return n&&n.isLuxonDateTime||!1};var e=r.prototype;return e.get=function(n){return this[n]},e.resolvedLocaleOpts=function(n){n===void 0&&(n={});var i=Ld.create(this.loc.clone(n),n).resolvedOptions(this),a=i.locale,l=i.numberingSystem,h=i.calendar;return{locale:a,numberingSystem:l,outputCalendar:h}},e.toUTC=function(n,i){return n===void 0&&(n=0),i===void 0&&(i={}),this.setZone(lf.instance(n),i)},e.toLocal=function(){return this.setZone(bs.defaultZone)},e.setZone=function(n,i){var a=i===void 0?{}:i,l=a.keepLocalTime,h=l===void 0?!1:l,b=a.keepCalendarTime,S=b===void 0?!1:b;if(n=Lv(n,bs.defaultZone),n.equals(this.zone))return this;if(n.isValid){var E=this.ts;if(h||S){var O=n.offset(this.ts),P=this.toObject(),q=OA(P,O,n);E=q[0]}return Cw(this,{ts:E,zone:n})}else return r.invalid(TA(n))},e.reconfigure=function(n){var i=n===void 0?{}:n,a=i.locale,l=i.numberingSystem,h=i.outputCalendar,b=this.loc.clone({locale:a,numberingSystem:l,outputCalendar:h});return Cw(this,{loc:b})},e.setLocale=function(n){return this.reconfigure({locale:n})},e.set=function(n){if(!this.isValid)return this;var i=RA(n,Mce,[]),a=!Wi(i.weekYear)||!Wi(i.weekNumber)||!Wi(i.weekday),l=!Wi(i.ordinal),h=!Wi(i.year),b=!Wi(i.month)||!Wi(i.day),S=h||b,E=i.weekYear||i.weekNumber;if((S||l)&&E)throw new Aw("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&l)throw new Aw("Can't mix ordinal dates with month/day");var O;a?O=Ece(Object.assign(K3(this.c),i)):Wi(i.ordinal)?(O=Object.assign(this.toObject(),i),Wi(i.day)&&(O.day=Math.min(PA(O.year,O.month),O.day))):O=Tce(Object.assign(q3(this.c),i));var P=OA(O,this.o,this.zone),q=P[0],z=P[1];return Cw(this,{ts:q,o:z})},e.plus=function(n){if(!this.isValid)return this;var i=Rv(n);return Cw(this,Oce(this,i))},e.minus=function(n){if(!this.isValid)return this;var i=Rv(n).negate();return Cw(this,Oce(this,i))},e.startOf=function(n){if(!this.isValid)return this;var i={},a=$u.normalizeUnit(n);switch(a){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(a==="weeks"&&(i.weekday=1),a==="quarters"){var l=Math.ceil(this.month/3);i.month=(l-1)*3+1}return this.set(i)},e.endOf=function(n){var i;return this.isValid?this.plus((i={},i[n]=1,i)).startOf(n).minus(1):this},e.toFormat=function(n,i){return i===void 0&&(i={}),this.isValid?Ld.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,n):z3},e.toLocaleString=function(n){return n===void 0&&(n=MA),this.isValid?Ld.create(this.loc.clone(n),n).formatDateTime(this):z3},e.toLocaleParts=function(n){return n===void 0&&(n={}),this.isValid?Ld.create(this.loc.clone(n),n).formatDateTimeParts(this):[]},e.toISO=function(n){return n===void 0&&(n={}),this.isValid?this.toISODate(n)+"T"+this.toISOTime(n):null},e.toISODate=function(n){var i=n===void 0?{}:n,a=i.format,l=a===void 0?"extended":a,h=l==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(h="+"+h),E0(this,h)},e.toISOWeekDate=function(){return E0(this,"kkkk-'W'WW-c")},e.toISOTime=function(n){var i=n===void 0?{}:n,a=i.suppressMilliseconds,l=a===void 0?!1:a,h=i.suppressSeconds,b=h===void 0?!1:h,S=i.includeOffset,E=S===void 0?!0:S,O=i.includePrefix,P=O===void 0?!1:O,q=i.format,z=q===void 0?"extended":q;return Ice(this,{suppressSeconds:b,suppressMilliseconds:l,includeOffset:E,includePrefix:P,format:z})},e.toRFC2822=function(){return E0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},e.toHTTP=function(){return E0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},e.toSQLDate=function(){return E0(this,"yyyy-MM-dd")},e.toSQLTime=function(n){var i=n===void 0?{}:n,a=i.includeOffset,l=a===void 0?!0:a,h=i.includeZone,b=h===void 0?!1:h;return Ice(this,{includeOffset:l,includeZone:b,spaceZone:!0})},e.toSQL=function(n){return n===void 0&&(n={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(n):null},e.toString=function(){return this.isValid?this.toISO():z3},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(n){if(n===void 0&&(n={}),!this.isValid)return{};var i=Object.assign({},this.c);return n.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(n,i,a){if(i===void 0&&(i="milliseconds"),a===void 0&&(a={}),!this.isValid||!n.isValid)return $u.invalid(this.invalid||n.invalid,"created by diffing an invalid DateTime");var l=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},a),h=oet(i).map($u.normalizeUnit),b=n.valueOf()>this.valueOf(),S=b?this:n,E=b?n:this,O=Dtt(S,E,h,l);return b?O.negate():O},e.diffNow=function(n,i){return n===void 0&&(n="milliseconds"),i===void 0&&(i={}),this.diff(r.now(),n,i)},e.until=function(n){return this.isValid?Iw.fromDateTimes(this,n):this},e.hasSame=function(n,i){if(!this.isValid)return!1;var a=n.valueOf(),l=this.setZone(n.zone,{keepLocalTime:!0});return l.startOf(i)<=a&&a<=l.endOf(i)},e.equals=function(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)},e.toRelative=function(n){if(n===void 0&&(n={}),!this.isValid)return null;var i=n.base||r.fromObject({zone:this.zone}),a=n.padding?this<i?-n.padding:n.padding:0,l=["years","months","days","hours","minutes","seconds"],h=n.unit;return Array.isArray(n.unit)&&(l=n.unit,h=void 0),Lce(i,this.plus(a),Object.assign(n,{numeric:"always",units:l,unit:h}))},e.toRelativeCalendar=function(n){return n===void 0&&(n={}),this.isValid?Lce(n.base||r.fromObject({zone:this.zone}),this,Object.assign(n,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},r.min=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(!i.every(r.isDateTime))throw new Bf("min requires all arguments be DateTimes");return dce(i,function(l){return l.valueOf()},Math.min)},r.max=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(!i.every(r.isDateTime))throw new Bf("max requires all arguments be DateTimes");return dce(i,function(l){return l.valueOf()},Math.max)},r.fromFormatExplain=function(n,i,a){a===void 0&&(a={});var l=a,h=l.locale,b=h===void 0?null:h,S=l.numberingSystem,E=S===void 0?null:S,O=Tl.fromOpts({locale:b,numberingSystem:E,defaultToEN:!0});return sfe(O,n,i)},r.fromStringExplain=function(n,i,a){return a===void 0&&(a={}),r.fromFormatExplain(n,i,a)},Lh(r,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?N3(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?N3(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?N3(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?q3(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Dw.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Dw.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Dw.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Dw.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return Pw(this.year)}},{key:"daysInMonth",get:function(){return PA(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Ow(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?LA(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return MA}},{key:"DATE_MED",get:function(){return Y3}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return Fce}},{key:"DATE_FULL",get:function(){return Z3}},{key:"DATE_HUGE",get:function(){return X3}},{key:"TIME_SIMPLE",get:function(){return J3}},{key:"TIME_WITH_SECONDS",get:function(){return Q3}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return ez}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return tz}},{key:"TIME_24_SIMPLE",get:function(){return rz}},{key:"TIME_24_WITH_SECONDS",get:function(){return nz}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return iz}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return oz}},{key:"DATETIME_SHORT",get:function(){return az}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return sz}},{key:"DATETIME_MED",get:function(){return lz}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return uz}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return qce}},{key:"DATETIME_FULL",get:function(){return cz}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return fz}},{key:"DATETIME_HUGE",get:function(){return hz}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return dz}}]),r}();function Tw(r){if(Ls.isDateTime(r))return r;if(r&&r.valueOf&&Fv(r.valueOf()))return Ls.fromJSDate(r);if(r&&typeof r=="object")return Ls.fromObject(r);throw new Bf("Unknown datetime argument: "+r+", of type "+typeof r)}var Jtt="1.28.1";cf.DateTime=Ls;cf.Duration=$u;cf.FixedOffsetZone=lf;cf.IANAZone=Rd;cf.Info=Dw;cf.Interval=Iw;cf.InvalidZone=H3;cf.LocalZone=Zce;cf.Settings=bs;cf.VERSION=Jtt;cf.Zone=O0});var BA,sg,_z=He(()=>{BA=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],sg={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:r=>typeof console<"u"&&console.warn(r),getWeek:r=>{let e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1}});var jA,UA,wz=He(()=>{jA={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:r=>{let e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},UA=jA});function Sz(r,e){let t;return function(){clearTimeout(t),t=setTimeout(()=>r.apply(this,arguments),e)}}var ku,Ec,HA,kz=He(()=>{ku=(r,e=2)=>`000${r}`.slice(e*-1),Ec=r=>r===!0?1:0;HA=r=>r instanceof Array?r:[r]});function Cu(r,e,t){if(t===!0)return r.classList.add(e);r.classList.remove(e)}function Zi(r,e,t){let n=window.document.createElement(r);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function Lw(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Cz(r,e){if(e(r))return r;if(r.parentNode)return Cz(r.parentNode,e)}function Rw(r,e){let t=Zi("div","numInputWrapper"),n=Zi("input","numInput "+r),i=Zi("span","arrowUp"),a=Zi("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(let l in e)n.setAttribute(l,e[l]);return t.appendChild(n),t.appendChild(i),t.appendChild(a),t}function Tc(r){try{return typeof r.composedPath=="function"?r.composedPath()[0]:r.target}catch{return r.target}}var bfe=He(()=>{});var Ez,Fw,xfe,qw,L0,Tz=He(()=>{kz();Ez=()=>{},Fw=(r,e,t)=>t.months[e?"shorthand":"longhand"][r],xfe={D:Ez,F:function(r,e,t){r.setMonth(t.months.longhand.indexOf(e))},G:(r,e)=>{r.setHours(parseFloat(e))},H:(r,e)=>{r.setHours(parseFloat(e))},J:(r,e)=>{r.setDate(parseFloat(e))},K:(r,e,t)=>{r.setHours(r.getHours()%12+12*Ec(new RegExp(t.amPM[1],"i").test(e)))},M:function(r,e,t){r.setMonth(t.months.shorthand.indexOf(e))},S:(r,e)=>{r.setSeconds(parseFloat(e))},U:(r,e)=>new Date(parseFloat(e)*1e3),W:function(r,e,t){let n=parseInt(e),i=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:(r,e)=>{r.setFullYear(parseFloat(e))},Z:(r,e)=>new Date(e),d:(r,e)=>{r.setDate(parseFloat(e))},h:(r,e)=>{r.setHours(parseFloat(e))},i:(r,e)=>{r.setMinutes(parseFloat(e))},j:(r,e)=>{r.setDate(parseFloat(e))},l:Ez,m:(r,e)=>{r.setMonth(parseFloat(e)-1)},n:(r,e)=>{r.setMonth(parseFloat(e)-1)},s:(r,e)=>{r.setSeconds(parseFloat(e))},u:(r,e)=>new Date(parseFloat(e)),w:Ez,y:(r,e)=>{r.setFullYear(2e3+parseFloat(e))}},qw={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},L0={Z:r=>r.toISOString(),D:function(r,e,t){return e.weekdays.shorthand[L0.w(r,e,t)]},F:function(r,e,t){return Fw(L0.n(r,e,t)-1,!1,e)},G:function(r,e,t){return ku(L0.h(r,e,t))},H:r=>ku(r.getHours()),J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:(r,e)=>e.amPM[Ec(r.getHours()>11)],M:function(r,e){return Fw(r.getMonth(),!0,e)},S:r=>ku(r.getSeconds()),U:r=>r.getTime()/1e3,W:function(r,e,t){return t.getWeek(r)},Y:r=>ku(r.getFullYear(),4),d:r=>ku(r.getDate()),h:r=>r.getHours()%12?r.getHours()%12:12,i:r=>ku(r.getMinutes()),j:r=>r.getDate(),l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:r=>ku(r.getMonth()+1),n:r=>r.getMonth()+1,s:r=>r.getSeconds(),u:r=>r.getTime(),w:r=>r.getDay(),y:r=>String(r.getFullYear()).substring(2)}});function Ac(r,e,t=!0){return t!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}function VA(r){let e=r.defaultHour,t=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){let i=r.minDate.getHours(),a=r.minDate.getMinutes(),l=r.minDate.getSeconds();e<i&&(e=i),e===i&&t<a&&(t=a),e===i&&t===a&&n<l&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){let i=r.maxDate.getHours(),a=r.maxDate.getMinutes();e=Math.min(e,i),e===i&&(t=Math.min(a,t)),e===i&&t===a&&(n=r.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}var Az,WA,_fe,wfe,Sfe=He(()=>{Tz();_z();wz();Az=({config:r=sg,l10n:e=jA,isMobile:t=!1})=>(n,i,a)=>{let l=a||e;return r.formatDate!==void 0&&!t?r.formatDate(n,i,l):i.split("").map((h,b,S)=>L0[h]&&S[b-1]!=="\\"?L0[h](n,l,r):h!=="\\"?h:"").join("")},WA=({config:r=sg,l10n:e=jA})=>(t,n,i,a)=>{if(t!==0&&!t)return;let l=a||e,h,b=t;if(t instanceof Date)h=new Date(t.getTime());else if(typeof t!="string"&&t.toFixed!==void 0)h=new Date(t);else if(typeof t=="string"){let S=n||(r||sg).dateFormat,E=String(t).trim();if(E==="today")h=new Date,i=!0;else if(/Z$/.test(E)||/GMT$/.test(E))h=new Date(t);else if(r&&r.parseDate)h=r.parseDate(t,S);else{h=!r||!r.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0));let O,P=[];for(let q=0,z=0,N="";q<S.length;q++){let V=S[q],Y=V==="\\",J=S[q-1]==="\\"||Y;if(qw[V]&&!J){N+=qw[V];let se=new RegExp(N).exec(t);se&&(O=!0)&&P[V!=="Y"?"push":"unshift"]({fn:xfe[V],val:se[++z]})}else Y||(N+=".");P.forEach(({fn:se,val:_})=>h=se(h,_,l)||h)}h=O?h:void 0}}if(!(h instanceof Date&&!isNaN(h.getTime()))){r.errorHandler(new Error(`Invalid date provided: ${b}`));return}return i===!0&&h.setHours(0,0,0,0),h};_fe=(r,e,t)=>r>Math.min(e,t)&&r<Math.max(e,t),wfe={DAY:864e5}});var kfe=He(()=>{"use strict";typeof Object.assign!="function"&&(Object.assign=function(r,...e){if(!r)throw TypeError("Cannot convert undefined or null to object");for(let t of e)t&&Object.keys(t).forEach(n=>r[n]=t[n]);return r})});function ert(r,e){let t={config:Object.assign(Object.assign({},sg),Rs.defaultConfig),l10n:UA};t.parseDate=WA({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=z,t._setHoursFromDate=O,t._positionCalendar=qe,t.changeMonth=K,t.changeYear=Tt,t.clear=W,t.close=Ze,t._createElement=Zi,t.destroy=ot,t.isEnabled=Ht,t.jumpToDate=Y,t.open=kt,t.redraw=It,t.set=xr,t.setDate=Ve,t.toggle=_r;function n(){t.utils={getDaysInMonth(Ue=t.currentMonth,Xe=t.currentYear){return Ue===1&&(Xe%4===0&&Xe%100!==0||Xe%400===0)?29:t.l10n.daysInMonth[Ue]}}}function i(){t.element=t.input=r,t.isOpen=!1,rt(),ke(),vr(),Ut(),n(),t.isMobile||_(),V(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&O(t.config.noCalendar?t.latestSelectedDateObj:void 0),Gr(!1)),l();let Ue=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&Ue&&qe(),$r("onReady")}function a(Ue){return Ue.bind(t)}function l(){let Ue=t.config;Ue.weekNumbers===!1&&Ue.showMonths===1||Ue.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){let Xe=(t.days.offsetWidth+1)*Ue.showMonths;t.daysContainer.style.width=Xe+"px",t.calendarContainer.style.width=Xe+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function h(Ue){if(t.selectedDates.length===0){let bt=t.config.minDate===void 0||Ac(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Gt=VA(t.config);bt.setHours(Gt.hours,Gt.minutes,Gt.seconds,bt.getMilliseconds()),t.selectedDates=[bt],t.latestSelectedDateObj=bt}Ue!==void 0&&Ue.type!=="blur"&&ai(Ue);let Xe=t._input.value;E(),Gr(),t._input.value!==Xe&&t._debouncedChange()}function b(Ue,Xe){return Ue%12+12*Ec(Xe===t.l10n.amPM[1])}function S(Ue){switch(Ue%24){case 0:case 12:return 12;default:return Ue%12}}function E(){if(t.hourElement===void 0||t.minuteElement===void 0)return;let Ue=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,Xe=(parseInt(t.minuteElement.value,10)||0)%60,bt=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(Ue=b(Ue,t.amPM.textContent));let Gt=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&Ac(t.latestSelectedDateObj,t.config.minDate,!0)===0;if(t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&Ac(t.latestSelectedDateObj,t.config.maxDate,!0)===0){let rr=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;Ue=Math.min(Ue,rr.getHours()),Ue===rr.getHours()&&(Xe=Math.min(Xe,rr.getMinutes())),Xe===rr.getMinutes()&&(bt=Math.min(bt,rr.getSeconds()))}if(Gt){let rr=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;Ue=Math.max(Ue,rr.getHours()),Ue===rr.getHours()&&Xe<rr.getMinutes()&&(Xe=rr.getMinutes()),Xe===rr.getMinutes()&&(bt=Math.max(bt,rr.getSeconds()))}P(Ue,Xe,bt)}function O(Ue){let Xe=Ue||t.latestSelectedDateObj;Xe&&P(Xe.getHours(),Xe.getMinutes(),Xe.getSeconds())}function P(Ue,Xe,bt){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(Ue%24,Xe,bt||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=ku(t.config.time_24hr?Ue:(12+Ue)%12+12*Ec(Ue%12===0)),t.minuteElement.value=ku(Xe),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Ec(Ue>=12)]),t.secondElement!==void 0&&(t.secondElement.value=ku(bt)))}function q(Ue){let Xe=Tc(Ue),bt=parseInt(Xe.value)+(Ue.delta||0);(bt/1e3>1||Ue.key==="Enter"&&!/[^\d]/.test(bt.toString()))&&Tt(bt)}function z(Ue,Xe,bt,Gt){if(Xe instanceof Array)return Xe.forEach(gr=>z(Ue,gr,bt,Gt));if(Ue instanceof Array)return Ue.forEach(gr=>z(gr,Xe,bt,Gt));Ue.addEventListener(Xe,bt,Gt),t._handlers.push({remove:()=>Ue.removeEventListener(Xe,bt)})}function N(){$r("onChange")}function V(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(Xe=>{Array.prototype.forEach.call(t.element.querySelectorAll(`[data-${Xe}]`),bt=>z(bt,"click",t[Xe]))}),t.isMobile){Xn();return}let Ue=Sz(Kt,50);if(t._debouncedChange=Sz(N,Qtt),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&z(t.daysContainer,"mouseover",Xe=>{t.config.mode==="range"&&br(Tc(Xe))}),z(window.document.body,"keydown",or),!t.config.inline&&!t.config.static&&z(window,"resize",Ue),window.ontouchstart!==void 0?z(window.document,"touchstart",Pt):z(window.document,"mousedown",Pt),z(window.document,"focus",Pt,{capture:!0}),t.config.clickOpens===!0&&(z(t._input,"focus",t.open),z(t._input,"click",t.open)),t.daysContainer!==void 0&&(z(t.monthNav,"click",mn),z(t.monthNav,["keyup","increment"],q),z(t.daysContainer,"click",ur)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){let Xe=bt=>Tc(bt).select();z(t.timeContainer,["increment"],h),z(t.timeContainer,"blur",h,{capture:!0}),z(t.timeContainer,"click",J),z([t.hourElement,t.minuteElement],["focus","click"],Xe),t.secondElement!==void 0&&z(t.secondElement,"focus",()=>t.secondElement&&t.secondElement.select()),t.amPM!==void 0&&z(t.amPM,"click",bt=>{h(bt),N()})}t.config.allowInput&&z(t._input,"blur",tr)}function Y(Ue,Xe){let bt=Ue!==void 0?t.parseDate(Ue):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Gt=t.currentYear,gr=t.currentMonth;try{bt!==void 0&&(t.currentYear=bt.getFullYear(),t.currentMonth=bt.getMonth())}catch(rr){rr.message="Invalid date supplied: "+bt,t.config.errorHandler(rr)}Xe&&t.currentYear!==Gt&&($r("onYearChange"),R()),Xe&&(t.currentYear!==Gt||t.currentMonth!==gr)&&$r("onMonthChange"),t.redraw()}function J(Ue){let Xe=Tc(Ue);~Xe.className.indexOf("arrow")&&se(Ue,Xe.classList.contains("arrowUp")?1:-1)}function se(Ue,Xe,bt){let Gt=Ue&&Tc(Ue),gr=bt||Gt&&Gt.parentNode&&Gt.parentNode.firstChild,rr=gt("increment");rr.delta=Xe,gr&&gr.dispatchEvent(rr)}function _(){let Ue=window.document.createDocumentFragment();if(t.calendarContainer=Zi("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(Ue.appendChild(Ce()),t.innerContainer=Zi("div","flatpickr-innerContainer"),t.config.weekNumbers){let{weekWrapper:bt,weekNumbers:Gt}=je();t.innerContainer.appendChild(bt),t.weekNumbers=Gt,t.weekWrapper=bt}t.rContainer=Zi("div","flatpickr-rContainer"),t.rContainer.appendChild(ie()),t.daysContainer||(t.daysContainer=Zi("div","flatpickr-days"),t.daysContainer.tabIndex=-1),We(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),Ue.appendChild(t.innerContainer)}t.config.enableTime&&Ue.appendChild(re()),Cu(t.calendarContainer,"rangeMode",t.config.mode==="range"),Cu(t.calendarContainer,"animate",t.config.animate===!0),Cu(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(Ue);let Xe=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Xe&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){let bt=Zi("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(bt,t.element),bt.appendChild(t.element),t.altInput&&bt.appendChild(t.altInput),bt.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function me(Ue,Xe,bt,Gt){let gr=Ht(Xe,!0),rr=Zi("span","flatpickr-day "+Ue,Xe.getDate().toString());return rr.dateObj=Xe,rr.$i=Gt,rr.setAttribute("aria-label",t.formatDate(Xe,t.config.ariaDateFormat)),Ue.indexOf("hidden")===-1&&Ac(Xe,t.now)===0&&(t.todayDateElem=rr,rr.classList.add("today"),rr.setAttribute("aria-current","date")),gr?(rr.tabIndex=-1,Dt(Xe)&&(rr.classList.add("selected"),t.selectedDateElem=rr,t.config.mode==="range"&&(Cu(rr,"startRange",t.selectedDates[0]&&Ac(Xe,t.selectedDates[0],!0)===0),Cu(rr,"endRange",t.selectedDates[1]&&Ac(Xe,t.selectedDates[1],!0)===0),Ue==="nextMonthDay"&&rr.classList.add("inRange")))):rr.classList.add("flatpickr-disabled"),t.config.mode==="range"&&hr(Xe)&&!Dt(Xe)&&rr.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&Ue!=="prevMonthDay"&&bt%7===1&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(Xe)+"</span>"),$r("onDayCreate",rr),rr}function ne(Ue){Ue.focus(),t.config.mode==="range"&&br(Ue)}function de(Ue){let Xe=Ue>0?0:t.config.showMonths-1,bt=Ue>0?t.config.showMonths:-1;for(let Gt=Xe;Gt!=bt;Gt+=Ue){let gr=t.daysContainer.children[Gt],rr=Ue>0?0:gr.children.length-1,Ur=Ue>0?gr.children.length:-1;for(let Fr=rr;Fr!=Ur;Fr+=Ue){let vn=gr.children[Fr];if(vn.className.indexOf("hidden")===-1&&Ht(vn.dateObj))return vn}}}function he(Ue,Xe){let bt=Ue.className.indexOf("Month")===-1?Ue.dateObj.getMonth():t.currentMonth,Gt=Xe>0?t.config.showMonths:-1,gr=Xe>0?1:-1;for(let rr=bt-t.currentMonth;rr!=Gt;rr+=gr){let Ur=t.daysContainer.children[rr],Fr=bt-t.currentMonth===rr?Ue.$i+Xe:Xe<0?Ur.children.length-1:0,vn=Ur.children.length;for(let xn=Fr;xn>=0&&xn<vn&&xn!=(Xe>0?vn:-1);xn+=gr){let In=Ur.children[xn];if(In.className.indexOf("hidden")===-1&&Ht(In.dateObj)&&Math.abs(Ue.$i-xn)>=Math.abs(Xe))return ne(In)}}t.changeMonth(gr),be(de(gr),0)}function be(Ue,Xe){let bt=Lt(document.activeElement||document.body),Gt=Ue!==void 0?Ue:bt?document.activeElement:t.selectedDateElem!==void 0&&Lt(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Lt(t.todayDateElem)?t.todayDateElem:de(Xe>0?1:-1);Gt===void 0?t._input.focus():bt?he(Gt,Xe):ne(Gt)}function xe(Ue,Xe){let bt=(new Date(Ue,Xe,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Gt=t.utils.getDaysInMonth((Xe-1+12)%12,Ue),gr=t.utils.getDaysInMonth(Xe,Ue),rr=window.document.createDocumentFragment(),Ur=t.config.showMonths>1,Fr=Ur?"prevMonthDay hidden":"prevMonthDay",vn=Ur?"nextMonthDay hidden":"nextMonthDay",xn=Gt+1-bt,In=0;for(;xn<=Gt;xn++,In++)rr.appendChild(me(Fr,new Date(Ue,Xe-1,xn),xn,In));for(xn=1;xn<=gr;xn++,In++)rr.appendChild(me("",new Date(Ue,Xe,xn),xn,In));for(let Vn=gr+1;Vn<=42-bt&&(t.config.showMonths===1||In%7!==0);Vn++,In++)rr.appendChild(me(vn,new Date(Ue,Xe+1,Vn%gr),Vn,In));let Pi=Zi("div","dayContainer");return Pi.appendChild(rr),Pi}function We(){if(t.daysContainer===void 0)return;Lw(t.daysContainer),t.weekNumbers&&Lw(t.weekNumbers);let Ue=document.createDocumentFragment();for(let Xe=0;Xe<t.config.showMonths;Xe++){let bt=new Date(t.currentYear,t.currentMonth,1);bt.setMonth(t.currentMonth+Xe),Ue.appendChild(xe(bt.getFullYear(),bt.getMonth()))}t.daysContainer.appendChild(Ue),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&br()}function R(){if(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")return;let Ue=function(Xe){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Xe<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Xe>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(let Xe=0;Xe<12;Xe++){if(!Ue(Xe))continue;let bt=Zi("option","flatpickr-monthDropdown-month");bt.value=new Date(t.currentYear,Xe).getMonth().toString(),bt.textContent=Fw(Xe,t.config.shorthandCurrentMonth,t.l10n),bt.tabIndex=-1,t.currentMonth===Xe&&(bt.selected=!0),t.monthsDropdownContainer.appendChild(bt)}}function G(){let Ue=Zi("div","flatpickr-month"),Xe=window.document.createDocumentFragment(),bt;t.config.showMonths>1||t.config.monthSelectorType==="static"?bt=Zi("span","cur-month"):(t.monthsDropdownContainer=Zi("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),z(t.monthsDropdownContainer,"change",Ur=>{let Fr=Tc(Ur),vn=parseInt(Fr.value,10);t.changeMonth(vn-t.currentMonth),$r("onMonthChange")}),R(),bt=t.monthsDropdownContainer);let Gt=Rw("cur-year",{tabindex:"-1"}),gr=Gt.getElementsByTagName("input")[0];gr.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&gr.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(gr.setAttribute("max",t.config.maxDate.getFullYear().toString()),gr.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());let rr=Zi("div","flatpickr-current-month");return rr.appendChild(bt),rr.appendChild(Gt),Xe.appendChild(rr),Ue.appendChild(Xe),{container:Ue,yearElement:gr,monthElement:bt}}function ae(){Lw(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(let Ue=t.config.showMonths;Ue--;){let Xe=G();t.yearElements.push(Xe.yearElement),t.monthElements.push(Xe.monthElement),t.monthNav.appendChild(Xe.container)}t.monthNav.appendChild(t.nextMonthNav)}function Ce(){return t.monthNav=Zi("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Zi("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Zi("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,ae(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:()=>t.__hidePrevMonthArrow,set(Ue){t.__hidePrevMonthArrow!==Ue&&(Cu(t.prevMonthNav,"flatpickr-disabled",Ue),t.__hidePrevMonthArrow=Ue)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:()=>t.__hideNextMonthArrow,set(Ue){t.__hideNextMonthArrow!==Ue&&(Cu(t.nextMonthNav,"flatpickr-disabled",Ue),t.__hideNextMonthArrow=Ue)}}),t.currentYearElement=t.yearElements[0],zr(),t.monthNav}function re(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");let Ue=VA(t.config);t.timeContainer=Zi("div","flatpickr-time"),t.timeContainer.tabIndex=-1;let Xe=Zi("span","flatpickr-time-separator",":"),bt=Rw("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=bt.getElementsByTagName("input")[0];let Gt=Rw("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Gt.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=ku(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?Ue.hours:S(Ue.hours)),t.minuteElement.value=ku(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():Ue.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(bt),t.timeContainer.appendChild(Xe),t.timeContainer.appendChild(Gt),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");let gr=Rw("flatpickr-second");t.secondElement=gr.getElementsByTagName("input")[0],t.secondElement.value=ku(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():Ue.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Zi("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(gr)}return t.config.time_24hr||(t.amPM=Zi("span","flatpickr-am-pm",t.l10n.amPM[Ec((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function ie(){t.weekdayContainer?Lw(t.weekdayContainer):t.weekdayContainer=Zi("div","flatpickr-weekdays");for(let Ue=t.config.showMonths;Ue--;){let Xe=Zi("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(Xe)}return pe(),t.weekdayContainer}function pe(){if(!t.weekdayContainer)return;let Ue=t.l10n.firstDayOfWeek,Xe=[...t.l10n.weekdays.shorthand];Ue>0&&Ue<Xe.length&&(Xe=[...Xe.splice(Ue,Xe.length),...Xe.splice(0,Ue)]);for(let bt=t.config.showMonths;bt--;)t.weekdayContainer.children[bt].innerHTML=`
      <span class='flatpickr-weekday'>
        ${Xe.join("</span><span class='flatpickr-weekday'>")}
      </span>
      `}function je(){t.calendarContainer.classList.add("hasWeeks");let Ue=Zi("div","flatpickr-weekwrapper");Ue.appendChild(Zi("span","flatpickr-weekday",t.l10n.weekAbbreviation));let Xe=Zi("div","flatpickr-weeks");return Ue.appendChild(Xe),{weekWrapper:Ue,weekNumbers:Xe}}function K(Ue,Xe=!0){let bt=Xe?Ue:Ue-t.currentMonth;bt<0&&t._hidePrevMonthArrow===!0||bt>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=bt,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,$r("onYearChange"),R()),We(),$r("onMonthChange"),zr())}function W(Ue=!0,Xe=!0){if(t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,Xe===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){let{hours:bt,minutes:Gt,seconds:gr}=VA(t.config);P(bt,Gt,gr)}t.redraw(),Ue&&$r("onChange")}function Ze(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),$r("onClose")}function ot(){t.config!==void 0&&$r("onDestroy");for(let Ue=t._handlers.length;Ue--;)t._handlers[Ue].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){let Ue=t.calendarContainer.parentNode;if(Ue.lastChild&&Ue.removeChild(Ue.lastChild),Ue.parentNode){for(;Ue.firstChild;)Ue.parentNode.insertBefore(Ue.firstChild,Ue);Ue.parentNode.removeChild(Ue)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(Ue=>{try{delete t[Ue]}catch{}})}function et(Ue){return t.config.appendTo&&t.config.appendTo.contains(Ue)?!0:t.calendarContainer.contains(Ue)}function Pt(Ue){if(t.isOpen&&!t.config.inline){let Xe=Tc(Ue),bt=et(Xe),Gt=Xe===t.input||Xe===t.altInput||t.element.contains(Xe)||Ue.path&&Ue.path.indexOf&&(~Ue.path.indexOf(t.input)||~Ue.path.indexOf(t.altInput)),gr=Ue.type==="blur"?Gt&&Ue.relatedTarget&&!et(Ue.relatedTarget):!Gt&&!bt&&!et(Ue.relatedTarget),rr=!t.config.ignoredFocusElements.some(Ur=>Ur.contains(Xe));gr&&rr&&(t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&h(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&(t.clear(!1),t.redraw()))}}function Tt(Ue){if(!Ue||t.config.minDate&&Ue<t.config.minDate.getFullYear()||t.config.maxDate&&Ue>t.config.maxDate.getFullYear())return;let Xe=Ue,bt=t.currentYear!==Xe;t.currentYear=Xe||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),bt&&(t.redraw(),$r("onYearChange"),R())}function Ht(Ue,Xe=!0){var bt;let Gt=t.parseDate(Ue,void 0,Xe);if(t.config.minDate&&Gt&&Ac(Gt,t.config.minDate,Xe!==void 0?Xe:!t.minDateHasTime)<0||t.config.maxDate&&Gt&&Ac(Gt,t.config.maxDate,Xe!==void 0?Xe:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Gt===void 0)return!1;let gr=!!t.config.enable,rr=(bt=t.config.enable)!==null&&bt!==void 0?bt:t.config.disable;for(let Ur=0,Fr;Ur<rr.length;Ur++){if(Fr=rr[Ur],typeof Fr=="function"&&Fr(Gt))return gr;if(Fr instanceof Date&&Gt!==void 0&&Fr.getTime()===Gt.getTime())return gr;if(typeof Fr=="string"){let vn=t.parseDate(Fr,void 0,!0);return vn&&vn.getTime()===Gt.getTime()?gr:!gr}else if(typeof Fr=="object"&&Gt!==void 0&&Fr.from&&Fr.to&&Gt.getTime()>=Fr.from.getTime()&&Gt.getTime()<=Fr.to.getTime())return gr}return!gr}function Lt(Ue){return t.daysContainer!==void 0?Ue.className.indexOf("hidden")===-1&&Ue.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(Ue):!1}function tr(Ue){Ue.target===t._input&&(t.selectedDates.length>0||t._input.value.length>0)&&!(Ue.relatedTarget&&et(Ue.relatedTarget))&&t.setDate(t._input.value,!0,Ue.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function or(Ue){let Xe=Tc(Ue),bt=t.config.wrap?r.contains(Xe):Xe===t._input,Gt=t.config.allowInput,gr=t.isOpen&&(!Gt||!bt),rr=t.config.inline&&bt&&!Gt;if(Ue.keyCode===13&&bt){if(Gt)return t.setDate(t._input.value,!0,Xe===t.altInput?t.config.altFormat:t.config.dateFormat),Xe.blur();t.open()}else if(et(Xe)||gr||rr){let Ur=!!t.timeContainer&&t.timeContainer.contains(Xe);switch(Ue.keyCode){case 13:Ur?(Ue.preventDefault(),h(),Ct()):ur(Ue);break;case 27:Ue.preventDefault(),Ct();break;case 8:case 46:bt&&!t.config.allowInput&&(Ue.preventDefault(),t.clear());break;case 37:case 39:if(!Ur&&!bt){if(Ue.preventDefault(),t.daysContainer!==void 0&&(Gt===!1||document.activeElement&&Lt(document.activeElement))){let vn=Ue.keyCode===39?1:-1;Ue.ctrlKey?(Ue.stopPropagation(),K(vn),be(de(1),0)):be(void 0,vn)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:Ue.preventDefault();let Fr=Ue.keyCode===40?1:-1;t.daysContainer&&Xe.$i!==void 0||Xe===t.input||Xe===t.altInput?Ue.ctrlKey?(Ue.stopPropagation(),Tt(t.currentYear-Fr),be(de(1),0)):Ur||be(void 0,Fr*7):Xe===t.currentYearElement?Tt(t.currentYear-Fr):t.config.enableTime&&(!Ur&&t.hourElement&&t.hourElement.focus(),h(Ue),t._debouncedChange());break;case 9:if(Ur){let vn=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(In=>In),xn=vn.indexOf(Xe);if(xn!==-1){let In=vn[xn+(Ue.shiftKey?-1:1)];Ue.preventDefault(),(In||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(Xe)&&Ue.shiftKey&&(Ue.preventDefault(),t._input.focus());break;default:break}}if(t.amPM!==void 0&&Xe===t.amPM)switch(Ue.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],E(),Gr();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],E(),Gr();break}(bt||et(Xe))&&$r("onKeyDown",Ue)}function br(Ue){if(t.selectedDates.length!==1||Ue&&(!Ue.classList.contains("flatpickr-day")||Ue.classList.contains("flatpickr-disabled")))return;let Xe=Ue?Ue.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),bt=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Gt=Math.min(Xe,t.selectedDates[0].getTime()),gr=Math.max(Xe,t.selectedDates[0].getTime()),rr=!1,Ur=0,Fr=0;for(let vn=Gt;vn<gr;vn+=wfe.DAY)Ht(new Date(vn),!0)||(rr=rr||vn>Gt&&vn<gr,vn<bt&&(!Ur||vn>Ur)?Ur=vn:vn>bt&&(!Fr||vn<Fr)&&(Fr=vn));for(let vn=0;vn<t.config.showMonths;vn++){let xn=t.daysContainer.children[vn];for(let In=0,Pi=xn.children.length;In<Pi;In++){let Vn=xn.children[In],$n=Vn.dateObj.getTime(),Xi=Ur>0&&$n<Ur||Fr>0&&$n>Fr;if(Xi){Vn.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(ea=>{Vn.classList.remove(ea)});continue}else if(rr&&!Xi)continue;["startRange","inRange","endRange","notAllowed"].forEach(ea=>{Vn.classList.remove(ea)}),Ue!==void 0&&(Ue.classList.add(Xe<=t.selectedDates[0].getTime()?"startRange":"endRange"),bt<Xe&&$n===bt?Vn.classList.add("startRange"):bt>Xe&&$n===bt&&Vn.classList.add("endRange"),$n>=Ur&&(Fr===0||$n<=Fr)&&_fe($n,bt,Xe)&&Vn.classList.add("inRange"))}}}function Kt(){t.isOpen&&!t.config.static&&!t.config.inline&&qe()}function kt(Ue,Xe=t._positionElement){if(t.isMobile===!0){if(Ue){Ue.preventDefault();let Gt=Tc(Ue);Gt&&Gt.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),$r("onOpen");return}else if(t._input.disabled||t.config.inline)return;let bt=t.isOpen;t.isOpen=!0,bt||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),$r("onOpen"),qe(Xe)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(Ue===void 0||!t.timeContainer.contains(Ue.relatedTarget))&&setTimeout(()=>t.hourElement.select(),50)}function yt(Ue){return Xe=>{let bt=t.config[`_${Ue}Date`]=t.parseDate(Xe,t.config.dateFormat),Gt=t.config[`_${Ue==="min"?"max":"min"}Date`];bt!==void 0&&(t[Ue==="min"?"minDateHasTime":"maxDateHasTime"]=bt.getHours()>0||bt.getMinutes()>0||bt.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(gr=>Ht(gr)),!t.selectedDates.length&&Ue==="min"&&O(bt),Gr()),t.daysContainer&&(It(),bt!==void 0?t.currentYearElement[Ue]=bt.getFullYear().toString():t.currentYearElement.removeAttribute(Ue),t.currentYearElement.disabled=!!Gt&&bt!==void 0&&Gt.getFullYear()===bt.getFullYear())}}function rt(){let Ue=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],Xe=Object.assign(Object.assign({},JSON.parse(JSON.stringify(r.dataset||{}))),e),bt={};t.config.parseDate=Xe.parseDate,t.config.formatDate=Xe.formatDate,Object.defineProperty(t.config,"enable",{get:()=>t.config._enable,set:rr=>{t.config._enable=at(rr)}}),Object.defineProperty(t.config,"disable",{get:()=>t.config._disable,set:rr=>{t.config._disable=at(rr)}});let Gt=Xe.mode==="time";if(!Xe.dateFormat&&(Xe.enableTime||Gt)){let rr=Rs.defaultConfig.dateFormat||sg.dateFormat;bt.dateFormat=Xe.noCalendar||Gt?"H:i"+(Xe.enableSeconds?":S":""):rr+" H:i"+(Xe.enableSeconds?":S":"")}if(Xe.altInput&&(Xe.enableTime||Gt)&&!Xe.altFormat){let rr=Rs.defaultConfig.altFormat||sg.altFormat;bt.altFormat=Xe.noCalendar||Gt?"h:i"+(Xe.enableSeconds?":S K":" K"):rr+` h:i${Xe.enableSeconds?":S":""} K`}Object.defineProperty(t.config,"minDate",{get:()=>t.config._minDate,set:yt("min")}),Object.defineProperty(t.config,"maxDate",{get:()=>t.config._maxDate,set:yt("max")});let gr=rr=>Ur=>{t.config[rr==="min"?"_minTime":"_maxTime"]=t.parseDate(Ur,"H:i:S")};Object.defineProperty(t.config,"minTime",{get:()=>t.config._minTime,set:gr("min")}),Object.defineProperty(t.config,"maxTime",{get:()=>t.config._maxTime,set:gr("max")}),Xe.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,bt,Xe);for(let rr=0;rr<Ue.length;rr++)t.config[Ue[rr]]=t.config[Ue[rr]]===!0||t.config[Ue[rr]]==="true";BA.filter(rr=>t.config[rr]!==void 0).forEach(rr=>{t.config[rr]=HA(t.config[rr]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let rr=0;rr<t.config.plugins.length;rr++){let Ur=t.config.plugins[rr](t)||{};for(let Fr in Ur)BA.indexOf(Fr)>-1?t.config[Fr]=HA(Ur[Fr]).map(a).concat(t.config[Fr]):typeof Xe[Fr]>"u"&&(t.config[Fr]=Ur[Fr])}Xe.altInputClass||(t.config.altInputClass=oe().className+" "+t.config.altInputClass),$r("onParseConfig")}function oe(){return t.config.wrap?r.querySelector("[data-input]"):r}function ke(){typeof t.config.locale!="object"&&typeof Rs.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error(`flatpickr: invalid locale ${t.config.locale}`)),t.l10n=Object.assign(Object.assign({},Rs.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Rs.l10ns[t.config.locale]:void 0),qw.K=`(${t.l10n.amPM[0]}|${t.l10n.amPM[1]}|${t.l10n.amPM[0].toLowerCase()}|${t.l10n.amPM[1].toLowerCase()})`,Object.assign(Object.assign({},e),JSON.parse(JSON.stringify(r.dataset||{}))).time_24hr===void 0&&Rs.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Az(t),t.parseDate=WA({config:t.config,l10n:t.l10n})}function qe(Ue){if(typeof t.config.position=="function")return void t.config.position(t,Ue);if(t.calendarContainer===void 0)return;$r("onPreCalendarPosition");let Xe=Ue||t._positionElement,bt=Array.prototype.reduce.call(t.calendarContainer.children,(zn,ve)=>zn+ve.offsetHeight,0),Gt=t.calendarContainer.offsetWidth,gr=t.config.position.split(" "),rr=gr[0],Ur=gr.length>1?gr[1]:null,Fr=Xe.getBoundingClientRect(),vn=window.innerHeight-Fr.bottom,xn=rr==="above"||rr!=="below"&&vn<bt&&Fr.top>bt,In=window.pageYOffset+Fr.top+(xn?-bt-2:Xe.offsetHeight+2);if(Cu(t.calendarContainer,"arrowTop",!xn),Cu(t.calendarContainer,"arrowBottom",xn),t.config.inline)return;let Pi=window.pageXOffset+Fr.left,Vn=!1,Oo=!1;Ur==="center"?(Pi-=(Gt-Fr.width)/2,Vn=!0):Ur==="right"&&(Pi-=Gt-Fr.width,Oo=!0),Cu(t.calendarContainer,"arrowLeft",!Vn&&!Oo),Cu(t.calendarContainer,"arrowCenter",Vn),Cu(t.calendarContainer,"arrowRight",Oo);let $n=window.document.body.offsetWidth-(window.pageXOffset+Fr.right),Xi=Pi+Gt>window.document.body.offsetWidth,ea=$n+Gt>window.document.body.offsetWidth;if(Cu(t.calendarContainer,"rightMost",Xi),!t.config.static)if(t.calendarContainer.style.top=`${In}px`,!Xi)t.calendarContainer.style.left=`${Pi}px`,t.calendarContainer.style.right="auto";else if(!ea)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=`${$n}px`;else{let zn=Yt();if(zn===void 0)return;let ve=window.document.body.offsetWidth,Ee=Math.max(0,ve/2-Gt/2),Oe=".flatpickr-calendar.centerMost:before",Be=".flatpickr-calendar.centerMost:after",Ye=zn.cssRules.length,ht=`{left:${Fr.left}px;right:auto;}`;Cu(t.calendarContainer,"rightMost",!1),Cu(t.calendarContainer,"centerMost",!0),zn.insertRule(`${Oe},${Be}${ht}`,Ye),t.calendarContainer.style.left=`${Ee}px`,t.calendarContainer.style.right="auto"}}function Yt(){let Ue=null;for(let Xe=0;Xe<document.styleSheets.length;Xe++){let bt=document.styleSheets[Xe];try{bt.cssRules}catch{continue}Ue=bt;break}return Ue??st()}function st(){let Ue=document.createElement("style");return document.head.appendChild(Ue),Ue.sheet}function It(){t.config.noCalendar||t.isMobile||(R(),zr(),We())}function Ct(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function ur(Ue){Ue.preventDefault(),Ue.stopPropagation();let Xe=Ur=>Ur.classList&&Ur.classList.contains("flatpickr-day")&&!Ur.classList.contains("flatpickr-disabled")&&!Ur.classList.contains("notAllowed"),bt=Cz(Tc(Ue),Xe);if(bt===void 0)return;let Gt=bt,gr=t.latestSelectedDateObj=new Date(Gt.dateObj.getTime()),rr=(gr.getMonth()<t.currentMonth||gr.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Gt,t.config.mode==="single")t.selectedDates=[gr];else if(t.config.mode==="multiple"){let Ur=Dt(gr);Ur?t.selectedDates.splice(parseInt(Ur),1):t.selectedDates.push(gr)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=gr,t.selectedDates.push(gr),Ac(gr,t.selectedDates[0],!0)!==0&&t.selectedDates.sort((Ur,Fr)=>Ur.getTime()-Fr.getTime()));if(E(),rr){let Ur=t.currentYear!==gr.getFullYear();t.currentYear=gr.getFullYear(),t.currentMonth=gr.getMonth(),Ur&&($r("onYearChange"),R()),$r("onMonthChange")}if(zr(),We(),Gr(),!rr&&t.config.mode!=="range"&&t.config.showMonths===1?ne(Gt):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){let Ur=t.config.mode==="single"&&!t.config.enableTime,Fr=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Ur||Fr)&&Ct()}N()}let sr={locale:[ke,pe],showMonths:[ae,l,ie],minDate:[Y],maxDate:[Y],clickOpens:[()=>{t.config.clickOpens===!0?(z(t._input,"focus",t.open),z(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function xr(Ue,Xe){if(Ue!==null&&typeof Ue=="object"){Object.assign(t.config,Ue);for(let bt in Ue)sr[bt]!==void 0&&sr[bt].forEach(Gt=>Gt())}else t.config[Ue]=Xe,sr[Ue]!==void 0?sr[Ue].forEach(bt=>bt()):BA.indexOf(Ue)>-1&&(t.config[Ue]=HA(Xe));t.redraw(),Gr(!0)}function fr(Ue,Xe){let bt=[];if(Ue instanceof Array)bt=Ue.map(Gt=>t.parseDate(Gt,Xe));else if(Ue instanceof Date||typeof Ue=="number")bt=[t.parseDate(Ue,Xe)];else if(typeof Ue=="string")switch(t.config.mode){case"single":case"time":bt=[t.parseDate(Ue,Xe)];break;case"multiple":bt=Ue.split(t.config.conjunction).map(Gt=>t.parseDate(Gt,Xe));break;case"range":bt=Ue.split(t.l10n.rangeSeparator).map(Gt=>t.parseDate(Gt,Xe));break;default:break}else t.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(Ue)}`));t.selectedDates=t.config.allowInvalidPreload?bt:bt.filter(Gt=>Gt instanceof Date&&Ht(Gt,!1)),t.config.mode==="range"&&t.selectedDates.sort((Gt,gr)=>Gt.getTime()-gr.getTime())}function Ve(Ue,Xe=!1,bt=t.config.dateFormat){if(Ue!==0&&!Ue||Ue instanceof Array&&Ue.length===0)return t.clear(Xe);fr(Ue,bt),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),Y(void 0,Xe),O(),t.selectedDates.length===0&&t.clear(!1),Gr(Xe),Xe&&$r("onChange")}function at(Ue){return Ue.slice().map(Xe=>typeof Xe=="string"||typeof Xe=="number"||Xe instanceof Date?t.parseDate(Xe,void 0,!0):Xe&&typeof Xe=="object"&&Xe.from&&Xe.to?{from:t.parseDate(Xe.from,void 0),to:t.parseDate(Xe.to,void 0)}:Xe).filter(Xe=>Xe)}function Ut(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;let Ue=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);Ue&&fr(Ue,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function vr(){if(t.input=oe(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Zi(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),t._positionElement=t.config.positionElement||t._input}function Xn(){let Ue=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Zi("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=Ue,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=Ue==="datetime-local"?"Y-m-d\\TH:i:S":Ue==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}z(t.mobileInput,"change",Xe=>{t.setDate(Tc(Xe).value,!1,t.mobileFormatStr),$r("onChange"),$r("onClose")})}function _r(Ue){if(t.isOpen===!0)return t.close();t.open(Ue)}function $r(Ue,Xe){if(t.config===void 0)return;let bt=t.config[Ue];if(bt!==void 0&&bt.length>0)for(let Gt=0;bt[Gt]&&Gt<bt.length;Gt++)bt[Gt](t.selectedDates,t.input.value,t,Xe);Ue==="onChange"&&(t.input.dispatchEvent(gt("change")),t.input.dispatchEvent(gt("input")))}function gt(Ue){let Xe=document.createEvent("Event");return Xe.initEvent(Ue,!0,!0),Xe}function Dt(Ue){for(let Xe=0;Xe<t.selectedDates.length;Xe++)if(Ac(t.selectedDates[Xe],Ue)===0)return""+Xe;return!1}function hr(Ue){return t.config.mode!=="range"||t.selectedDates.length<2?!1:Ac(Ue,t.selectedDates[0])>=0&&Ac(Ue,t.selectedDates[1])<=0}function zr(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach((Ue,Xe)=>{let bt=new Date(t.currentYear,t.currentMonth,1);bt.setMonth(t.currentMonth+Xe),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[Xe].textContent=Fw(bt.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=bt.getMonth().toString(),Ue.value=bt.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function wr(Ue){return t.selectedDates.map(Xe=>t.formatDate(Xe,Ue)).filter((Xe,bt,Gt)=>t.config.mode!=="range"||t.config.enableTime||Gt.indexOf(Xe)===bt).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Gr(Ue=!0){t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=wr(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=wr(t.config.altFormat)),Ue!==!1&&$r("onValueUpdate")}function mn(Ue){let Xe=Tc(Ue),bt=t.prevMonthNav.contains(Xe),Gt=t.nextMonthNav.contains(Xe);bt||Gt?K(bt?-1:1):t.yearElements.indexOf(Xe)>=0?Xe.select():Xe.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):Xe.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function ai(Ue){Ue.preventDefault();let Xe=Ue.type==="keydown",bt=Tc(Ue),Gt=bt;t.amPM!==void 0&&bt===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Ec(t.amPM.textContent===t.l10n.amPM[0])]);let gr=parseFloat(Gt.getAttribute("min")),rr=parseFloat(Gt.getAttribute("max")),Ur=parseFloat(Gt.getAttribute("step")),Fr=parseInt(Gt.value,10),vn=Ue.delta||(Xe?Ue.which===38?1:-1:0),xn=Fr+Ur*vn;if(typeof Gt.value<"u"&&Gt.value.length===2){let In=Gt===t.hourElement,Pi=Gt===t.minuteElement;xn<gr?(xn=rr+xn+Ec(!In)+(Ec(In)&&Ec(!t.amPM)),Pi&&se(void 0,-1,t.hourElement)):xn>rr&&(xn=Gt===t.hourElement?xn-rr-Ec(!t.amPM):gr,Pi&&se(void 0,1,t.hourElement)),t.amPM&&In&&(Ur===1?xn+Fr===23:Math.abs(xn-Fr)>Ur)&&(t.amPM.textContent=t.l10n.amPM[Ec(t.amPM.textContent===t.l10n.amPM[0])]),Gt.value=ku(xn)}}return i(),t}function R0(r,e){let t=Array.prototype.slice.call(r).filter(i=>i instanceof HTMLElement),n=[];for(let i=0;i<t.length;i++){let a=t[i];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=ert(a,e||{}),n.push(a._flatpickr)}catch(l){console.error(l)}}return n.length===1?n[0]:n}var Qtt,Rs,Cfe,Efe=He(()=>{_z();wz();kz();bfe();Sfe();Tz();kfe();Qtt=300;typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return R0(this,r)},HTMLElement.prototype.flatpickr=function(r){return R0([this],r)});Rs=function(r,e){return typeof r=="string"?R0(window.document.querySelectorAll(r),e):r instanceof Node?R0([r],e):R0(r,e)};Rs.defaultConfig={};Rs.l10ns={en:Object.assign({},UA),default:Object.assign({},UA)};Rs.localize=r=>{Rs.l10ns.default=Object.assign(Object.assign({},Rs.l10ns.default),r)};Rs.setDefaults=r=>{Rs.defaultConfig=Object.assign(Object.assign({},Rs.defaultConfig),r)};Rs.parseDate=WA({});Rs.formatDate=Az({});Rs.compareDates=Ac;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return R0(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=Rs);Cfe=Rs});function Tfe(r){return new Date(new Date(r).getTime()+new Date(r).getTimezoneOffset()*60*1e3)}var Bv,Afe,Dfe,zw,Ofe=He(()=>{mi();Bv=So(yfe());Efe();Afe="y/LL/dd",Dfe="TT",zw=class extends qr{constructor(){super(...arguments);Tr(this,"flatpickrInstance");Tr(this,"cachedInitialValue")}get browserZone(){return Bv.DateTime.local().zoneName}get initialValue(){return this.isOnShow||this.isOnIndex?this.context.element.innerText:this.isOnEdit?this.inputTarget.value:null}get isOnIndex(){return this.viewValue==="index"}get isOnEdit(){return this.viewValue==="edit"}get isOnShow(){return this.viewValue==="show"}get fieldIsDate(){return this.fieldTypeValue==="date"}get fieldIsDateTime(){return this.fieldTypeValue==="dateTime"}get fieldIsTime(){return this.fieldTypeValue==="time"}get fieldHasTime(){return this.fieldIsTime||this.fieldIsDateTime}get parsedValue(){return Bv.DateTime.fromISO(this.initialValue,{zone:"UTC"})}get displayTimezone(){return this.timezoneValue||this.browserZone}connect(){this.cacheInitialValue(),this.isOnShow||this.isOnIndex?this.initShow():this.isOnEdit&&this.initEdit()}disconnect(){this.isOnShow||this.isOnIndex?this.context.element.innerText=this.cachedInitialValue:this.isOnEdit&&this.flatpickrInstance&&this.flatpickrInstance.destroy()}cacheInitialValue(){this.cachedInitialValue=this.initialValue}initShow(){let r=this.parsedValue;this.fieldHasTime&&this.relativeValue&&(r=r.setZone(this.displayTimezone)),this.context.element.innerText=r.toFormat(this.formatValue)}initEdit(){let r=Cf({enableTime:!1,enableSeconds:!1,time_24hr:this.time24HrValue,locale:{firstDayOfWeek:0},altInput:!0,onChange:this.onChange.bind(this),noCalendar:!1},this.pickerOptionsValue);if(r.altFormat=this.pickerFormatValue,r.disableMobile=this.disableMobileValue,r.locale.firstDayOfWeek=this.firstDayOfWeekValue,r.enableTime=this.enableTimeValue,r.enableSeconds=this.enableTimeValue,r.noCalendar=this.noCalendarValue,this.fieldHasTime&&(r.dateFormat="Y-m-d H:i:S"),this.initialValue)switch(this.fieldTypeValue){case"date":r.defaultDate=Tfe(this.initialValue);break;default:case"time":r.defaultDate=this.parsedValue.setZone(this.displayTimezone,{keepLocalTime:!this.relativeValue}).toISO();break;case"dateTime":r.defaultDate=this.parsedValue.setZone(this.displayTimezone,{keepLocalTime:!this.relativeValue}).toISO();break}if(this.flatpickrInstance=Cfe(this.fakeInputTarget,r),!this.initialValue)return;let e;switch(this.fieldTypeValue){case"time":e=this.parsedValue.setZone(this.displayTimezone,{keepLocalTime:!0}).toFormat(Dfe);break;case"date":e=Bv.DateTime.fromJSDate(Tfe(this.initialValue)).toFormat(Afe);break;default:case"dateTime":e=this.parsedValue.setZone(this.displayTimezone).toISO();break}this.updateRealInput(e)}onChange(r){if(r.length===0){this.updateRealInput("");return}let e;switch(this.fieldTypeValue){case"time":e=Bv.DateTime.fromISO(r[0].toISOString()).setZone("UTC",{keepLocalTime:!this.relativeValue}).toFormat(Dfe);break;case"date":e=Bv.DateTime.fromISO(r[0].toISOString()).setZone("UTC",{keepLocalTime:!0}).toFormat(Afe);break;default:case"dateTime":e=Bv.DateTime.fromISO(r[0].toISOString()).setZone("UTC",{keepLocalTime:!this.relativeValue}).toISO();break}this.updateRealInput(e)}updateRealInput(r){this.inputTarget.value=r}};Tr(zw,"targets",["input","fakeInput"]),Tr(zw,"values",{view:String,timezone:String,format:String,enableTime:Boolean,pickerFormat:String,firstDayOfWeek:Number,time24Hr:Boolean,disableMobile:Boolean,noCalendar:Boolean,relative:Boolean,fieldType:{type:String,default:"dateTime"},pickerOptions:{type:Object,default:{}}})});var Dc=fe((Dz,Oz)=>{(function(r,e){typeof Dz=="object"&&typeof Oz<"u"?Oz.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self,r.CodeMirror=e())})(Dz,function(){"use strict";var r=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(r),n=/MSIE \d/.test(r),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),a=/Edge\/(\d+)/.exec(r),l=n||i||a,h=l&&(n?document.documentMode||6:+(a||i)[1]),b=!a&&/WebKit\//.test(r),S=b&&/Qt\/\d+\.\d+/.test(r),E=!a&&/Chrome\/(\d+)/.exec(r),O=E&&+E[1],P=/Opera\//.test(r),q=/Apple Computer/.test(navigator.vendor),z=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),N=/PhantomJS/.test(r),V=q&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),Y=/Android/.test(r),J=V||Y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),se=V||/Mac/.test(e),_=/\bCrOS\b/.test(r),me=/win/i.test(e),ne=P&&r.match(/Version\/(\d*\.\d*)/);ne&&(ne=Number(ne[1])),ne&&ne>=15&&(P=!1,b=!0);var de=se&&(S||P&&(ne==null||ne<12.11)),he=t||l&&h>=9;function be(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var xe=function(o,u){var p=o.className,y=be(u).exec(p);if(y){var w=p.slice(y.index+y[0].length);o.className=p.slice(0,y.index)+(w?y[1]+w:"")}};function We(o){for(var u=o.childNodes.length;u>0;--u)o.removeChild(o.firstChild);return o}function R(o,u){return We(o).appendChild(u)}function G(o,u,p,y){var w=document.createElement(o);if(p&&(w.className=p),y&&(w.style.cssText=y),typeof u=="string")w.appendChild(document.createTextNode(u));else if(u)for(var D=0;D<u.length;++D)w.appendChild(u[D]);return w}function ae(o,u,p,y){var w=G(o,u,p,y);return w.setAttribute("role","presentation"),w}var Ce;document.createRange?Ce=function(o,u,p,y){var w=document.createRange();return w.setEnd(y||o,p),w.setStart(o,u),w}:Ce=function(o,u,p){var y=document.body.createTextRange();try{y.moveToElementText(o.parentNode)}catch{return y}return y.collapse(!0),y.moveEnd("character",p),y.moveStart("character",u),y};function re(o,u){if(u.nodeType==3&&(u=u.parentNode),o.contains)return o.contains(u);do if(u.nodeType==11&&(u=u.host),u==o)return!0;while(u=u.parentNode)}function ie(o){var u;try{u=o.activeElement}catch{u=o.body||null}for(;u&&u.shadowRoot&&u.shadowRoot.activeElement;)u=u.shadowRoot.activeElement;return u}function pe(o,u){var p=o.className;be(u).test(p)||(o.className+=(p?" ":"")+u)}function je(o,u){for(var p=o.split(" "),y=0;y<p.length;y++)p[y]&&!be(p[y]).test(u)&&(u+=" "+p[y]);return u}var K=function(o){o.select()};V?K=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:l&&(K=function(o){try{o.select()}catch{}});function W(o){return o.display.wrapper.ownerDocument}function Ze(o){return W(o).defaultView}function ot(o){var u=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,u)}}function et(o,u,p){u||(u={});for(var y in o)o.hasOwnProperty(y)&&(p!==!1||!u.hasOwnProperty(y))&&(u[y]=o[y]);return u}function Pt(o,u,p,y,w){u==null&&(u=o.search(/[^\s\u00a0]/),u==-1&&(u=o.length));for(var D=y||0,L=w||0;;){var j=o.indexOf("	",D);if(j<0||j>=u)return L+(u-D);L+=j-D,L+=p-L%p,D=j+1}}var Tt=function(){this.id=null,this.f=null,this.time=0,this.handler=ot(this.onTimeout,this)};Tt.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},Tt.prototype.set=function(o,u){this.f=u;var p=+new Date+o;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=p)};function Ht(o,u){for(var p=0;p<o.length;++p)if(o[p]==u)return p;return-1}var Lt=50,tr={toString:function(){return"CodeMirror.Pass"}},or={scroll:!1},br={origin:"*mouse"},Kt={origin:"+move"};function kt(o,u,p){for(var y=0,w=0;;){var D=o.indexOf("	",y);D==-1&&(D=o.length);var L=D-y;if(D==o.length||w+L>=u)return y+Math.min(L,u-w);if(w+=D-y,w+=p-w%p,y=D+1,w>=u)return y}}var yt=[""];function rt(o){for(;yt.length<=o;)yt.push(oe(yt)+" ");return yt[o]}function oe(o){return o[o.length-1]}function ke(o,u){for(var p=[],y=0;y<o.length;y++)p[y]=u(o[y],y);return p}function qe(o,u,p){for(var y=0,w=p(u);y<o.length&&p(o[y])<=w;)y++;o.splice(y,0,u)}function Yt(){}function st(o,u){var p;return Object.create?p=Object.create(o):(Yt.prototype=o,p=new Yt),u&&et(u,p),p}var It=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ct(o){return/\w/.test(o)||o>"\x80"&&(o.toUpperCase()!=o.toLowerCase()||It.test(o))}function ur(o,u){return u?u.source.indexOf("\\w")>-1&&Ct(o)?!0:u.test(o):Ct(o)}function sr(o){for(var u in o)if(o.hasOwnProperty(u)&&o[u])return!1;return!0}var xr=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function fr(o){return o.charCodeAt(0)>=768&&xr.test(o)}function Ve(o,u,p){for(;(p<0?u>0:u<o.length)&&fr(o.charAt(u));)u+=p;return u}function at(o,u,p){for(var y=u>p?-1:1;;){if(u==p)return u;var w=(u+p)/2,D=y<0?Math.ceil(w):Math.floor(w);if(D==u)return o(D)?u:p;o(D)?p=D:u=D+y}}function Ut(o,u,p,y){if(!o)return y(u,p,"ltr",0);for(var w=!1,D=0;D<o.length;++D){var L=o[D];(L.from<p&&L.to>u||u==p&&L.to==u)&&(y(Math.max(L.from,u),Math.min(L.to,p),L.level==1?"rtl":"ltr",D),w=!0)}w||y(u,p,"ltr")}var vr=null;function Xn(o,u,p){var y;vr=null;for(var w=0;w<o.length;++w){var D=o[w];if(D.from<u&&D.to>u)return w;D.to==u&&(D.from!=D.to&&p=="before"?y=w:vr=w),D.from==u&&(D.from!=D.to&&p!="before"?y=w:vr=w)}return y??vr}var _r=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",u="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(te){return te<=247?o.charAt(te):1424<=te&&te<=1524?"R":1536<=te&&te<=1785?u.charAt(te-1536):1774<=te&&te<=2220?"r":8192<=te&&te<=8203?"w":te==8204?"b":"L"}var y=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,w=/[stwN]/,D=/[LRr]/,L=/[Lb1n]/,j=/[1n]/;function $(te,ye,De){this.level=te,this.from=ye,this.to=De}return function(te,ye){var De=ye=="ltr"?"L":"R";if(te.length==0||ye=="ltr"&&!y.test(te))return!1;for(var $e=te.length,Ke=[],pt=0;pt<$e;++pt)Ke.push(p(te.charCodeAt(pt)));for(var _t=0,At=De;_t<$e;++_t){var Nt=Ke[_t];Nt=="m"?Ke[_t]=At:At=Nt}for(var Xt=0,$t=De;Xt<$e;++Xt){var ir=Ke[Xt];ir=="1"&&$t=="r"?Ke[Xt]="n":D.test(ir)&&($t=ir,ir=="r"&&(Ke[Xt]="R"))}for(var Mr=1,Nr=Ke[0];Mr<$e-1;++Mr){var nn=Ke[Mr];nn=="+"&&Nr=="1"&&Ke[Mr+1]=="1"?Ke[Mr]="1":nn==","&&Nr==Ke[Mr+1]&&(Nr=="1"||Nr=="n")&&(Ke[Mr]=Nr),Nr=nn}for(var Nn=0;Nn<$e;++Nn){var di=Ke[Nn];if(di==",")Ke[Nn]="N";else if(di=="%"){var Cn=void 0;for(Cn=Nn+1;Cn<$e&&Ke[Cn]=="%";++Cn);for(var ki=Nn&&Ke[Nn-1]=="!"||Cn<$e&&Ke[Cn]=="1"?"1":"N",oi=Nn;oi<Cn;++oi)Ke[oi]=ki;Nn=Cn-1}}for(var bn=0,Wn=De;bn<$e;++bn){var hn=Ke[bn];Wn=="L"&&hn=="1"?Ke[bn]="L":D.test(hn)&&(Wn=hn)}for(var ti=0;ti<$e;++ti)if(w.test(Ke[ti])){var ji=void 0;for(ji=ti+1;ji<$e&&w.test(Ke[ji]);++ji);for(var Fn=(ti?Ke[ti-1]:De)=="L",Ci=(ji<$e?Ke[ji]:De)=="L",Os=Fn==Ci?Fn?"L":"R":De,co=ti;co<ji;++co)Ke[co]=Os;ti=ji-1}for(var wa=[],Sa,no=0;no<$e;)if(L.test(Ke[no])){var Kc=no;for(++no;no<$e&&L.test(Ke[no]);++no);wa.push(new $(0,Kc,no))}else{var bo=no,hs=wa.length,Nu=ye=="rtl"?1:0;for(++no;no<$e&&Ke[no]!="L";++no);for(var Js=bo;Js<no;)if(j.test(Ke[Js])){bo<Js&&(wa.splice(hs,0,new $(1,bo,Js)),hs+=Nu);var rp=Js;for(++Js;Js<no&&j.test(Ke[Js]);++Js);wa.splice(hs,0,new $(2,rp,Js)),hs+=Nu,bo=Js}else++Js;bo<no&&wa.splice(hs,0,new $(1,bo,no))}return ye=="ltr"&&(wa[0].level==1&&(Sa=te.match(/^\s+/))&&(wa[0].from=Sa[0].length,wa.unshift(new $(0,0,Sa[0].length))),oe(wa).level==1&&(Sa=te.match(/\s+$/))&&(oe(wa).to-=Sa[0].length,wa.push(new $(0,$e-Sa[0].length,$e)))),ye=="rtl"?wa.reverse():wa}}();function $r(o,u){var p=o.order;return p==null&&(p=o.order=_r(o.text,u)),p}var gt=[],Dt=function(o,u,p){if(o.addEventListener)o.addEventListener(u,p,!1);else if(o.attachEvent)o.attachEvent("on"+u,p);else{var y=o._handlers||(o._handlers={});y[u]=(y[u]||gt).concat(p)}};function hr(o,u){return o._handlers&&o._handlers[u]||gt}function zr(o,u,p){if(o.removeEventListener)o.removeEventListener(u,p,!1);else if(o.detachEvent)o.detachEvent("on"+u,p);else{var y=o._handlers,w=y&&y[u];if(w){var D=Ht(w,p);D>-1&&(y[u]=w.slice(0,D).concat(w.slice(D+1)))}}}function wr(o,u){var p=hr(o,u);if(!!p.length)for(var y=Array.prototype.slice.call(arguments,2),w=0;w<p.length;++w)p[w].apply(null,y)}function Gr(o,u,p){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),wr(o,p||u.type,o,u),Gt(u)||u.codemirrorIgnore}function mn(o){var u=o._handlers&&o._handlers.cursorActivity;if(!!u)for(var p=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),y=0;y<u.length;++y)Ht(p,u[y])==-1&&p.push(u[y])}function ai(o,u){return hr(o,u).length>0}function Ue(o){o.prototype.on=function(u,p){Dt(this,u,p)},o.prototype.off=function(u,p){zr(this,u,p)}}function Xe(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function bt(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function Gt(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==!1}function gr(o){Xe(o),bt(o)}function rr(o){return o.target||o.srcElement}function Ur(o){var u=o.which;return u==null&&(o.button&1?u=1:o.button&2?u=3:o.button&4&&(u=2)),se&&o.ctrlKey&&u==1&&(u=3),u}var Fr=function(){if(l&&h<9)return!1;var o=G("div");return"draggable"in o||"dragDrop"in o}(),vn;function xn(o){if(vn==null){var u=G("span","\u200B");R(o,G("span",[u,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(vn=u.offsetWidth<=1&&u.offsetHeight>2&&!(l&&h<8))}var p=vn?G("span","\u200B"):G("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var In;function Pi(o){if(In!=null)return In;var u=R(o,document.createTextNode("A\u062EA")),p=Ce(u,0,1).getBoundingClientRect(),y=Ce(u,1,2).getBoundingClientRect();return We(o),!p||p.left==p.right?!1:In=y.right-p.right<3}var Vn=`

b`.split(/\n/).length!=3?function(o){for(var u=0,p=[],y=o.length;u<=y;){var w=o.indexOf(`
`,u);w==-1&&(w=o.length);var D=o.slice(u,o.charAt(w-1)=="\r"?w-1:w),L=D.indexOf("\r");L!=-1?(p.push(D.slice(0,L)),u+=L+1):(p.push(D),u=w+1)}return p}:function(o){return o.split(/\r\n?|\n/)},Oo=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var u;try{u=o.ownerDocument.selection.createRange()}catch{}return!u||u.parentElement()!=o?!1:u.compareEndPoints("StartToEnd",u)!=0},$n=function(){var o=G("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),Xi=null;function ea(o){if(Xi!=null)return Xi;var u=R(o,G("span","x")),p=u.getBoundingClientRect(),y=Ce(u,0,1).getBoundingClientRect();return Xi=Math.abs(p.left-y.left)>1}var zn={},ve={};function Ee(o,u){arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),zn[o]=u}function Oe(o,u){ve[o]=u}function Be(o){if(typeof o=="string"&&ve.hasOwnProperty(o))o=ve[o];else if(o&&typeof o.name=="string"&&ve.hasOwnProperty(o.name)){var u=ve[o.name];typeof u=="string"&&(u={name:u}),o=st(u,o),o.name=u.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Be("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Be("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function Ye(o,u){u=Be(u);var p=zn[u.name];if(!p)return Ye(o,"text/plain");var y=p(o,u);if(ht.hasOwnProperty(u.name)){var w=ht[u.name];for(var D in w)!w.hasOwnProperty(D)||(y.hasOwnProperty(D)&&(y["_"+D]=y[D]),y[D]=w[D])}if(y.name=u.name,u.helperType&&(y.helperType=u.helperType),u.modeProps)for(var L in u.modeProps)y[L]=u.modeProps[L];return y}var ht={};function ut(o,u){var p=ht.hasOwnProperty(o)?ht[o]:ht[o]={};et(u,p)}function Ie(o,u){if(u===!0)return u;if(o.copyState)return o.copyState(u);var p={};for(var y in u){var w=u[y];w instanceof Array&&(w=w.concat([])),p[y]=w}return p}function Ne(o,u){for(var p;o.innerMode&&(p=o.innerMode(u),!(!p||p.mode==o));)u=p.state,o=p.mode;return p||{mode:o,state:u}}function xt(o,u,p){return o.startState?o.startState(u,p):!0}var Vt=function(o,u,p){this.pos=this.start=0,this.string=o,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Vt.prototype.eol=function(){return this.pos>=this.string.length},Vt.prototype.sol=function(){return this.pos==this.lineStart},Vt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Vt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Vt.prototype.eat=function(o){var u=this.string.charAt(this.pos),p;if(typeof o=="string"?p=u==o:p=u&&(o.test?o.test(u):o(u)),p)return++this.pos,u},Vt.prototype.eatWhile=function(o){for(var u=this.pos;this.eat(o););return this.pos>u},Vt.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},Vt.prototype.skipToEnd=function(){this.pos=this.string.length},Vt.prototype.skipTo=function(o){var u=this.string.indexOf(o,this.pos);if(u>-1)return this.pos=u,!0},Vt.prototype.backUp=function(o){this.pos-=o},Vt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Pt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Pt(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.indentation=function(){return Pt(this.string,null,this.tabSize)-(this.lineStart?Pt(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.match=function(o,u,p){if(typeof o=="string"){var y=function(L){return p?L.toLowerCase():L},w=this.string.substr(this.pos,o.length);if(y(w)==y(o))return u!==!1&&(this.pos+=o.length),!0}else{var D=this.string.slice(this.pos).match(o);return D&&D.index>0?null:(D&&u!==!1&&(this.pos+=D[0].length),D)}},Vt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Vt.prototype.hideFirstChars=function(o,u){this.lineStart+=o;try{return u()}finally{this.lineStart-=o}},Vt.prototype.lookAhead=function(o){var u=this.lineOracle;return u&&u.lookAhead(o)},Vt.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};function Et(o,u){if(u-=o.first,u<0||u>=o.size)throw new Error("There is no line "+(u+o.first)+" in the document.");for(var p=o;!p.lines;)for(var y=0;;++y){var w=p.children[y],D=w.chunkSize();if(u<D){p=w;break}u-=D}return p.lines[u]}function St(o,u,p){var y=[],w=u.line;return o.iter(u.line,p.line+1,function(D){var L=D.text;w==p.line&&(L=L.slice(0,p.ch)),w==u.line&&(L=L.slice(u.ch)),y.push(L),++w}),y}function Qt(o,u,p){var y=[];return o.iter(u,p,function(w){y.push(w.text)}),y}function we(o,u){var p=u-o.height;if(p)for(var y=o;y;y=y.parent)y.height+=p}function Pe(o){if(o.parent==null)return null;for(var u=o.parent,p=Ht(u.lines,o),y=u.parent;y;u=y,y=y.parent)for(var w=0;y.children[w]!=u;++w)p+=y.children[w].chunkSize();return p+u.first}function Ae(o,u){var p=o.first;e:do{for(var y=0;y<o.children.length;++y){var w=o.children[y],D=w.height;if(u<D){o=w;continue e}u-=D,p+=w.chunkSize()}return p}while(!o.lines);for(var L=0;L<o.lines.length;++L){var j=o.lines[L],$=j.height;if(u<$)break;u-=$}return p+L}function Q(o,u){return u>=o.first&&u<o.first+o.size}function Z(o,u){return String(o.lineNumberFormatter(u+o.firstLineNumber))}function ue(o,u,p){if(p===void 0&&(p=null),!(this instanceof ue))return new ue(o,u,p);this.line=o,this.ch=u,this.sticky=p}function Fe(o,u){return o.line-u.line||o.ch-u.ch}function it(o,u){return o.sticky==u.sticky&&Fe(o,u)==0}function Mt(o){return ue(o.line,o.ch)}function Wt(o,u){return Fe(o,u)<0?u:o}function dr(o,u){return Fe(o,u)<0?o:u}function Sr(o,u){return Math.max(o.first,Math.min(u,o.first+o.size-1))}function Zt(o,u){if(u.line<o.first)return ue(o.first,0);var p=o.first+o.size-1;return u.line>p?ue(p,Et(o,p).text.length):tn(u,Et(o,u.line).text.length)}function tn(o,u){var p=o.ch;return p==null||p>u?ue(o.line,u):p<0?ue(o.line,0):o}function un(o,u){for(var p=[],y=0;y<u.length;y++)p[y]=Zt(o,u[y]);return p}var Br=function(o,u){this.state=o,this.lookAhead=u},Lr=function(o,u,p,y){this.state=u,this.doc=o,this.line=p,this.maxLookAhead=y||0,this.baseTokens=null,this.baseTokenPos=1};Lr.prototype.lookAhead=function(o){var u=this.doc.getLine(this.line+o);return u!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),u},Lr.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},Lr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Lr.fromSaved=function(o,u,p){return u instanceof Br?new Lr(o,Ie(o.mode,u.state),p,u.lookAhead):new Lr(o,Ie(o.mode,u),p)},Lr.prototype.save=function(o){var u=o!==!1?Ie(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Br(u,this.maxLookAhead):u};function cn(o,u,p,y){var w=[o.state.modeGen],D={};Ns(o,u.text,o.doc.mode,p,function(te,ye){return w.push(te,ye)},D,y);for(var L=p.state,j=function(te){p.baseTokens=w;var ye=o.state.overlays[te],De=1,$e=0;p.state=!0,Ns(o,u.text,ye.mode,p,function(Ke,pt){for(var _t=De;$e<Ke;){var At=w[De];At>Ke&&w.splice(De,1,Ke,w[De+1],At),De+=2,$e=Math.min(Ke,At)}if(!!pt)if(ye.opaque)w.splice(_t,De-_t,Ke,"overlay "+pt),De=_t+2;else for(;_t<De;_t+=2){var Nt=w[_t+1];w[_t+1]=(Nt?Nt+" ":"")+"overlay "+pt}},D),p.state=L,p.baseTokens=null,p.baseTokenPos=1},$=0;$<o.state.overlays.length;++$)j($);return{styles:w,classes:D.bgClass||D.textClass?D:null}}function Mn(o,u,p){if(!u.styles||u.styles[0]!=o.state.modeGen){var y=Ji(o,Pe(u)),w=u.text.length>o.options.maxHighlightLength&&Ie(o.doc.mode,y.state),D=cn(o,u,y);w&&(y.state=w),u.stateAfter=y.save(!w),u.styles=D.styles,D.classes?u.styleClasses=D.classes:u.styleClasses&&(u.styleClasses=null),p===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return u.styles}function Ji(o,u,p){var y=o.doc,w=o.display;if(!y.mode.startState)return new Lr(y,!0,u);var D=Ai(o,u,p),L=D>y.first&&Et(y,D-1).stateAfter,j=L?Lr.fromSaved(y,L,D):new Lr(y,xt(y.mode),D);return y.iter(D,u,function($){zs(o,$.text,j);var te=j.line;$.stateAfter=te==u-1||te%5==0||te>=w.viewFrom&&te<w.viewTo?j.save():null,j.nextLine()}),p&&(y.modeFrontier=j.line),j}function zs(o,u,p,y){var w=o.doc.mode,D=new Vt(u,o.options.tabSize,p);for(D.start=D.pos=y||0,u==""&&Pn(w,p.state);!D.eol();)fi(w,D,p.state),D.start=D.pos}function Pn(o,u){if(o.blankLine)return o.blankLine(u);if(!!o.innerMode){var p=Ne(o,u);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function fi(o,u,p,y){for(var w=0;w<10;w++){y&&(y[0]=Ne(o,p).mode);var D=o.token(u,p);if(u.pos>u.start)return D}throw new Error("Mode "+o.name+" failed to advance stream.")}var ta=function(o,u,p){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=u||null,this.state=p};function Dl(o,u,p,y){var w=o.doc,D=w.mode,L;u=Zt(w,u);var j=Et(w,u.line),$=Ji(o,u.line,p),te=new Vt(j.text,o.options.tabSize,$),ye;for(y&&(ye=[]);(y||te.pos<u.ch)&&!te.eol();)te.start=te.pos,L=fi(D,te,$.state),y&&ye.push(new ta(te,L,Ie(w.mode,$.state)));return y?ye:new ta(te,L,$.state)}function vi(o,u){if(o)for(;;){var p=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;o=o.slice(0,p.index)+o.slice(p.index+p[0].length);var y=p[1]?"bgClass":"textClass";u[y]==null?u[y]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(u[y])||(u[y]+=" "+p[2])}return o}function Ns(o,u,p,y,w,D,L){var j=p.flattenSpans;j==null&&(j=o.options.flattenSpans);var $=0,te=null,ye=new Vt(u,o.options.tabSize,y),De,$e=o.options.addModeClass&&[null];for(u==""&&vi(Pn(p,y.state),D);!ye.eol();){if(ye.pos>o.options.maxHighlightLength?(j=!1,L&&zs(o,u,y,ye.pos),ye.pos=u.length,De=null):De=vi(fi(p,ye,y.state,$e),D),$e){var Ke=$e[0].name;Ke&&(De="m-"+(De?Ke+" "+De:Ke))}if(!j||te!=De){for(;$<ye.start;)$=Math.min(ye.start,$+5e3),w($,te);te=De}ye.start=ye.pos}for(;$<ye.pos;){var pt=Math.min(ye.pos,$+5e3);w(pt,te),$=pt}}function Ai(o,u,p){for(var y,w,D=o.doc,L=p?-1:u-(o.doc.mode.innerMode?1e3:100),j=u;j>L;--j){if(j<=D.first)return D.first;var $=Et(D,j-1),te=$.stateAfter;if(te&&(!p||j+(te instanceof Br?te.lookAhead:0)<=D.modeFrontier))return j;var ye=Pt($.text,null,o.options.tabSize);(w==null||y>ye)&&(w=j-1,y=ye)}return w}function Qi(o,u){if(o.modeFrontier=Math.min(o.modeFrontier,u),!(o.highlightFrontier<u-10)){for(var p=o.first,y=u-1;y>p;y--){var w=Et(o,y).stateAfter;if(w&&(!(w instanceof Br)||y+w.lookAhead<u)){p=y+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,p)}}var so=!1,Dn=!1;function ra(){so=!0}function na(){Dn=!0}function Gu(o,u,p){this.marker=o,this.from=u,this.to=p}function mo(o,u){if(o)for(var p=0;p<o.length;++p){var y=o[p];if(y.marker==u)return y}}function Vf(o,u){for(var p,y=0;y<o.length;++y)o[y]!=u&&(p||(p=[])).push(o[y]);return p}function Uo(o,u,p){var y=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));y&&o.markedSpans&&y.has(o.markedSpans)?o.markedSpans.push(u):(o.markedSpans=o.markedSpans?o.markedSpans.concat([u]):[u],y&&y.add(o.markedSpans)),u.marker.attachLine(o)}function Vi(o,u,p){var y;if(o)for(var w=0;w<o.length;++w){var D=o[w],L=D.marker,j=D.from==null||(L.inclusiveLeft?D.from<=u:D.from<u);if(j||D.from==u&&L.type=="bookmark"&&(!p||!D.marker.insertLeft)){var $=D.to==null||(L.inclusiveRight?D.to>=u:D.to>u);(y||(y=[])).push(new Gu(L,D.from,$?null:D.to))}}return y}function ns(o,u,p){var y;if(o)for(var w=0;w<o.length;++w){var D=o[w],L=D.marker,j=D.to==null||(L.inclusiveRight?D.to>=u:D.to>u);if(j||D.from==u&&L.type=="bookmark"&&(!p||D.marker.insertLeft)){var $=D.from==null||(L.inclusiveLeft?D.from<=u:D.from<u);(y||(y=[])).push(new Gu(L,$?null:D.from-u,D.to==null?null:D.to-u))}}return y}function jn(o,u){if(u.full)return null;var p=Q(o,u.from.line)&&Et(o,u.from.line).markedSpans,y=Q(o,u.to.line)&&Et(o,u.to.line).markedSpans;if(!p&&!y)return null;var w=u.from.ch,D=u.to.ch,L=Fe(u.from,u.to)==0,j=Vi(p,w,L),$=ns(y,D,L),te=u.text.length==1,ye=oe(u.text).length+(te?w:0);if(j)for(var De=0;De<j.length;++De){var $e=j[De];if($e.to==null){var Ke=mo($,$e.marker);Ke?te&&($e.to=Ke.to==null?null:Ke.to+ye):$e.to=w}}if($)for(var pt=0;pt<$.length;++pt){var _t=$[pt];if(_t.to!=null&&(_t.to+=ye),_t.from==null){var At=mo(j,_t.marker);At||(_t.from=ye,te&&(j||(j=[])).push(_t))}else _t.from+=ye,te&&(j||(j=[])).push(_t)}j&&(j=sl(j)),$&&$!=j&&($=sl($));var Nt=[j];if(!te){var Xt=u.text.length-2,$t;if(Xt>0&&j)for(var ir=0;ir<j.length;++ir)j[ir].to==null&&($t||($t=[])).push(new Gu(j[ir].marker,null,null));for(var Mr=0;Mr<Xt;++Mr)Nt.push($t);Nt.push($)}return Nt}function sl(o){for(var u=0;u<o.length;++u){var p=o[u];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&o.splice(u--,1)}return o.length?o:null}function pf(o,u,p){var y=null;if(o.iter(u.line,p.line+1,function(Ke){if(Ke.markedSpans)for(var pt=0;pt<Ke.markedSpans.length;++pt){var _t=Ke.markedSpans[pt].marker;_t.readOnly&&(!y||Ht(y,_t)==-1)&&(y||(y=[])).push(_t)}}),!y)return null;for(var w=[{from:u,to:p}],D=0;D<y.length;++D)for(var L=y[D],j=L.find(0),$=0;$<w.length;++$){var te=w[$];if(!(Fe(te.to,j.from)<0||Fe(te.from,j.to)>0)){var ye=[$,1],De=Fe(te.from,j.from),$e=Fe(te.to,j.to);(De<0||!L.inclusiveLeft&&!De)&&ye.push({from:te.from,to:j.from}),($e>0||!L.inclusiveRight&&!$e)&&ye.push({from:j.to,to:te.to}),w.splice.apply(w,ye),$+=ye.length-3}}return w}function Pc(o){var u=o.markedSpans;if(!!u){for(var p=0;p<u.length;++p)u[p].marker.detachLine(o);o.markedSpans=null}}function is(o,u){if(!!u){for(var p=0;p<u.length;++p)u[p].marker.attachLine(o);o.markedSpans=u}}function _s(o){return o.inclusiveLeft?-1:0}function Xl(o){return o.inclusiveRight?1:0}function Jl(o,u){var p=o.lines.length-u.lines.length;if(p!=0)return p;var y=o.find(),w=u.find(),D=Fe(y.from,w.from)||_s(o)-_s(u);if(D)return-D;var L=Fe(y.to,w.to)||Xl(o)-Xl(u);return L||u.id-o.id}function Ku(o,u){var p=Dn&&o.markedSpans,y;if(p)for(var w=void 0,D=0;D<p.length;++D)w=p[D],w.marker.collapsed&&(u?w.from:w.to)==null&&(!y||Jl(y,w.marker)<0)&&(y=w.marker);return y}function Ol(o){return Ku(o,!0)}function zi(o){return Ku(o,!1)}function mf(o,u){var p=Dn&&o.markedSpans,y;if(p)for(var w=0;w<p.length;++w){var D=p[w];D.marker.collapsed&&(D.from==null||D.from<u)&&(D.to==null||D.to>u)&&(!y||Jl(y,D.marker)<0)&&(y=D.marker)}return y}function Ql(o,u,p,y,w){var D=Et(o,u),L=Dn&&D.markedSpans;if(L)for(var j=0;j<L.length;++j){var $=L[j];if(!!$.marker.collapsed){var te=$.marker.find(0),ye=Fe(te.from,p)||_s($.marker)-_s(w),De=Fe(te.to,y)||Xl($.marker)-Xl(w);if(!(ye>=0&&De<=0||ye<=0&&De>=0)&&(ye<=0&&($.marker.inclusiveRight&&w.inclusiveLeft?Fe(te.to,p)>=0:Fe(te.to,p)>0)||ye>=0&&($.marker.inclusiveRight&&w.inclusiveLeft?Fe(te.from,y)<=0:Fe(te.from,y)<0)))return!0}}}function Ua(o){for(var u;u=Ol(o);)o=u.find(-1,!0).line;return o}function $f(o){for(var u;u=zi(o);)o=u.find(1,!0).line;return o}function ia(o){for(var u,p;u=zi(o);)o=u.find(1,!0).line,(p||(p=[])).push(o);return p}function ll(o,u){var p=Et(o,u),y=Ua(p);return p==y?u:Pe(y)}function Aa(o,u){if(u>o.lastLine())return u;var p=Et(o,u),y;if(!Da(o,p))return u;for(;y=zi(p);)p=y.find(1,!0).line;return Pe(p)+1}function Da(o,u){var p=Dn&&u.markedSpans;if(p){for(var y=void 0,w=0;w<p.length;++w)if(y=p[w],!!y.marker.collapsed){if(y.from==null)return!0;if(!y.marker.widgetNode&&y.from==0&&y.marker.inclusiveLeft&&ul(o,u,y))return!0}}}function ul(o,u,p){if(p.to==null){var y=p.marker.find(1,!0);return ul(o,y.line,mo(y.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==u.text.length)return!0;for(var w=void 0,D=0;D<u.markedSpans.length;++D)if(w=u.markedSpans[D],w.marker.collapsed&&!w.marker.widgetNode&&w.from==p.to&&(w.to==null||w.to!=p.from)&&(w.marker.inclusiveLeft||p.marker.inclusiveRight)&&ul(o,u,w))return!0}function Io(o){o=Ua(o);for(var u=0,p=o.parent,y=0;y<p.lines.length;++y){var w=p.lines[y];if(w==o)break;u+=w.height}for(var D=p.parent;D;p=D,D=p.parent)for(var L=0;L<D.children.length;++L){var j=D.children[L];if(j==p)break;u+=j.height}return u}function Lc(o){if(o.height==0)return 0;for(var u=o.text.length,p,y=o;p=Ol(y);){var w=p.find(0,!0);y=w.from.line,u+=w.from.ch-w.to.ch}for(y=o;p=zi(y);){var D=p.find(0,!0);u-=y.text.length-D.from.ch,y=D.to.line,u+=y.text.length-D.to.ch}return u}function Ha(o){var u=o.display,p=o.doc;u.maxLine=Et(p,p.first),u.maxLineLength=Lc(u.maxLine),u.maxLineChanged=!0,p.iter(function(y){var w=Lc(y);w>u.maxLineLength&&(u.maxLineLength=w,u.maxLine=y)})}var Ni=function(o,u,p){this.text=o,is(this,u),this.height=p?p(this):1};Ni.prototype.lineNo=function(){return Pe(this)},Ue(Ni);function gf(o,u,p,y){o.text=u,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),Pc(o),is(o,p);var w=y?y(o):1;w!=o.height&&we(o,w)}function Bd(o){o.parent=null,Pc(o)}var Kp={},_g={};function Fh(o,u){if(!o||/^\s*$/.test(o))return null;var p=u.addModeClass?_g:Kp;return p[o]||(p[o]=o.replace(/\S+/g,"cm-$&"))}function qh(o,u){var p=ae("span",null,null,b?"padding-right: .1px":null),y={pre:ae("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};u.measure={};for(var w=0;w<=(u.rest?u.rest.length:0);w++){var D=w?u.rest[w-1]:u.line,L=void 0;y.pos=0,y.addToken=zh,Pi(o.display.measure)&&(L=$r(D,o.doc.direction))&&(y.addToken=Ud(y.addToken,L)),y.map=[];var j=u!=o.display.externalMeasured&&Pe(D);eu(D,y,Mn(o,D,j)),D.styleClasses&&(D.styleClasses.bgClass&&(y.bgClass=je(D.styleClasses.bgClass,y.bgClass||"")),D.styleClasses.textClass&&(y.textClass=je(D.styleClasses.textClass,y.textClass||""))),y.map.length==0&&y.map.push(0,0,y.content.appendChild(xn(o.display.measure))),w==0?(u.measure.map=y.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(y.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(b){var $=y.content.lastChild;(/\bcm-tab\b/.test($.className)||$.querySelector&&$.querySelector(".cm-tab"))&&(y.content.className="cm-tab-wrap-hack")}return wr(o,"renderLine",o,u.line,y.pre),y.pre.className&&(y.textClass=je(y.pre.className,y.textClass||"")),y}function jd(o){var u=G("span","\u2022","cm-invalidchar");return u.title="\\u"+o.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function zh(o,u,p,y,w,D,L){if(!!u){var j=o.splitSpaces?Yp(u,o.trailingSpace):u,$=o.cm.state.specialChars,te=!1,ye;if(!$.test(u))o.col+=u.length,ye=document.createTextNode(j),o.map.push(o.pos,o.pos+u.length,ye),l&&h<9&&(te=!0),o.pos+=u.length;else{ye=document.createDocumentFragment();for(var De=0;;){$.lastIndex=De;var $e=$.exec(u),Ke=$e?$e.index-De:u.length-De;if(Ke){var pt=document.createTextNode(j.slice(De,De+Ke));l&&h<9?ye.appendChild(G("span",[pt])):ye.appendChild(pt),o.map.push(o.pos,o.pos+Ke,pt),o.col+=Ke,o.pos+=Ke}if(!$e)break;De+=Ke+1;var _t=void 0;if($e[0]=="	"){var At=o.cm.options.tabSize,Nt=At-o.col%At;_t=ye.appendChild(G("span",rt(Nt),"cm-tab")),_t.setAttribute("role","presentation"),_t.setAttribute("cm-text","	"),o.col+=Nt}else $e[0]=="\r"||$e[0]==`
`?(_t=ye.appendChild(G("span",$e[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),_t.setAttribute("cm-text",$e[0]),o.col+=1):(_t=o.cm.options.specialCharPlaceholder($e[0]),_t.setAttribute("cm-text",$e[0]),l&&h<9?ye.appendChild(G("span",[_t])):ye.appendChild(_t),o.col+=1);o.map.push(o.pos,o.pos+1,_t),o.pos++}}if(o.trailingSpace=j.charCodeAt(u.length-1)==32,p||y||w||te||D||L){var Xt=p||"";y&&(Xt+=y),w&&(Xt+=w);var $t=G("span",[ye],Xt,D);if(L)for(var ir in L)L.hasOwnProperty(ir)&&ir!="style"&&ir!="class"&&$t.setAttribute(ir,L[ir]);return o.content.appendChild($t)}o.content.appendChild(ye)}}function Yp(o,u){if(o.length>1&&!/  /.test(o))return o;for(var p=u,y="",w=0;w<o.length;w++){var D=o.charAt(w);D==" "&&p&&(w==o.length-1||o.charCodeAt(w+1)==32)&&(D="\xA0"),y+=D,p=D==" "}return y}function Ud(o,u){return function(p,y,w,D,L,j,$){w=w?w+" cm-force-border":"cm-force-border";for(var te=p.pos,ye=te+y.length;;){for(var De=void 0,$e=0;$e<u.length&&(De=u[$e],!(De.to>te&&De.from<=te));$e++);if(De.to>=ye)return o(p,y,w,D,L,j,$);o(p,y.slice(0,De.to-te),w,D,null,j,$),D=null,y=y.slice(De.to-te),te=De.to}}}function Gf(o,u,p,y){var w=!y&&p.widgetNode;w&&o.map.push(o.pos,o.pos+u,w),!y&&o.cm.display.input.needsContentAttribute&&(w||(w=o.content.appendChild(document.createElement("span"))),w.setAttribute("cm-marker",p.id)),w&&(o.cm.display.input.setUneditable(w),o.content.appendChild(w)),o.pos+=u,o.trailingSpace=!1}function eu(o,u,p){var y=o.markedSpans,w=o.text,D=0;if(!y){for(var L=1;L<p.length;L+=2)u.addToken(u,w.slice(D,D=p[L]),Fh(p[L+1],u.cm.options));return}for(var j=w.length,$=0,te=1,ye="",De,$e,Ke=0,pt,_t,At,Nt,Xt;;){if(Ke==$){pt=_t=At=$e="",Xt=null,Nt=null,Ke=1/0;for(var $t=[],ir=void 0,Mr=0;Mr<y.length;++Mr){var Nr=y[Mr],nn=Nr.marker;if(nn.type=="bookmark"&&Nr.from==$&&nn.widgetNode)$t.push(nn);else if(Nr.from<=$&&(Nr.to==null||Nr.to>$||nn.collapsed&&Nr.to==$&&Nr.from==$)){if(Nr.to!=null&&Nr.to!=$&&Ke>Nr.to&&(Ke=Nr.to,_t=""),nn.className&&(pt+=" "+nn.className),nn.css&&($e=($e?$e+";":"")+nn.css),nn.startStyle&&Nr.from==$&&(At+=" "+nn.startStyle),nn.endStyle&&Nr.to==Ke&&(ir||(ir=[])).push(nn.endStyle,Nr.to),nn.title&&((Xt||(Xt={})).title=nn.title),nn.attributes)for(var Nn in nn.attributes)(Xt||(Xt={}))[Nn]=nn.attributes[Nn];nn.collapsed&&(!Nt||Jl(Nt.marker,nn)<0)&&(Nt=Nr)}else Nr.from>$&&Ke>Nr.from&&(Ke=Nr.from)}if(ir)for(var di=0;di<ir.length;di+=2)ir[di+1]==Ke&&(_t+=" "+ir[di]);if(!Nt||Nt.from==$)for(var Cn=0;Cn<$t.length;++Cn)Gf(u,0,$t[Cn]);if(Nt&&(Nt.from||0)==$){if(Gf(u,(Nt.to==null?j+1:Nt.to)-$,Nt.marker,Nt.from==null),Nt.to==null)return;Nt.to==$&&(Nt=!1)}}if($>=j)break;for(var ki=Math.min(j,Ke);;){if(ye){var oi=$+ye.length;if(!Nt){var bn=oi>ki?ye.slice(0,ki-$):ye;u.addToken(u,bn,De?De+pt:pt,At,$+bn.length==Ke?_t:"",$e,Xt)}if(oi>=ki){ye=ye.slice(ki-$),$=ki;break}$=oi,At=""}ye=w.slice(D,D=p[te++]),De=Fh(p[te++],u.cm.options)}}}function vf(o,u,p){this.line=u,this.rest=ia(u),this.size=this.rest?Pe(oe(this.rest))-p+1:1,this.node=this.text=null,this.hidden=Da(o,u)}function Kf(o,u,p){for(var y=[],w,D=u;D<p;D=w){var L=new vf(o.doc,Et(o.doc,D),D);w=D+L.size,y.push(L)}return y}var go=null;function Rc(o){go?go.ops.push(o):o.ownsGroup=go={ops:[o],delayedCallbacks:[]}}function eo(o){var u=o.delayedCallbacks,p=0;do{for(;p<u.length;p++)u[p].call(null);for(var y=0;y<o.ops.length;y++){var w=o.ops[y];if(w.cursorActivityHandlers)for(;w.cursorActivityCalled<w.cursorActivityHandlers.length;)w.cursorActivityHandlers[w.cursorActivityCalled++].call(null,w.cm)}}while(p<u.length)}function Yu(o,u){var p=o.ownsGroup;if(!!p)try{eo(p)}finally{go=null,u(p)}}var cl=null;function Di(o,u){var p=hr(o,u);if(!!p.length){var y=Array.prototype.slice.call(arguments,2),w;go?w=go.delayedCallbacks:cl?w=cl:(w=cl=[],setTimeout(Zu,0));for(var D=function(j){w.push(function(){return p[j].apply(null,y)})},L=0;L<p.length;++L)D(L)}}function Zu(){var o=cl;cl=null;for(var u=0;u<o.length;++u)o[u]()}function Au(o,u,p,y){for(var w=0;w<u.changes.length;w++){var D=u.changes[w];D=="text"?Zp(o,u):D=="gutter"?Hd(o,u,p,y):D=="class"?si(o,u):D=="widget"&&Yf(o,u,y)}u.changes=null}function Il(o){return o.node==o.text&&(o.node=G("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),l&&h<8&&(o.node.style.zIndex=2)),o.node}function tu(o,u){var p=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),u.background)p?u.background.className=p:(u.background.parentNode.removeChild(u.background),u.background=null);else if(p){var y=Il(u);u.background=y.insertBefore(G("div",null,p),y.firstChild),o.display.input.setUneditable(u.background)}}function Nh(o,u){var p=o.display.externalMeasured;return p&&p.line==u.line?(o.display.externalMeasured=null,u.measure=p.measure,p.built):qh(o,u)}function Zp(o,u){var p=u.text.className,y=Nh(o,u);u.text==u.node&&(u.node=y.pre),u.text.parentNode.replaceChild(y.pre,u.text),u.text=y.pre,y.bgClass!=u.bgClass||y.textClass!=u.textClass?(u.bgClass=y.bgClass,u.textClass=y.textClass,si(o,u)):p&&(u.text.className=p)}function si(o,u){tu(o,u),u.line.wrapClass?Il(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");var p=u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass;u.text.className=p||""}function Hd(o,u,p,y){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var w=Il(u);u.gutterBackground=G("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(o.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px; width: "+y.gutterTotalWidth+"px"),o.display.input.setUneditable(u.gutterBackground),w.insertBefore(u.gutterBackground,u.text)}var D=u.line.gutterMarkers;if(o.options.lineNumbers||D){var L=Il(u),j=u.gutter=G("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px");if(j.setAttribute("aria-hidden","true"),o.display.input.setUneditable(j),L.insertBefore(j,u.text),u.line.gutterClass&&(j.className+=" "+u.line.gutterClass),o.options.lineNumbers&&(!D||!D["CodeMirror-linenumbers"])&&(u.lineNumber=j.appendChild(G("div",Z(o.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+y.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),D)for(var $=0;$<o.display.gutterSpecs.length;++$){var te=o.display.gutterSpecs[$].className,ye=D.hasOwnProperty(te)&&D[te];ye&&j.appendChild(G("div",[ye],"CodeMirror-gutter-elt","left: "+y.gutterLeft[te]+"px; width: "+y.gutterWidth[te]+"px"))}}}function Yf(o,u,p){u.alignable&&(u.alignable=null);for(var y=be("CodeMirror-linewidget"),w=u.node.firstChild,D=void 0;w;w=D)D=w.nextSibling,y.test(w.className)&&u.node.removeChild(w);Fc(o,u,p)}function Xp(o,u,p,y){var w=Nh(o,u);return u.text=u.node=w.pre,w.bgClass&&(u.bgClass=w.bgClass),w.textClass&&(u.textClass=w.textClass),si(o,u),Hd(o,u,p,y),Fc(o,u,y),u.node}function Fc(o,u,p){if(Ml(o,u.line,u,p,!0),u.rest)for(var y=0;y<u.rest.length;y++)Ml(o,u.rest[y],u,p,!1)}function Ml(o,u,p,y,w){if(!!u.widgets)for(var D=Il(p),L=0,j=u.widgets;L<j.length;++L){var $=j[L],te=G("div",[$.node],"CodeMirror-linewidget"+($.className?" "+$.className:""));$.handleMouseEvents||te.setAttribute("cm-ignore-events","true"),Zf($,te,p,y),o.display.input.setUneditable(te),w&&$.above?D.insertBefore(te,p.gutter||p.text):D.appendChild(te),Di($,"redraw")}}function Zf(o,u,p,y){if(o.noHScroll){(p.alignable||(p.alignable=[])).push(u);var w=y.wrapperWidth;u.style.left=y.fixedPos+"px",o.coverGutter||(w-=y.gutterTotalWidth,u.style.paddingLeft=y.gutterTotalWidth+"px"),u.style.width=w+"px"}o.coverGutter&&(u.style.zIndex=5,u.style.position="relative",o.noHScroll||(u.style.marginLeft=-y.gutterTotalWidth+"px"))}function Bs(o){if(o.height!=null)return o.height;var u=o.doc.cm;if(!u)return 0;if(!re(document.body,o.node)){var p="position: relative;";o.coverGutter&&(p+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),o.noHScroll&&(p+="width: "+u.display.wrapper.clientWidth+"px;"),R(u.display.measure,G("div",[o.node],null,p))}return o.height=o.node.parentNode.offsetHeight}function Oa(o,u){for(var p=rr(u);p!=o.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==o.sizer&&p!=o.mover)return!0}function oa(o){return o.lineSpace.offsetTop}function ru(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function Xf(o){if(o.cachedPaddingH)return o.cachedPaddingH;var u=R(o.measure,G("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,y={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(y.left)&&!isNaN(y.right)&&(o.cachedPaddingH=y),y}function fl(o){return Lt-o.display.nativeBarWidth}function ws(o){return o.display.scroller.clientWidth-fl(o)-o.display.barWidth}function Bh(o){return o.display.scroller.clientHeight-fl(o)-o.display.barHeight}function Xu(o,u,p){var y=o.options.lineWrapping,w=y&&ws(o);if(!u.measure.heights||y&&u.measure.width!=w){var D=u.measure.heights=[];if(y){u.measure.width=w;for(var L=u.text.firstChild.getClientRects(),j=0;j<L.length-1;j++){var $=L[j],te=L[j+1];Math.abs($.bottom-te.bottom)>2&&D.push(($.bottom+te.top)/2-p.top)}}D.push(p.bottom-p.top)}}function nu(o,u,p){if(o.line==u)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var y=0;y<o.rest.length;y++)if(o.rest[y]==u)return{map:o.measure.maps[y],cache:o.measure.caches[y]};for(var w=0;w<o.rest.length;w++)if(Pe(o.rest[w])>p)return{map:o.measure.maps[w],cache:o.measure.caches[w],before:!0}}}function qc(o,u){u=Ua(u);var p=Pe(u),y=o.display.externalMeasured=new vf(o.doc,u,p);y.lineN=p;var w=y.built=qh(o,y);return y.text=w.pre,R(o.display.lineMeasure,w.pre),y}function os(o,u,p,y){return ou(o,iu(o,u),p,y)}function hi(o,u){if(u>=o.display.viewFrom&&u<o.display.viewTo)return o.display.view[Ho(o,u)];var p=o.display.externalMeasured;if(p&&u>=p.lineN&&u<p.lineN+p.size)return p}function iu(o,u){var p=Pe(u),y=hi(o,p);y&&!y.text?y=null:y&&y.changes&&(Au(o,y,p,Uc(o)),o.curOp.forceUpdate=!0),y||(y=qc(o,u));var w=nu(y,u,p);return{line:u,view:y,rect:null,map:w.map,cache:w.cache,before:w.before,hasHeights:!1}}function ou(o,u,p,y,w){u.before&&(p=-1);var D=p+(y||""),L;return u.cache.hasOwnProperty(D)?L=u.cache[D]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(Xu(o,u.view,u.rect),u.hasHeights=!0),L=Vd(o,u,p,y),L.bogus||(u.cache[D]=L)),{left:L.left,right:L.right,top:w?L.rtop:L.top,bottom:w?L.rbottom:L.bottom}}var zc={left:0,right:0,top:0,bottom:0};function Wd(o,u,p){for(var y,w,D,L,j,$,te=0;te<o.length;te+=3)if(j=o[te],$=o[te+1],u<j?(w=0,D=1,L="left"):u<$?(w=u-j,D=w+1):(te==o.length-3||u==$&&o[te+3]>u)&&(D=$-j,w=D-1,u>=$&&(L="right")),w!=null){if(y=o[te+2],j==$&&p==(y.insertLeft?"left":"right")&&(L=p),p=="left"&&w==0)for(;te&&o[te-2]==o[te-3]&&o[te-1].insertLeft;)y=o[(te-=3)+2],L="left";if(p=="right"&&w==$-j)for(;te<o.length-3&&o[te+3]==o[te+4]&&!o[te+5].insertLeft;)y=o[(te+=3)+2],L="right";break}return{node:y,start:w,end:D,collapse:L,coverStart:j,coverEnd:$}}function Jp(o,u){var p=zc;if(u=="left")for(var y=0;y<o.length&&(p=o[y]).left==p.right;y++);else for(var w=o.length-1;w>=0&&(p=o[w]).left==p.right;w--);return p}function Vd(o,u,p,y){var w=Wd(u.map,p,y),D=w.node,L=w.start,j=w.end,$=w.collapse,te;if(D.nodeType==3){for(var ye=0;ye<4;ye++){for(;L&&fr(u.line.text.charAt(w.coverStart+L));)--L;for(;w.coverStart+j<w.coverEnd&&fr(u.line.text.charAt(w.coverStart+j));)++j;if(l&&h<9&&L==0&&j==w.coverEnd-w.coverStart?te=D.parentNode.getBoundingClientRect():te=Jp(Ce(D,L,j).getClientRects(),y),te.left||te.right||L==0)break;j=L,L=L-1,$="right"}l&&h<11&&(te=Ju(o.display.measure,te))}else{L>0&&($=y="right");var De;o.options.lineWrapping&&(De=D.getClientRects()).length>1?te=De[y=="right"?De.length-1:0]:te=D.getBoundingClientRect()}if(l&&h<9&&!L&&(!te||!te.left&&!te.right)){var $e=D.parentNode.getClientRects()[0];$e?te={left:$e.left,right:$e.left+uu(o.display),top:$e.top,bottom:$e.bottom}:te=zc}for(var Ke=te.top-u.rect.top,pt=te.bottom-u.rect.top,_t=(Ke+pt)/2,At=u.view.measure.heights,Nt=0;Nt<At.length-1&&!(_t<At[Nt]);Nt++);var Xt=Nt?At[Nt-1]:0,$t=At[Nt],ir={left:($=="right"?te.right:te.left)-u.rect.left,right:($=="left"?te.left:te.right)-u.rect.left,top:Xt,bottom:$t};return!te.left&&!te.right&&(ir.bogus=!0),o.options.singleCursorHeightPerLine||(ir.rtop=Ke,ir.rbottom=pt),ir}function Ju(o,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ea(o))return u;var p=screen.logicalXDPI/screen.deviceXDPI,y=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*p,right:u.right*p,top:u.top*y,bottom:u.bottom*y}}function Qu(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var u=0;u<o.rest.length;u++)o.measure.caches[u]={}}function Nc(o){o.display.externalMeasure=null,We(o.display.lineMeasure);for(var u=0;u<o.display.view.length;u++)Qu(o.display.view[u])}function au(o){Nc(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function Du(o){return E&&Y?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function ec(o){return E&&Y?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function yf(o){var u=Ua(o),p=u.widgets,y=0;if(p)for(var w=0;w<p.length;++w)p[w].above&&(y+=Bs(p[w]));return y}function aa(o,u,p,y,w){if(!w){var D=yf(u);p.top+=D,p.bottom+=D}if(y=="line")return p;y||(y="local");var L=Io(u);if(y=="local"?L+=oa(o.display):L-=o.display.viewOffset,y=="page"||y=="window"){var j=o.display.lineSpace.getBoundingClientRect();L+=j.top+(y=="window"?0:ec(W(o)));var $=j.left+(y=="window"?0:Du(W(o)));p.left+=$,p.right+=$}return p.top+=L,p.bottom+=L,p}function js(o,u,p){if(p=="div")return u;var y=u.left,w=u.top;if(p=="page")y-=Du(W(o)),w-=ec(W(o));else if(p=="local"||!p){var D=o.display.sizer.getBoundingClientRect();y+=D.left,w+=D.top}var L=o.display.lineSpace.getBoundingClientRect();return{left:y-L.left,top:w-L.top}}function Bc(o,u,p,y,w){return y||(y=Et(o.doc,u.line)),aa(o,y,os(o,y,u.ch,w),p)}function Ss(o,u,p,y,w,D){y=y||Et(o.doc,u.line),w||(w=iu(o,y));function L(pt,_t){var At=ou(o,w,pt,_t?"right":"left",D);return _t?At.left=At.right:At.right=At.left,aa(o,y,At,p)}var j=$r(y,o.doc.direction),$=u.ch,te=u.sticky;if($>=y.text.length?($=y.text.length,te="before"):$<=0&&($=0,te="after"),!j)return L(te=="before"?$-1:$,te=="before");function ye(pt,_t,At){var Nt=j[_t],Xt=Nt.level==1;return L(At?pt-1:pt,Xt!=At)}var De=Xn(j,$,te),$e=vr,Ke=ye($,De,te=="before");return $e!=null&&(Ke.other=ye($,$e,te!="before")),Ke}function jh(o,u){var p=0;u=Zt(o.doc,u),o.options.lineWrapping||(p=uu(o.display)*u.ch);var y=Et(o.doc,u.line),w=Io(y)+oa(o.display);return{left:p,right:p,top:w,bottom:w+y.height}}function su(o,u,p,y,w){var D=ue(o,u,p);return D.xRel=w,y&&(D.outside=y),D}function Ou(o,u,p){var y=o.doc;if(p+=o.display.viewOffset,p<0)return su(y.first,0,null,-1,-1);var w=Ae(y,p),D=y.first+y.size-1;if(w>D)return su(y.first+y.size-1,Et(y,D).text.length,null,1,1);u<0&&(u=0);for(var L=Et(y,w);;){var j=jc(o,L,w,u,p),$=mf(L,j.ch+(j.xRel>0||j.outside>0?1:0));if(!$)return j;var te=$.find(1);if(te.line==w)return te;L=Et(y,w=te.line)}}function Jf(o,u,p,y){y-=yf(u);var w=u.text.length,D=at(function(L){return ou(o,p,L-1).bottom<=y},w,0);return w=at(function(L){return ou(o,p,L).top>y},D,w),{begin:D,end:w}}function Uh(o,u,p,y){p||(p=iu(o,u));var w=aa(o,u,ou(o,p,y),"line").top;return Jf(o,u,p,w)}function bf(o,u,p,y){return o.bottom<=p?!1:o.top>p?!0:(y?o.left:o.right)>u}function jc(o,u,p,y,w){w-=Io(u);var D=iu(o,u),L=yf(u),j=0,$=u.text.length,te=!0,ye=$r(u,o.doc.direction);if(ye){var De=(o.options.lineWrapping?tc:Iu)(o,u,p,D,ye,y,w);te=De.level!=1,j=te?De.from:De.to-1,$=te?De.to:De.from-1}var $e=null,Ke=null,pt=at(function(Mr){var Nr=ou(o,D,Mr);return Nr.top+=L,Nr.bottom+=L,bf(Nr,y,w,!1)?(Nr.top<=w&&Nr.left<=y&&($e=Mr,Ke=Nr),!0):!1},j,$),_t,At,Nt=!1;if(Ke){var Xt=y-Ke.left<Ke.right-y,$t=Xt==te;pt=$e+($t?0:1),At=$t?"after":"before",_t=Xt?Ke.left:Ke.right}else{!te&&(pt==$||pt==j)&&pt++,At=pt==0?"after":pt==u.text.length?"before":ou(o,D,pt-(te?1:0)).bottom+L<=w==te?"after":"before";var ir=Ss(o,ue(p,pt,At),"line",u,D);_t=ir.left,Nt=w<ir.top?-1:w>=ir.bottom?1:0}return pt=Ve(u.text,pt,1),su(p,pt,At,Nt,y-_t)}function Iu(o,u,p,y,w,D,L){var j=at(function(De){var $e=w[De],Ke=$e.level!=1;return bf(Ss(o,ue(p,Ke?$e.to:$e.from,Ke?"before":"after"),"line",u,y),D,L,!0)},0,w.length-1),$=w[j];if(j>0){var te=$.level!=1,ye=Ss(o,ue(p,te?$.from:$.to,te?"after":"before"),"line",u,y);bf(ye,D,L,!0)&&ye.top>L&&($=w[j-1])}return $}function tc(o,u,p,y,w,D,L){var j=Jf(o,u,y,L),$=j.begin,te=j.end;/\s/.test(u.text.charAt(te-1))&&te--;for(var ye=null,De=null,$e=0;$e<w.length;$e++){var Ke=w[$e];if(!(Ke.from>=te||Ke.to<=$)){var pt=Ke.level!=1,_t=ou(o,y,pt?Math.min(te,Ke.to)-1:Math.max($,Ke.from)).right,At=_t<D?D-_t+1e9:_t-D;(!ye||De>At)&&(ye=Ke,De=At)}}return ye||(ye=w[w.length-1]),ye.from<$&&(ye={from:$,to:ye.to,level:ye.level}),ye.to>te&&(ye={from:ye.from,to:te,level:ye.level}),ye}var lu;function Mu(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(lu==null){lu=G("pre",null,"CodeMirror-line-like");for(var u=0;u<49;++u)lu.appendChild(document.createTextNode("x")),lu.appendChild(G("br"));lu.appendChild(document.createTextNode("x"))}R(o.measure,lu);var p=lu.offsetHeight/50;return p>3&&(o.cachedTextHeight=p),We(o.measure),p||1}function uu(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var u=G("span","xxxxxxxxxx"),p=G("pre",[u],"CodeMirror-line-like");R(o.measure,p);var y=u.getBoundingClientRect(),w=(y.right-y.left)/10;return w>2&&(o.cachedCharWidth=w),w||10}function Uc(o){for(var u=o.display,p={},y={},w=u.gutters.clientLeft,D=u.gutters.firstChild,L=0;D;D=D.nextSibling,++L){var j=o.display.gutterSpecs[L].className;p[j]=D.offsetLeft+D.clientLeft+w,y[j]=D.clientWidth}return{fixedPos:Pl(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:p,gutterWidth:y,wrapperWidth:u.wrapper.clientWidth}}function Pl(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function cu(o){var u=Mu(o.display),p=o.options.lineWrapping,y=p&&Math.max(5,o.display.scroller.clientWidth/uu(o.display)-3);return function(w){if(Da(o.doc,w))return 0;var D=0;if(w.widgets)for(var L=0;L<w.widgets.length;L++)w.widgets[L].height&&(D+=w.widgets[L].height);return p?D+(Math.ceil(w.text.length/y)||1)*u:D+u}}function Mo(o){var u=o.doc,p=cu(o);u.iter(function(y){var w=p(y);w!=y.height&&we(y,w)})}function as(o,u,p,y){var w=o.display;if(!p&&rr(u).getAttribute("cm-not-content")=="true")return null;var D,L,j=w.lineSpace.getBoundingClientRect();try{D=u.clientX-j.left,L=u.clientY-j.top}catch{return null}var $=Ou(o,D,L),te;if(y&&$.xRel>0&&(te=Et(o.doc,$.line).text).length==$.ch){var ye=Pt(te,te.length,o.options.tabSize)-te.length;$=ue($.line,Math.max(0,Math.round((D-Xf(o.display).left)/uu(o.display))-ye))}return $}function Ho(o,u){if(u>=o.display.viewTo||(u-=o.display.viewFrom,u<0))return null;for(var p=o.display.view,y=0;y<p.length;y++)if(u-=p[y].size,u<0)return y}function En(o,u,p,y){u==null&&(u=o.doc.first),p==null&&(p=o.doc.first+o.doc.size),y||(y=0);var w=o.display;if(y&&p<w.viewTo&&(w.updateLineNumbers==null||w.updateLineNumbers>u)&&(w.updateLineNumbers=u),o.curOp.viewChanged=!0,u>=w.viewTo)Dn&&ll(o.doc,u)<w.viewTo&&ss(o);else if(p<=w.viewFrom)Dn&&Aa(o.doc,p+y)>w.viewFrom?ss(o):(w.viewFrom+=y,w.viewTo+=y);else if(u<=w.viewFrom&&p>=w.viewTo)ss(o);else if(u<=w.viewFrom){var D=ls(o,p,p+y,1);D?(w.view=w.view.slice(D.index),w.viewFrom=D.lineN,w.viewTo+=y):ss(o)}else if(p>=w.viewTo){var L=ls(o,u,u,-1);L?(w.view=w.view.slice(0,L.index),w.viewTo=L.lineN):ss(o)}else{var j=ls(o,u,u,-1),$=ls(o,p,p+y,1);j&&$?(w.view=w.view.slice(0,j.index).concat(Kf(o,j.lineN,$.lineN)).concat(w.view.slice($.index)),w.viewTo+=y):ss(o)}var te=w.externalMeasured;te&&(p<te.lineN?te.lineN+=y:u<te.lineN+te.size&&(w.externalMeasured=null))}function Ll(o,u,p){o.curOp.viewChanged=!0;var y=o.display,w=o.display.externalMeasured;if(w&&u>=w.lineN&&u<w.lineN+w.size&&(y.externalMeasured=null),!(u<y.viewFrom||u>=y.viewTo)){var D=y.view[Ho(o,u)];if(D.node!=null){var L=D.changes||(D.changes=[]);Ht(L,p)==-1&&L.push(p)}}}function ss(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function ls(o,u,p,y){var w=Ho(o,u),D,L=o.display.view;if(!Dn||p==o.doc.first+o.doc.size)return{index:w,lineN:p};for(var j=o.display.viewFrom,$=0;$<w;$++)j+=L[$].size;if(j!=u){if(y>0){if(w==L.length-1)return null;D=j+L[w].size-u,w++}else D=j-u;u+=D,p+=D}for(;ll(o.doc,p)!=p;){if(w==(y<0?0:L.length-1))return null;p+=y*L[w-(y<0?1:0)].size,w+=y}return{index:w,lineN:p}}function Ln(o,u,p){var y=o.display,w=y.view;w.length==0||u>=y.viewTo||p<=y.viewFrom?(y.view=Kf(o,u,p),y.viewFrom=u):(y.viewFrom>u?y.view=Kf(o,u,y.viewFrom).concat(y.view):y.viewFrom<u&&(y.view=y.view.slice(Ho(o,u))),y.viewFrom=u,y.viewTo<p?y.view=y.view.concat(Kf(o,y.viewTo,p)):y.viewTo>p&&(y.view=y.view.slice(0,Ho(o,p)))),y.viewTo=p}function yi(o){for(var u=o.display.view,p=0,y=0;y<u.length;y++){var w=u[y];!w.hidden&&(!w.node||w.changes)&&++p}return p}function Wo(o){o.display.input.showSelection(o.display.input.prepareSelection())}function xf(o,u){u===void 0&&(u=!0);var p=o.doc,y={},w=y.cursors=document.createDocumentFragment(),D=y.selection=document.createDocumentFragment(),L=o.options.$customCursor;L&&(u=!0);for(var j=0;j<p.sel.ranges.length;j++)if(!(!u&&j==p.sel.primIndex)){var $=p.sel.ranges[j];if(!($.from().line>=o.display.viewTo||$.to().line<o.display.viewFrom)){var te=$.empty();if(L){var ye=L(o,$);ye&&fu(o,ye,w)}else(te||o.options.showCursorWhenSelecting)&&fu(o,$.head,w);te||$d(o,$,D)}}return y}function fu(o,u,p){var y=Ss(o,u,"div",null,null,!o.options.singleCursorHeightPerLine),w=p.appendChild(G("div","\xA0","CodeMirror-cursor"));if(w.style.left=y.left+"px",w.style.top=y.top+"px",w.style.height=Math.max(0,y.bottom-y.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var D=Bc(o,u,"div",null,null),L=D.right-D.left;w.style.width=(L>0?L:o.defaultCharWidth())+"px"}if(y.other){var j=p.appendChild(G("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));j.style.display="",j.style.left=y.other.left+"px",j.style.top=y.other.top+"px",j.style.height=(y.other.bottom-y.other.top)*.85+"px"}}function Pu(o,u){return o.top-u.top||o.left-u.left}function $d(o,u,p){var y=o.display,w=o.doc,D=document.createDocumentFragment(),L=Xf(o.display),j=L.left,$=Math.max(y.sizerWidth,ws(o)-y.sizer.offsetLeft)-L.right,te=w.direction=="ltr";function ye($t,ir,Mr,Nr){ir<0&&(ir=0),ir=Math.round(ir),Nr=Math.round(Nr),D.appendChild(G("div",null,"CodeMirror-selected","position: absolute; left: "+$t+`px;
                             top: `+ir+"px; width: "+(Mr??$-$t)+`px;
                             height: `+(Nr-ir)+"px"))}function De($t,ir,Mr){var Nr=Et(w,$t),nn=Nr.text.length,Nn,di;function Cn(bn,Wn){return Bc(o,ue($t,bn),"div",Nr,Wn)}function ki(bn,Wn,hn){var ti=Uh(o,Nr,null,bn),ji=Wn=="ltr"==(hn=="after")?"left":"right",Fn=hn=="after"?ti.begin:ti.end-(/\s/.test(Nr.text.charAt(ti.end-1))?2:1);return Cn(Fn,ji)[ji]}var oi=$r(Nr,w.direction);return Ut(oi,ir||0,Mr??nn,function(bn,Wn,hn,ti){var ji=hn=="ltr",Fn=Cn(bn,ji?"left":"right"),Ci=Cn(Wn-1,ji?"right":"left"),Os=ir==null&&bn==0,co=Mr==null&&Wn==nn,wa=ti==0,Sa=!oi||ti==oi.length-1;if(Ci.top-Fn.top<=3){var no=(te?Os:co)&&wa,Kc=(te?co:Os)&&Sa,bo=no?j:(ji?Fn:Ci).left,hs=Kc?$:(ji?Ci:Fn).right;ye(bo,Fn.top,hs-bo,Fn.bottom)}else{var Nu,Js,rp,ax;ji?(Nu=te&&Os&&wa?j:Fn.left,Js=te?$:ki(bn,hn,"before"),rp=te?j:ki(Wn,hn,"after"),ax=te&&co&&Sa?$:Ci.right):(Nu=te?ki(bn,hn,"before"):j,Js=!te&&Os&&wa?$:Fn.right,rp=!te&&co&&Sa?j:Ci.left,ax=te?ki(Wn,hn,"after"):$),ye(Nu,Fn.top,Js-Nu,Fn.bottom),Fn.bottom<Ci.top&&ye(j,Fn.bottom,null,Ci.top),ye(rp,Ci.top,ax-rp,Ci.bottom)}(!Nn||Pu(Fn,Nn)<0)&&(Nn=Fn),Pu(Ci,Nn)<0&&(Nn=Ci),(!di||Pu(Fn,di)<0)&&(di=Fn),Pu(Ci,di)<0&&(di=Ci)}),{start:Nn,end:di}}var $e=u.from(),Ke=u.to();if($e.line==Ke.line)De($e.line,$e.ch,Ke.ch);else{var pt=Et(w,$e.line),_t=Et(w,Ke.line),At=Ua(pt)==Ua(_t),Nt=De($e.line,$e.ch,At?pt.text.length+1:null).end,Xt=De(Ke.line,At?0:null,Ke.ch).start;At&&(Nt.top<Xt.top-2?(ye(Nt.right,Nt.top,null,Nt.bottom),ye(j,Xt.top,Xt.left,Xt.bottom)):ye(Nt.right,Nt.top,Xt.left-Nt.right,Nt.bottom)),Nt.bottom<Xt.top&&ye(j,Nt.bottom,null,Xt.top)}p.appendChild(D)}function Qf(o){if(!!o.state.focused){var u=o.display;clearInterval(u.blinker);var p=!0;u.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?u.blinker=setInterval(function(){o.hasFocus()||Oi(o),u.cursorDiv.style.visibility=(p=!p)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function Rl(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||hl(o))}function hu(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&Oi(o))},100)}function hl(o,u){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(wr(o,"focus",o,u),o.state.focused=!0,pe(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),b&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),Qf(o))}function Oi(o,u){o.state.delayingBlurEvent||(o.state.focused&&(wr(o,"blur",o,u),o.state.focused=!1,xe(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function rc(o){for(var u=o.display,p=u.lineDiv.offsetTop,y=Math.max(0,u.scroller.getBoundingClientRect().top),w=u.lineDiv.getBoundingClientRect().top,D=0,L=0;L<u.view.length;L++){var j=u.view[L],$=o.options.lineWrapping,te=void 0,ye=0;if(!j.hidden){if(w+=j.line.height,l&&h<8){var De=j.node.offsetTop+j.node.offsetHeight;te=De-p,p=De}else{var $e=j.node.getBoundingClientRect();te=$e.bottom-$e.top,!$&&j.text.firstChild&&(ye=j.text.firstChild.getBoundingClientRect().right-$e.left-1)}var Ke=j.line.height-te;if((Ke>.005||Ke<-.005)&&(w<y&&(D-=Ke),we(j.line,te),Gd(j.line),j.rest))for(var pt=0;pt<j.rest.length;pt++)Gd(j.rest[pt]);if(ye>o.display.sizerWidth){var _t=Math.ceil(ye/uu(o.display));_t>o.display.maxLineLength&&(o.display.maxLineLength=_t,o.display.maxLine=j.line,o.display.maxLineChanged=!0)}}}Math.abs(D)>2&&(u.scroller.scrollTop+=D)}function Gd(o){if(o.widgets)for(var u=0;u<o.widgets.length;++u){var p=o.widgets[u],y=p.node.parentNode;y&&(p.height=y.offsetHeight)}}function to(o,u,p){var y=p&&p.top!=null?Math.max(0,p.top):o.scroller.scrollTop;y=Math.floor(y-oa(o));var w=p&&p.bottom!=null?p.bottom:y+o.wrapper.clientHeight,D=Ae(u,y),L=Ae(u,w);if(p&&p.ensure){var j=p.ensure.from.line,$=p.ensure.to.line;j<D?(D=j,L=Ae(u,Io(Et(u,j))+o.wrapper.clientHeight)):Math.min($,u.lastLine())>=L&&(D=Ae(u,Io(Et(u,$))-o.wrapper.clientHeight),L=$)}return{from:D,to:Math.max(L,D+1)}}function Ir(o,u){if(!Gr(o,"scrollCursorIntoView")){var p=o.display,y=p.sizer.getBoundingClientRect(),w=null,D=p.wrapper.ownerDocument;if(u.top+y.top<0?w=!0:u.bottom+y.top>(D.defaultView.innerHeight||D.documentElement.clientHeight)&&(w=!1),w!=null&&!N){var L=G("div","\u200B",null,`position: absolute;
                         top: `+(u.top-p.viewOffset-oa(o.display))+`px;
                         height: `+(u.bottom-u.top+fl(o)+p.barHeight)+`px;
                         left: `+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");o.display.lineSpace.appendChild(L),L.scrollIntoView(w),o.display.lineSpace.removeChild(L)}}}function Wa(o,u,p,y){y==null&&(y=0);var w;!o.options.lineWrapping&&u==p&&(p=u.sticky=="before"?ue(u.line,u.ch+1,"before"):u,u=u.ch?ue(u.line,u.sticky=="before"?u.ch-1:u.ch,"after"):u);for(var D=0;D<5;D++){var L=!1,j=Ss(o,u),$=!p||p==u?j:Ss(o,p);w={left:Math.min(j.left,$.left),top:Math.min(j.top,$.top)-y,right:Math.max(j.left,$.left),bottom:Math.max(j.bottom,$.bottom)+y};var te=dl(o,w),ye=o.doc.scrollTop,De=o.doc.scrollLeft;if(te.scrollTop!=null&&(ql(o,te.scrollTop),Math.abs(o.doc.scrollTop-ye)>1&&(L=!0)),te.scrollLeft!=null&&(lo(o,te.scrollLeft),Math.abs(o.doc.scrollLeft-De)>1&&(L=!0)),!L)break}return w}function Lu(o,u){var p=dl(o,u);p.scrollTop!=null&&ql(o,p.scrollTop),p.scrollLeft!=null&&lo(o,p.scrollLeft)}function dl(o,u){var p=o.display,y=Mu(o.display);u.top<0&&(u.top=0);var w=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:p.scroller.scrollTop,D=Bh(o),L={};u.bottom-u.top>D&&(u.bottom=u.top+D);var j=o.doc.height+ru(p),$=u.top<y,te=u.bottom>j-y;if(u.top<w)L.scrollTop=$?0:u.top;else if(u.bottom>w+D){var ye=Math.min(u.top,(te?j:u.bottom)-D);ye!=w&&(L.scrollTop=ye)}var De=o.options.fixedGutter?0:p.gutters.offsetWidth,$e=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:p.scroller.scrollLeft-De,Ke=ws(o)-p.gutters.offsetWidth,pt=u.right-u.left>Ke;return pt&&(u.right=u.left+Ke),u.left<10?L.scrollLeft=0:u.left<$e?L.scrollLeft=Math.max(0,u.left+De-(pt?0:10)):u.right>Ke+$e-3&&(L.scrollLeft=u.right+(pt?0:10)-Ke),L}function Us(o,u){u!=null&&(Hc(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+u)}function Eo(o){Hc(o);var u=o.getCursor();o.curOp.scrollToPos={from:u,to:u,margin:o.options.cursorScrollMargin}}function nc(o,u,p){(u!=null||p!=null)&&Hc(o),u!=null&&(o.curOp.scrollLeft=u),p!=null&&(o.curOp.scrollTop=p)}function pr(o,u){Hc(o),o.curOp.scrollToPos=u}function Hc(o){var u=o.curOp.scrollToPos;if(u){o.curOp.scrollToPos=null;var p=jh(o,u.from),y=jh(o,u.to);Fl(o,p,y,u.margin)}}function Fl(o,u,p,y){var w=dl(o,{left:Math.min(u.left,p.left),top:Math.min(u.top,p.top)-y,right:Math.max(u.right,p.right),bottom:Math.max(u.bottom,p.bottom)+y});nc(o,w.scrollLeft,w.scrollTop)}function ql(o,u){Math.abs(o.doc.scrollTop-u)<2||(t||Hn(o,{top:u}),sa(o,u,!0),t&&Hn(o),Rr(o,100))}function sa(o,u,p){u=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,u)),!(o.display.scroller.scrollTop==u&&!p)&&(o.doc.scrollTop=u,o.display.scrollbars.setScrollTop(u),o.display.scroller.scrollTop!=u&&(o.display.scroller.scrollTop=u))}function lo(o,u,p,y){u=Math.max(0,Math.min(u,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),!((p?u==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-u)<2)&&!y)&&(o.doc.scrollLeft=u,rh(o),o.display.scroller.scrollLeft!=u&&(o.display.scroller.scrollLeft=u),o.display.scrollbars.setScrollLeft(u))}function Hs(o){var u=o.display,p=u.gutters.offsetWidth,y=Math.round(o.doc.height+ru(o.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:o.options.fixedGutter?p:0,docHeight:y,scrollHeight:y+fl(o)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:p}}var zl=function(o,u,p){this.cm=p;var y=this.vert=G("div",[G("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),w=this.horiz=G("div",[G("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");y.tabIndex=w.tabIndex=-1,o(y),o(w),Dt(y,"scroll",function(){y.clientHeight&&u(y.scrollTop,"vertical")}),Dt(w,"scroll",function(){w.clientWidth&&u(w.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};zl.prototype.update=function(o){var u=o.scrollWidth>o.clientWidth+1,p=o.scrollHeight>o.clientHeight+1,y=o.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=u?y+"px":"0";var w=o.viewHeight-(u?y:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+w)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=p?y+"px":"0",this.horiz.style.left=o.barLeft+"px";var D=o.viewWidth-o.barLeft-(p?y:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+D)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(y==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?y:0,bottom:u?y:0}},zl.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},zl.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},zl.prototype.zeroWidthHack=function(){var o=se&&!z?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Tt,this.disableVert=new Tt},zl.prototype.enableZeroWidthBar=function(o,u,p){o.style.visibility="";function y(){var w=o.getBoundingClientRect(),D=p=="vert"?document.elementFromPoint(w.right-1,(w.top+w.bottom)/2):document.elementFromPoint((w.right+w.left)/2,w.bottom-1);D!=o?o.style.visibility="hidden":u.set(1e3,y)}u.set(1e3,y)},zl.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var la=function(){};la.prototype.update=function(){return{bottom:0,right:0}},la.prototype.setScrollLeft=function(){},la.prototype.setScrollTop=function(){},la.prototype.clear=function(){};function us(o,u){u||(u=Hs(o));var p=o.display.barWidth,y=o.display.barHeight;Kd(o,u);for(var w=0;w<4&&p!=o.display.barWidth||y!=o.display.barHeight;w++)p!=o.display.barWidth&&o.options.lineWrapping&&rc(o),Kd(o,Hs(o)),p=o.display.barWidth,y=o.display.barHeight}function Kd(o,u){var p=o.display,y=p.scrollbars.update(u);p.sizer.style.paddingRight=(p.barWidth=y.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=y.bottom)+"px",p.heightForcer.style.borderBottom=y.bottom+"px solid transparent",y.right&&y.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=y.bottom+"px",p.scrollbarFiller.style.width=y.right+"px"):p.scrollbarFiller.style.display="",y.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=y.bottom+"px",p.gutterFiller.style.width=u.gutterWidth+"px"):p.gutterFiller.style.display=""}var pl={native:zl,null:la};function du(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&xe(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new pl[o.options.scrollbarStyle](function(u){o.display.wrapper.insertBefore(u,o.display.scrollbarFiller),Dt(u,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,p){p=="horizontal"?lo(o,u):ql(o,u)},o),o.display.scrollbars.addClass&&pe(o.display.wrapper,o.display.scrollbars.addClass)}var Yd=0;function Ia(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Yd,markArrays:null},Rc(o.curOp)}function ua(o){var u=o.curOp;u&&Yu(u,function(p){for(var y=0;y<p.ops.length;y++)p.ops[y].cm.curOp=null;Tn(p)})}function Tn(o){for(var u=o.ops,p=0;p<u.length;p++)pu(u[p]);for(var y=0;y<u.length;y++)ml(u[y]);for(var w=0;w<u.length;w++)bi(u[w]);for(var D=0;D<u.length;D++)ro(u[D]);for(var L=0;L<u.length;L++)vo(u[L])}function pu(o){var u=o.cm,p=u.display;Ws(u),o.updateMaxLine&&Ha(u),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<p.viewFrom||o.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&u.options.lineWrapping,o.update=o.mustUpdate&&new ca(u,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function ml(o){o.updatedDisplay=o.mustUpdate&&eh(o.cm,o.update)}function bi(o){var u=o.cm,p=u.display;o.updatedDisplay&&rc(u),o.barMeasure=Hs(u),p.maxLineChanged&&!u.options.lineWrapping&&(o.adjustWidthTo=os(u,p.maxLine,p.maxLine.text.length).left+3,u.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+o.adjustWidthTo+fl(u)+u.display.barWidth),o.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+o.adjustWidthTo-ws(u))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=p.input.prepareSelection())}function ro(o){var u=o.cm;o.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<u.doc.scrollLeft&&lo(u,Math.min(u.display.scroller.scrollLeft,o.maxScrollLeft),!0),u.display.maxLineChanged=!1);var p=o.focus&&o.focus==ie(W(u));o.preparedSelection&&u.display.input.showSelection(o.preparedSelection,p),(o.updatedDisplay||o.startHeight!=u.doc.height)&&us(u,o.barMeasure),o.updatedDisplay&&Nl(u,o.barMeasure),o.selectionChanged&&Qf(u),u.state.focused&&o.updateInput&&u.display.input.reset(o.typing),p&&Rl(o.cm)}function vo(o){var u=o.cm,p=u.display,y=u.doc;if(o.updatedDisplay&&Wc(u,o.update),p.wheelStartX!=null&&(o.scrollTop!=null||o.scrollLeft!=null||o.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),o.scrollTop!=null&&sa(u,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&lo(u,o.scrollLeft,!0,!0),o.scrollToPos){var w=Wa(u,Zt(y,o.scrollToPos.from),Zt(y,o.scrollToPos.to),o.scrollToPos.margin);Ir(u,w)}var D=o.maybeHiddenMarkers,L=o.maybeUnhiddenMarkers;if(D)for(var j=0;j<D.length;++j)D[j].lines.length||wr(D[j],"hide");if(L)for(var $=0;$<L.length;++$)L[$].lines.length&&wr(L[$],"unhide");p.wrapper.offsetHeight&&(y.scrollTop=u.display.scroller.scrollTop),o.changeObjs&&wr(u,"changes",u,o.changeObjs),o.update&&o.update.finish()}function Rn(o,u){if(o.curOp)return u();Ia(o);try{return u()}finally{ua(o)}}function Un(o,u){return function(){if(o.curOp)return u.apply(o,arguments);Ia(o);try{return u.apply(o,arguments)}finally{ua(o)}}}function Vo(o){return function(){if(this.curOp)return o.apply(this,arguments);Ia(this);try{return o.apply(this,arguments)}finally{ua(this)}}}function kr(o){return function(){var u=this.cm;if(!u||u.curOp)return o.apply(this,arguments);Ia(u);try{return o.apply(this,arguments)}finally{ua(u)}}}function Rr(o,u){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(u,ot(Hh,o))}function Hh(o){var u=o.doc;if(!(u.highlightFrontier>=o.display.viewTo)){var p=+new Date+o.options.workTime,y=Ji(o,u.highlightFrontier),w=[];u.iter(y.line,Math.min(u.first+u.size,o.display.viewTo+500),function(D){if(y.line>=o.display.viewFrom){var L=D.styles,j=D.text.length>o.options.maxHighlightLength?Ie(u.mode,y.state):null,$=cn(o,D,y,!0);j&&(y.state=j),D.styles=$.styles;var te=D.styleClasses,ye=$.classes;ye?D.styleClasses=ye:te&&(D.styleClasses=null);for(var De=!L||L.length!=D.styles.length||te!=ye&&(!te||!ye||te.bgClass!=ye.bgClass||te.textClass!=ye.textClass),$e=0;!De&&$e<L.length;++$e)De=L[$e]!=D.styles[$e];De&&w.push(y.line),D.stateAfter=y.save(),y.nextLine()}else D.text.length<=o.options.maxHighlightLength&&zs(o,D.text,y),D.stateAfter=y.line%5==0?y.save():null,y.nextLine();if(+new Date>p)return Rr(o,o.options.workDelay),!0}),u.highlightFrontier=y.line,u.modeFrontier=Math.max(u.modeFrontier,y.line),w.length&&Rn(o,function(){for(var D=0;D<w.length;D++)Ll(o,w[D],"text")})}}var ca=function(o,u,p){var y=o.display;this.viewport=u,this.visible=to(y,o.doc,u),this.editorIsHidden=!y.wrapper.offsetWidth,this.wrapperHeight=y.wrapper.clientHeight,this.wrapperWidth=y.wrapper.clientWidth,this.oldDisplayWidth=ws(o),this.force=p,this.dims=Uc(o),this.events=[]};ca.prototype.signal=function(o,u){ai(o,u)&&this.events.push(arguments)},ca.prototype.finish=function(){for(var o=0;o<this.events.length;o++)wr.apply(null,this.events[o])};function Ws(o){var u=o.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=fl(o)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=fl(o)+"px",u.scrollbarsClipped=!0)}function fa(o){if(o.hasFocus())return null;var u=ie(W(o));if(!u||!re(o.display.lineDiv,u))return null;var p={activeElt:u};if(window.getSelection){var y=Ze(o).getSelection();y.anchorNode&&y.extend&&re(o.display.lineDiv,y.anchorNode)&&(p.anchorNode=y.anchorNode,p.anchorOffset=y.anchorOffset,p.focusNode=y.focusNode,p.focusOffset=y.focusOffset)}return p}function gl(o){if(!(!o||!o.activeElt||o.activeElt==ie(o.activeElt.ownerDocument))&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&re(document.body,o.anchorNode)&&re(document.body,o.focusNode))){var u=o.activeElt.ownerDocument,p=u.defaultView.getSelection(),y=u.createRange();y.setEnd(o.anchorNode,o.anchorOffset),y.collapse(!1),p.removeAllRanges(),p.addRange(y),p.extend(o.focusNode,o.focusOffset)}}function eh(o,u){var p=o.display,y=o.doc;if(u.editorIsHidden)return ss(o),!1;if(!u.force&&u.visible.from>=p.viewFrom&&u.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&yi(o)==0)return!1;ks(o)&&(ss(o),u.dims=Uc(o));var w=y.first+y.size,D=Math.max(u.visible.from-o.options.viewportMargin,y.first),L=Math.min(w,u.visible.to+o.options.viewportMargin);p.viewFrom<D&&D-p.viewFrom<20&&(D=Math.max(y.first,p.viewFrom)),p.viewTo>L&&p.viewTo-L<20&&(L=Math.min(w,p.viewTo)),Dn&&(D=ll(o.doc,D),L=Aa(o.doc,L));var j=D!=p.viewFrom||L!=p.viewTo||p.lastWrapHeight!=u.wrapperHeight||p.lastWrapWidth!=u.wrapperWidth;Ln(o,D,L),p.viewOffset=Io(Et(o.doc,p.viewFrom)),o.display.mover.style.top=p.viewOffset+"px";var $=yi(o);if(!j&&$==0&&!u.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var te=fa(o);return $>4&&(p.lineDiv.style.display="none"),$o(o,p.updateLineNumbers,u.dims),$>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,gl(te),We(p.cursorDiv),We(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,j&&(p.lastWrapHeight=u.wrapperHeight,p.lastWrapWidth=u.wrapperWidth,Rr(o,400)),p.updateLineNumbers=null,!0}function Wc(o,u){for(var p=u.viewport,y=!0;;y=!1){if(!y||!o.options.lineWrapping||u.oldDisplayWidth==ws(o)){if(p&&p.top!=null&&(p={top:Math.min(o.doc.height+ru(o.display)-Bh(o),p.top)}),u.visible=to(o.display,o.doc,p),u.visible.from>=o.display.viewFrom&&u.visible.to<=o.display.viewTo)break}else y&&(u.visible=to(o.display,o.doc,p));if(!eh(o,u))break;rc(o);var w=Hs(o);Wo(o),us(o,w),Nl(o,w),u.force=!1}u.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(u.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function Hn(o,u){var p=new ca(o,u);if(eh(o,p)){rc(o),Wc(o,p);var y=Hs(o);Wo(o),us(o,y),Nl(o,y),p.finish()}}function $o(o,u,p){var y=o.display,w=o.options.lineNumbers,D=y.lineDiv,L=D.firstChild;function j(pt){var _t=pt.nextSibling;return b&&se&&o.display.currentWheelTarget==pt?pt.style.display="none":pt.parentNode.removeChild(pt),_t}for(var $=y.view,te=y.viewFrom,ye=0;ye<$.length;ye++){var De=$[ye];if(!De.hidden)if(!De.node||De.node.parentNode!=D){var $e=Xp(o,De,te,p);D.insertBefore($e,L)}else{for(;L!=De.node;)L=j(L);var Ke=w&&u!=null&&u<=te&&De.lineNumber;De.changes&&(Ht(De.changes,"gutter")>-1&&(Ke=!1),Au(o,De,te,p)),Ke&&(We(De.lineNumber),De.lineNumber.appendChild(document.createTextNode(Z(o.options,te)))),L=De.node.nextSibling}te+=De.size}for(;L;)L=j(L)}function th(o){var u=o.gutters.offsetWidth;o.sizer.style.marginLeft=u+"px",Di(o,"gutterChanged",o)}function Nl(o,u){o.display.sizer.style.minHeight=u.docHeight+"px",o.display.heightForcer.style.top=u.docHeight+"px",o.display.gutters.style.height=u.docHeight+o.display.barHeight+fl(o)+"px"}function rh(o){var u=o.display,p=u.view;if(!(!u.alignWidgets&&(!u.gutters.firstChild||!o.options.fixedGutter))){for(var y=Pl(u)-u.scroller.scrollLeft+o.doc.scrollLeft,w=u.gutters.offsetWidth,D=y+"px",L=0;L<p.length;L++)if(!p[L].hidden){o.options.fixedGutter&&(p[L].gutter&&(p[L].gutter.style.left=D),p[L].gutterBackground&&(p[L].gutterBackground.style.left=D));var j=p[L].alignable;if(j)for(var $=0;$<j.length;$++)j[$].style.left=D}o.options.fixedGutter&&(u.gutters.style.left=y+w+"px")}}function ks(o){if(!o.options.lineNumbers)return!1;var u=o.doc,p=Z(o.options,u.first+u.size-1),y=o.display;if(p.length!=y.lineNumChars){var w=y.measure.appendChild(G("div",[G("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),D=w.firstChild.offsetWidth,L=w.offsetWidth-D;return y.lineGutter.style.width="",y.lineNumInnerWidth=Math.max(D,y.lineGutter.offsetWidth-L)+1,y.lineNumWidth=y.lineNumInnerWidth+L,y.lineNumChars=y.lineNumInnerWidth?p.length:-1,y.lineGutter.style.width=y.lineNumWidth+"px",th(o.display),!0}return!1}function Va(o,u){for(var p=[],y=!1,w=0;w<o.length;w++){var D=o[w],L=null;if(typeof D!="string"&&(L=D.style,D=D.className),D=="CodeMirror-linenumbers")if(u)y=!0;else continue;p.push({className:D,style:L})}return u&&!y&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function mu(o){var u=o.gutters,p=o.gutterSpecs;We(u),o.lineGutter=null;for(var y=0;y<p.length;++y){var w=p[y],D=w.className,L=w.style,j=u.appendChild(G("div",null,"CodeMirror-gutter "+D));L&&(j.style.cssText=L),D=="CodeMirror-linenumbers"&&(o.lineGutter=j,j.style.width=(o.lineNumWidth||1)+"px")}u.style.display=p.length?"":"none",th(o)}function $i(o){mu(o.display),En(o),rh(o)}function nh(o,u,p,y){var w=this;this.input=p,w.scrollbarFiller=G("div",null,"CodeMirror-scrollbar-filler"),w.scrollbarFiller.setAttribute("cm-not-content","true"),w.gutterFiller=G("div",null,"CodeMirror-gutter-filler"),w.gutterFiller.setAttribute("cm-not-content","true"),w.lineDiv=ae("div",null,"CodeMirror-code"),w.selectionDiv=G("div",null,null,"position: relative; z-index: 1"),w.cursorDiv=G("div",null,"CodeMirror-cursors"),w.measure=G("div",null,"CodeMirror-measure"),w.lineMeasure=G("div",null,"CodeMirror-measure"),w.lineSpace=ae("div",[w.measure,w.lineMeasure,w.selectionDiv,w.cursorDiv,w.lineDiv],null,"position: relative; outline: none");var D=ae("div",[w.lineSpace],"CodeMirror-lines");w.mover=G("div",[D],null,"position: relative"),w.sizer=G("div",[w.mover],"CodeMirror-sizer"),w.sizerWidth=null,w.heightForcer=G("div",null,null,"position: absolute; height: "+Lt+"px; width: 1px;"),w.gutters=G("div",null,"CodeMirror-gutters"),w.lineGutter=null,w.scroller=G("div",[w.sizer,w.heightForcer,w.gutters],"CodeMirror-scroll"),w.scroller.setAttribute("tabIndex","-1"),w.wrapper=G("div",[w.scrollbarFiller,w.gutterFiller,w.scroller],"CodeMirror"),E&&O>=105&&(w.wrapper.style.clipPath="inset(0px)"),w.wrapper.setAttribute("translate","no"),l&&h<8&&(w.gutters.style.zIndex=-1,w.scroller.style.paddingRight=0),!b&&!(t&&J)&&(w.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(w.wrapper):o(w.wrapper)),w.viewFrom=w.viewTo=u.first,w.reportedViewFrom=w.reportedViewTo=u.first,w.view=[],w.renderedView=null,w.externalMeasured=null,w.viewOffset=0,w.lastWrapHeight=w.lastWrapWidth=0,w.updateLineNumbers=null,w.nativeBarWidth=w.barHeight=w.barWidth=0,w.scrollbarsClipped=!1,w.lineNumWidth=w.lineNumInnerWidth=w.lineNumChars=null,w.alignWidgets=!1,w.cachedCharWidth=w.cachedTextHeight=w.cachedPaddingH=null,w.maxLine=null,w.maxLineLength=0,w.maxLineChanged=!1,w.wheelDX=w.wheelDY=w.wheelStartX=w.wheelStartY=null,w.shift=!1,w.selForContextMenu=null,w.activeTouch=null,w.gutterSpecs=Va(y.gutters,y.lineNumbers),mu(w),p.init(w)}var Ru=0,Cs=null;l?Cs=-.53:t?Cs=15:E?Cs=-.7:q&&(Cs=-1/3);function $a(o){var u=o.wheelDeltaX,p=o.wheelDeltaY;return u==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(u=o.detail),p==null&&o.detail&&o.axis==o.VERTICAL_AXIS?p=o.detail:p==null&&(p=o.wheelDelta),{x:u,y:p}}function Gn(o){var u=$a(o);return u.x*=Cs,u.y*=Cs,u}function xa(o,u){E&&O==102&&(o.display.chromeScrollHack==null?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var p=$a(u),y=p.x,w=p.y,D=Cs;u.deltaMode===0&&(y=u.deltaX,w=u.deltaY,D=1);var L=o.display,j=L.scroller,$=j.scrollWidth>j.clientWidth,te=j.scrollHeight>j.clientHeight;if(!!(y&&$||w&&te)){if(w&&se&&b){e:for(var ye=u.target,De=L.view;ye!=j;ye=ye.parentNode)for(var $e=0;$e<De.length;$e++)if(De[$e].node==ye){o.display.currentWheelTarget=ye;break e}}if(y&&!t&&!P&&D!=null){w&&te&&ql(o,Math.max(0,j.scrollTop+w*D)),lo(o,Math.max(0,j.scrollLeft+y*D)),(!w||w&&te)&&Xe(u),L.wheelStartX=null;return}if(w&&D!=null){var Ke=w*D,pt=o.doc.scrollTop,_t=pt+L.wrapper.clientHeight;Ke<0?pt=Math.max(0,pt+Ke-50):_t=Math.min(o.doc.height,_t+Ke+50),Hn(o,{top:pt,bottom:_t})}Ru<20&&u.deltaMode!==0&&(L.wheelStartX==null?(L.wheelStartX=j.scrollLeft,L.wheelStartY=j.scrollTop,L.wheelDX=y,L.wheelDY=w,setTimeout(function(){if(L.wheelStartX!=null){var At=j.scrollLeft-L.wheelStartX,Nt=j.scrollTop-L.wheelStartY,Xt=Nt&&L.wheelDY&&Nt/L.wheelDY||At&&L.wheelDX&&At/L.wheelDX;L.wheelStartX=L.wheelStartY=null,Xt&&(Cs=(Cs*Ru+Xt)/(Ru+1),++Ru)}},200)):(L.wheelDX+=y,L.wheelDY+=w))}}var To=function(o,u){this.ranges=o,this.primIndex=u};To.prototype.primary=function(){return this.ranges[this.primIndex]},To.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var p=this.ranges[u],y=o.ranges[u];if(!it(p.anchor,y.anchor)||!it(p.head,y.head))return!1}return!0},To.prototype.deepCopy=function(){for(var o=[],u=0;u<this.ranges.length;u++)o[u]=new wn(Mt(this.ranges[u].anchor),Mt(this.ranges[u].head));return new To(o,this.primIndex)},To.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},To.prototype.contains=function(o,u){u||(u=o);for(var p=0;p<this.ranges.length;p++){var y=this.ranges[p];if(Fe(u,y.from())>=0&&Fe(o,y.to())<=0)return p}return-1};var wn=function(o,u){this.anchor=o,this.head=u};wn.prototype.from=function(){return dr(this.anchor,this.head)},wn.prototype.to=function(){return Wt(this.anchor,this.head)},wn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ha(o,u,p){var y=o&&o.options.selectionsMayTouch,w=u[p];u.sort(function($e,Ke){return Fe($e.from(),Ke.from())}),p=Ht(u,w);for(var D=1;D<u.length;D++){var L=u[D],j=u[D-1],$=Fe(j.to(),L.from());if(y&&!L.empty()?$>0:$>=0){var te=dr(j.from(),L.from()),ye=Wt(j.to(),L.to()),De=j.empty()?L.from()==L.head:j.from()==j.head;D<=p&&--p,u.splice(--D,2,new wn(De?ye:te,De?te:ye))}}return new To(u,p)}function Vs(o,u){return new To([new wn(o,u||o)],0)}function Ga(o){return o.text?ue(o.from.line+o.text.length-1,oe(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function $s(o,u){if(Fe(o,u.from)<0)return o;if(Fe(o,u.to)<=0)return Ga(u);var p=o.line+u.text.length-(u.to.line-u.from.line)-1,y=o.ch;return o.line==u.to.line&&(y+=Ga(u).ch-u.to.ch),ue(p,y)}function Vc(o,u){for(var p=[],y=0;y<o.sel.ranges.length;y++){var w=o.sel.ranges[y];p.push(new wn($s(w.anchor,u),$s(w.head,u)))}return ha(o.cm,p,o.sel.primIndex)}function gu(o,u,p){return o.line==u.line?ue(p.line,o.ch-u.ch+p.ch):ue(p.line+(o.line-u.line),o.ch)}function Wh(o,u,p){for(var y=[],w=ue(o.first,0),D=w,L=0;L<u.length;L++){var j=u[L],$=gu(j.from,w,D),te=gu(Ga(j),w,D);if(w=j.to,D=te,p=="around"){var ye=o.sel.ranges[L],De=Fe(ye.head,ye.anchor)<0;y[L]=new wn(De?te:$,De?$:te)}else y[L]=new wn($,$)}return new To(y,o.sel.primIndex)}function ic(o){o.doc.mode=Ye(o.options,o.doc.modeOption),m(o)}function m(o){o.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,Rr(o,100),o.state.modeGen++,o.curOp&&En(o)}function x(o,u){return u.from.ch==0&&u.to.ch==0&&oe(u.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function v(o,u,p,y){function w(Xt){return p?p[Xt]:null}function D(Xt,$t,ir){gf(Xt,$t,ir,y),Di(Xt,"change",Xt,u)}function L(Xt,$t){for(var ir=[],Mr=Xt;Mr<$t;++Mr)ir.push(new Ni(te[Mr],w(Mr),y));return ir}var j=u.from,$=u.to,te=u.text,ye=Et(o,j.line),De=Et(o,$.line),$e=oe(te),Ke=w(te.length-1),pt=$.line-j.line;if(u.full)o.insert(0,L(0,te.length)),o.remove(te.length,o.size-te.length);else if(x(o,u)){var _t=L(0,te.length-1);D(De,De.text,Ke),pt&&o.remove(j.line,pt),_t.length&&o.insert(j.line,_t)}else if(ye==De)if(te.length==1)D(ye,ye.text.slice(0,j.ch)+$e+ye.text.slice($.ch),Ke);else{var At=L(1,te.length-1);At.push(new Ni($e+ye.text.slice($.ch),Ke,y)),D(ye,ye.text.slice(0,j.ch)+te[0],w(0)),o.insert(j.line+1,At)}else if(te.length==1)D(ye,ye.text.slice(0,j.ch)+te[0]+De.text.slice($.ch),w(0)),o.remove(j.line+1,pt);else{D(ye,ye.text.slice(0,j.ch)+te[0],w(0)),D(De,$e+De.text.slice($.ch),Ke);var Nt=L(1,te.length-1);pt>1&&o.remove(j.line+1,pt-1),o.insert(j.line+1,Nt)}Di(o,"change",o,u)}function C(o,u,p){function y(w,D,L){if(w.linked)for(var j=0;j<w.linked.length;++j){var $=w.linked[j];if($.doc!=D){var te=L&&$.sharedHist;p&&!te||(u($.doc,te),y($.doc,w,te))}}}y(o,null,!0)}function M(o,u){if(u.cm)throw new Error("This document is already in use.");o.doc=u,u.cm=o,Mo(o),ic(o),B(o),o.options.direction=u.direction,o.options.lineWrapping||Ha(o),o.options.mode=u.modeOption,En(o)}function B(o){(o.doc.direction=="rtl"?pe:xe)(o.display.lineDiv,"CodeMirror-rtl")}function U(o){Rn(o,function(){B(o),En(o)})}function X(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function ce(o,u){var p={from:Mt(u.from),to:Ga(u),text:St(o,u.from,u.to)};return ft(o,p,u.from.line,u.to.line+1),C(o,function(y){return ft(y,p,u.from.line,u.to.line+1)},!0),p}function Se(o){for(;o.length;){var u=oe(o);if(u.ranges)o.pop();else break}}function Le(o,u){if(u)return Se(o.done),oe(o.done);if(o.done.length&&!oe(o.done).ranges)return oe(o.done);if(o.done.length>1&&!o.done[o.done.length-2].ranges)return o.done.pop(),oe(o.done)}function Re(o,u,p,y){var w=o.history;w.undone.length=0;var D=+new Date,L,j;if((w.lastOp==y||w.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&w.lastModTime>D-(o.cm?o.cm.options.historyEventDelay:500)||u.origin.charAt(0)=="*"))&&(L=Le(w,w.lastOp==y)))j=oe(L.changes),Fe(u.from,u.to)==0&&Fe(u.from,j.to)==0?j.to=Ga(u):L.changes.push(ce(o,u));else{var $=oe(w.done);for((!$||!$.ranges)&&Je(o.sel,w.done),L={changes:[ce(o,u)],generation:w.generation},w.done.push(L);w.done.length>w.undoDepth;)w.done.shift(),w.done[0].ranges||w.done.shift()}w.done.push(p),w.generation=++w.maxGeneration,w.lastModTime=w.lastSelTime=D,w.lastOp=w.lastSelOp=y,w.lastOrigin=w.lastSelOrigin=u.origin,j||wr(o,"historyAdded")}function ze(o,u,p,y){var w=u.charAt(0);return w=="*"||w=="+"&&p.ranges.length==y.ranges.length&&p.somethingSelected()==y.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function nt(o,u,p,y){var w=o.history,D=y&&y.origin;p==w.lastSelOp||D&&w.lastSelOrigin==D&&(w.lastModTime==w.lastSelTime&&w.lastOrigin==D||ze(o,D,oe(w.done),u))?w.done[w.done.length-1]=u:Je(u,w.done),w.lastSelTime=+new Date,w.lastSelOrigin=D,w.lastSelOp=p,y&&y.clearRedo!==!1&&Se(w.undone)}function Je(o,u){var p=oe(u);p&&p.ranges&&p.equals(o)||u.push(o)}function ft(o,u,p,y){var w=u["spans_"+o.id],D=0;o.iter(Math.max(o.first,p),Math.min(o.first+o.size,y),function(L){L.markedSpans&&((w||(w=u["spans_"+o.id]={}))[D]=L.markedSpans),++D})}function Ge(o){if(!o)return null;for(var u,p=0;p<o.length;++p)o[p].marker.explicitlyCleared?u||(u=o.slice(0,p)):u&&u.push(o[p]);return u?u.length?u:null:o}function ct(o,u){var p=u["spans_"+o.id];if(!p)return null;for(var y=[],w=0;w<u.text.length;++w)y.push(Ge(p[w]));return y}function mt(o,u){var p=ct(o,u),y=jn(o,u);if(!p)return y;if(!y)return p;for(var w=0;w<p.length;++w){var D=p[w],L=y[w];if(D&&L){e:for(var j=0;j<L.length;++j){for(var $=L[j],te=0;te<D.length;++te)if(D[te].marker==$.marker)continue e;D.push($)}}else L&&(p[w]=L)}return p}function wt(o,u,p){for(var y=[],w=0;w<o.length;++w){var D=o[w];if(D.ranges){y.push(p?To.prototype.deepCopy.call(D):D);continue}var L=D.changes,j=[];y.push({changes:j});for(var $=0;$<L.length;++$){var te=L[$],ye=void 0;if(j.push({from:te.from,to:te.to,text:te.text}),u)for(var De in te)(ye=De.match(/^spans_(\d+)$/))&&Ht(u,Number(ye[1]))>-1&&(oe(j)[De]=te[De],delete te[De])}}return y}function zt(o,u,p,y){if(y){var w=o.anchor;if(p){var D=Fe(u,w)<0;D!=Fe(p,w)<0?(w=u,u=p):D!=Fe(u,p)<0&&(u=p)}return new wn(w,u)}else return new wn(p||u,u)}function Rt(o,u,p,y,w){w==null&&(w=o.cm&&(o.cm.display.shift||o.extend)),Ar(o,new To([zt(o.sel.primary(),u,p,w)],0),y)}function jt(o,u,p){for(var y=[],w=o.cm&&(o.cm.display.shift||o.extend),D=0;D<o.sel.ranges.length;D++)y[D]=zt(o.sel.ranges[D],u[D],null,w);var L=ha(o.cm,y,o.sel.primIndex);Ar(o,L,p)}function er(o,u,p,y){var w=o.sel.ranges.slice(0);w[u]=p,Ar(o,ha(o.cm,w,o.sel.primIndex),y)}function nr(o,u,p,y){Ar(o,Vs(u,p),y)}function lr(o,u,p){var y={ranges:u.ranges,update:function(w){this.ranges=[];for(var D=0;D<w.length;D++)this.ranges[D]=new wn(Zt(o,w[D].anchor),Zt(o,w[D].head))},origin:p&&p.origin};return wr(o,"beforeSelectionChange",o,y),o.cm&&wr(o.cm,"beforeSelectionChange",o.cm,y),y.ranges!=u.ranges?ha(o.cm,y.ranges,y.ranges.length-1):u}function Er(o,u,p){var y=o.history.done,w=oe(y);w&&w.ranges?(y[y.length-1]=u,Kr(o,u,p)):Ar(o,u,p)}function Ar(o,u,p){Kr(o,u,p),nt(o,o.sel,o.cm?o.cm.curOp.id:NaN,p)}function Kr(o,u,p){(ai(o,"beforeSelectionChange")||o.cm&&ai(o.cm,"beforeSelectionChange"))&&(u=lr(o,u,p));var y=p&&p.bias||(Fe(u.primary().head,o.sel.primary().head)<0?-1:1);Vr(o,Dr(o,u,y,!0)),!(p&&p.scroll===!1)&&o.cm&&o.cm.getOption("readOnly")!="nocursor"&&Eo(o.cm)}function Vr(o,u){u.equals(o.sel)||(o.sel=u,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,mn(o.cm)),Di(o,"cursorActivity",o))}function On(o){Vr(o,Dr(o,o.sel,null,!1))}function Dr(o,u,p,y){for(var w,D=0;D<u.ranges.length;D++){var L=u.ranges[D],j=u.ranges.length==o.sel.ranges.length&&o.sel.ranges[D],$=gn(o,L.anchor,j&&j.anchor,p,y),te=L.head==L.anchor?$:gn(o,L.head,j&&j.head,p,y);(w||$!=L.anchor||te!=L.head)&&(w||(w=u.ranges.slice(0,D)),w[D]=new wn($,te))}return w?ha(o.cm,w,u.primIndex):u}function an(o,u,p,y,w){var D=Et(o,u.line);if(D.markedSpans)for(var L=0;L<D.markedSpans.length;++L){var j=D.markedSpans[L],$=j.marker,te="selectLeft"in $?!$.selectLeft:$.inclusiveLeft,ye="selectRight"in $?!$.selectRight:$.inclusiveRight;if((j.from==null||(te?j.from<=u.ch:j.from<u.ch))&&(j.to==null||(ye?j.to>=u.ch:j.to>u.ch))){if(w&&(wr($,"beforeCursorEnter"),$.explicitlyCleared))if(D.markedSpans){--L;continue}else break;if(!$.atomic)continue;if(p){var De=$.find(y<0?1:-1),$e=void 0;if((y<0?ye:te)&&(De=rn(o,De,-y,De&&De.line==u.line?D:null)),De&&De.line==u.line&&($e=Fe(De,p))&&(y<0?$e<0:$e>0))return an(o,De,u,y,w)}var Ke=$.find(y<0?-1:1);return(y<0?te:ye)&&(Ke=rn(o,Ke,y,Ke.line==u.line?D:null)),Ke?an(o,Ke,u,y,w):null}}return u}function gn(o,u,p,y,w){var D=y||1,L=an(o,u,p,D,w)||!w&&an(o,u,p,D,!0)||an(o,u,p,-D,w)||!w&&an(o,u,p,-D,!0);return L||(o.cantEdit=!0,ue(o.first,0))}function rn(o,u,p,y){return p<0&&u.ch==0?u.line>o.first?Zt(o,ue(u.line-1)):null:p>0&&u.ch==(y||Et(o,u.line)).text.length?u.line<o.first+o.size-1?ue(u.line+1,0):null:new ue(u.line,u.ch+p)}function sn(o){o.setSelection(ue(o.firstLine(),0),ue(o.lastLine()),or)}function dn(o,u,p){var y={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return y.canceled=!0}};return p&&(y.update=function(w,D,L,j){w&&(y.from=Zt(o,w)),D&&(y.to=Zt(o,D)),L&&(y.text=L),j!==void 0&&(y.origin=j)}),wr(o,"beforeChange",o,y),o.cm&&wr(o.cm,"beforeChange",o.cm,y),y.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:y.from,to:y.to,text:y.text,origin:y.origin}}function Qr(o,u,p){if(o.cm){if(!o.cm.curOp)return Un(o.cm,Qr)(o,u,p);if(o.cm.state.suppressEdits)return}if(!((ai(o,"beforeChange")||o.cm&&ai(o.cm,"beforeChange"))&&(u=dn(o,u,!0),!u))){var y=so&&!p&&pf(o,u.from,u.to);if(y)for(var w=y.length-1;w>=0;--w)Jr(o,{from:y[w].from,to:y[w].to,text:w?[""]:u.text,origin:u.origin});else Jr(o,u)}}function Jr(o,u){if(!(u.text.length==1&&u.text[0]==""&&Fe(u.from,u.to)==0)){var p=Vc(o,u);Re(o,u,p,o.cm?o.cm.curOp.id:NaN),Ao(o,u,p,jn(o,u));var y=[];C(o,function(w,D){!D&&Ht(y,w.history)==-1&&(Po(w.history,u),y.push(w.history)),Ao(w,u,null,jn(w,u))})}}function yo(o,u,p){var y=o.cm&&o.cm.state.suppressEdits;if(!(y&&!p)){for(var w=o.history,D,L=o.sel,j=u=="undo"?w.done:w.undone,$=u=="undo"?w.undone:w.done,te=0;te<j.length&&(D=j[te],!(p?D.ranges&&!D.equals(o.sel):!D.ranges));te++);if(te!=j.length){for(w.lastOrigin=w.lastSelOrigin=null;;)if(D=j.pop(),D.ranges){if(Je(D,$),p&&!D.equals(o.sel)){Ar(o,D,{clearRedo:!1});return}L=D}else if(y){j.push(D);return}else break;var ye=[];Je(L,$),$.push({changes:ye,generation:w.generation}),w.generation=D.generation||++w.maxGeneration;for(var De=ai(o,"beforeChange")||o.cm&&ai(o.cm,"beforeChange"),$e=function(_t){var At=D.changes[_t];if(At.origin=u,De&&!dn(o,At,!1))return j.length=0,{};ye.push(ce(o,At));var Nt=_t?Vc(o,At):oe(j);Ao(o,At,Nt,mt(o,At)),!_t&&o.cm&&o.cm.scrollIntoView({from:At.from,to:Ga(At)});var Xt=[];C(o,function($t,ir){!ir&&Ht(Xt,$t.history)==-1&&(Po($t.history,At),Xt.push($t.history)),Ao($t,At,null,mt($t,At))})},Ke=D.changes.length-1;Ke>=0;--Ke){var pt=$e(Ke);if(pt)return pt.v}}}}function Si(o,u){if(u!=0&&(o.first+=u,o.sel=new To(ke(o.sel.ranges,function(w){return new wn(ue(w.anchor.line+u,w.anchor.ch),ue(w.head.line+u,w.head.ch))}),o.sel.primIndex),o.cm)){En(o.cm,o.first,o.first-u,u);for(var p=o.cm.display,y=p.viewFrom;y<p.viewTo;y++)Ll(o.cm,y,"gutter")}}function Ao(o,u,p,y){if(o.cm&&!o.cm.curOp)return Un(o.cm,Ao)(o,u,p,y);if(u.to.line<o.first){Si(o,u.text.length-1-(u.to.line-u.from.line));return}if(!(u.from.line>o.lastLine())){if(u.from.line<o.first){var w=u.text.length-1-(o.first-u.from.line);Si(o,w),u={from:ue(o.first,0),to:ue(u.to.line+w,u.to.ch),text:[oe(u.text)],origin:u.origin}}var D=o.lastLine();u.to.line>D&&(u={from:u.from,to:ue(D,Et(o,D).text.length),text:[u.text[0]],origin:u.origin}),u.removed=St(o,u.from,u.to),p||(p=Vc(o,u)),o.cm?Go(o.cm,u,y):v(o,u,y),Kr(o,p,or),o.cantEdit&&gn(o,ue(o.firstLine(),0))&&(o.cantEdit=!1)}}function Go(o,u,p){var y=o.doc,w=o.display,D=u.from,L=u.to,j=!1,$=D.line;o.options.lineWrapping||($=Pe(Ua(Et(y,D.line))),y.iter($,L.line+1,function(Ke){if(Ke==w.maxLine)return j=!0,!0})),y.sel.contains(u.from,u.to)>-1&&mn(o),v(y,u,p,cu(o)),o.options.lineWrapping||(y.iter($,D.line+u.text.length,function(Ke){var pt=Lc(Ke);pt>w.maxLineLength&&(w.maxLine=Ke,w.maxLineLength=pt,w.maxLineChanged=!0,j=!1)}),j&&(o.curOp.updateMaxLine=!0)),Qi(y,D.line),Rr(o,400);var te=u.text.length-(L.line-D.line)-1;u.full?En(o):D.line==L.line&&u.text.length==1&&!x(o.doc,u)?Ll(o,D.line,"text"):En(o,D.line,L.line+1,te);var ye=ai(o,"changes"),De=ai(o,"change");if(De||ye){var $e={from:D,to:L,text:u.text,removed:u.removed,origin:u.origin};De&&Di(o,"change",o,$e),ye&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push($e)}o.display.selForContextMenu=null}function xi(o,u,p,y,w){var D;y||(y=p),Fe(y,p)<0&&(D=[y,p],p=D[0],y=D[1]),typeof u=="string"&&(u=o.splitLines(u)),Qr(o,{from:p,to:y,text:u,origin:w})}function Li(o,u,p,y){p<o.line?o.line+=y:u<o.line&&(o.line=u,o.ch=0)}function da(o,u,p,y){for(var w=0;w<o.length;++w){var D=o[w],L=!0;if(D.ranges){D.copied||(D=o[w]=D.deepCopy(),D.copied=!0);for(var j=0;j<D.ranges.length;j++)Li(D.ranges[j].anchor,u,p,y),Li(D.ranges[j].head,u,p,y);continue}for(var $=0;$<D.changes.length;++$){var te=D.changes[$];if(p<te.from.line)te.from=ue(te.from.line+y,te.from.ch),te.to=ue(te.to.line+y,te.to.ch);else if(u<=te.to.line){L=!1;break}}L||(o.splice(0,w+1),w=0)}}function Po(o,u){var p=u.from.line,y=u.to.line,w=u.text.length-(y-p)-1;da(o.done,p,y,w),da(o.undone,p,y,w)}function Ka(o,u,p,y){var w=u,D=u;return typeof u=="number"?D=Et(o,Sr(o,u)):w=Pe(u),w==null?null:(y(D,w)&&o.cm&&Ll(o.cm,w,p),D)}function Ko(o){this.lines=o,this.parent=null;for(var u=0,p=0;p<o.length;++p)o[p].parent=this,u+=o[p].height;this.height=u}Ko.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,u){for(var p=o,y=o+u;p<y;++p){var w=this.lines[p];this.height-=w.height,Bd(w),Di(w,"delete")}this.lines.splice(o,u)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,u,p){this.height+=p,this.lines=this.lines.slice(0,o).concat(u).concat(this.lines.slice(o));for(var y=0;y<u.length;++y)u[y].parent=this},iterN:function(o,u,p){for(var y=o+u;o<y;++o)if(p(this.lines[o]))return!0}};function cs(o){this.children=o;for(var u=0,p=0,y=0;y<o.length;++y){var w=o[y];u+=w.chunkSize(),p+=w.height,w.parent=this}this.size=u,this.height=p,this.parent=null}cs.prototype={chunkSize:function(){return this.size},removeInner:function(o,u){this.size-=u;for(var p=0;p<this.children.length;++p){var y=this.children[p],w=y.chunkSize();if(o<w){var D=Math.min(u,w-o),L=y.height;if(y.removeInner(o,D),this.height-=L-y.height,w==D&&(this.children.splice(p--,1),y.parent=null),(u-=D)==0)break;o=0}else o-=w}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof Ko))){var j=[];this.collapse(j),this.children=[new Ko(j)],this.children[0].parent=this}},collapse:function(o){for(var u=0;u<this.children.length;++u)this.children[u].collapse(o)},insertInner:function(o,u,p){this.size+=u.length,this.height+=p;for(var y=0;y<this.children.length;++y){var w=this.children[y],D=w.chunkSize();if(o<=D){if(w.insertInner(o,u,p),w.lines&&w.lines.length>50){for(var L=w.lines.length%25+25,j=L;j<w.lines.length;){var $=new Ko(w.lines.slice(j,j+=25));w.height-=$.height,this.children.splice(++y,0,$),$.parent=this}w.lines=w.lines.slice(0,L),this.maybeSpill()}break}o-=D}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var u=o.children.splice(o.children.length-5,5),p=new cs(u);if(o.parent){o.size-=p.size,o.height-=p.height;var w=Ht(o.parent.children,o);o.parent.children.splice(w+1,0,p)}else{var y=new cs(o.children);y.parent=o,o.children=[y,p],o=y}p.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,u,p){for(var y=0;y<this.children.length;++y){var w=this.children[y],D=w.chunkSize();if(o<D){var L=Math.min(u,D-o);if(w.iterN(o,L,p))return!0;if((u-=L)==0)break;o=0}else o-=D}}};var Ma=function(o,u,p){if(p)for(var y in p)p.hasOwnProperty(y)&&(this[y]=p[y]);this.doc=o,this.node=u};Ma.prototype.clear=function(){var o=this.doc.cm,u=this.line.widgets,p=this.line,y=Pe(p);if(!(y==null||!u)){for(var w=0;w<u.length;++w)u[w]==this&&u.splice(w--,1);u.length||(p.widgets=null);var D=Bs(this);we(p,Math.max(0,p.height-D)),o&&(Rn(o,function(){Gs(o,p,-D),Ll(o,y,"widget")}),Di(o,"lineWidgetCleared",o,this,y))}},Ma.prototype.changed=function(){var o=this,u=this.height,p=this.doc.cm,y=this.line;this.height=null;var w=Bs(this)-u;!w||(Da(this.doc,y)||we(y,y.height+w),p&&Rn(p,function(){p.curOp.forceUpdate=!0,Gs(p,y,w),Di(p,"lineWidgetChanged",p,o,Pe(y))}))},Ue(Ma);function Gs(o,u,p){Io(u)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Us(o,p)}function Bl(o,u,p,y){var w=new Ma(o,p,y),D=o.cm;return D&&w.noHScroll&&(D.display.alignWidgets=!0),Ka(o,u,"widget",function(L){var j=L.widgets||(L.widgets=[]);if(w.insertAt==null?j.push(w):j.splice(Math.min(j.length,Math.max(0,w.insertAt)),0,w),w.line=L,D&&!Da(o,L)){var $=Io(L)<o.scrollTop;we(L,L.height+Bs(w)),$&&Us(D,w.height),D.curOp.forceUpdate=!0}return!0}),D&&Di(D,"lineWidgetAdded",D,w,typeof u=="number"?u:Pe(u)),w}var Ks=0,Ys=function(o,u){this.lines=[],this.type=u,this.doc=o,this.id=++Ks};Ys.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,u=o&&!o.curOp;if(u&&Ia(o),ai(this,"clear")){var p=this.find();p&&Di(this,"clear",p.from,p.to)}for(var y=null,w=null,D=0;D<this.lines.length;++D){var L=this.lines[D],j=mo(L.markedSpans,this);o&&!this.collapsed?Ll(o,Pe(L),"text"):o&&(j.to!=null&&(w=Pe(L)),j.from!=null&&(y=Pe(L))),L.markedSpans=Vf(L.markedSpans,j),j.from==null&&this.collapsed&&!Da(this.doc,L)&&o&&we(L,Mu(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var $=0;$<this.lines.length;++$){var te=Ua(this.lines[$]),ye=Lc(te);ye>o.display.maxLineLength&&(o.display.maxLine=te,o.display.maxLineLength=ye,o.display.maxLineChanged=!0)}y!=null&&o&&this.collapsed&&En(o,y,w+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&On(o.doc)),o&&Di(o,"markerCleared",o,this,y,w),u&&ua(o),this.parent&&this.parent.clear()}},Ys.prototype.find=function(o,u){o==null&&this.type=="bookmark"&&(o=1);for(var p,y,w=0;w<this.lines.length;++w){var D=this.lines[w],L=mo(D.markedSpans,this);if(L.from!=null&&(p=ue(u?D:Pe(D),L.from),o==-1))return p;if(L.to!=null&&(y=ue(u?D:Pe(D),L.to),o==1))return y}return p&&{from:p,to:y}},Ys.prototype.changed=function(){var o=this,u=this.find(-1,!0),p=this,y=this.doc.cm;!u||!y||Rn(y,function(){var w=u.line,D=Pe(u.line),L=hi(y,D);if(L&&(Qu(L),y.curOp.selectionChanged=y.curOp.forceUpdate=!0),y.curOp.updateMaxLine=!0,!Da(p.doc,w)&&p.height!=null){var j=p.height;p.height=null;var $=Bs(p)-j;$&&we(w,w.height+$)}Di(y,"markerChanged",y,o)})},Ys.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(!u.maybeHiddenMarkers||Ht(u.maybeHiddenMarkers,this)==-1)&&(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},Ys.prototype.detachLine=function(o){if(this.lines.splice(Ht(this.lines,o),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}},Ue(Ys);function jl(o,u,p,y,w){if(y&&y.shared)return ih(o,u,p,y,w);if(o.cm&&!o.cm.curOp)return Un(o.cm,jl)(o,u,p,y,w);var D=new Ys(o,w),L=Fe(u,p);if(y&&et(y,D,!1),L>0||L==0&&D.clearWhenEmpty!==!1)return D;if(D.replacedWith&&(D.collapsed=!0,D.widgetNode=ae("span",[D.replacedWith],"CodeMirror-widget"),y.handleMouseEvents||D.widgetNode.setAttribute("cm-ignore-events","true"),y.insertLeft&&(D.widgetNode.insertLeft=!0)),D.collapsed){if(Ql(o,u.line,u,p,D)||u.line!=p.line&&Ql(o,p.line,u,p,D))throw new Error("Inserting collapsed marker partially overlapping an existing one");na()}D.addToHistory&&Re(o,{from:u,to:p,origin:"markText"},o.sel,NaN);var j=u.line,$=o.cm,te;if(o.iter(j,p.line+1,function(De){$&&D.collapsed&&!$.options.lineWrapping&&Ua(De)==$.display.maxLine&&(te=!0),D.collapsed&&j!=u.line&&we(De,0),Uo(De,new Gu(D,j==u.line?u.ch:null,j==p.line?p.ch:null),o.cm&&o.cm.curOp),++j}),D.collapsed&&o.iter(u.line,p.line+1,function(De){Da(o,De)&&we(De,0)}),D.clearOnEnter&&Dt(D,"beforeCursorEnter",function(){return D.clear()}),D.readOnly&&(ra(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),D.collapsed&&(D.id=++Ks,D.atomic=!0),$){if(te&&($.curOp.updateMaxLine=!0),D.collapsed)En($,u.line,p.line+1);else if(D.className||D.startStyle||D.endStyle||D.css||D.attributes||D.title)for(var ye=u.line;ye<=p.line;ye++)Ll($,ye,"text");D.atomic&&On($.doc),Di($,"markerAdded",$,D)}return D}var Es=function(o,u){this.markers=o,this.primary=u;for(var p=0;p<o.length;++p)o[p].parent=this};Es.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();Di(this,"clear")}},Es.prototype.find=function(o,u){return this.primary.find(o,u)},Ue(Es);function ih(o,u,p,y,w){y=et(y),y.shared=!1;var D=[jl(o,u,p,y,w)],L=D[0],j=y.widgetNode;return C(o,function($){j&&(y.widgetNode=j.cloneNode(!0)),D.push(jl($,Zt($,u),Zt($,p),y,w));for(var te=0;te<$.linked.length;++te)if($.linked[te].isParent)return;L=oe(D)}),new Es(D,L)}function Ul(o){return o.findMarks(ue(o.first,0),o.clipPos(ue(o.lastLine())),function(u){return u.parent})}function ni(o,u){for(var p=0;p<u.length;p++){var y=u[p],w=y.find(),D=o.clipPos(w.from),L=o.clipPos(w.to);if(Fe(D,L)){var j=jl(o,D,L,y.primary,y.primary.type);y.markers.push(j),j.parent=y}}}function vu(o){for(var u=function(y){var w=o[y],D=[w.primary.doc];C(w.primary.doc,function($){return D.push($)});for(var L=0;L<w.markers.length;L++){var j=w.markers[L];Ht(D,j.doc)==-1&&(j.parent=null,w.markers.splice(L--,1))}},p=0;p<o.length;p++)u(p)}var oc=0,Lo=function(o,u,p,y,w){if(!(this instanceof Lo))return new Lo(o,u,p,y,w);p==null&&(p=0),cs.call(this,[new Ko([new Ni("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var D=ue(p,0);this.sel=Vs(D),this.history=new X(null),this.id=++oc,this.modeOption=u,this.lineSep=y,this.direction=w=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),v(this,{from:D,to:D,text:o}),Ar(this,Vs(D),or)};Lo.prototype=st(cs.prototype,{constructor:Lo,iter:function(o,u,p){p?this.iterN(o-this.first,u-o,p):this.iterN(this.first,this.first+this.size,o)},insert:function(o,u){for(var p=0,y=0;y<u.length;++y)p+=u[y].height;this.insertInner(o-this.first,u,p)},remove:function(o,u){this.removeInner(o-this.first,u)},getValue:function(o){var u=Qt(this,this.first,this.first+this.size);return o===!1?u:u.join(o||this.lineSeparator())},setValue:kr(function(o){var u=ue(this.first,0),p=this.first+this.size-1;Qr(this,{from:u,to:ue(p,Et(this,p).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&nc(this.cm,0,0),Ar(this,Vs(u),or)}),replaceRange:function(o,u,p,y){u=Zt(this,u),p=p?Zt(this,p):u,xi(this,o,u,p,y)},getRange:function(o,u,p){var y=St(this,Zt(this,o),Zt(this,u));return p===!1?y:p===""?y.join(""):y.join(p||this.lineSeparator())},getLine:function(o){var u=this.getLineHandle(o);return u&&u.text},getLineHandle:function(o){if(Q(this,o))return Et(this,o)},getLineNumber:function(o){return Pe(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=Et(this,o)),Ua(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return Zt(this,o)},getCursor:function(o){var u=this.sel.primary(),p;return o==null||o=="head"?p=u.head:o=="anchor"?p=u.anchor:o=="end"||o=="to"||o===!1?p=u.to():p=u.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:kr(function(o,u,p){nr(this,Zt(this,typeof o=="number"?ue(o,u||0):o),null,p)}),setSelection:kr(function(o,u,p){nr(this,Zt(this,o),Zt(this,u||o),p)}),extendSelection:kr(function(o,u,p){Rt(this,Zt(this,o),u&&Zt(this,u),p)}),extendSelections:kr(function(o,u){jt(this,un(this,o),u)}),extendSelectionsBy:kr(function(o,u){var p=ke(this.sel.ranges,o);jt(this,un(this,p),u)}),setSelections:kr(function(o,u,p){if(!!o.length){for(var y=[],w=0;w<o.length;w++)y[w]=new wn(Zt(this,o[w].anchor),Zt(this,o[w].head||o[w].anchor));u==null&&(u=Math.min(o.length-1,this.sel.primIndex)),Ar(this,ha(this.cm,y,u),p)}}),addSelection:kr(function(o,u,p){var y=this.sel.ranges.slice(0);y.push(new wn(Zt(this,o),Zt(this,u||o))),Ar(this,ha(this.cm,y,y.length-1),p)}),getSelection:function(o){for(var u=this.sel.ranges,p,y=0;y<u.length;y++){var w=St(this,u[y].from(),u[y].to());p=p?p.concat(w):w}return o===!1?p:p.join(o||this.lineSeparator())},getSelections:function(o){for(var u=[],p=this.sel.ranges,y=0;y<p.length;y++){var w=St(this,p[y].from(),p[y].to());o!==!1&&(w=w.join(o||this.lineSeparator())),u[y]=w}return u},replaceSelection:function(o,u,p){for(var y=[],w=0;w<this.sel.ranges.length;w++)y[w]=o;this.replaceSelections(y,u,p||"+input")},replaceSelections:kr(function(o,u,p){for(var y=[],w=this.sel,D=0;D<w.ranges.length;D++){var L=w.ranges[D];y[D]={from:L.from(),to:L.to(),text:this.splitLines(o[D]),origin:p}}for(var j=u&&u!="end"&&Wh(this,y,u),$=y.length-1;$>=0;$--)Qr(this,y[$]);j?Er(this,j):this.cm&&Eo(this.cm)}),undo:kr(function(){yo(this,"undo")}),redo:kr(function(){yo(this,"redo")}),undoSelection:kr(function(){yo(this,"undo",!0)}),redoSelection:kr(function(){yo(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,u=0,p=0,y=0;y<o.done.length;y++)o.done[y].ranges||++u;for(var w=0;w<o.undone.length;w++)o.undone[w].ranges||++p;return{undo:u,redo:p}},clearHistory:function(){var o=this;this.history=new X(this.history),C(this,function(u){return u.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:wt(this.history.done),undone:wt(this.history.undone)}},setHistory:function(o){var u=this.history=new X(this.history);u.done=wt(o.done.slice(0),null,!0),u.undone=wt(o.undone.slice(0),null,!0)},setGutterMarker:kr(function(o,u,p){return Ka(this,o,"gutter",function(y){var w=y.gutterMarkers||(y.gutterMarkers={});return w[u]=p,!p&&sr(w)&&(y.gutterMarkers=null),!0})}),clearGutter:kr(function(o){var u=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[o]&&Ka(u,p,"gutter",function(){return p.gutterMarkers[o]=null,sr(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(o){var u;if(typeof o=="number"){if(!Q(this,o)||(u=o,o=Et(this,o),!o))return null}else if(u=Pe(o),u==null)return null;return{line:u,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:kr(function(o,u,p){return Ka(this,o,u=="gutter"?"gutter":"class",function(y){var w=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(!y[w])y[w]=p;else{if(be(p).test(y[w]))return!1;y[w]+=" "+p}return!0})}),removeLineClass:kr(function(o,u,p){return Ka(this,o,u=="gutter"?"gutter":"class",function(y){var w=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",D=y[w];if(D)if(p==null)y[w]=null;else{var L=D.match(be(p));if(!L)return!1;var j=L.index+L[0].length;y[w]=D.slice(0,L.index)+(!L.index||j==D.length?"":" ")+D.slice(j)||null}else return!1;return!0})}),addLineWidget:kr(function(o,u,p){return Bl(this,o,u,p)}),removeLineWidget:function(o){o.clear()},markText:function(o,u,p){return jl(this,Zt(this,o),Zt(this,u),p,p&&p.type||"range")},setBookmark:function(o,u){var p={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return o=Zt(this,o),jl(this,o,o,p,"bookmark")},findMarksAt:function(o){o=Zt(this,o);var u=[],p=Et(this,o.line).markedSpans;if(p)for(var y=0;y<p.length;++y){var w=p[y];(w.from==null||w.from<=o.ch)&&(w.to==null||w.to>=o.ch)&&u.push(w.marker.parent||w.marker)}return u},findMarks:function(o,u,p){o=Zt(this,o),u=Zt(this,u);var y=[],w=o.line;return this.iter(o.line,u.line+1,function(D){var L=D.markedSpans;if(L)for(var j=0;j<L.length;j++){var $=L[j];!($.to!=null&&w==o.line&&o.ch>=$.to||$.from==null&&w!=o.line||$.from!=null&&w==u.line&&$.from>=u.ch)&&(!p||p($.marker))&&y.push($.marker.parent||$.marker)}++w}),y},getAllMarks:function(){var o=[];return this.iter(function(u){var p=u.markedSpans;if(p)for(var y=0;y<p.length;++y)p[y].from!=null&&o.push(p[y].marker)}),o},posFromIndex:function(o){var u,p=this.first,y=this.lineSeparator().length;return this.iter(function(w){var D=w.text.length+y;if(D>o)return u=o,!0;o-=D,++p}),Zt(this,ue(p,u))},indexFromPos:function(o){o=Zt(this,o);var u=o.ch;if(o.line<this.first||o.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,o.line,function(y){u+=y.text.length+p}),u},copy:function(o){var u=new Lo(Qt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,o&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(o){o||(o={});var u=this.first,p=this.first+this.size;o.from!=null&&o.from>u&&(u=o.from),o.to!=null&&o.to<p&&(p=o.to);var y=new Lo(Qt(this,u,p),o.mode||this.modeOption,u,this.lineSep,this.direction);return o.sharedHist&&(y.history=this.history),(this.linked||(this.linked=[])).push({doc:y,sharedHist:o.sharedHist}),y.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],ni(y,Ul(this)),y},unlinkDoc:function(o){if(o instanceof Bi&&(o=o.doc),this.linked)for(var u=0;u<this.linked.length;++u){var p=this.linked[u];if(p.doc==o){this.linked.splice(u,1),o.unlinkDoc(this),vu(Ul(this));break}}if(o.history==this.history){var y=[o.id];C(o,function(w){return y.push(w.id)},!0),o.history=new X(null),o.history.done=wt(this.history.done,y),o.history.undone=wt(this.history.undone,y)}},iterLinkedDocs:function(o){C(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):Vn(o)},lineSeparator:function(){return this.lineSep||`
`},setDirection:kr(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(u){return u.order=null}),this.cm&&U(this.cm))})}),Lo.prototype.eachLine=Lo.prototype.iter;var Kn=0;function Ts(o){var u=this;if(Qp(u),!(Gr(u,o)||Oa(u.display,o))){Xe(o),l&&(Kn=+new Date);var p=as(u,o,!0),y=o.dataTransfer.files;if(!(!p||u.isReadOnly()))if(y&&y.length&&window.FileReader&&window.File)for(var w=y.length,D=Array(w),L=0,j=function(){++L==w&&Un(u,function(){p=Zt(u.doc,p);var Ke={from:p,to:p,text:u.doc.splitLines(D.filter(function(pt){return pt!=null}).join(u.doc.lineSeparator())),origin:"paste"};Qr(u.doc,Ke),Er(u.doc,Vs(Zt(u.doc,p),Zt(u.doc,Ga(Ke))))})()},$=function(Ke,pt){if(u.options.allowDropFileTypes&&Ht(u.options.allowDropFileTypes,Ke.type)==-1){j();return}var _t=new FileReader;_t.onerror=function(){return j()},_t.onload=function(){var At=_t.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(At)){j();return}D[pt]=At,j()},_t.readAsText(Ke)},te=0;te<y.length;te++)$(y[te],te);else{if(u.state.draggingText&&u.doc.sel.contains(p)>-1){u.state.draggingText(o),setTimeout(function(){return u.display.input.focus()},20);return}try{var ye=o.dataTransfer.getData("Text");if(ye){var De;if(u.state.draggingText&&!u.state.draggingText.copy&&(De=u.listSelections()),Kr(u.doc,Vs(p,p)),De)for(var $e=0;$e<De.length;++$e)xi(u.doc,"",De[$e].anchor,De[$e].head,"drag");u.replaceSelection(ye,"around","paste"),u.display.input.focus()}}catch{}}}}function Ya(o,u){if(l&&(!o.state.draggingText||+new Date-Kn<100)){gr(u);return}if(!(Gr(o,u)||Oa(o.display,u))&&(u.dataTransfer.setData("Text",o.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!q)){var p=G("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",P&&(p.width=p.height=1,o.display.wrapper.appendChild(p),p._top=p.offsetTop),u.dataTransfer.setDragImage(p,0,0),P&&p.parentNode.removeChild(p)}}function ac(o,u){var p=as(o,u);if(!!p){var y=document.createDocumentFragment();fu(o,p,y),o.display.dragCursor||(o.display.dragCursor=G("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),R(o.display.dragCursor,y)}}function Qp(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function oh(o){if(!!document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),p=[],y=0;y<u.length;y++){var w=u[y].CodeMirror;w&&p.push(w)}p.length&&p[0].operation(function(){for(var D=0;D<p.length;D++)o(p[D])})}}var em=!1;function vl(){em||(_f(),em=!0)}function _f(){var o;Dt(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,oh(Fu)},100))}),Dt(window,"blur",function(){return oh(Oi)})}function Fu(o){var u=o.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,o.setSize()}for(var fs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Zs=0;Zs<10;Zs++)fs[Zs+48]=fs[Zs+96]=String(Zs);for(var sc=65;sc<=90;sc++)fs[sc]=String.fromCharCode(sc);for(var _a=1;_a<=12;_a++)fs[_a+111]=fs[_a+63235]="F"+_a;var yl={};yl.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},yl.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},yl.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},yl.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},yl.default=se?yl.macDefault:yl.pcDefault;function wg(o){var u=o.split(/-(?!$)/);o=u[u.length-1];for(var p,y,w,D,L=0;L<u.length-1;L++){var j=u[L];if(/^(cmd|meta|m)$/i.test(j))D=!0;else if(/^a(lt)?$/i.test(j))p=!0;else if(/^(c|ctrl|control)$/i.test(j))y=!0;else if(/^s(hift)?$/i.test(j))w=!0;else throw new Error("Unrecognized modifier name: "+j)}return p&&(o="Alt-"+o),y&&(o="Ctrl-"+o),D&&(o="Cmd-"+o),w&&(o="Shift-"+o),o}function ny(o){var u={};for(var p in o)if(o.hasOwnProperty(p)){var y=o[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(y=="..."){delete o[p];continue}for(var w=ke(p.split(" "),wg),D=0;D<w.length;D++){var L=void 0,j=void 0;D==w.length-1?(j=w.join(" "),L=y):(j=w.slice(0,D+1).join(" "),L="...");var $=u[j];if(!$)u[j]=L;else if($!=L)throw new Error("Inconsistent bindings for "+j)}delete o[p]}for(var te in u)o[te]=u[te];return o}function ah(o,u,p,y){u=$h(u);var w=u.call?u.call(o,y):u[o];if(w===!1)return"nothing";if(w==="...")return"multi";if(w!=null&&p(w))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return ah(o,u.fallthrough,p,y);for(var D=0;D<u.fallthrough.length;D++){var L=ah(o,u.fallthrough[D],p,y);if(L)return L}}}function Zd(o){var u=typeof o=="string"?o:fs[o.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"}function sh(o,u,p){var y=o;return u.altKey&&y!="Alt"&&(o="Alt-"+o),(de?u.metaKey:u.ctrlKey)&&y!="Ctrl"&&(o="Ctrl-"+o),(de?u.ctrlKey:u.metaKey)&&y!="Mod"&&(o="Cmd-"+o),!p&&u.shiftKey&&y!="Shift"&&(o="Shift-"+o),o}function Vh(o,u){if(P&&o.keyCode==34&&o.char)return!1;var p=fs[o.keyCode];return p==null||o.altGraphKey?!1:(o.keyCode==3&&o.code&&(p=o.code),sh(p,o,u))}function $h(o){return typeof o=="string"?yl[o]:o}function qu(o,u){for(var p=o.doc.sel.ranges,y=[],w=0;w<p.length;w++){for(var D=u(p[w]);y.length&&Fe(D.from,oe(y).to)<=0;){var L=y.pop();if(Fe(L.from,D.from)<0){D.from=L.from;break}}y.push(D)}Rn(o,function(){for(var j=y.length-1;j>=0;j--)xi(o.doc,"",y[j].from,y[j].to,"+delete");Eo(o)})}function tm(o,u,p){var y=Ve(o.text,u+p,p);return y<0||y>o.text.length?null:y}function bl(o,u,p){var y=tm(o,u.ch,p);return y==null?null:new ue(u.line,y,p<0?"after":"before")}function wf(o,u,p,y,w){if(o){u.doc.direction=="rtl"&&(w=-w);var D=$r(p,u.doc.direction);if(D){var L=w<0?oe(D):D[0],j=w<0==(L.level==1),$=j?"after":"before",te;if(L.level>0||u.doc.direction=="rtl"){var ye=iu(u,p);te=w<0?p.text.length-1:0;var De=ou(u,ye,te).top;te=at(function($e){return ou(u,ye,$e).top==De},w<0==(L.level==1)?L.from:L.to-1,te),$=="before"&&(te=tm(p,te,1))}else te=w<0?L.to:L.from;return new ue(y,te,$)}}return new ue(y,w<0?p.text.length:0,w<0?"before":"after")}function nx(o,u,p,y){var w=$r(u,o.doc.direction);if(!w)return bl(u,p,y);p.ch>=u.text.length?(p.ch=u.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var D=Xn(w,p.ch,p.sticky),L=w[D];if(o.doc.direction=="ltr"&&L.level%2==0&&(y>0?L.to>p.ch:L.from<p.ch))return bl(u,p,y);var j=function(Nt,Xt){return tm(u,Nt instanceof ue?Nt.ch:Nt,Xt)},$,te=function(Nt){return o.options.lineWrapping?($=$||iu(o,u),Uh(o,u,$,Nt)):{begin:0,end:u.text.length}},ye=te(p.sticky=="before"?j(p,-1):p.ch);if(o.doc.direction=="rtl"||L.level==1){var De=L.level==1==y<0,$e=j(p,De?1:-1);if($e!=null&&(De?$e<=L.to&&$e<=ye.end:$e>=L.from&&$e>=ye.begin)){var Ke=De?"before":"after";return new ue(p.line,$e,Ke)}}var pt=function(Nt,Xt,$t){for(var ir=function(Nn,di){return di?new ue(p.line,j(Nn,1),"before"):new ue(p.line,Nn,"after")};Nt>=0&&Nt<w.length;Nt+=Xt){var Mr=w[Nt],Nr=Xt>0==(Mr.level!=1),nn=Nr?$t.begin:j($t.end,-1);if(Mr.from<=nn&&nn<Mr.to||(nn=Nr?Mr.from:j(Mr.to,-1),$t.begin<=nn&&nn<$t.end))return ir(nn,Nr)}},_t=pt(D+y,y,ye);if(_t)return _t;var At=y>0?ye.end:j(ye.begin,-1);return At!=null&&!(y>0&&At==u.text.length)&&(_t=pt(y>0?0:w.length-1,y,te(At)),_t)?_t:null}var Gh={selectAll:sn,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),or)},killLine:function(o){return qu(o,function(u){if(u.empty()){var p=Et(o.doc,u.head.line).text.length;return u.head.ch==p&&u.head.line<o.lastLine()?{from:u.head,to:ue(u.head.line+1,0)}:{from:u.head,to:ue(u.head.line,p)}}else return{from:u.from(),to:u.to()}})},deleteLine:function(o){return qu(o,function(u){return{from:ue(u.from().line,0),to:Zt(o.doc,ue(u.to().line+1,0))}})},delLineLeft:function(o){return qu(o,function(u){return{from:ue(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(o){return qu(o,function(u){var p=o.charCoords(u.head,"div").top+5,y=o.coordsChar({left:0,top:p},"div");return{from:y,to:u.from()}})},delWrappedLineRight:function(o){return qu(o,function(u){var p=o.charCoords(u.head,"div").top+5,y=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:p},"div");return{from:u.from(),to:y}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(ue(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(ue(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(u){return Xd(o,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(u){return iy(o,u.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(u){return ix(o,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(u){var p=o.cursorCoords(u.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:p},"div")},Kt)},goLineLeft:function(o){return o.extendSelectionsBy(function(u){var p=o.cursorCoords(u.head,"div").top+5;return o.coordsChar({left:0,top:p},"div")},Kt)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(u){var p=o.cursorCoords(u.head,"div").top+5,y=o.coordsChar({left:0,top:p},"div");return y.ch<o.getLine(y.line).search(/\S/)?iy(o,u.head):y},Kt)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var u=[],p=o.listSelections(),y=o.options.tabSize,w=0;w<p.length;w++){var D=p[w].from(),L=Pt(o.getLine(D.line),D.ch,y);u.push(rt(y-L%y))}o.replaceSelections(u)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Rn(o,function(){for(var u=o.listSelections(),p=[],y=0;y<u.length;y++)if(!!u[y].empty()){var w=u[y].head,D=Et(o.doc,w.line).text;if(D){if(w.ch==D.length&&(w=new ue(w.line,w.ch-1)),w.ch>0)w=new ue(w.line,w.ch+1),o.replaceRange(D.charAt(w.ch-1)+D.charAt(w.ch-2),ue(w.line,w.ch-2),w,"+transpose");else if(w.line>o.doc.first){var L=Et(o.doc,w.line-1).text;L&&(w=new ue(w.line,1),o.replaceRange(D.charAt(0)+o.doc.lineSeparator()+L.charAt(L.length-1),ue(w.line-1,L.length-1),w,"+transpose"))}}p.push(new wn(w,w))}o.setSelections(p)})},newlineAndIndent:function(o){return Rn(o,function(){for(var u=o.listSelections(),p=u.length-1;p>=0;p--)o.replaceRange(o.doc.lineSeparator(),u[p].anchor,u[p].head,"+input");u=o.listSelections();for(var y=0;y<u.length;y++)o.indentLine(u[y].from().line,null,!0);Eo(o)})},openLine:function(o){return o.replaceSelection(`
`,"start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function Xd(o,u){var p=Et(o.doc,u),y=Ua(p);return y!=p&&(u=Pe(y)),wf(!0,o,y,u,1)}function ix(o,u){var p=Et(o.doc,u),y=$f(p);return y!=p&&(u=Pe(y)),wf(!0,o,p,u,-1)}function iy(o,u){var p=Xd(o,u.line),y=Et(o.doc,p.line),w=$r(y,o.doc.direction);if(!w||w[0].level==0){var D=Math.max(p.ch,y.text.search(/\S/)),L=u.line==p.line&&u.ch<=D&&u.ch;return ue(p.line,L?0:D,p.sticky)}return p}function Sf(o,u,p){if(typeof u=="string"&&(u=Gh[u],!u))return!1;o.display.input.ensurePolled();var y=o.display.shift,w=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),p&&(o.display.shift=!1),w=u(o)!=tr}finally{o.display.shift=y,o.state.suppressEdits=!1}return w}function oy(o,u,p){for(var y=0;y<o.state.keyMaps.length;y++){var w=ah(u,o.state.keyMaps[y],p,o);if(w)return w}return o.options.extraKeys&&ah(u,o.options.extraKeys,p,o)||ah(u,o.options.keyMap,p,o)}var rm=new Tt;function Jd(o,u,p,y){var w=o.state.keySeq;if(w){if(Zd(u))return"handled";if(/\'$/.test(u)?o.state.keySeq=null:rm.set(50,function(){o.state.keySeq==w&&(o.state.keySeq=null,o.display.input.reset())}),$c(o,w+" "+u,p,y))return!0}return $c(o,u,p,y)}function $c(o,u,p,y){var w=oy(o,u,y);return w=="multi"&&(o.state.keySeq=u),w=="handled"&&Di(o,"keyHandled",o,u,p),(w=="handled"||w=="multi")&&(Xe(p),Qf(o)),!!w}function Sg(o,u){var p=Vh(u,!0);return p?u.shiftKey&&!o.state.keySeq?Jd(o,"Shift-"+p,u,function(y){return Sf(o,y,!0)})||Jd(o,p,u,function(y){if(typeof y=="string"?/^go[A-Z]/.test(y):y.motion)return Sf(o,y)}):Jd(o,p,u,function(y){return Sf(o,y)}):!1}function Ro(o,u,p){return Jd(o,"'"+p+"'",u,function(y){return Sf(o,y,!0)})}var lh=null;function nm(o){var u=this;if(!(o.target&&o.target!=u.display.input.getField())&&(u.curOp.focus=ie(W(u)),!Gr(u,o))){l&&h<11&&o.keyCode==27&&(o.returnValue=!1);var p=o.keyCode;u.display.shift=p==16||o.shiftKey;var y=Sg(u,o);P&&(lh=y?p:null,!y&&p==88&&!$n&&(se?o.metaKey:o.ctrlKey)&&u.replaceSelection("",null,"cut")),t&&!se&&!y&&p==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)&&im(u)}}function im(o){var u=o.display.lineDiv;pe(u,"CodeMirror-crosshair");function p(y){(y.keyCode==18||!y.altKey)&&(xe(u,"CodeMirror-crosshair"),zr(document,"keyup",p),zr(document,"mouseover",p))}Dt(document,"keyup",p),Dt(document,"mouseover",p)}function uh(o){o.keyCode==16&&(this.doc.sel.shift=!1),Gr(this,o)}function lc(o){var u=this;if(!(o.target&&o.target!=u.display.input.getField())&&!(Oa(u.display,o)||Gr(u,o)||o.ctrlKey&&!o.altKey||se&&o.metaKey)){var p=o.keyCode,y=o.charCode;if(P&&p==lh){lh=null,Xe(o);return}if(!(P&&(!o.which||o.which<10)&&Sg(u,o))){var w=String.fromCharCode(y??p);w!="\b"&&(Ro(u,o,w)||u.display.input.onKeyPress(o))}}}var Kh=400,om=function(o,u,p){this.time=o,this.pos=u,this.button=p};om.prototype.compare=function(o,u,p){return this.time+Kh>o&&Fe(u,this.pos)==0&&p==this.button};var uc,ch;function kg(o,u){var p=+new Date;return ch&&ch.compare(p,o,u)?(uc=ch=null,"triple"):uc&&uc.compare(p,o,u)?(ch=new om(p,o,u),uc=null,"double"):(uc=new om(p,o,u),ch=null,"single")}function ay(o){var u=this,p=u.display;if(!(Gr(u,o)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=o.shiftKey,Oa(p,o)){b||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!am(u,o)){var y=as(u,o),w=Ur(o),D=y?kg(y,w):"single";Ze(u).focus(),w==1&&u.state.selectingText&&u.state.selectingText(o),!(y&&Qd(u,w,y,D,o))&&(w==1?y?Cg(u,y,D,o):rr(o)==p.scroller&&Xe(o):w==2?(y&&Rt(u.doc,y),setTimeout(function(){return p.input.focus()},20)):w==3&&(he?u.display.input.onContextMenu(o):hu(u)))}}}function Qd(o,u,p,y,w){var D="Click";return y=="double"?D="Double"+D:y=="triple"&&(D="Triple"+D),D=(u==1?"Left":u==2?"Middle":"Right")+D,Jd(o,sh(D,w),w,function(L){if(typeof L=="string"&&(L=Gh[L]),!L)return!1;var j=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),j=L(o,p)!=tr}finally{o.state.suppressEdits=!1}return j})}function sy(o,u,p){var y=o.getOption("configureMouse"),w=y?y(o,u,p):{};if(w.unit==null){var D=_?p.shiftKey&&p.metaKey:p.altKey;w.unit=D?"rectangle":u=="single"?"char":u=="double"?"word":"line"}return(w.extend==null||o.doc.extend)&&(w.extend=o.doc.extend||p.shiftKey),w.addNew==null&&(w.addNew=se?p.metaKey:p.ctrlKey),w.moveOnDrag==null&&(w.moveOnDrag=!(se?p.altKey:p.ctrlKey)),w}function Cg(o,u,p,y){l?setTimeout(ot(Rl,o),0):o.curOp.focus=ie(W(o));var w=sy(o,p,y),D=o.doc.sel,L;o.options.dragDrop&&Fr&&!o.isReadOnly()&&p=="single"&&(L=D.contains(u))>-1&&(Fe((L=D.ranges[L]).from(),u)<0||u.xRel>0)&&(Fe(L.to(),u)>0||u.xRel<0)?ox(o,y,u,w):tp(o,y,u,w)}function ox(o,u,p,y){var w=o.display,D=!1,L=Un(o,function(te){b&&(w.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:hu(o)),zr(w.wrapper.ownerDocument,"mouseup",L),zr(w.wrapper.ownerDocument,"mousemove",j),zr(w.scroller,"dragstart",$),zr(w.scroller,"drop",L),D||(Xe(te),y.addNew||Rt(o.doc,p,null,null,y.extend),b&&!q||l&&h==9?setTimeout(function(){w.wrapper.ownerDocument.body.focus({preventScroll:!0}),w.input.focus()},20):w.input.focus())}),j=function(te){D=D||Math.abs(u.clientX-te.clientX)+Math.abs(u.clientY-te.clientY)>=10},$=function(){return D=!0};b&&(w.scroller.draggable=!0),o.state.draggingText=L,L.copy=!y.moveOnDrag,Dt(w.wrapper.ownerDocument,"mouseup",L),Dt(w.wrapper.ownerDocument,"mousemove",j),Dt(w.scroller,"dragstart",$),Dt(w.scroller,"drop",L),o.state.delayingBlurEvent=!0,setTimeout(function(){return w.input.focus()},20),w.scroller.dragDrop&&w.scroller.dragDrop()}function ep(o,u,p){if(p=="char")return new wn(u,u);if(p=="word")return o.findWordAt(u);if(p=="line")return new wn(ue(u.line,0),Zt(o.doc,ue(u.line+1,0)));var y=p(o,u);return new wn(y.from,y.to)}function tp(o,u,p,y){l&&hu(o);var w=o.display,D=o.doc;Xe(u);var L,j,$=D.sel,te=$.ranges;if(y.addNew&&!y.extend?(j=D.sel.contains(p),j>-1?L=te[j]:L=new wn(p,p)):(L=D.sel.primary(),j=D.sel.primIndex),y.unit=="rectangle")y.addNew||(L=new wn(p,p)),p=as(o,u,!0,!0),j=-1;else{var ye=ep(o,p,y.unit);y.extend?L=zt(L,ye.anchor,ye.head,y.extend):L=ye}y.addNew?j==-1?(j=te.length,Ar(D,ha(o,te.concat([L]),j),{scroll:!1,origin:"*mouse"})):te.length>1&&te[j].empty()&&y.unit=="char"&&!y.extend?(Ar(D,ha(o,te.slice(0,j).concat(te.slice(j+1)),0),{scroll:!1,origin:"*mouse"}),$=D.sel):er(D,j,L,br):(j=0,Ar(D,new To([L],0),br),$=D.sel);var De=p;function $e($t){if(Fe(De,$t)!=0)if(De=$t,y.unit=="rectangle"){for(var ir=[],Mr=o.options.tabSize,Nr=Pt(Et(D,p.line).text,p.ch,Mr),nn=Pt(Et(D,$t.line).text,$t.ch,Mr),Nn=Math.min(Nr,nn),di=Math.max(Nr,nn),Cn=Math.min(p.line,$t.line),ki=Math.min(o.lastLine(),Math.max(p.line,$t.line));Cn<=ki;Cn++){var oi=Et(D,Cn).text,bn=kt(oi,Nn,Mr);Nn==di?ir.push(new wn(ue(Cn,bn),ue(Cn,bn))):oi.length>bn&&ir.push(new wn(ue(Cn,bn),ue(Cn,kt(oi,di,Mr))))}ir.length||ir.push(new wn(p,p)),Ar(D,ha(o,$.ranges.slice(0,j).concat(ir),j),{origin:"*mouse",scroll:!1}),o.scrollIntoView($t)}else{var Wn=L,hn=ep(o,$t,y.unit),ti=Wn.anchor,ji;Fe(hn.anchor,ti)>0?(ji=hn.head,ti=dr(Wn.from(),hn.anchor)):(ji=hn.anchor,ti=Wt(Wn.to(),hn.head));var Fn=$.ranges.slice(0);Fn[j]=yu(o,new wn(Zt(D,ti),ji)),Ar(D,ha(o,Fn,j),br)}}var Ke=w.wrapper.getBoundingClientRect(),pt=0;function _t($t){var ir=++pt,Mr=as(o,$t,!0,y.unit=="rectangle");if(!!Mr)if(Fe(Mr,De)!=0){o.curOp.focus=ie(W(o)),$e(Mr);var Nr=to(w,D);(Mr.line>=Nr.to||Mr.line<Nr.from)&&setTimeout(Un(o,function(){pt==ir&&_t($t)}),150)}else{var nn=$t.clientY<Ke.top?-20:$t.clientY>Ke.bottom?20:0;nn&&setTimeout(Un(o,function(){pt==ir&&(w.scroller.scrollTop+=nn,_t($t))}),50)}}function At($t){o.state.selectingText=!1,pt=1/0,$t&&(Xe($t),w.input.focus()),zr(w.wrapper.ownerDocument,"mousemove",Nt),zr(w.wrapper.ownerDocument,"mouseup",Xt),D.history.lastSelOrigin=null}var Nt=Un(o,function($t){$t.buttons===0||!Ur($t)?At($t):_t($t)}),Xt=Un(o,At);o.state.selectingText=Xt,Dt(w.wrapper.ownerDocument,"mousemove",Nt),Dt(w.wrapper.ownerDocument,"mouseup",Xt)}function yu(o,u){var p=u.anchor,y=u.head,w=Et(o.doc,p.line);if(Fe(p,y)==0&&p.sticky==y.sticky)return u;var D=$r(w);if(!D)return u;var L=Xn(D,p.ch,p.sticky),j=D[L];if(j.from!=p.ch&&j.to!=p.ch)return u;var $=L+(j.from==p.ch==(j.level!=1)?0:1);if($==0||$==D.length)return u;var te;if(y.line!=p.line)te=(y.line-p.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var ye=Xn(D,y.ch,y.sticky),De=ye-L||(y.ch-p.ch)*(j.level==1?-1:1);ye==$-1||ye==$?te=De<0:te=De>0}var $e=D[$+(te?-1:0)],Ke=te==($e.level==1),pt=Ke?$e.from:$e.to,_t=Ke?"after":"before";return p.ch==pt&&p.sticky==_t?u:new wn(new ue(p.line,pt,_t),y)}function ly(o,u,p,y){var w,D;if(u.touches)w=u.touches[0].clientX,D=u.touches[0].clientY;else try{w=u.clientX,D=u.clientY}catch{return!1}if(w>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;y&&Xe(u);var L=o.display,j=L.lineDiv.getBoundingClientRect();if(D>j.bottom||!ai(o,p))return Gt(u);D-=j.top-L.viewOffset;for(var $=0;$<o.display.gutterSpecs.length;++$){var te=L.gutters.childNodes[$];if(te&&te.getBoundingClientRect().right>=w){var ye=Ae(o.doc,D),De=o.display.gutterSpecs[$];return wr(o,p,o,ye,De.className,u),Gt(u)}}}function am(o,u){return ly(o,u,"gutterClick",!0)}function fh(o,u){Oa(o.display,u)||uy(o,u)||Gr(o,u,"contextmenu")||he||o.display.input.onContextMenu(u)}function uy(o,u){return ai(o,"gutterContextMenu")?ly(o,u,"gutterContextMenu",!1):!1}function Yh(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),au(o)}var zu={toString:function(){return"CodeMirror.Init"}},cy={},sm={};function uo(o){var u=o.optionHandlers;function p(y,w,D,L){o.defaults[y]=w,D&&(u[y]=L?function(j,$,te){te!=zu&&D(j,$,te)}:D)}o.defineOption=p,o.Init=zu,p("value","",function(y,w){return y.setValue(w)},!0),p("mode",null,function(y,w){y.doc.modeOption=w,ic(y)},!0),p("indentUnit",2,ic,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(y){m(y),au(y),En(y)},!0),p("lineSeparator",null,function(y,w){if(y.doc.lineSep=w,!!w){var D=[],L=y.doc.first;y.doc.iter(function($){for(var te=0;;){var ye=$.text.indexOf(w,te);if(ye==-1)break;te=ye+w.length,D.push(ue(L,ye))}L++});for(var j=D.length-1;j>=0;j--)xi(y.doc,w,D[j],ue(D[j].line,D[j].ch+w.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(y,w,D){y.state.specialChars=new RegExp(w.source+(w.test("	")?"":"|	"),"g"),D!=zu&&y.refresh()}),p("specialCharPlaceholder",jd,function(y){return y.refresh()},!0),p("electricChars",!0),p("inputStyle",J?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(y,w){return y.getInputField().spellcheck=w},!0),p("autocorrect",!1,function(y,w){return y.getInputField().autocorrect=w},!0),p("autocapitalize",!1,function(y,w){return y.getInputField().autocapitalize=w},!0),p("rtlMoveVisually",!me),p("wholeLineUpdateBefore",!0),p("theme","default",function(y){Yh(y),$i(y)},!0),p("keyMap","default",function(y,w,D){var L=$h(w),j=D!=zu&&$h(D);j&&j.detach&&j.detach(y,L),L.attach&&L.attach(y,j||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,Eg,!0),p("gutters",[],function(y,w){y.display.gutterSpecs=Va(w,y.options.lineNumbers),$i(y)},!0),p("fixedGutter",!0,function(y,w){y.display.gutters.style.left=w?Pl(y.display)+"px":"0",y.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(y){return us(y)},!0),p("scrollbarStyle","native",function(y){du(y),us(y),y.display.scrollbars.setScrollTop(y.doc.scrollTop),y.display.scrollbars.setScrollLeft(y.doc.scrollLeft)},!0),p("lineNumbers",!1,function(y,w){y.display.gutterSpecs=Va(y.options.gutters,w),$i(y)},!0),p("firstLineNumber",1,$i,!0),p("lineNumberFormatter",function(y){return y},$i,!0),p("showCursorWhenSelecting",!1,Wo,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(y,w){w=="nocursor"&&(Oi(y),y.display.input.blur()),y.display.input.readOnlyChanged(w)}),p("screenReaderLabel",null,function(y,w){w=w===""?null:w,y.display.input.screenReaderLabelChanged(w)}),p("disableInput",!1,function(y,w){w||y.display.input.reset()},!0),p("dragDrop",!0,fy),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,Wo,!0),p("singleCursorHeightPerLine",!0,Wo,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,m,!0),p("addModeClass",!1,m,!0),p("pollInterval",100),p("undoDepth",200,function(y,w){return y.doc.history.undoDepth=w}),p("historyEventDelay",1250),p("viewportMargin",10,function(y){return y.refresh()},!0),p("maxHighlightLength",1e4,m,!0),p("moveInputWithCursor",!0,function(y,w){w||y.display.input.resetPosition()}),p("tabindex",null,function(y,w){return y.display.input.getField().tabIndex=w||""}),p("autofocus",null),p("direction","ltr",function(y,w){return y.doc.setDirection(w)},!0),p("phrases",null)}function fy(o,u,p){var y=p&&p!=zu;if(!u!=!y){var w=o.display.dragFunctions,D=u?Dt:zr;D(o.display.scroller,"dragstart",w.start),D(o.display.scroller,"dragenter",w.enter),D(o.display.scroller,"dragover",w.over),D(o.display.scroller,"dragleave",w.leave),D(o.display.scroller,"drop",w.drop)}}function Eg(o){o.options.lineWrapping?(pe(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(xe(o.display.wrapper,"CodeMirror-wrap"),Ha(o)),Mo(o),En(o),au(o),setTimeout(function(){return us(o)},100)}function Bi(o,u){var p=this;if(!(this instanceof Bi))return new Bi(o,u);this.options=u=u?et(u):{},et(cy,u,!1);var y=u.value;typeof y=="string"?y=new Lo(y,u.mode,null,u.lineSeparator,u.direction):u.mode&&(y.modeOption=u.mode),this.doc=y;var w=new Bi.inputStyles[u.inputStyle](this),D=this.display=new nh(o,y,w,u);D.wrapper.CodeMirror=this,Yh(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),du(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Tt,keySeq:null,specialChars:null},u.autofocus&&!J&&D.input.focus(),l&&h<11&&setTimeout(function(){return p.display.input.reset(!0)},20),As(this),vl(),Ia(this),this.curOp.forceUpdate=!0,M(this,y),u.autofocus&&!J||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&hl(p)},20):Oi(this);for(var L in sm)sm.hasOwnProperty(L)&&sm[L](this,u[L],zu);ks(this),u.finishInit&&u.finishInit(this);for(var j=0;j<Zh.length;++j)Zh[j](this);ua(this),b&&u.lineWrapping&&getComputedStyle(D.lineDiv).textRendering=="optimizelegibility"&&(D.lineDiv.style.textRendering="auto")}Bi.defaults=cy,Bi.optionHandlers=sm;function As(o){var u=o.display;Dt(u.scroller,"mousedown",Un(o,ay)),l&&h<11?Dt(u.scroller,"dblclick",Un(o,function($){if(!Gr(o,$)){var te=as(o,$);if(!(!te||am(o,$)||Oa(o.display,$))){Xe($);var ye=o.findWordAt(te);Rt(o.doc,ye.anchor,ye.head)}}})):Dt(u.scroller,"dblclick",function($){return Gr(o,$)||Xe($)}),Dt(u.scroller,"contextmenu",function($){return fh(o,$)}),Dt(u.input.getField(),"contextmenu",function($){u.scroller.contains($.target)||fh(o,$)});var p,y={end:0};function w(){u.activeTouch&&(p=setTimeout(function(){return u.activeTouch=null},1e3),y=u.activeTouch,y.end=+new Date)}function D($){if($.touches.length!=1)return!1;var te=$.touches[0];return te.radiusX<=1&&te.radiusY<=1}function L($,te){if(te.left==null)return!0;var ye=te.left-$.left,De=te.top-$.top;return ye*ye+De*De>20*20}Dt(u.scroller,"touchstart",function($){if(!Gr(o,$)&&!D($)&&!am(o,$)){u.input.ensurePolled(),clearTimeout(p);var te=+new Date;u.activeTouch={start:te,moved:!1,prev:te-y.end<=300?y:null},$.touches.length==1&&(u.activeTouch.left=$.touches[0].pageX,u.activeTouch.top=$.touches[0].pageY)}}),Dt(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),Dt(u.scroller,"touchend",function($){var te=u.activeTouch;if(te&&!Oa(u,$)&&te.left!=null&&!te.moved&&new Date-te.start<300){var ye=o.coordsChar(u.activeTouch,"page"),De;!te.prev||L(te,te.prev)?De=new wn(ye,ye):!te.prev.prev||L(te,te.prev.prev)?De=o.findWordAt(ye):De=new wn(ue(ye.line,0),Zt(o.doc,ue(ye.line+1,0))),o.setSelection(De.anchor,De.head),o.focus(),Xe($)}w()}),Dt(u.scroller,"touchcancel",w),Dt(u.scroller,"scroll",function(){u.scroller.clientHeight&&(ql(o,u.scroller.scrollTop),lo(o,u.scroller.scrollLeft,!0),wr(o,"scroll",o))}),Dt(u.scroller,"mousewheel",function($){return xa(o,$)}),Dt(u.scroller,"DOMMouseScroll",function($){return xa(o,$)}),Dt(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function($){Gr(o,$)||gr($)},over:function($){Gr(o,$)||(ac(o,$),gr($))},start:function($){return Ya(o,$)},drop:Un(o,Ts),leave:function($){Gr(o,$)||Qp(o)}};var j=u.input.getField();Dt(j,"keyup",function($){return uh.call(o,$)}),Dt(j,"keydown",Un(o,nm)),Dt(j,"keypress",Un(o,lc)),Dt(j,"focus",function($){return hl(o,$)}),Dt(j,"blur",function($){return Oi(o,$)})}var Zh=[];Bi.defineInitHook=function(o){return Zh.push(o)};function Gc(o,u,p,y){var w=o.doc,D;p==null&&(p="add"),p=="smart"&&(w.mode.indent?D=Ji(o,u).state:p="prev");var L=o.options.tabSize,j=Et(w,u),$=Pt(j.text,null,L);j.stateAfter&&(j.stateAfter=null);var te=j.text.match(/^\s*/)[0],ye;if(!y&&!/\S/.test(j.text))ye=0,p="not";else if(p=="smart"&&(ye=w.mode.indent(D,j.text.slice(te.length),j.text),ye==tr||ye>150)){if(!y)return;p="prev"}p=="prev"?u>w.first?ye=Pt(Et(w,u-1).text,null,L):ye=0:p=="add"?ye=$+o.options.indentUnit:p=="subtract"?ye=$-o.options.indentUnit:typeof p=="number"&&(ye=$+p),ye=Math.max(0,ye);var De="",$e=0;if(o.options.indentWithTabs)for(var Ke=Math.floor(ye/L);Ke;--Ke)$e+=L,De+="	";if($e<ye&&(De+=rt(ye-$e)),De!=te)return xi(w,De,ue(u,0),ue(u,te.length),"+input"),j.stateAfter=null,!0;for(var pt=0;pt<w.sel.ranges.length;pt++){var _t=w.sel.ranges[pt];if(_t.head.line==u&&_t.head.ch<te.length){var At=ue(u,te.length);er(w,pt,new wn(At,At));break}}}var Ds=null;function Xs(o){Ds=o}function lm(o,u,p,y,w){var D=o.doc;o.display.shift=!1,y||(y=D.sel);var L=+new Date-200,j=w=="paste"||o.state.pasteIncoming>L,$=Vn(u),te=null;if(j&&y.ranges.length>1)if(Ds&&Ds.text.join(`
`)==u){if(y.ranges.length%Ds.text.length==0){te=[];for(var ye=0;ye<Ds.text.length;ye++)te.push(D.splitLines(Ds.text[ye]))}}else $.length==y.ranges.length&&o.options.pasteLinesPerSelection&&(te=ke($,function(Nt){return[Nt]}));for(var De=o.curOp.updateInput,$e=y.ranges.length-1;$e>=0;$e--){var Ke=y.ranges[$e],pt=Ke.from(),_t=Ke.to();Ke.empty()&&(p&&p>0?pt=ue(pt.line,pt.ch-p):o.state.overwrite&&!j?_t=ue(_t.line,Math.min(Et(D,_t.line).text.length,_t.ch+oe($).length)):j&&Ds&&Ds.lineWise&&Ds.text.join(`
`)==$.join(`
`)&&(pt=_t=ue(pt.line,0)));var At={from:pt,to:_t,text:te?te[$e%te.length]:$,origin:w||(j?"paste":o.state.cutIncoming>L?"cut":"+input")};Qr(o.doc,At),Di(o,"inputRead",o,At)}u&&!j&&Ag(o,u),Eo(o),o.curOp.updateInput<2&&(o.curOp.updateInput=De),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function Tg(o,u){var p=o.clipboardData&&o.clipboardData.getData("Text");if(p)return o.preventDefault(),!u.isReadOnly()&&!u.options.disableInput&&u.hasFocus()&&Rn(u,function(){return lm(u,p,0,null,"paste")}),!0}function Ag(o,u){if(!(!o.options.electricChars||!o.options.smartIndent))for(var p=o.doc.sel,y=p.ranges.length-1;y>=0;y--){var w=p.ranges[y];if(!(w.head.ch>100||y&&p.ranges[y-1].head.line==w.head.line)){var D=o.getModeAt(w.head),L=!1;if(D.electricChars){for(var j=0;j<D.electricChars.length;j++)if(u.indexOf(D.electricChars.charAt(j))>-1){L=Gc(o,w.head.line,"smart");break}}else D.electricInput&&D.electricInput.test(Et(o.doc,w.head.line).text.slice(0,w.head.ch))&&(L=Gc(o,w.head.line,"smart"));L&&Di(o,"electricInput",o,w.head.line)}}}function Xh(o){for(var u=[],p=[],y=0;y<o.doc.sel.ranges.length;y++){var w=o.doc.sel.ranges[y].head.line,D={anchor:ue(w,0),head:ue(w+1,0)};p.push(D),u.push(o.getRange(D.anchor,D.head))}return{text:u,ranges:p}}function Jh(o,u,p,y){o.setAttribute("autocorrect",p?"on":"off"),o.setAttribute("autocapitalize",y?"on":"off"),o.setAttribute("spellcheck",!!u)}function Dg(){var o=G("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),u=G("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return b?o.style.width="1000px":o.setAttribute("wrap","off"),V&&(o.style.border="1px solid black"),u}function Ri(o){var u=o.optionHandlers,p=o.helpers={};o.prototype={constructor:o,focus:function(){Ze(this).focus(),this.display.input.focus()},setOption:function(y,w){var D=this.options,L=D[y];D[y]==w&&y!="mode"||(D[y]=w,u.hasOwnProperty(y)&&Un(this,u[y])(this,w,L),wr(this,"optionChange",this,y))},getOption:function(y){return this.options[y]},getDoc:function(){return this.doc},addKeyMap:function(y,w){this.state.keyMaps[w?"push":"unshift"]($h(y))},removeKeyMap:function(y){for(var w=this.state.keyMaps,D=0;D<w.length;++D)if(w[D]==y||w[D].name==y)return w.splice(D,1),!0},addOverlay:Vo(function(y,w){var D=y.token?y:o.getMode(this.options,y);if(D.startState)throw new Error("Overlays may not be stateful.");qe(this.state.overlays,{mode:D,modeSpec:y,opaque:w&&w.opaque,priority:w&&w.priority||0},function(L){return L.priority}),this.state.modeGen++,En(this)}),removeOverlay:Vo(function(y){for(var w=this.state.overlays,D=0;D<w.length;++D){var L=w[D].modeSpec;if(L==y||typeof y=="string"&&L.name==y){w.splice(D,1),this.state.modeGen++,En(this);return}}}),indentLine:Vo(function(y,w,D){typeof w!="string"&&typeof w!="number"&&(w==null?w=this.options.smartIndent?"smart":"prev":w=w?"add":"subtract"),Q(this.doc,y)&&Gc(this,y,w,D)}),indentSelection:Vo(function(y){for(var w=this.doc.sel.ranges,D=-1,L=0;L<w.length;L++){var j=w[L];if(j.empty())j.head.line>D&&(Gc(this,j.head.line,y,!0),D=j.head.line,L==this.doc.sel.primIndex&&Eo(this));else{var $=j.from(),te=j.to(),ye=Math.max(D,$.line);D=Math.min(this.lastLine(),te.line-(te.ch?0:1))+1;for(var De=ye;De<D;++De)Gc(this,De,y);var $e=this.doc.sel.ranges;$.ch==0&&w.length==$e.length&&$e[L].from().ch>0&&er(this.doc,L,new wn($,$e[L].to()),or)}}}),getTokenAt:function(y,w){return Dl(this,y,w)},getLineTokens:function(y,w){return Dl(this,ue(y),w,!0)},getTokenTypeAt:function(y){y=Zt(this.doc,y);var w=Mn(this,Et(this.doc,y.line)),D=0,L=(w.length-1)/2,j=y.ch,$;if(j==0)$=w[2];else for(;;){var te=D+L>>1;if((te?w[te*2-1]:0)>=j)L=te;else if(w[te*2+1]<j)D=te+1;else{$=w[te*2+2];break}}var ye=$?$.indexOf("overlay "):-1;return ye<0?$:ye==0?null:$.slice(0,ye-1)},getModeAt:function(y){var w=this.doc.mode;return w.innerMode?o.innerMode(w,this.getTokenAt(y).state).mode:w},getHelper:function(y,w){return this.getHelpers(y,w)[0]},getHelpers:function(y,w){var D=[];if(!p.hasOwnProperty(w))return D;var L=p[w],j=this.getModeAt(y);if(typeof j[w]=="string")L[j[w]]&&D.push(L[j[w]]);else if(j[w])for(var $=0;$<j[w].length;$++){var te=L[j[w][$]];te&&D.push(te)}else j.helperType&&L[j.helperType]?D.push(L[j.helperType]):L[j.name]&&D.push(L[j.name]);for(var ye=0;ye<L._global.length;ye++){var De=L._global[ye];De.pred(j,this)&&Ht(D,De.val)==-1&&D.push(De.val)}return D},getStateAfter:function(y,w){var D=this.doc;return y=Sr(D,y??D.first+D.size-1),Ji(this,y+1,w).state},cursorCoords:function(y,w){var D,L=this.doc.sel.primary();return y==null?D=L.head:typeof y=="object"?D=Zt(this.doc,y):D=y?L.from():L.to(),Ss(this,D,w||"page")},charCoords:function(y,w){return Bc(this,Zt(this.doc,y),w||"page")},coordsChar:function(y,w){return y=js(this,y,w||"page"),Ou(this,y.left,y.top)},lineAtHeight:function(y,w){return y=js(this,{top:y,left:0},w||"page").top,Ae(this.doc,y+this.display.viewOffset)},heightAtLine:function(y,w,D){var L=!1,j;if(typeof y=="number"){var $=this.doc.first+this.doc.size-1;y<this.doc.first?y=this.doc.first:y>$&&(y=$,L=!0),j=Et(this.doc,y)}else j=y;return aa(this,j,{top:0,left:0},w||"page",D||L).top+(L?this.doc.height-Io(j):0)},defaultTextHeight:function(){return Mu(this.display)},defaultCharWidth:function(){return uu(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(y,w,D,L,j){var $=this.display;y=Ss(this,Zt(this.doc,y));var te=y.bottom,ye=y.left;if(w.style.position="absolute",w.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(w),$.sizer.appendChild(w),L=="over")te=y.top;else if(L=="above"||L=="near"){var De=Math.max($.wrapper.clientHeight,this.doc.height),$e=Math.max($.sizer.clientWidth,$.lineSpace.clientWidth);(L=="above"||y.bottom+w.offsetHeight>De)&&y.top>w.offsetHeight?te=y.top-w.offsetHeight:y.bottom+w.offsetHeight<=De&&(te=y.bottom),ye+w.offsetWidth>$e&&(ye=$e-w.offsetWidth)}w.style.top=te+"px",w.style.left=w.style.right="",j=="right"?(ye=$.sizer.clientWidth-w.offsetWidth,w.style.right="0px"):(j=="left"?ye=0:j=="middle"&&(ye=($.sizer.clientWidth-w.offsetWidth)/2),w.style.left=ye+"px"),D&&Lu(this,{left:ye,top:te,right:ye+w.offsetWidth,bottom:te+w.offsetHeight})},triggerOnKeyDown:Vo(nm),triggerOnKeyPress:Vo(lc),triggerOnKeyUp:uh,triggerOnMouseDown:Vo(ay),execCommand:function(y){if(Gh.hasOwnProperty(y))return Gh[y].call(null,this)},triggerElectric:Vo(function(y){Ag(this,y)}),findPosH:function(y,w,D,L){var j=1;w<0&&(j=-1,w=-w);for(var $=Zt(this.doc,y),te=0;te<w&&($=um(this.doc,$,j,D,L),!$.hitSide);++te);return $},moveH:Vo(function(y,w){var D=this;this.extendSelectionsBy(function(L){return D.display.shift||D.doc.extend||L.empty()?um(D.doc,L.head,y,w,D.options.rtlMoveVisually):y<0?L.from():L.to()},Kt)}),deleteH:Vo(function(y,w){var D=this.doc.sel,L=this.doc;D.somethingSelected()?L.replaceSelection("",null,"+delete"):qu(this,function(j){var $=um(L,j.head,y,w,!1);return y<0?{from:$,to:j.head}:{from:j.head,to:$}})}),findPosV:function(y,w,D,L){var j=1,$=L;w<0&&(j=-1,w=-w);for(var te=Zt(this.doc,y),ye=0;ye<w;++ye){var De=Ss(this,te,"div");if($==null?$=De.left:De.left=$,te=hy(this,De,j,D),te.hitSide)break}return te},moveV:Vo(function(y,w){var D=this,L=this.doc,j=[],$=!this.display.shift&&!L.extend&&L.sel.somethingSelected();if(L.extendSelectionsBy(function(ye){if($)return y<0?ye.from():ye.to();var De=Ss(D,ye.head,"div");ye.goalColumn!=null&&(De.left=ye.goalColumn),j.push(De.left);var $e=hy(D,De,y,w);return w=="page"&&ye==L.sel.primary()&&Us(D,Bc(D,$e,"div").top-De.top),$e},Kt),j.length)for(var te=0;te<L.sel.ranges.length;te++)L.sel.ranges[te].goalColumn=j[te]}),findWordAt:function(y){var w=this.doc,D=Et(w,y.line).text,L=y.ch,j=y.ch;if(D){var $=this.getHelper(y,"wordChars");(y.sticky=="before"||j==D.length)&&L?--L:++j;for(var te=D.charAt(L),ye=ur(te,$)?function(De){return ur(De,$)}:/\s/.test(te)?function(De){return/\s/.test(De)}:function(De){return!/\s/.test(De)&&!ur(De)};L>0&&ye(D.charAt(L-1));)--L;for(;j<D.length&&ye(D.charAt(j));)++j}return new wn(ue(y.line,L),ue(y.line,j))},toggleOverwrite:function(y){y!=null&&y==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?pe(this.display.cursorDiv,"CodeMirror-overwrite"):xe(this.display.cursorDiv,"CodeMirror-overwrite"),wr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ie(W(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Vo(function(y,w){nc(this,y,w)}),getScrollInfo:function(){var y=this.display.scroller;return{left:y.scrollLeft,top:y.scrollTop,height:y.scrollHeight-fl(this)-this.display.barHeight,width:y.scrollWidth-fl(this)-this.display.barWidth,clientHeight:Bh(this),clientWidth:ws(this)}},scrollIntoView:Vo(function(y,w){y==null?(y={from:this.doc.sel.primary().head,to:null},w==null&&(w=this.options.cursorScrollMargin)):typeof y=="number"?y={from:ue(y,0),to:null}:y.from==null&&(y={from:y,to:null}),y.to||(y.to=y.from),y.margin=w||0,y.from.line!=null?pr(this,y):Fl(this,y.from,y.to,y.margin)}),setSize:Vo(function(y,w){var D=this,L=function($){return typeof $=="number"||/^\d+$/.test(String($))?$+"px":$};y!=null&&(this.display.wrapper.style.width=L(y)),w!=null&&(this.display.wrapper.style.height=L(w)),this.options.lineWrapping&&Nc(this);var j=this.display.viewFrom;this.doc.iter(j,this.display.viewTo,function($){if($.widgets){for(var te=0;te<$.widgets.length;te++)if($.widgets[te].noHScroll){Ll(D,j,"widget");break}}++j}),this.curOp.forceUpdate=!0,wr(this,"refresh",this)}),operation:function(y){return Rn(this,y)},startOperation:function(){return Ia(this)},endOperation:function(){return ua(this)},refresh:Vo(function(){var y=this.display.cachedTextHeight;En(this),this.curOp.forceUpdate=!0,au(this),nc(this,this.doc.scrollLeft,this.doc.scrollTop),th(this.display),(y==null||Math.abs(y-Mu(this.display))>.5||this.options.lineWrapping)&&Mo(this),wr(this,"refresh",this)}),swapDoc:Vo(function(y){var w=this.doc;return w.cm=null,this.state.selectingText&&this.state.selectingText(),M(this,y),au(this),this.display.input.reset(),nc(this,y.scrollLeft,y.scrollTop),this.curOp.forceScroll=!0,Di(this,"swapDoc",this,w),w}),phrase:function(y){var w=this.options.phrases;return w&&Object.prototype.hasOwnProperty.call(w,y)?w[y]:y},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ue(o),o.registerHelper=function(y,w,D){p.hasOwnProperty(y)||(p[y]=o[y]={_global:[]}),p[y][w]=D},o.registerGlobalHelper=function(y,w,D,L){o.registerHelper(y,w,L),p[y]._global.push({pred:D,val:L})}}function um(o,u,p,y,w){var D=u,L=p,j=Et(o,u.line),$=w&&o.direction=="rtl"?-p:p;function te(){var Xt=u.line+$;return Xt<o.first||Xt>=o.first+o.size?!1:(u=new ue(Xt,u.ch,u.sticky),j=Et(o,Xt))}function ye(Xt){var $t;if(y=="codepoint"){var ir=j.text.charCodeAt(u.ch+(p>0?0:-1));if(isNaN(ir))$t=null;else{var Mr=p>0?ir>=55296&&ir<56320:ir>=56320&&ir<57343;$t=new ue(u.line,Math.max(0,Math.min(j.text.length,u.ch+p*(Mr?2:1))),-p)}}else w?$t=nx(o.cm,j,u,p):$t=bl(j,u,p);if($t==null)if(!Xt&&te())u=wf(w,o.cm,j,u.line,$);else return!1;else u=$t;return!0}if(y=="char"||y=="codepoint")ye();else if(y=="column")ye(!0);else if(y=="word"||y=="group")for(var De=null,$e=y=="group",Ke=o.cm&&o.cm.getHelper(u,"wordChars"),pt=!0;!(p<0&&!ye(!pt));pt=!1){var _t=j.text.charAt(u.ch)||`
`,At=ur(_t,Ke)?"w":$e&&_t==`
`?"n":!$e||/\s/.test(_t)?null:"p";if($e&&!pt&&!At&&(At="s"),De&&De!=At){p<0&&(p=1,ye(),u.sticky="after");break}if(At&&(De=At),p>0&&!ye(!pt))break}var Nt=gn(o,u,D,L,!0);return it(D,Nt)&&(Nt.hitSide=!0),Nt}function hy(o,u,p,y){var w=o.doc,D=u.left,L;if(y=="page"){var j=Math.min(o.display.wrapper.clientHeight,Ze(o).innerHeight||w(o).documentElement.clientHeight),$=Math.max(j-.5*Mu(o.display),3);L=(p>0?u.bottom:u.top)+p*$}else y=="line"&&(L=p>0?u.bottom+3:u.top-3);for(var te;te=Ou(o,D,L),!!te.outside;){if(p<0?L<=0:L>=w.height){te.hitSide=!0;break}L+=p*5}return te}var ii=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Tt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ii.prototype.init=function(o){var u=this,p=this,y=p.cm,w=p.div=o.lineDiv;w.contentEditable=!0,Jh(w,y.options.spellcheck,y.options.autocorrect,y.options.autocapitalize);function D(j){for(var $=j.target;$;$=$.parentNode){if($==w)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test($.className))break}return!1}Dt(w,"paste",function(j){!D(j)||Gr(y,j)||Tg(j,y)||h<=11&&setTimeout(Un(y,function(){return u.updateFromDOM()}),20)}),Dt(w,"compositionstart",function(j){u.composing={data:j.data,done:!1}}),Dt(w,"compositionupdate",function(j){u.composing||(u.composing={data:j.data,done:!1})}),Dt(w,"compositionend",function(j){u.composing&&(j.data!=u.composing.data&&u.readFromDOMSoon(),u.composing.done=!0)}),Dt(w,"touchstart",function(){return p.forceCompositionEnd()}),Dt(w,"input",function(){u.composing||u.readFromDOMSoon()});function L(j){if(!(!D(j)||Gr(y,j))){if(y.somethingSelected())Xs({lineWise:!1,text:y.getSelections()}),j.type=="cut"&&y.replaceSelection("",null,"cut");else if(y.options.lineWiseCopyCut){var $=Xh(y);Xs({lineWise:!0,text:$.text}),j.type=="cut"&&y.operation(function(){y.setSelections($.ranges,0,or),y.replaceSelection("",null,"cut")})}else return;if(j.clipboardData){j.clipboardData.clearData();var te=Ds.text.join(`
`);if(j.clipboardData.setData("Text",te),j.clipboardData.getData("Text")==te){j.preventDefault();return}}var ye=Dg(),De=ye.firstChild;Jh(De),y.display.lineSpace.insertBefore(ye,y.display.lineSpace.firstChild),De.value=Ds.text.join(`
`);var $e=ie(w.ownerDocument);K(De),setTimeout(function(){y.display.lineSpace.removeChild(ye),$e.focus(),$e==w&&p.showPrimarySelection()},50)}}Dt(w,"copy",L),Dt(w,"cut",L)},ii.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},ii.prototype.prepareSelection=function(){var o=xf(this.cm,!1);return o.focus=ie(this.div.ownerDocument)==this.div,o},ii.prototype.showSelection=function(o,u){!o||!this.cm.display.view.length||((o.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(o))},ii.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ii.prototype.showPrimarySelection=function(){var o=this.getSelection(),u=this.cm,p=u.doc.sel.primary(),y=p.from(),w=p.to();if(u.display.viewTo==u.display.viewFrom||y.line>=u.display.viewTo||w.line<u.display.viewFrom){o.removeAllRanges();return}var D=fm(u,o.anchorNode,o.anchorOffset),L=fm(u,o.focusNode,o.focusOffset);if(!(D&&!D.bad&&L&&!L.bad&&Fe(dr(D,L),y)==0&&Fe(Wt(D,L),w)==0)){var j=u.display.view,$=y.line>=u.display.viewFrom&&Za(u,y)||{node:j[0].measure.map[2],offset:0},te=w.line<u.display.viewTo&&Za(u,w);if(!te){var ye=j[j.length-1].measure,De=ye.maps?ye.maps[ye.maps.length-1]:ye.map;te={node:De[De.length-1],offset:De[De.length-2]-De[De.length-3]}}if(!$||!te){o.removeAllRanges();return}var $e=o.rangeCount&&o.getRangeAt(0),Ke;try{Ke=Ce($.node,$.offset,te.offset,te.node)}catch{}Ke&&(!t&&u.state.focused?(o.collapse($.node,$.offset),Ke.collapsed||(o.removeAllRanges(),o.addRange(Ke))):(o.removeAllRanges(),o.addRange(Ke)),$e&&o.anchorNode==null?o.addRange($e):t&&this.startGracePeriod()),this.rememberSelection()}},ii.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},ii.prototype.showMultipleSelections=function(o){R(this.cm.display.cursorDiv,o.cursors),R(this.cm.display.selectionDiv,o.selection)},ii.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},ii.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var u=o.getRangeAt(0).commonAncestorContainer;return re(this.div,u)},ii.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ie(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},ii.prototype.blur=function(){this.div.blur()},ii.prototype.getField=function(){return this.div},ii.prototype.supportsTouch=function(){return!0},ii.prototype.receivedFocus=function(){var o=this,u=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Rn(this.cm,function(){return u.cm.curOp.selectionChanged=!0});function p(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},ii.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},ii.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var o=this.getSelection(),u=this.cm;if(Y&&E&&this.cm.display.gutterSpecs.length&&cm(o.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=fm(u,o.anchorNode,o.anchorOffset),y=fm(u,o.focusNode,o.focusOffset);p&&y&&Rn(u,function(){Ar(u.doc,Vs(p,y),or),(p.bad||y.bad)&&(u.curOp.selectionChanged=!0)})}}},ii.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o=this.cm,u=o.display,p=o.doc.sel.primary(),y=p.from(),w=p.to();if(y.ch==0&&y.line>o.firstLine()&&(y=ue(y.line-1,Et(o.doc,y.line-1).length)),w.ch==Et(o.doc,w.line).text.length&&w.line<o.lastLine()&&(w=ue(w.line+1,0)),y.line<u.viewFrom||w.line>u.viewTo-1)return!1;var D,L,j;y.line==u.viewFrom||(D=Ho(o,y.line))==0?(L=Pe(u.view[0].line),j=u.view[0].node):(L=Pe(u.view[D].line),j=u.view[D-1].node.nextSibling);var $=Ho(o,w.line),te,ye;if($==u.view.length-1?(te=u.viewTo-1,ye=u.lineDiv.lastChild):(te=Pe(u.view[$+1].line)-1,ye=u.view[$+1].node.previousSibling),!j)return!1;for(var De=o.doc.splitLines(Fo(o,j,ye,L,te)),$e=St(o.doc,ue(L,0),ue(te,Et(o.doc,te).text.length));De.length>1&&$e.length>1;)if(oe(De)==oe($e))De.pop(),$e.pop(),te--;else if(De[0]==$e[0])De.shift(),$e.shift(),L++;else break;for(var Ke=0,pt=0,_t=De[0],At=$e[0],Nt=Math.min(_t.length,At.length);Ke<Nt&&_t.charCodeAt(Ke)==At.charCodeAt(Ke);)++Ke;for(var Xt=oe(De),$t=oe($e),ir=Math.min(Xt.length-(De.length==1?Ke:0),$t.length-($e.length==1?Ke:0));pt<ir&&Xt.charCodeAt(Xt.length-pt-1)==$t.charCodeAt($t.length-pt-1);)++pt;if(De.length==1&&$e.length==1&&L==y.line)for(;Ke&&Ke>y.ch&&Xt.charCodeAt(Xt.length-pt-1)==$t.charCodeAt($t.length-pt-1);)Ke--,pt++;De[De.length-1]=Xt.slice(0,Xt.length-pt).replace(/^\u200b+/,""),De[0]=De[0].slice(Ke).replace(/\u200b+$/,"");var Mr=ue(L,Ke),Nr=ue(te,$e.length?oe($e).length-pt:0);if(De.length>1||De[0]||Fe(Mr,Nr))return xi(o.doc,De,Mr,Nr,"+input"),!0},ii.prototype.ensurePolled=function(){this.forceCompositionEnd()},ii.prototype.reset=function(){this.forceCompositionEnd()},ii.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ii.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing)if(o.composing.done)o.composing=null;else return;o.updateFromDOM()},80))},ii.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Rn(this.cm,function(){return En(o.cm)})},ii.prototype.setUneditable=function(o){o.contentEditable="false"},ii.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||Un(this.cm,lm)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},ii.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},ii.prototype.onContextMenu=function(){},ii.prototype.resetPosition=function(){},ii.prototype.needsContentAttribute=!0;function Za(o,u){var p=hi(o,u.line);if(!p||p.hidden)return null;var y=Et(o.doc,u.line),w=nu(p,y,u.line),D=$r(y,o.doc.direction),L="left";if(D){var j=Xn(D,u.ch);L=j%2?"right":"left"}var $=Wd(w.map,u.ch,L);return $.offset=$.collapse=="right"?$.end:$.start,$}function cm(o){for(var u=o;u;u=u.parentNode)if(/CodeMirror-gutter-wrapper/.test(u.className))return!0;return!1}function hh(o,u){return u&&(o.bad=!0),o}function Fo(o,u,p,y,w){var D="",L=!1,j=o.doc.lineSeparator(),$=!1;function te(Ke){return function(pt){return pt.id==Ke}}function ye(){L&&(D+=j,$&&(D+=j),L=$=!1)}function De(Ke){Ke&&(ye(),D+=Ke)}function $e(Ke){if(Ke.nodeType==1){var pt=Ke.getAttribute("cm-text");if(pt){De(pt);return}var _t=Ke.getAttribute("cm-marker"),At;if(_t){var Nt=o.findMarks(ue(y,0),ue(w+1,0),te(+_t));Nt.length&&(At=Nt[0].find(0))&&De(St(o.doc,At.from,At.to).join(j));return}if(Ke.getAttribute("contenteditable")=="false")return;var Xt=/^(pre|div|p|li|table|br)$/i.test(Ke.nodeName);if(!/^br$/i.test(Ke.nodeName)&&Ke.textContent.length==0)return;Xt&&ye();for(var $t=0;$t<Ke.childNodes.length;$t++)$e(Ke.childNodes[$t]);/^(pre|p)$/i.test(Ke.nodeName)&&($=!0),Xt&&(L=!0)}else Ke.nodeType==3&&De(Ke.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;$e(u),u!=p;)u=u.nextSibling,$=!1;return D}function fm(o,u,p){var y;if(u==o.display.lineDiv){if(y=o.display.lineDiv.childNodes[p],!y)return hh(o.clipPos(ue(o.display.viewTo-1)),!0);u=null,p=0}else for(y=u;;y=y.parentNode){if(!y||y==o.display.lineDiv)return null;if(y.parentNode&&y.parentNode==o.display.lineDiv)break}for(var w=0;w<o.display.view.length;w++){var D=o.display.view[w];if(D.node==y)return dy(D,u,p)}}function dy(o,u,p){var y=o.text.firstChild,w=!1;if(!u||!re(y,u))return hh(ue(Pe(o.line),0),!0);if(u==y&&(w=!0,u=y.childNodes[p],p=0,!u)){var D=o.rest?oe(o.rest):o.line;return hh(ue(Pe(D),D.text.length),w)}var L=u.nodeType==3?u:null,j=u;for(!L&&u.childNodes.length==1&&u.firstChild.nodeType==3&&(L=u.firstChild,p&&(p=L.nodeValue.length));j.parentNode!=y;)j=j.parentNode;var $=o.measure,te=$.maps;function ye(At,Nt,Xt){for(var $t=-1;$t<(te?te.length:0);$t++)for(var ir=$t<0?$.map:te[$t],Mr=0;Mr<ir.length;Mr+=3){var Nr=ir[Mr+2];if(Nr==At||Nr==Nt){var nn=Pe($t<0?o.line:o.rest[$t]),Nn=ir[Mr]+Xt;return(Xt<0||Nr!=At)&&(Nn=ir[Mr+(Xt?1:0)]),ue(nn,Nn)}}}var De=ye(L,j,p);if(De)return hh(De,w);for(var $e=j.nextSibling,Ke=L?L.nodeValue.length-p:0;$e;$e=$e.nextSibling){if(De=ye($e,$e.firstChild,0),De)return hh(ue(De.line,De.ch-Ke),w);Ke+=$e.textContent.length}for(var pt=j.previousSibling,_t=p;pt;pt=pt.previousSibling){if(De=ye(pt,pt.firstChild,-1),De)return hh(ue(De.line,De.ch+_t),w);_t+=pt.textContent.length}}var Yo=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new Tt,this.hasSelection=!1,this.composing=null,this.resetting=!1};Yo.prototype.init=function(o){var u=this,p=this,y=this.cm;this.createField(o);var w=this.textarea;o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),V&&(w.style.width="0px"),Dt(w,"input",function(){l&&h>=9&&u.hasSelection&&(u.hasSelection=null),p.poll()}),Dt(w,"paste",function(L){Gr(y,L)||Tg(L,y)||(y.state.pasteIncoming=+new Date,p.fastPoll())});function D(L){if(!Gr(y,L)){if(y.somethingSelected())Xs({lineWise:!1,text:y.getSelections()});else if(y.options.lineWiseCopyCut){var j=Xh(y);Xs({lineWise:!0,text:j.text}),L.type=="cut"?y.setSelections(j.ranges,null,or):(p.prevInput="",w.value=j.text.join(`
`),K(w))}else return;L.type=="cut"&&(y.state.cutIncoming=+new Date)}}Dt(w,"cut",D),Dt(w,"copy",D),Dt(o.scroller,"paste",function(L){if(!(Oa(o,L)||Gr(y,L))){if(!w.dispatchEvent){y.state.pasteIncoming=+new Date,p.focus();return}var j=new Event("paste");j.clipboardData=L.clipboardData,w.dispatchEvent(j)}}),Dt(o.lineSpace,"selectstart",function(L){Oa(o,L)||Xe(L)}),Dt(w,"compositionstart",function(){var L=y.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:L,range:y.markText(L,y.getCursor("to"),{className:"CodeMirror-composing"})}}),Dt(w,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},Yo.prototype.createField=function(o){this.wrapper=Dg(),this.textarea=this.wrapper.firstChild;var u=this.cm.options;Jh(this.textarea,u.spellcheck,u.autocorrect,u.autocapitalize)},Yo.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},Yo.prototype.prepareSelection=function(){var o=this.cm,u=o.display,p=o.doc,y=xf(o);if(o.options.moveInputWithCursor){var w=Ss(o,p.sel.primary().head,"div"),D=u.wrapper.getBoundingClientRect(),L=u.lineDiv.getBoundingClientRect();y.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,w.top+L.top-D.top)),y.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,w.left+L.left-D.left))}return y},Yo.prototype.showSelection=function(o){var u=this.cm,p=u.display;R(p.cursorDiv,o.cursors),R(p.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},Yo.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var u=this.cm;if(this.resetting=!0,u.somethingSelected()){this.prevInput="";var p=u.getSelection();this.textarea.value=p,u.state.focused&&K(this.textarea),l&&h>=9&&(this.hasSelection=p)}else o||(this.prevInput=this.textarea.value="",l&&h>=9&&(this.hasSelection=null));this.resetting=!1}},Yo.prototype.getField=function(){return this.textarea},Yo.prototype.supportsTouch=function(){return!1},Yo.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!J||ie(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Yo.prototype.blur=function(){this.textarea.blur()},Yo.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Yo.prototype.receivedFocus=function(){this.slowPoll()},Yo.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},Yo.prototype.fastPoll=function(){var o=!1,u=this;u.pollingFast=!0;function p(){var y=u.poll();!y&&!o?(o=!0,u.polling.set(60,p)):(u.pollingFast=!1,u.slowPoll())}u.polling.set(20,p)},Yo.prototype.poll=function(){var o=this,u=this.cm,p=this.textarea,y=this.prevInput;if(this.contextMenuPending||this.resetting||!u.state.focused||Oo(p)&&!y&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var w=p.value;if(w==y&&!u.somethingSelected())return!1;if(l&&h>=9&&this.hasSelection===w||se&&/[\uf700-\uf7ff]/.test(w))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var D=w.charCodeAt(0);if(D==8203&&!y&&(y="\u200B"),D==8666)return this.reset(),this.cm.execCommand("undo")}for(var L=0,j=Math.min(y.length,w.length);L<j&&y.charCodeAt(L)==w.charCodeAt(L);)++L;return Rn(u,function(){lm(u,w.slice(L),y.length-L,null,o.composing?"*compose":null),w.length>1e3||w.indexOf(`
`)>-1?p.value=o.prevInput="":o.prevInput=w,o.composing&&(o.composing.range.clear(),o.composing.range=u.markText(o.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Yo.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Yo.prototype.onKeyPress=function(){l&&h>=9&&(this.hasSelection=null),this.fastPoll()},Yo.prototype.onContextMenu=function(o){var u=this,p=u.cm,y=p.display,w=u.textarea;u.contextMenuPending&&u.contextMenuPending();var D=as(p,o),L=y.scroller.scrollTop;if(!D||P)return;var j=p.options.resetSelectionOnContextMenu;j&&p.doc.sel.contains(D)==-1&&Un(p,Ar)(p.doc,Vs(D),or);var $=w.style.cssText,te=u.wrapper.style.cssText,ye=u.wrapper.offsetParent.getBoundingClientRect();u.wrapper.style.cssText="position: static",w.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(o.clientY-ye.top-5)+"px; left: "+(o.clientX-ye.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var De;b&&(De=w.ownerDocument.defaultView.scrollY),y.input.focus(),b&&w.ownerDocument.defaultView.scrollTo(null,De),y.input.reset(),p.somethingSelected()||(w.value=u.prevInput=" "),u.contextMenuPending=Ke,y.selForContextMenu=p.doc.sel,clearTimeout(y.detectingSelectAll);function $e(){if(w.selectionStart!=null){var _t=p.somethingSelected(),At="\u200B"+(_t?w.value:"");w.value="\u21DA",w.value=At,u.prevInput=_t?"":"\u200B",w.selectionStart=1,w.selectionEnd=At.length,y.selForContextMenu=p.doc.sel}}function Ke(){if(u.contextMenuPending==Ke&&(u.contextMenuPending=!1,u.wrapper.style.cssText=te,w.style.cssText=$,l&&h<9&&y.scrollbars.setScrollTop(y.scroller.scrollTop=L),w.selectionStart!=null)){(!l||l&&h<9)&&$e();var _t=0,At=function(){y.selForContextMenu==p.doc.sel&&w.selectionStart==0&&w.selectionEnd>0&&u.prevInput=="\u200B"?Un(p,sn)(p):_t++<10?y.detectingSelectAll=setTimeout(At,500):(y.selForContextMenu=null,y.input.reset())};y.detectingSelectAll=setTimeout(At,200)}}if(l&&h>=9&&$e(),he){gr(o);var pt=function(){zr(window,"mouseup",pt),setTimeout(Ke,20)};Dt(window,"mouseup",pt)}else setTimeout(Ke,50)},Yo.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},Yo.prototype.setUneditable=function(){},Yo.prototype.needsContentAttribute=!1;function hm(o,u){if(u=u?et(u):{},u.value=o.value,!u.tabindex&&o.tabIndex&&(u.tabindex=o.tabIndex),!u.placeholder&&o.placeholder&&(u.placeholder=o.placeholder),u.autofocus==null){var p=ie(o.ownerDocument);u.autofocus=p==o||o.getAttribute("autofocus")!=null&&p==document.body}function y(){o.value=j.getValue()}var w;if(o.form&&(Dt(o.form,"submit",y),!u.leaveSubmitMethodAlone)){var D=o.form;w=D.submit;try{var L=D.submit=function(){y(),D.submit=w,D.submit(),D.submit=L}}catch{}}u.finishInit=function($){$.save=y,$.getTextArea=function(){return o},$.toTextArea=function(){$.toTextArea=isNaN,y(),o.parentNode.removeChild($.getWrapperElement()),o.style.display="",o.form&&(zr(o.form,"submit",y),!u.leaveSubmitMethodAlone&&typeof o.form.submit=="function"&&(o.form.submit=w))}},o.style.display="none";var j=Bi(function($){return o.parentNode.insertBefore($,o.nextSibling)},u);return j}function f(o){o.off=zr,o.on=Dt,o.wheelEventPixels=Gn,o.Doc=Lo,o.splitLines=Vn,o.countColumn=Pt,o.findColumn=kt,o.isWordChar=Ct,o.Pass=tr,o.signal=wr,o.Line=Ni,o.changeEnd=Ga,o.scrollbarModel=pl,o.Pos=ue,o.cmpPos=Fe,o.modes=zn,o.mimeModes=ve,o.resolveMode=Be,o.getMode=Ye,o.modeExtensions=ht,o.extendMode=ut,o.copyState=Ie,o.startState=xt,o.innerMode=Ne,o.commands=Gh,o.keyMap=yl,o.keyName=Vh,o.isModifierKey=Zd,o.lookupKey=ah,o.normalizeKeyMap=ny,o.StringStream=Vt,o.SharedTextMarker=Es,o.TextMarker=Ys,o.LineWidget=Ma,o.e_preventDefault=Xe,o.e_stopPropagation=bt,o.e_stop=gr,o.addClass=pe,o.contains=re,o.rmClass=xe,o.keyNames=fs}uo(Bi),Ri(Bi);var g="iter insert remove copy getEditor constructor".split(" ");for(var T in Lo.prototype)Lo.prototype.hasOwnProperty(T)&&Ht(g,T)<0&&(Bi.prototype[T]=function(o){return function(){return o.apply(this.doc,arguments)}}(Lo.prototype[T]));return Ue(Lo),Bi.inputStyles={textarea:Yo,contenteditable:ii},Bi.defineMode=function(o){!Bi.defaults.mode&&o!="null"&&(Bi.defaults.mode=o),Ee.apply(this,arguments)},Bi.defineMIME=Oe,Bi.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Bi.defineMIME("text/plain","null"),Bi.defineExtension=function(o,u){Bi.prototype[o]=u},Bi.defineDocExtension=function(o,u){Lo.prototype[o]=u},Bi.fromTextArea=hm,f(Bi),Bi.version="5.65.13",Bi})});var Pfe=fe((Ife,Mfe)=>{(function(r){typeof Ife=="object"&&typeof Mfe=="object"?r(Dc()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";var e=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,n=/[*+-]\s/;r.commands.newlineAndIndentContinueMarkdownList=function(a){if(a.getOption("disableInput"))return r.Pass;for(var l=a.listSelections(),h=[],b=0;b<l.length;b++){var S=l[b].head,E=a.getStateAfter(S.line),O=r.innerMode(a.getMode(),E);if(O.mode.name!=="markdown"&&O.mode.helperType!=="markdown"){a.execCommand("newlineAndIndent");return}else E=O.state;var P=E.list!==!1,q=E.quote!==0,z=a.getLine(S.line),N=e.exec(z),V=/^\s*$/.test(z.slice(0,S.ch));if(!l[b].empty()||!P&&!q||!N||V){a.execCommand("newlineAndIndent");return}if(t.test(z)){var Y=q&&/>\s*$/.test(z),J=!/>\s*$/.test(z);(Y||J)&&a.replaceRange("",{line:S.line,ch:0},{line:S.line,ch:S.ch+1}),h[b]=`
`}else{var se=N[1],_=N[5],me=!(n.test(N[2])||N[2].indexOf(">")>=0),ne=me?parseInt(N[3],10)+1+N[4]:N[2].replace("x"," ");h[b]=`
`+se+ne+_,me&&i(a,S)}}a.replaceSelections(h)};function i(a,l){var h=l.line,b=0,S=0,E=e.exec(a.getLine(h)),O=E[1];do{b+=1;var P=h+b,q=a.getLine(P),z=e.exec(q);if(z){var N=z[1],V=parseInt(E[3],10)+b-S,Y=parseInt(z[3],10),J=Y;if(O===N&&!isNaN(Y))V===Y&&(J=Y+1),V>Y&&(J=V+1),a.replaceRange(q.replace(e,N+J+z[4]+z[5]),{line:P,ch:0},{line:P,ch:q.length});else{if(O.length>N.length||O.length<N.length&&b===1)return;S+=1}}}while(z)}})});var Rfe=fe(()=>{var Lfe=Dc();Lfe.commands.tabAndIndentMarkdownList=function(r){var e=r.listSelections(),t=e[0].head,n=r.getStateAfter(t.line),i=n.list!==!1;if(i){r.execCommand("indentMore");return}if(r.options.indentWithTabs)r.execCommand("insertTab");else{var a=Array(r.options.tabSize+1).join(" ");r.replaceSelection(a)}};Lfe.commands.shiftTabAndUnindentMarkdownList=function(r){var e=r.listSelections(),t=e[0].head,n=r.getStateAfter(t.line),i=n.list!==!1;if(i){r.execCommand("indentLess");return}if(r.options.indentWithTabs)r.execCommand("insertTab");else{var a=Array(r.options.tabSize+1).join(" ");r.replaceSelection(a)}}});var zfe=fe((Ffe,qfe)=>{(function(r){typeof Ffe=="object"&&typeof qfe=="object"?r(Dc()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineOption("fullScreen",!1,function(n,i,a){a==r.Init&&(a=!1),!a!=!i&&(i?e(n):t(n))});function e(n){var i=n.getWrapperElement();n.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:i.style.width,height:i.style.height},i.style.width="",i.style.height="auto",i.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",n.refresh()}function t(n){var i=n.getWrapperElement();i.className=i.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var a=n.state.fullScreenRestore;i.style.width=a.width,i.style.height=a.height,window.scrollTo(a.scrollLeft,a.scrollTop),n.refresh()}})});var Iz=fe((Nfe,Bfe)=>{(function(r){typeof Nfe=="object"&&typeof Bfe=="object"?r(Dc()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},t={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(n,i){var a=n.indentUnit,l={},h=i.htmlMode?e:t;for(var b in h)l[b]=h[b];for(var b in i)l[b]=i[b];var S,E;function O(G,ae){function Ce(pe){return ae.tokenize=pe,pe(G,ae)}var re=G.next();if(re=="<")return G.eat("!")?G.eat("[")?G.match("CDATA[")?Ce(z("atom","]]>")):null:G.match("--")?Ce(z("comment","-->")):G.match("DOCTYPE",!0,!0)?(G.eatWhile(/[\w\._\-]/),Ce(N(1))):null:G.eat("?")?(G.eatWhile(/[\w\._\-]/),ae.tokenize=z("meta","?>"),"meta"):(S=G.eat("/")?"closeTag":"openTag",ae.tokenize=P,"tag bracket");if(re=="&"){var ie;return G.eat("#")?G.eat("x")?ie=G.eatWhile(/[a-fA-F\d]/)&&G.eat(";"):ie=G.eatWhile(/[\d]/)&&G.eat(";"):ie=G.eatWhile(/[\w\.\-:]/)&&G.eat(";"),ie?"atom":"error"}else return G.eatWhile(/[^&<]/),null}O.isInText=!0;function P(G,ae){var Ce=G.next();if(Ce==">"||Ce=="/"&&G.eat(">"))return ae.tokenize=O,S=Ce==">"?"endTag":"selfcloseTag","tag bracket";if(Ce=="=")return S="equals",null;if(Ce=="<"){ae.tokenize=O,ae.state=_,ae.tagName=ae.tagStart=null;var re=ae.tokenize(G,ae);return re?re+" tag error":"tag error"}else return/[\'\"]/.test(Ce)?(ae.tokenize=q(Ce),ae.stringStartCol=G.column(),ae.tokenize(G,ae)):(G.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function q(G){var ae=function(Ce,re){for(;!Ce.eol();)if(Ce.next()==G){re.tokenize=P;break}return"string"};return ae.isInAttribute=!0,ae}function z(G,ae){return function(Ce,re){for(;!Ce.eol();){if(Ce.match(ae)){re.tokenize=O;break}Ce.next()}return G}}function N(G){return function(ae,Ce){for(var re;(re=ae.next())!=null;){if(re=="<")return Ce.tokenize=N(G+1),Ce.tokenize(ae,Ce);if(re==">")if(G==1){Ce.tokenize=O;break}else return Ce.tokenize=N(G-1),Ce.tokenize(ae,Ce)}return"meta"}}function V(G){return G&&G.toLowerCase()}function Y(G,ae,Ce){this.prev=G.context,this.tagName=ae||"",this.indent=G.indented,this.startOfLine=Ce,(l.doNotIndent.hasOwnProperty(ae)||G.context&&G.context.noIndent)&&(this.noIndent=!0)}function J(G){G.context&&(G.context=G.context.prev)}function se(G,ae){for(var Ce;;){if(!G.context||(Ce=G.context.tagName,!l.contextGrabbers.hasOwnProperty(V(Ce))||!l.contextGrabbers[V(Ce)].hasOwnProperty(V(ae))))return;J(G)}}function _(G,ae,Ce){return G=="openTag"?(Ce.tagStart=ae.column(),me):G=="closeTag"?ne:_}function me(G,ae,Ce){return G=="word"?(Ce.tagName=ae.current(),E="tag",be):l.allowMissingTagName&&G=="endTag"?(E="tag bracket",be(G,ae,Ce)):(E="error",me)}function ne(G,ae,Ce){if(G=="word"){var re=ae.current();return Ce.context&&Ce.context.tagName!=re&&l.implicitlyClosed.hasOwnProperty(V(Ce.context.tagName))&&J(Ce),Ce.context&&Ce.context.tagName==re||l.matchClosing===!1?(E="tag",de):(E="tag error",he)}else return l.allowMissingTagName&&G=="endTag"?(E="tag bracket",de(G,ae,Ce)):(E="error",he)}function de(G,ae,Ce){return G!="endTag"?(E="error",de):(J(Ce),_)}function he(G,ae,Ce){return E="error",de(G,ae,Ce)}function be(G,ae,Ce){if(G=="word")return E="attribute",xe;if(G=="endTag"||G=="selfcloseTag"){var re=Ce.tagName,ie=Ce.tagStart;return Ce.tagName=Ce.tagStart=null,G=="selfcloseTag"||l.autoSelfClosers.hasOwnProperty(V(re))?se(Ce,re):(se(Ce,re),Ce.context=new Y(Ce,re,ie==Ce.indented)),_}return E="error",be}function xe(G,ae,Ce){return G=="equals"?We:(l.allowMissing||(E="error"),be(G,ae,Ce))}function We(G,ae,Ce){return G=="string"?R:G=="word"&&l.allowUnquoted?(E="string",be):(E="error",be(G,ae,Ce))}function R(G,ae,Ce){return G=="string"?R:be(G,ae,Ce)}return{startState:function(G){var ae={tokenize:O,state:_,indented:G||0,tagName:null,tagStart:null,context:null};return G!=null&&(ae.baseIndent=G),ae},token:function(G,ae){if(!ae.tagName&&G.sol()&&(ae.indented=G.indentation()),G.eatSpace())return null;S=null;var Ce=ae.tokenize(G,ae);return(Ce||S)&&Ce!="comment"&&(E=null,ae.state=ae.state(S||Ce,G,ae),E&&(Ce=E=="error"?Ce+" error":E)),Ce},indent:function(G,ae,Ce){var re=G.context;if(G.tokenize.isInAttribute)return G.tagStart==G.indented?G.stringStartCol+1:G.indented+a;if(re&&re.noIndent)return r.Pass;if(G.tokenize!=P&&G.tokenize!=O)return Ce?Ce.match(/^(\s*)/)[0].length:0;if(G.tagName)return l.multilineTagIndentPastTag!==!1?G.tagStart+G.tagName.length+2:G.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(ae))return 0;var ie=ae&&/^<(\/)?([\w_:\.-]*)/.exec(ae);if(ie&&ie[1])for(;re;)if(re.tagName==ie[2]){re=re.prev;break}else if(l.implicitlyClosed.hasOwnProperty(V(re.tagName)))re=re.prev;else break;else if(ie)for(;re;){var pe=l.contextGrabbers[V(re.tagName)];if(pe&&pe.hasOwnProperty(V(ie[2])))re=re.prev;else break}for(;re&&re.prev&&!re.startOfLine;)re=re.prev;return re?re.indent+a:G.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(G){G.state==We&&(G.state=be)},xmlCurrentTag:function(G){return G.tagName?{name:G.tagName,close:G.type=="closeTag"}:null},xmlCurrentContext:function(G){for(var ae=[],Ce=G.context;Ce;Ce=Ce.prev)ae.push(Ce.tagName);return ae.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})});var Hfe=fe((jfe,Ufe)=>{(function(r){typeof jfe=="object"&&typeof Ufe=="object"?r(Dc()):typeof define=="function"&&define.amd?define(["../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var e=0;e<r.modeInfo.length;e++){var t=r.modeInfo[e];t.mimes&&(t.mime=t.mimes[0])}r.findModeByMIME=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.mime==n)return a;if(a.mimes){for(var l=0;l<a.mimes.length;l++)if(a.mimes[l]==n)return a}}if(/\+xml$/.test(n))return r.findModeByMIME("application/xml");if(/\+json$/.test(n))return r.findModeByMIME("application/json")},r.findModeByExtension=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.ext){for(var l=0;l<a.ext.length;l++)if(a.ext[l]==n)return a}}},r.findModeByFileName=function(n){for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.file&&a.file.test(n))return a}var l=n.lastIndexOf("."),h=l>-1&&n.substring(l+1,n.length);if(h)return r.findModeByExtension(h)},r.findModeByName=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.name.toLowerCase()==n)return a;if(a.alias){for(var l=0;l<a.alias.length;l++)if(a.alias[l].toLowerCase()==n)return a}}}})});var Mz=fe((Wfe,Vfe)=>{(function(r){typeof Wfe=="object"&&typeof Vfe=="object"?r(Dc(),Iz(),Hfe()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("markdown",function(e,t){var n=r.getMode(e,"text/html"),i=n.name=="null";function a(K){if(r.findModeByName){var W=r.findModeByName(K);W&&(K=W.mime||W.mimes[0])}var Ze=r.getMode(e,K);return Ze.name=="null"?null:Ze}t.highlightFormatting===void 0&&(t.highlightFormatting=!1),t.maxBlockquoteDepth===void 0&&(t.maxBlockquoteDepth=0),t.taskLists===void 0&&(t.taskLists=!1),t.strikethrough===void 0&&(t.strikethrough=!1),t.emoji===void 0&&(t.emoji=!1),t.fencedCodeBlockHighlighting===void 0&&(t.fencedCodeBlockHighlighting=!0),t.fencedCodeBlockDefaultMode===void 0&&(t.fencedCodeBlockDefaultMode="text/plain"),t.xml===void 0&&(t.xml=!0),t.tokenTypeOverrides===void 0&&(t.tokenTypeOverrides={});var l={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var h in l)l.hasOwnProperty(h)&&t.tokenTypeOverrides[h]&&(l[h]=t.tokenTypeOverrides[h]);var b=/^([*\-_])(?:\s*\1){2,}\s*$/,S=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,E=/^\[(x| )\](?=\s)/i,O=t.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,P=/^ {0,3}(?:\={1,}|-{2,})\s*$/,q=/^[^#!\[\]*_\\<>` "'(~:]+/,z=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,N=/^\s*\[[^\]]+?\]:.*$/,V=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,Y="    ";function J(K,W,Ze){return W.f=W.inline=Ze,Ze(K,W)}function se(K,W,Ze){return W.f=W.block=Ze,Ze(K,W)}function _(K){return!K||!/\S/.test(K.string)}function me(K){if(K.linkTitle=!1,K.linkHref=!1,K.linkText=!1,K.em=!1,K.strong=!1,K.strikethrough=!1,K.quote=0,K.indentedCode=!1,K.f==de){var W=i;if(!W){var Ze=r.innerMode(n,K.htmlState);W=Ze.mode.name=="xml"&&Ze.state.tagStart===null&&!Ze.state.context&&Ze.state.tokenize.isInText}W&&(K.f=We,K.block=ne,K.htmlState=null)}return K.trailingSpace=0,K.trailingSpaceNewLine=!1,K.prevLine=K.thisLine,K.thisLine={stream:null},null}function ne(K,W){var Ze=K.column()===W.indentation,ot=_(W.prevLine.stream),et=W.indentedCode,Pt=W.prevLine.hr,Tt=W.list!==!1,Ht=(W.listStack[W.listStack.length-1]||0)+3;W.indentedCode=!1;var Lt=W.indentation;if(W.indentationDiff===null&&(W.indentationDiff=W.indentation,Tt)){for(W.list=null;Lt<W.listStack[W.listStack.length-1];)W.listStack.pop(),W.listStack.length?W.indentation=W.listStack[W.listStack.length-1]:W.list=!1;W.list!==!1&&(W.indentationDiff=Lt-W.listStack[W.listStack.length-1])}var tr=!ot&&!Pt&&!W.prevLine.header&&(!Tt||!et)&&!W.prevLine.fencedCodeEnd,or=(W.list===!1||Pt||ot)&&W.indentation<=Ht&&K.match(b),br=null;if(W.indentationDiff>=4&&(et||W.prevLine.fencedCodeEnd||W.prevLine.header||ot))return K.skipToEnd(),W.indentedCode=!0,l.code;if(K.eatSpace())return null;if(Ze&&W.indentation<=Ht&&(br=K.match(O))&&br[1].length<=6)return W.quote=0,W.header=br[1].length,W.thisLine.header=!0,t.highlightFormatting&&(W.formatting="header"),W.f=W.inline,be(W);if(W.indentation<=Ht&&K.eat(">"))return W.quote=Ze?1:W.quote+1,t.highlightFormatting&&(W.formatting="quote"),K.eatSpace(),be(W);if(!or&&!W.setext&&Ze&&W.indentation<=Ht&&(br=K.match(S))){var Kt=br[1]?"ol":"ul";return W.indentation=Lt+K.current().length,W.list=!0,W.quote=0,W.listStack.push(W.indentation),W.em=!1,W.strong=!1,W.code=!1,W.strikethrough=!1,t.taskLists&&K.match(E,!1)&&(W.taskList=!0),W.f=W.inline,t.highlightFormatting&&(W.formatting=["list","list-"+Kt]),be(W)}else{if(Ze&&W.indentation<=Ht&&(br=K.match(z,!0)))return W.quote=0,W.fencedEndRE=new RegExp(br[1]+"+ *$"),W.localMode=t.fencedCodeBlockHighlighting&&a(br[2]||t.fencedCodeBlockDefaultMode),W.localMode&&(W.localState=r.startState(W.localMode)),W.f=W.block=he,t.highlightFormatting&&(W.formatting="code-block"),W.code=-1,be(W);if(W.setext||(!tr||!Tt)&&!W.quote&&W.list===!1&&!W.code&&!or&&!N.test(K.string)&&(br=K.lookAhead(1))&&(br=br.match(P)))return W.setext?(W.header=W.setext,W.setext=0,K.skipToEnd(),t.highlightFormatting&&(W.formatting="header")):(W.header=br[0].charAt(0)=="="?1:2,W.setext=W.header),W.thisLine.header=!0,W.f=W.inline,be(W);if(or)return K.skipToEnd(),W.hr=!0,W.thisLine.hr=!0,l.hr;if(K.peek()==="[")return J(K,W,re)}return J(K,W,W.inline)}function de(K,W){var Ze=n.token(K,W.htmlState);if(!i){var ot=r.innerMode(n,W.htmlState);(ot.mode.name=="xml"&&ot.state.tagStart===null&&!ot.state.context&&ot.state.tokenize.isInText||W.md_inside&&K.current().indexOf(">")>-1)&&(W.f=We,W.block=ne,W.htmlState=null)}return Ze}function he(K,W){var Ze=W.listStack[W.listStack.length-1]||0,ot=W.indentation<Ze,et=Ze+3;if(W.fencedEndRE&&W.indentation<=et&&(ot||K.match(W.fencedEndRE))){t.highlightFormatting&&(W.formatting="code-block");var Pt;return ot||(Pt=be(W)),W.localMode=W.localState=null,W.block=ne,W.f=We,W.fencedEndRE=null,W.code=0,W.thisLine.fencedCodeEnd=!0,ot?se(K,W,W.block):Pt}else return W.localMode?W.localMode.token(K,W.localState):(K.skipToEnd(),l.code)}function be(K){var W=[];if(K.formatting){W.push(l.formatting),typeof K.formatting=="string"&&(K.formatting=[K.formatting]);for(var Ze=0;Ze<K.formatting.length;Ze++)W.push(l.formatting+"-"+K.formatting[Ze]),K.formatting[Ze]==="header"&&W.push(l.formatting+"-"+K.formatting[Ze]+"-"+K.header),K.formatting[Ze]==="quote"&&(!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?W.push(l.formatting+"-"+K.formatting[Ze]+"-"+K.quote):W.push("error"))}if(K.taskOpen)return W.push("meta"),W.length?W.join(" "):null;if(K.taskClosed)return W.push("property"),W.length?W.join(" "):null;if(K.linkHref?W.push(l.linkHref,"url"):(K.strong&&W.push(l.strong),K.em&&W.push(l.em),K.strikethrough&&W.push(l.strikethrough),K.emoji&&W.push(l.emoji),K.linkText&&W.push(l.linkText),K.code&&W.push(l.code),K.image&&W.push(l.image),K.imageAltText&&W.push(l.imageAltText,"link"),K.imageMarker&&W.push(l.imageMarker)),K.header&&W.push(l.header,l.header+"-"+K.header),K.quote&&(W.push(l.quote),!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?W.push(l.quote+"-"+K.quote):W.push(l.quote+"-"+t.maxBlockquoteDepth)),K.list!==!1){var ot=(K.listStack.length-1)%3;ot?ot===1?W.push(l.list2):W.push(l.list3):W.push(l.list1)}return K.trailingSpaceNewLine?W.push("trailing-space-new-line"):K.trailingSpace&&W.push("trailing-space-"+(K.trailingSpace%2?"a":"b")),W.length?W.join(" "):null}function xe(K,W){if(K.match(q,!0))return be(W)}function We(K,W){var Ze=W.text(K,W);if(typeof Ze<"u")return Ze;if(W.list)return W.list=null,be(W);if(W.taskList){var ot=K.match(E,!0)[1]===" ";return ot?W.taskOpen=!0:W.taskClosed=!0,t.highlightFormatting&&(W.formatting="task"),W.taskList=!1,be(W)}if(W.taskOpen=!1,W.taskClosed=!1,W.header&&K.match(/^#+$/,!0))return t.highlightFormatting&&(W.formatting="header"),be(W);var et=K.next();if(W.linkTitle){W.linkTitle=!1;var Pt=et;et==="("&&(Pt=")"),Pt=(Pt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Tt="^\\s*(?:[^"+Pt+"\\\\]+|\\\\\\\\|\\\\.)"+Pt;if(K.match(new RegExp(Tt),!0))return l.linkHref}if(et==="`"){var Ht=W.formatting;t.highlightFormatting&&(W.formatting="code"),K.eatWhile("`");var Lt=K.current().length;if(W.code==0&&(!W.quote||Lt==1))return W.code=Lt,be(W);if(Lt==W.code){var tr=be(W);return W.code=0,tr}else return W.formatting=Ht,be(W)}else if(W.code)return be(W);if(et==="\\"&&(K.next(),t.highlightFormatting)){var or=be(W),br=l.formatting+"-escape";return or?or+" "+br:br}if(et==="!"&&K.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return W.imageMarker=!0,W.image=!0,t.highlightFormatting&&(W.formatting="image"),be(W);if(et==="["&&W.imageMarker&&K.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return W.imageMarker=!1,W.imageAltText=!0,t.highlightFormatting&&(W.formatting="image"),be(W);if(et==="]"&&W.imageAltText){t.highlightFormatting&&(W.formatting="image");var or=be(W);return W.imageAltText=!1,W.image=!1,W.inline=W.f=G,or}if(et==="["&&!W.image)return W.linkText&&K.match(/^.*?\]/)||(W.linkText=!0,t.highlightFormatting&&(W.formatting="link")),be(W);if(et==="]"&&W.linkText){t.highlightFormatting&&(W.formatting="link");var or=be(W);return W.linkText=!1,W.inline=W.f=K.match(/\(.*?\)| ?\[.*?\]/,!1)?G:We,or}if(et==="<"&&K.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){W.f=W.inline=R,t.highlightFormatting&&(W.formatting="link");var or=be(W);return or?or+=" ":or="",or+l.linkInline}if(et==="<"&&K.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){W.f=W.inline=R,t.highlightFormatting&&(W.formatting="link");var or=be(W);return or?or+=" ":or="",or+l.linkEmail}if(t.xml&&et==="<"&&K.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Kt=K.string.indexOf(">",K.pos);if(Kt!=-1){var kt=K.string.substring(K.start,Kt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(kt)&&(W.md_inside=!0)}return K.backUp(1),W.htmlState=r.startState(n),se(K,W,de)}if(t.xml&&et==="<"&&K.match(/^\/\w*?>/))return W.md_inside=!1,"tag";if(et==="*"||et==="_"){for(var yt=1,rt=K.pos==1?" ":K.string.charAt(K.pos-2);yt<3&&K.eat(et);)yt++;var oe=K.peek()||" ",ke=!/\s/.test(oe)&&(!V.test(oe)||/\s/.test(rt)||V.test(rt)),qe=!/\s/.test(rt)&&(!V.test(rt)||/\s/.test(oe)||V.test(oe)),Yt=null,st=null;if(yt%2&&(!W.em&&ke&&(et==="*"||!qe||V.test(rt))?Yt=!0:W.em==et&&qe&&(et==="*"||!ke||V.test(oe))&&(Yt=!1)),yt>1&&(!W.strong&&ke&&(et==="*"||!qe||V.test(rt))?st=!0:W.strong==et&&qe&&(et==="*"||!ke||V.test(oe))&&(st=!1)),st!=null||Yt!=null){t.highlightFormatting&&(W.formatting=Yt==null?"strong":st==null?"em":"strong em"),Yt===!0&&(W.em=et),st===!0&&(W.strong=et);var tr=be(W);return Yt===!1&&(W.em=!1),st===!1&&(W.strong=!1),tr}}else if(et===" "&&(K.eat("*")||K.eat("_"))){if(K.peek()===" ")return be(W);K.backUp(1)}if(t.strikethrough){if(et==="~"&&K.eatWhile(et)){if(W.strikethrough){t.highlightFormatting&&(W.formatting="strikethrough");var tr=be(W);return W.strikethrough=!1,tr}else if(K.match(/^[^\s]/,!1))return W.strikethrough=!0,t.highlightFormatting&&(W.formatting="strikethrough"),be(W)}else if(et===" "&&K.match("~~",!0)){if(K.peek()===" ")return be(W);K.backUp(2)}}if(t.emoji&&et===":"&&K.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){W.emoji=!0,t.highlightFormatting&&(W.formatting="emoji");var It=be(W);return W.emoji=!1,It}return et===" "&&(K.match(/^ +$/,!1)?W.trailingSpace++:W.trailingSpace&&(W.trailingSpaceNewLine=!0)),be(W)}function R(K,W){var Ze=K.next();if(Ze===">"){W.f=W.inline=We,t.highlightFormatting&&(W.formatting="link");var ot=be(W);return ot?ot+=" ":ot="",ot+l.linkInline}return K.match(/^[^>]+/,!0),l.linkInline}function G(K,W){if(K.eatSpace())return null;var Ze=K.next();return Ze==="("||Ze==="["?(W.f=W.inline=Ce(Ze==="("?")":"]"),t.highlightFormatting&&(W.formatting="link-string"),W.linkHref=!0,be(W)):"error"}var ae={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Ce(K){return function(W,Ze){var ot=W.next();if(ot===K){Ze.f=Ze.inline=We,t.highlightFormatting&&(Ze.formatting="link-string");var et=be(Ze);return Ze.linkHref=!1,et}return W.match(ae[K]),Ze.linkHref=!0,be(Ze)}}function re(K,W){return K.match(/^([^\]\\]|\\.)*\]:/,!1)?(W.f=ie,K.next(),t.highlightFormatting&&(W.formatting="link"),W.linkText=!0,be(W)):J(K,W,We)}function ie(K,W){if(K.match("]:",!0)){W.f=W.inline=pe,t.highlightFormatting&&(W.formatting="link");var Ze=be(W);return W.linkText=!1,Ze}return K.match(/^([^\]\\]|\\.)+/,!0),l.linkText}function pe(K,W){return K.eatSpace()?null:(K.match(/^[^\s]+/,!0),K.peek()===void 0?W.linkTitle=!0:K.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),W.f=W.inline=We,l.linkHref+" url")}var je={startState:function(){return{f:ne,prevLine:{stream:null},thisLine:{stream:null},block:ne,htmlState:null,indentation:0,inline:We,text:xe,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(K){return{f:K.f,prevLine:K.prevLine,thisLine:K.thisLine,block:K.block,htmlState:K.htmlState&&r.copyState(n,K.htmlState),indentation:K.indentation,localMode:K.localMode,localState:K.localMode?r.copyState(K.localMode,K.localState):null,inline:K.inline,text:K.text,formatting:!1,linkText:K.linkText,linkTitle:K.linkTitle,linkHref:K.linkHref,code:K.code,em:K.em,strong:K.strong,strikethrough:K.strikethrough,emoji:K.emoji,header:K.header,setext:K.setext,hr:K.hr,taskList:K.taskList,list:K.list,listStack:K.listStack.slice(0),quote:K.quote,indentedCode:K.indentedCode,trailingSpace:K.trailingSpace,trailingSpaceNewLine:K.trailingSpaceNewLine,md_inside:K.md_inside,fencedEndRE:K.fencedEndRE}},token:function(K,W){if(W.formatting=!1,K!=W.thisLine.stream){if(W.header=0,W.hr=!1,K.match(/^\s*$/,!0))return me(W),null;if(W.prevLine=W.thisLine,W.thisLine={stream:K},W.taskList=!1,W.trailingSpace=0,W.trailingSpaceNewLine=!1,!W.localState&&(W.f=W.block,W.f!=de)){var Ze=K.match(/^\s*/,!0)[0].replace(/\t/g,Y).length;if(W.indentation=Ze,W.indentationDiff=null,Ze>0)return null}}return W.f(K,W)},innerMode:function(K){return K.block==de?{state:K.htmlState,mode:n}:K.localState?{state:K.localState,mode:K.localMode}:{state:K,mode:je}},indent:function(K,W,Ze){return K.block==de&&n.indent?n.indent(K.htmlState,W,Ze):K.localState&&K.localMode.indent?K.localMode.indent(K.localState,W,Ze):r.Pass},blankLine:me,getType:be,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return je},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})});var Pz=fe(($fe,Gfe)=>{(function(r){typeof $fe=="object"&&typeof Gfe=="object"?r(Dc()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.overlayMode=function(e,t,n){return{startState:function(){return{base:r.startState(e),overlay:r.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:r.copyState(e,i.base),overlay:r.copyState(t,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(i,a){return(i!=a.streamSeen||Math.min(a.basePos,a.overlayPos)<i.start)&&(a.streamSeen=i,a.basePos=a.overlayPos=i.start),i.start==a.basePos&&(a.baseCur=e.token(i,a.base),a.basePos=i.pos),i.start==a.overlayPos&&(i.pos=i.start,a.overlayCur=t.token(i,a.overlay),a.overlayPos=i.pos),i.pos=Math.min(a.basePos,a.overlayPos),a.overlayCur==null?a.baseCur:a.baseCur!=null&&a.overlay.combineTokens||n&&a.overlay.combineTokens==null?a.baseCur+" "+a.overlayCur:a.overlayCur},indent:e.indent&&function(i,a,l){return e.indent(i.base,a,l)},electricChars:e.electricChars,innerMode:function(i){return{state:i.base,mode:e}},blankLine:function(i){var a,l;return e.blankLine&&(a=e.blankLine(i.base)),t.blankLine&&(l=t.blankLine(i.overlay)),l==null?a:n&&a!=null?a+" "+l:l}}}})});var Zfe=fe((Kfe,Yfe)=>{(function(r){typeof Kfe=="object"&&typeof Yfe=="object"?r(Dc()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){r.defineOption("placeholder","",function(h,b,S){var E=S&&S!=r.Init;if(b&&!E)h.on("blur",i),h.on("change",a),h.on("swapDoc",a),r.on(h.getInputField(),"compositionupdate",h.state.placeholderCompose=function(){n(h)}),a(h);else if(!b&&E){h.off("blur",i),h.off("change",a),h.off("swapDoc",a),r.off(h.getInputField(),"compositionupdate",h.state.placeholderCompose),e(h);var O=h.getWrapperElement();O.className=O.className.replace(" CodeMirror-empty","")}b&&!h.hasFocus()&&i(h)});function e(h){h.state.placeholder&&(h.state.placeholder.parentNode.removeChild(h.state.placeholder),h.state.placeholder=null)}function t(h){e(h);var b=h.state.placeholder=document.createElement("pre");b.style.cssText="height: 0; overflow: visible",b.style.direction=h.getOption("direction"),b.className="CodeMirror-placeholder CodeMirror-line-like";var S=h.getOption("placeholder");typeof S=="string"&&(S=document.createTextNode(S)),b.appendChild(S),h.display.lineSpace.insertBefore(b,h.display.lineSpace.firstChild)}function n(h){setTimeout(function(){var b=!1;if(h.lineCount()==1){var S=h.getInputField();b=S.nodeName=="TEXTAREA"?!h.getLine(0).length:!/[^\u200b]/.test(S.querySelector(".CodeMirror-line").textContent)}b?t(h):e(h)},20)}function i(h){l(h)&&t(h)}function a(h){var b=h.getWrapperElement(),S=l(h);b.className=b.className.replace(" CodeMirror-empty","")+(S?" CodeMirror-empty":""),S?t(h):e(h)}function l(h){return h.lineCount()===1&&h.getLine(0)===""}})});var Qfe=fe((Xfe,Jfe)=>{(function(r){typeof Xfe=="object"&&typeof Jfe=="object"?r(Dc()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineOption("autoRefresh",!1,function(n,i){n.state.autoRefresh&&(t(n,n.state.autoRefresh),n.state.autoRefresh=null),i&&n.display.wrapper.offsetHeight==0&&e(n,n.state.autoRefresh={delay:i.delay||250})});function e(n,i){function a(){n.display.wrapper.offsetHeight?(t(n,i),n.display.lastWrapHeight!=n.display.wrapper.clientHeight&&n.refresh()):i.timeout=setTimeout(a,i.delay)}i.timeout=setTimeout(a,i.delay),i.hurry=function(){clearTimeout(i.timeout),i.timeout=setTimeout(a,50)},r.on(window,"mouseup",i.hurry),r.on(window,"keyup",i.hurry)}function t(n,i){clearTimeout(i.timeout),r.off(window,"mouseup",i.hurry),r.off(window,"keyup",i.hurry)}})});var rhe=fe((ehe,the)=>{(function(r){typeof ehe=="object"&&typeof the=="object"?r(Dc()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineOption("styleSelectedText",!1,function(E,O,P){var q=P&&P!=r.Init;O&&!q?(E.state.markedSelection=[],E.state.markedSelectionStyle=typeof O=="string"?O:"CodeMirror-selectedtext",b(E),E.on("cursorActivity",e),E.on("change",t)):!O&&q&&(E.off("cursorActivity",e),E.off("change",t),h(E),E.state.markedSelection=E.state.markedSelectionStyle=null)});function e(E){E.state.markedSelection&&E.operation(function(){S(E)})}function t(E){E.state.markedSelection&&E.state.markedSelection.length&&E.operation(function(){h(E)})}var n=8,i=r.Pos,a=r.cmpPos;function l(E,O,P,q){if(a(O,P)!=0)for(var z=E.state.markedSelection,N=E.state.markedSelectionStyle,V=O.line;;){var Y=V==O.line?O:i(V,0),J=V+n,se=J>=P.line,_=se?P:i(J,0),me=E.markText(Y,_,{className:N});if(q==null?z.push(me):z.splice(q++,0,me),se)break;V=J}}function h(E){for(var O=E.state.markedSelection,P=0;P<O.length;++P)O[P].clear();O.length=0}function b(E){h(E);for(var O=E.listSelections(),P=0;P<O.length;P++)l(E,O[P].from(),O[P].to())}function S(E){if(!E.somethingSelected())return h(E);if(E.listSelections().length>1)return b(E);var O=E.getCursor("start"),P=E.getCursor("end"),q=E.state.markedSelection;if(!q.length)return l(E,O,P);var z=q[0].find(),N=q[q.length-1].find();if(!z||!N||P.line-O.line<=n||a(O,N.to)>=0||a(P,z.from)<=0)return b(E);for(;a(O,z.from)>0;)q.shift().clear(),z=q[0].find();for(a(O,z.from)<0&&(z.to.line-O.line<n?(q.shift().clear(),l(E,O,z.to,0)):l(E,O,z.from,0));a(P,N.to)<0;)q.pop().clear(),N=q[q.length-1].find();a(P,N.to)>0&&(P.line-N.from.line<n?(q.pop().clear(),l(E,N.from,P)):l(E,N.to,P))}})});var ohe=fe((nhe,ihe)=>{(function(r){typeof nhe=="object"&&typeof ihe=="object"?r(Dc()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";var e=r.Pos;function t(V){var Y=V.flags;return Y??(V.ignoreCase?"i":"")+(V.global?"g":"")+(V.multiline?"m":"")}function n(V,Y){for(var J=t(V),se=J,_=0;_<Y.length;_++)se.indexOf(Y.charAt(_))==-1&&(se+=Y.charAt(_));return J==se?V:new RegExp(V.source,se)}function i(V){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(V.source)}function a(V,Y,J){Y=n(Y,"g");for(var se=J.line,_=J.ch,me=V.lastLine();se<=me;se++,_=0){Y.lastIndex=_;var ne=V.getLine(se),de=Y.exec(ne);if(de)return{from:e(se,de.index),to:e(se,de.index+de[0].length),match:de}}}function l(V,Y,J){if(!i(Y))return a(V,Y,J);Y=n(Y,"gm");for(var se,_=1,me=J.line,ne=V.lastLine();me<=ne;){for(var de=0;de<_&&!(me>ne);de++){var he=V.getLine(me++);se=se==null?he:se+`
`+he}_=_*2,Y.lastIndex=J.ch;var be=Y.exec(se);if(be){var xe=se.slice(0,be.index).split(`
`),We=be[0].split(`
`),R=J.line+xe.length-1,G=xe[xe.length-1].length;return{from:e(R,G),to:e(R+We.length-1,We.length==1?G+We[0].length:We[We.length-1].length),match:be}}}}function h(V,Y,J){for(var se,_=0;_<=V.length;){Y.lastIndex=_;var me=Y.exec(V);if(!me)break;var ne=me.index+me[0].length;if(ne>V.length-J)break;(!se||ne>se.index+se[0].length)&&(se=me),_=me.index+1}return se}function b(V,Y,J){Y=n(Y,"g");for(var se=J.line,_=J.ch,me=V.firstLine();se>=me;se--,_=-1){var ne=V.getLine(se),de=h(ne,Y,_<0?0:ne.length-_);if(de)return{from:e(se,de.index),to:e(se,de.index+de[0].length),match:de}}}function S(V,Y,J){if(!i(Y))return b(V,Y,J);Y=n(Y,"gm");for(var se,_=1,me=V.getLine(J.line).length-J.ch,ne=J.line,de=V.firstLine();ne>=de;){for(var he=0;he<_&&ne>=de;he++){var be=V.getLine(ne--);se=se==null?be:be+`
`+se}_*=2;var xe=h(se,Y,me);if(xe){var We=se.slice(0,xe.index).split(`
`),R=xe[0].split(`
`),G=ne+We.length,ae=We[We.length-1].length;return{from:e(G,ae),to:e(G+R.length-1,R.length==1?ae+R[0].length:R[R.length-1].length),match:xe}}}}var E,O;String.prototype.normalize?(E=function(V){return V.normalize("NFD").toLowerCase()},O=function(V){return V.normalize("NFD")}):(E=function(V){return V.toLowerCase()},O=function(V){return V});function P(V,Y,J,se){if(V.length==Y.length)return J;for(var _=0,me=J+Math.max(0,V.length-Y.length);;){if(_==me)return _;var ne=_+me>>1,de=se(V.slice(0,ne)).length;if(de==J)return ne;de>J?me=ne:_=ne+1}}function q(V,Y,J,se){if(!Y.length)return null;var _=se?E:O,me=_(Y).split(/\r|\n\r?/);e:for(var ne=J.line,de=J.ch,he=V.lastLine()+1-me.length;ne<=he;ne++,de=0){var be=V.getLine(ne).slice(de),xe=_(be);if(me.length==1){var We=xe.indexOf(me[0]);if(We==-1)continue e;var J=P(be,xe,We,_)+de;return{from:e(ne,P(be,xe,We,_)+de),to:e(ne,P(be,xe,We+me[0].length,_)+de)}}else{var R=xe.length-me[0].length;if(xe.slice(R)!=me[0])continue e;for(var G=1;G<me.length-1;G++)if(_(V.getLine(ne+G))!=me[G])continue e;var ae=V.getLine(ne+me.length-1),Ce=_(ae),re=me[me.length-1];if(Ce.slice(0,re.length)!=re)continue e;return{from:e(ne,P(be,xe,R,_)+de),to:e(ne+me.length-1,P(ae,Ce,re.length,_))}}}}function z(V,Y,J,se){if(!Y.length)return null;var _=se?E:O,me=_(Y).split(/\r|\n\r?/);e:for(var ne=J.line,de=J.ch,he=V.firstLine()-1+me.length;ne>=he;ne--,de=-1){var be=V.getLine(ne);de>-1&&(be=be.slice(0,de));var xe=_(be);if(me.length==1){var We=xe.lastIndexOf(me[0]);if(We==-1)continue e;return{from:e(ne,P(be,xe,We,_)),to:e(ne,P(be,xe,We+me[0].length,_))}}else{var R=me[me.length-1];if(xe.slice(0,R.length)!=R)continue e;for(var G=1,J=ne-me.length+1;G<me.length-1;G++)if(_(V.getLine(J+G))!=me[G])continue e;var ae=V.getLine(ne+1-me.length),Ce=_(ae);if(Ce.slice(Ce.length-me[0].length)!=me[0])continue e;return{from:e(ne+1-me.length,P(ae,Ce,ae.length-me[0].length,_)),to:e(ne,P(be,xe,R.length,_))}}}}function N(V,Y,J,se){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=V,J=J?V.clipPos(J):e(0,0),this.pos={from:J,to:J};var _;typeof se=="object"?_=se.caseFold:(_=se,se=null),typeof Y=="string"?(_==null&&(_=!1),this.matches=function(me,ne){return(me?z:q)(V,Y,ne,_)}):(Y=n(Y,"gm"),!se||se.multiline!==!1?this.matches=function(me,ne){return(me?S:l)(V,Y,ne)}:this.matches=function(me,ne){return(me?b:a)(V,Y,ne)})}N.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(V){var Y=this.doc.clipPos(V?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(Y=e(Y.line,Y.ch),V?(Y.ch--,Y.ch<0&&(Y.line--,Y.ch=(this.doc.getLine(Y.line)||"").length)):(Y.ch++,Y.ch>(this.doc.getLine(Y.line)||"").length&&(Y.ch=0,Y.line++)),r.cmpPos(Y,this.doc.clipPos(Y))!=0))return this.atOccurrence=!1;var J=this.matches(V,Y);if(this.afterEmptyMatch=J&&r.cmpPos(J.from,J.to)==0,J)return this.pos=J,this.atOccurrence=!0,this.pos.match||!0;var se=e(V?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:se,to:se},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(V,Y){if(!!this.atOccurrence){var J=r.splitLines(V);this.doc.replaceRange(J,this.pos.from,this.pos.to,Y),this.pos.to=e(this.pos.from.line+J.length-1,J[J.length-1].length+(J.length==1?this.pos.from.ch:0))}}},r.defineExtension("getSearchCursor",function(V,Y,J){return new N(this.doc,V,Y,J)}),r.defineDocExtension("getSearchCursor",function(V,Y,J){return new N(this,V,Y,J)}),r.defineExtension("selectMatches",function(V,Y){for(var J=[],se=this.getSearchCursor(V,this.getCursor("from"),Y);se.findNext()&&!(r.cmpPos(se.to(),this.getCursor("to"))>0);)J.push({anchor:se.from(),head:se.to()});J.length&&this.setSelections(J,0)})})});var lhe=fe((ahe,she)=>{(function(r){typeof ahe=="object"&&typeof she=="object"?r(Dc(),Mz(),Pz()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],r):r(CodeMirror)})(function(r){"use strict";var e=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;r.defineMode("gfm",function(t,n){var i=0;function a(S){return S.code=!1,null}var l={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(S){return{code:S.code,codeBlock:S.codeBlock,ateSpace:S.ateSpace}},token:function(S,E){if(E.combineTokens=null,E.codeBlock)return S.match(/^```+/)?(E.codeBlock=!1,null):(S.skipToEnd(),null);if(S.sol()&&(E.code=!1),S.sol()&&S.match(/^```+/))return S.skipToEnd(),E.codeBlock=!0,null;if(S.peek()==="`"){S.next();var O=S.pos;S.eatWhile("`");var P=1+S.pos-O;return E.code?P===i&&(E.code=!1):(i=P,E.code=!0),null}else if(E.code)return S.next(),null;if(S.eatSpace())return E.ateSpace=!0,null;if((S.sol()||E.ateSpace)&&(E.ateSpace=!1,n.gitHubSpice!==!1)){if(S.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return E.combineTokens=!0,"link";if(S.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return E.combineTokens=!0,"link"}return S.match(e)&&S.string.slice(S.start-2,S.start)!="]("&&(S.start==0||/\W/.test(S.string.charAt(S.start-1)))?(E.combineTokens=!0,"link"):(S.next(),null)},blankLine:a},h={taskLists:!0,strikethrough:!0,emoji:!0};for(var b in n)h[b]=n[b];return h.name="markdown",r.overlayMode(r.getMode(t,h),l)},"markdown"),r.defineMIME("text/x-gfm","gfm")})});var uhe=fe(()=>{});var che=fe(($Ot,Rz)=>{var Lz;(function(){"use strict";Lz=function(r,e,t,n){n=n||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=n.flags||{},this.memoized={},this.loaded=!1;var i=this,a,l,h,b,S;r&&(i.dictionary=r,e&&t?q():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(n.dictionaryPath?a=n.dictionaryPath:a="typo/dictionaries",e||E(chrome.extension.getURL(a+"/"+r+"/"+r+".aff"),O),t||E(chrome.extension.getURL(a+"/"+r+"/"+r+".dic"),P)):(n.dictionaryPath?a=n.dictionaryPath:typeof __dirname<"u"?a=__dirname+"/dictionaries":a="./dictionaries",e||E(a+"/"+r+"/"+r+".aff",O),t||E(a+"/"+r+"/"+r+".dic",P)));function E(z,N){var V=i._readFile(z,null,n.asyncLoad);n.asyncLoad?V.then(function(Y){N(Y)}):N(V)}function O(z){e=z,t&&q()}function P(z){t=z,e&&q()}function q(){for(i.rules=i._parseAFF(e),i.compoundRuleCodes={},l=0,b=i.compoundRules.length;l<b;l++){var z=i.compoundRules[l];for(h=0,S=z.length;h<S;h++)i.compoundRuleCodes[z[h]]=[]}"ONLYINCOMPOUND"in i.flags&&(i.compoundRuleCodes[i.flags.ONLYINCOMPOUND]=[]),i.dictionaryTable=i._parseDIC(t);for(l in i.compoundRuleCodes)i.compoundRuleCodes[l].length===0&&delete i.compoundRuleCodes[l];for(l=0,b=i.compoundRules.length;l<b;l++){var N=i.compoundRules[l],V="";for(h=0,S=N.length;h<S;h++){var Y=N[h];Y in i.compoundRuleCodes?V+="("+i.compoundRuleCodes[Y].join("|")+")":V+=Y}i.compoundRules[l]=new RegExp(V,"i")}i.loaded=!0,n.asyncLoad&&n.loadedCallback&&n.loadedCallback(i)}return this},Lz.prototype={load:function(r){for(var e in r)r.hasOwnProperty(e)&&(this[e]=r[e]);return this},_readFile:function(r,e,t){if(e=e||"utf8",typeof XMLHttpRequest<"u"){var n,i=new XMLHttpRequest;return i.open("GET",r,t),t&&(n=new Promise(function(l,h){i.onload=function(){i.status===200?l(i.responseText):h(i.statusText)},i.onerror=function(){h(i.statusText)}})),i.overrideMimeType&&i.overrideMimeType("text/plain; charset="+e),i.send(null),t?n:i.responseText}else if(typeof q5<"u"){var a=uhe();try{if(a.existsSync(r))return a.readFileSync(r,e);console.log("Path "+r+" does not exist.")}catch(l){return console.log(l),""}}},_parseAFF:function(r){var e={},t,n,i,a,l,h,b,S;r=this._removeAffixComments(r);var E=r.split(/\r?\n/);for(l=0,b=E.length;l<b;l++){t=E[l];var O=t.split(/\s+/),P=O[0];if(P=="PFX"||P=="SFX"){var q=O[1],z=O[2];i=parseInt(O[3],10);var N=[];for(h=l+1,S=l+1+i;h<S;h++){n=E[h],a=n.split(/\s+/);var V=a[2],Y=a[3].split("/"),J=Y[0];J==="0"&&(J="");var se=this.parseRuleCodes(Y[1]),_=a[4],me={};me.add=J,se.length>0&&(me.continuationClasses=se),_!=="."&&(P==="SFX"?me.match=new RegExp(_+"$"):me.match=new RegExp("^"+_)),V!="0"&&(P==="SFX"?me.remove=new RegExp(V+"$"):me.remove=V),N.push(me)}e[q]={type:P,combineable:z=="Y",entries:N},l+=i}else if(P==="COMPOUNDRULE"){for(i=parseInt(O[1],10),h=l+1,S=l+1+i;h<S;h++)t=E[h],a=t.split(/\s+/),this.compoundRules.push(a[1]);l+=i}else P==="REP"?(a=t.split(/\s+/),a.length===3&&this.replacementTable.push([a[1],a[2]])):this.flags[P]=O[1]}return e},_removeAffixComments:function(r){return r=r.replace(/^\s*#.*$/mg,""),r=r.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),r=r.replace(/\n{2,}/g,`
`),r=r.replace(/^\s\s*/,"").replace(/\s\s*$/,""),r},_parseDIC:function(r){r=this._removeDicComments(r);var e=r.split(/\r?\n/),t={};function n(be,xe){t.hasOwnProperty(be)||(t[be]=null),xe.length>0&&(t[be]===null&&(t[be]=[]),t[be].push(xe))}for(var i=1,a=e.length;i<a;i++){var l=e[i];if(!!l){var h=l.split("/",2),b=h[0];if(h.length>1){var S=this.parseRuleCodes(h[1]);(!("NEEDAFFIX"in this.flags)||S.indexOf(this.flags.NEEDAFFIX)==-1)&&n(b,S);for(var E=0,O=S.length;E<O;E++){var P=S[E],q=this.rules[P];if(q)for(var z=this._applyRule(b,q),N=0,V=z.length;N<V;N++){var Y=z[N];if(n(Y,[]),q.combineable)for(var J=E+1;J<O;J++){var se=S[J],_=this.rules[se];if(_&&_.combineable&&q.type!=_.type)for(var me=this._applyRule(Y,_),ne=0,de=me.length;ne<de;ne++){var he=me[ne];n(he,[])}}}P in this.compoundRuleCodes&&this.compoundRuleCodes[P].push(b)}}else n(b.trim(),[])}}return t},_removeDicComments:function(r){return r=r.replace(/^\t.*$/mg,""),r},parseRuleCodes:function(r){if(r)if("FLAG"in this.flags){if(this.flags.FLAG==="long"){for(var e=[],t=0,n=r.length;t<n;t+=2)e.push(r.substr(t,2));return e}else if(this.flags.FLAG==="num")return r.split(",")}else return r.split("");else return[]},_applyRule:function(r,e){for(var t=e.entries,n=[],i=0,a=t.length;i<a;i++){var l=t[i];if(!l.match||r.match(l.match)){var h=r;if(l.remove&&(h=h.replace(l.remove,"")),e.type==="SFX"?h=h+l.add:h=l.add+h,n.push(h),"continuationClasses"in l)for(var b=0,S=l.continuationClasses.length;b<S;b++){var E=this.rules[l.continuationClasses[b]];E&&(n=n.concat(this._applyRule(h,E)))}}}return n},check:function(r){if(!this.loaded)throw"Dictionary not loaded.";var e=r.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(e))return!0;if(e.toUpperCase()===e){var t=e[0]+e.substring(1).toLowerCase();if(this.hasFlag(t,"KEEPCASE"))return!1;if(this.checkExact(t)||this.checkExact(e.toLowerCase()))return!0}var n=e[0].toLowerCase()+e.substring(1);if(n!==e){if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}return!1},checkExact:function(r){if(!this.loaded)throw"Dictionary not loaded.";var e=this.dictionaryTable[r],t,n;if(typeof e>"u"){if("COMPOUNDMIN"in this.flags&&r.length>=this.flags.COMPOUNDMIN){for(t=0,n=this.compoundRules.length;t<n;t++)if(r.match(this.compoundRules[t]))return!0}}else{if(e===null)return!0;if(typeof e=="object"){for(t=0,n=e.length;t<n;t++)if(!this.hasFlag(r,"ONLYINCOMPOUND",e[t]))return!0}}return!1},hasFlag:function(r,e,t){if(!this.loaded)throw"Dictionary not loaded.";return!!(e in this.flags&&(typeof t>"u"&&(t=Array.prototype.concat.apply([],this.dictionaryTable[r])),t&&t.indexOf(this.flags[e])!==-1))},alphabet:"",suggest:function(r,e){if(!this.loaded)throw"Dictionary not loaded.";if(e=e||5,this.memoized.hasOwnProperty(r)){var t=this.memoized[r].limit;if(e<=t||this.memoized[r].suggestions.length<t)return this.memoized[r].suggestions.slice(0,e)}if(this.check(r))return[];for(var n=0,i=this.replacementTable.length;n<i;n++){var a=this.replacementTable[n];if(r.indexOf(a[0])!==-1){var l=r.replace(a[0],a[1]);if(this.check(l))return[l]}}var h=this;h.alphabet="abcdefghijklmnopqrstuvwxyz";function b(E,O){var P={},q,z,N,V,Y,J,se=h.alphabet.length;if(typeof E=="string"){var _=E;E={},E[_]=!0}for(var _ in E)for(q=0,V=_.length+1;q<V;q++){var me=[_.substring(0,q),_.substring(q)];if(me[1]&&(J=me[0]+me[1].substring(1),(!O||h.check(J))&&(J in P?P[J]+=1:P[J]=1)),me[1].length>1&&me[1][1]!==me[1][0]&&(J=me[0]+me[1][1]+me[1][0]+me[1].substring(2),(!O||h.check(J))&&(J in P?P[J]+=1:P[J]=1)),me[1]){var ne=me[1].substring(0,1).toUpperCase()===me[1].substring(0,1)?"uppercase":"lowercase";for(z=0;z<se;z++){var de=h.alphabet[z];ne==="uppercase"&&(de=de.toUpperCase()),de!=me[1].substring(0,1)&&(J=me[0]+de+me[1].substring(1),(!O||h.check(J))&&(J in P?P[J]+=1:P[J]=1))}}if(me[1])for(z=0;z<se;z++){var ne=me[0].substring(-1).toUpperCase()===me[0].substring(-1)&&me[1].substring(0,1).toUpperCase()===me[1].substring(0,1)?"uppercase":"lowercase",de=h.alphabet[z];ne==="uppercase"&&(de=de.toUpperCase()),J=me[0]+de+me[1],(!O||h.check(J))&&(J in P?P[J]+=1:P[J]=1)}}return P}function S(E){var O=b(E),P=b(O,!0),q=P;for(var z in O)!h.check(z)||(z in q?q[z]+=O[z]:q[z]=O[z]);var N,V,Y=[];for(N in q)q.hasOwnProperty(N)&&Y.push([N,q[N]]);function J(ne,de){var he=ne[1],be=de[1];return he<be?-1:he>be?1:de[0].localeCompare(ne[0])}Y.sort(J).reverse();var se=[],_="lowercase";E.toUpperCase()===E?_="uppercase":E.substr(0,1).toUpperCase()+E.substr(1).toLowerCase()===E&&(_="capitalized");var me=e;for(N=0;N<Math.min(me,Y.length);N++)_==="uppercase"?Y[N][0]=Y[N][0].toUpperCase():_==="capitalized"&&(Y[N][0]=Y[N][0].substr(0,1).toUpperCase()+Y[N][0].substr(1)),!h.hasFlag(Y[N][0],"NOSUGGEST")&&se.indexOf(Y[N][0])==-1?se.push(Y[N][0]):me++;return se}return this.memoized[r]={suggestions:S(r),limit:e},this.memoized[r].suggestions}}})();typeof Rz<"u"&&(Rz.exports=Lz)});var dhe=fe((GOt,hhe)=>{"use strict";var fhe=che();function ba(r){if(r=r||{},typeof r.codeMirrorInstance!="function"||typeof r.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){"use strict";return String.prototype.indexOf.apply(this,arguments)!==-1}),r.codeMirrorInstance.defineMode("spell-checker",function(e){if(!ba.aff_loading){ba.aff_loading=!0;var t=new XMLHttpRequest;t.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),t.onload=function(){t.readyState===4&&t.status===200&&(ba.aff_data=t.responseText,ba.num_loaded++,ba.num_loaded==2&&(ba.typo=new fhe("en_US",ba.aff_data,ba.dic_data,{platform:"any"})))},t.send(null)}if(!ba.dic_loading){ba.dic_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),n.onload=function(){n.readyState===4&&n.status===200&&(ba.dic_data=n.responseText,ba.num_loaded++,ba.num_loaded==2&&(ba.typo=new fhe("en_US",ba.aff_data,ba.dic_data,{platform:"any"})))},n.send(null)}var i='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(h){var b=h.peek(),S="";if(i.includes(b))return h.next(),null;for(;(b=h.peek())!=null&&!i.includes(b);)S+=b,h.next();return ba.typo&&!ba.typo.check(S)?"spell-error":null}},l=r.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return r.codeMirrorInstance.overlayMode(l,a,!0)})}ba.num_loaded=0;ba.aff_loading=!1;ba.dic_loading=!1;ba.aff_data="";ba.dic_data="";ba.typo;hhe.exports=ba});var Ehe=fe(Jo=>{"use strict";function phe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,irt(n.key),n)}}function trt(r,e,t){return e&&phe(r.prototype,e),t&&phe(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function ff(){return ff=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ff.apply(this,arguments)}function rrt(r,e){if(!!r){if(typeof r=="string")return mhe(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mhe(r,e)}}function mhe(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function $A(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t)return(t=t.call(r)).next.bind(t);if(Array.isArray(r)||(t=rrt(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0;return function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nrt(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function irt(r){var e=nrt(r,"string");return typeof e=="symbol"?e:String(e)}function Fz(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Jo.defaults=Fz();function ort(r){Jo.defaults=r}var whe=/[&<>"']/,art=new RegExp(whe.source,"g"),She=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,srt=new RegExp(She.source,"g"),lrt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ghe=function(e){return lrt[e]};function Eu(r,e){if(e){if(whe.test(r))return r.replace(art,ghe)}else if(She.test(r))return r.replace(srt,ghe);return r}var urt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function khe(r){return r.replace(urt,function(e,t){return t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}var crt=/(^|[^\[])\^/g;function jo(r,e){r=typeof r=="string"?r:r.source,e=e||"";var t={replace:function(i,a){return a=a.source||a,a=a.replace(crt,"$1"),r=r.replace(i,a),t},getRegex:function(){return new RegExp(r,e)}};return t}var frt=/[^\w:]/g,hrt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function vhe(r,e,t){if(r){var n;try{n=decodeURIComponent(khe(t)).replace(frt,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!hrt.test(t)&&(t=grt(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}var GA={},drt=/^[^:]+:\/*[^/]*$/,prt=/^([^:]+:)[\s\S]*$/,mrt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function grt(r,e){GA[" "+r]||(drt.test(r)?GA[" "+r]=r+"/":GA[" "+r]=KA(r,"/",!0)),r=GA[" "+r];var t=r.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:r.replace(prt,"$1")+e:e.charAt(0)==="/"?t?e:r.replace(mrt,"$1")+e:r+e}var YA={exec:function(){}};function yhe(r,e){var t=r.replace(/\|/g,function(a,l,h){for(var b=!1,S=l;--S>=0&&h[S]==="\\";)b=!b;return b?"|":" |"}),n=t.split(/ \|/),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function KA(r,e,t){var n=r.length;if(n===0)return"";for(var i=0;i<n;){var a=r.charAt(n-i-1);if(a===e&&!t)i++;else if(a!==e&&t)i++;else break}return r.slice(0,n-i)}function vrt(r,e){if(r.indexOf(e[1])===-1)return-1;for(var t=r.length,n=0,i=0;i<t;i++)if(r[i]==="\\")i++;else if(r[i]===e[0])n++;else if(r[i]===e[1]&&(n--,n<0))return i;return-1}function yrt(r){r&&r.sanitize&&!r.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function bhe(r,e){if(e<1)return"";for(var t="";e>1;)e&1&&(t+=r),e>>=1,r+=r;return t+r}function xhe(r,e,t,n){var i=e.href,a=e.title?Eu(e.title):null,l=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){n.state.inLink=!0;var h={type:"link",raw:t,href:i,title:a,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,h}return{type:"image",raw:t,href:i,title:a,text:Eu(l)}}function brt(r,e){var t=r.match(/^(\s+)(?:```)/);if(t===null)return e;var n=t[1];return e.split(`
`).map(function(i){var a=i.match(/^\s+/);if(a===null)return i;var l=a[0];return l.length>=n.length?i.slice(n.length):i}).join(`
`)}var ZA=function(){function r(t){this.options=t||Jo.defaults}var e=r.prototype;return e.space=function(n){var i=this.rules.block.newline.exec(n);if(i&&i[0].length>0)return{type:"space",raw:i[0]}},e.code=function(n){var i=this.rules.block.code.exec(n);if(i){var a=i[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?a:KA(a,`
`)}}},e.fences=function(n){var i=this.rules.block.fences.exec(n);if(i){var a=i[0],l=brt(a,i[3]||"");return{type:"code",raw:a,lang:i[2]?i[2].trim().replace(this.rules.inline._escapes,"$1"):i[2],text:l}}},e.heading=function(n){var i=this.rules.block.heading.exec(n);if(i){var a=i[2].trim();if(/#$/.test(a)){var l=KA(a,"#");(this.options.pedantic||!l||/ $/.test(l))&&(a=l.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:a,tokens:this.lexer.inline(a)}}},e.hr=function(n){var i=this.rules.block.hr.exec(n);if(i)return{type:"hr",raw:i[0]}},e.blockquote=function(n){var i=this.rules.block.blockquote.exec(n);if(i){var a=i[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;var h=this.lexer.blockTokens(a);return this.lexer.state.top=l,{type:"blockquote",raw:i[0],tokens:h,text:a}}},e.list=function(n){var i=this.rules.block.list.exec(n);if(i){var a,l,h,b,S,E,O,P,q,z,N,V,Y=i[1].trim(),J=Y.length>1,se={type:"list",raw:"",ordered:J,start:J?+Y.slice(0,-1):"",loose:!1,items:[]};Y=J?"\\d{1,9}\\"+Y.slice(-1):"\\"+Y,this.options.pedantic&&(Y=J?Y:"[*+-]");for(var _=new RegExp("^( {0,3}"+Y+")((?:[	 ][^\\n]*)?(?:\\n|$))");n&&(V=!1,!(!(i=_.exec(n))||this.rules.block.hr.test(n)));){if(a=i[0],n=n.substring(a.length),P=i[2].split(`
`,1)[0].replace(/^\t+/,function(R){return" ".repeat(3*R.length)}),q=n.split(`
`,1)[0],this.options.pedantic?(b=2,N=P.trimLeft()):(b=i[2].search(/[^ ]/),b=b>4?1:b,N=P.slice(b),b+=i[1].length),E=!1,!P&&/^ *$/.test(q)&&(a+=q+`
`,n=n.substring(q.length+1),V=!0),!V)for(var me=new RegExp("^ {0,"+Math.min(3,b-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),ne=new RegExp("^ {0,"+Math.min(3,b-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),de=new RegExp("^ {0,"+Math.min(3,b-1)+"}(?:```|~~~)"),he=new RegExp("^ {0,"+Math.min(3,b-1)+"}#");n&&(z=n.split(`
`,1)[0],q=z,this.options.pedantic&&(q=q.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(de.test(q)||he.test(q)||me.test(q)||ne.test(n)));){if(q.search(/[^ ]/)>=b||!q.trim())N+=`
`+q.slice(b);else{if(E||P.search(/[^ ]/)>=4||de.test(P)||he.test(P)||ne.test(P))break;N+=`
`+q}!E&&!q.trim()&&(E=!0),a+=z+`
`,n=n.substring(z.length+1),P=q.slice(b)}se.loose||(O?se.loose=!0:/\n *\n *$/.test(a)&&(O=!0)),this.options.gfm&&(l=/^\[[ xX]\] /.exec(N),l&&(h=l[0]!=="[ ] ",N=N.replace(/^\[[ xX]\] +/,""))),se.items.push({type:"list_item",raw:a,task:!!l,checked:h,loose:!1,text:N}),se.raw+=a}se.items[se.items.length-1].raw=a.trimRight(),se.items[se.items.length-1].text=N.trimRight(),se.raw=se.raw.trimRight();var be=se.items.length;for(S=0;S<be;S++)if(this.lexer.state.top=!1,se.items[S].tokens=this.lexer.blockTokens(se.items[S].text,[]),!se.loose){var xe=se.items[S].tokens.filter(function(R){return R.type==="space"}),We=xe.length>0&&xe.some(function(R){return/\n.*\n/.test(R.raw)});se.loose=We}if(se.loose)for(S=0;S<be;S++)se.items[S].loose=!0;return se}},e.html=function(n){var i=this.rules.block.html.exec(n);if(i){var a={type:"html",raw:i[0],pre:!this.options.sanitizer&&(i[1]==="pre"||i[1]==="script"||i[1]==="style"),text:i[0]};if(this.options.sanitize){var l=this.options.sanitizer?this.options.sanitizer(i[0]):Eu(i[0]);a.type="paragraph",a.text=l,a.tokens=this.lexer.inline(l)}return a}},e.def=function(n){var i=this.rules.block.def.exec(n);if(i){var a=i[1].toLowerCase().replace(/\s+/g," "),l=i[2]?i[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",h=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline._escapes,"$1"):i[3];return{type:"def",tag:a,raw:i[0],href:l,title:h}}},e.table=function(n){var i=this.rules.block.table.exec(n);if(i){var a={type:"table",header:yhe(i[1]).map(function(O){return{text:O}}),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:i[3]&&i[3].trim()?i[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(a.header.length===a.align.length){a.raw=i[0];var l=a.align.length,h,b,S,E;for(h=0;h<l;h++)/^ *-+: *$/.test(a.align[h])?a.align[h]="right":/^ *:-+: *$/.test(a.align[h])?a.align[h]="center":/^ *:-+ *$/.test(a.align[h])?a.align[h]="left":a.align[h]=null;for(l=a.rows.length,h=0;h<l;h++)a.rows[h]=yhe(a.rows[h],a.header.length).map(function(O){return{text:O}});for(l=a.header.length,b=0;b<l;b++)a.header[b].tokens=this.lexer.inline(a.header[b].text);for(l=a.rows.length,b=0;b<l;b++)for(E=a.rows[b],S=0;S<E.length;S++)E[S].tokens=this.lexer.inline(E[S].text);return a}}},e.lheading=function(n){var i=this.rules.block.lheading.exec(n);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}},e.paragraph=function(n){var i=this.rules.block.paragraph.exec(n);if(i){var a=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:a,tokens:this.lexer.inline(a)}}},e.text=function(n){var i=this.rules.block.text.exec(n);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}},e.escape=function(n){var i=this.rules.inline.escape.exec(n);if(i)return{type:"escape",raw:i[0],text:Eu(i[1])}},e.tag=function(n){var i=this.rules.inline.tag.exec(n);if(i)return!this.lexer.state.inLink&&/^<a /i.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Eu(i[0]):i[0]}},e.link=function(n){var i=this.rules.inline.link.exec(n);if(i){var a=i[2].trim();if(!this.options.pedantic&&/^</.test(a)){if(!/>$/.test(a))return;var l=KA(a.slice(0,-1),"\\");if((a.length-l.length)%2===0)return}else{var h=vrt(i[2],"()");if(h>-1){var b=i[0].indexOf("!")===0?5:4,S=b+i[1].length+h;i[2]=i[2].substring(0,h),i[0]=i[0].substring(0,S).trim(),i[3]=""}}var E=i[2],O="";if(this.options.pedantic){var P=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(E);P&&(E=P[1],O=P[3])}else O=i[3]?i[3].slice(1,-1):"";return E=E.trim(),/^</.test(E)&&(this.options.pedantic&&!/>$/.test(a)?E=E.slice(1):E=E.slice(1,-1)),xhe(i,{href:E&&E.replace(this.rules.inline._escapes,"$1"),title:O&&O.replace(this.rules.inline._escapes,"$1")},i[0],this.lexer)}},e.reflink=function(n,i){var a;if((a=this.rules.inline.reflink.exec(n))||(a=this.rules.inline.nolink.exec(n))){var l=(a[2]||a[1]).replace(/\s+/g," ");if(l=i[l.toLowerCase()],!l){var h=a[0].charAt(0);return{type:"text",raw:h,text:h}}return xhe(a,l,a[0],this.lexer)}},e.emStrong=function(n,i,a){a===void 0&&(a="");var l=this.rules.inline.emStrong.lDelim.exec(n);if(!!l&&!(l[3]&&a.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var h=l[1]||l[2]||"";if(!h||h&&(a===""||this.rules.inline.punctuation.exec(a))){var b=l[0].length-1,S,E,O=b,P=0,q=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(q.lastIndex=0,i=i.slice(-1*n.length+b);(l=q.exec(i))!=null;)if(S=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!!S){if(E=S.length,l[3]||l[4]){O+=E;continue}else if((l[5]||l[6])&&b%3&&!((b+E)%3)){P+=E;continue}if(O-=E,!(O>0)){E=Math.min(E,E+O+P);var z=n.slice(0,b+l.index+(l[0].length-S.length)+E);if(Math.min(b,E)%2){var N=z.slice(1,-1);return{type:"em",raw:z,text:N,tokens:this.lexer.inlineTokens(N)}}var V=z.slice(2,-2);return{type:"strong",raw:z,text:V,tokens:this.lexer.inlineTokens(V)}}}}}},e.codespan=function(n){var i=this.rules.inline.code.exec(n);if(i){var a=i[2].replace(/\n/g," "),l=/[^ ]/.test(a),h=/^ /.test(a)&&/ $/.test(a);return l&&h&&(a=a.substring(1,a.length-1)),a=Eu(a,!0),{type:"codespan",raw:i[0],text:a}}},e.br=function(n){var i=this.rules.inline.br.exec(n);if(i)return{type:"br",raw:i[0]}},e.del=function(n){var i=this.rules.inline.del.exec(n);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}},e.autolink=function(n,i){var a=this.rules.inline.autolink.exec(n);if(a){var l,h;return a[2]==="@"?(l=Eu(this.options.mangle?i(a[1]):a[1]),h="mailto:"+l):(l=Eu(a[1]),h=l),{type:"link",raw:a[0],text:l,href:h,tokens:[{type:"text",raw:l,text:l}]}}},e.url=function(n,i){var a;if(a=this.rules.inline.url.exec(n)){var l,h;if(a[2]==="@")l=Eu(this.options.mangle?i(a[0]):a[0]),h="mailto:"+l;else{var b;do b=a[0],a[0]=this.rules.inline._backpedal.exec(a[0])[0];while(b!==a[0]);l=Eu(a[0]),a[1]==="www."?h="http://"+a[0]:h=a[0]}return{type:"link",raw:a[0],text:l,href:h,tokens:[{type:"text",raw:l,text:l}]}}},e.inlineText=function(n,i){var a=this.rules.inline.text.exec(n);if(a){var l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):Eu(a[0]):a[0]:l=Eu(this.options.smartypants?i(a[0]):a[0]),{type:"text",raw:a[0],text:l}}},r}(),kn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:YA,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};kn._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;kn._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;kn.def=jo(kn.def).replace("label",kn._label).replace("title",kn._title).getRegex();kn.bullet=/(?:[*+-]|\d{1,9}[.)])/;kn.listItemStart=jo(/^( *)(bull) */).replace("bull",kn.bullet).getRegex();kn.list=jo(kn.list).replace(/bull/g,kn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+kn.def.source+")").getRegex();kn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";kn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;kn.html=jo(kn.html,"i").replace("comment",kn._comment).replace("tag",kn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();kn.paragraph=jo(kn._paragraph).replace("hr",kn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",kn._tag).getRegex();kn.blockquote=jo(kn.blockquote).replace("paragraph",kn.paragraph).getRegex();kn.normal=ff({},kn);kn.gfm=ff({},kn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});kn.gfm.table=jo(kn.gfm.table).replace("hr",kn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",kn._tag).getRegex();kn.gfm.paragraph=jo(kn._paragraph).replace("hr",kn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",kn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",kn._tag).getRegex();kn.pedantic=ff({},kn.normal,{html:jo(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",kn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:YA,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:jo(kn.normal._paragraph).replace("hr",kn.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",kn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ln={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:YA,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:YA,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ln._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";ln.punctuation=jo(ln.punctuation).replace(/punctuation/g,ln._punctuation).getRegex();ln.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;ln.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;ln._comment=jo(kn._comment).replace("(?:-->|$)","-->").getRegex();ln.emStrong.lDelim=jo(ln.emStrong.lDelim).replace(/punct/g,ln._punctuation).getRegex();ln.emStrong.rDelimAst=jo(ln.emStrong.rDelimAst,"g").replace(/punct/g,ln._punctuation).getRegex();ln.emStrong.rDelimUnd=jo(ln.emStrong.rDelimUnd,"g").replace(/punct/g,ln._punctuation).getRegex();ln._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ln._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ln._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;ln.autolink=jo(ln.autolink).replace("scheme",ln._scheme).replace("email",ln._email).getRegex();ln._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ln.tag=jo(ln.tag).replace("comment",ln._comment).replace("attribute",ln._attribute).getRegex();ln._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ln._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ln._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ln.link=jo(ln.link).replace("label",ln._label).replace("href",ln._href).replace("title",ln._title).getRegex();ln.reflink=jo(ln.reflink).replace("label",ln._label).replace("ref",kn._label).getRegex();ln.nolink=jo(ln.nolink).replace("ref",kn._label).getRegex();ln.reflinkSearch=jo(ln.reflinkSearch,"g").replace("reflink",ln.reflink).replace("nolink",ln.nolink).getRegex();ln.normal=ff({},ln);ln.pedantic=ff({},ln.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:jo(/^!?\[(label)\]\((.*?)\)/).replace("label",ln._label).getRegex(),reflink:jo(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ln._label).getRegex()});ln.gfm=ff({},ln.normal,{escape:jo(ln.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});ln.gfm.url=jo(ln.gfm.url,"i").replace("email",ln.gfm._extended_email).getRegex();ln.breaks=ff({},ln.gfm,{br:jo(ln.br).replace("{2,}","*").getRegex(),text:jo(ln.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function xrt(r){return r.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function _he(r){var e="",t,n,i=r.length;for(t=0;t<i;t++)n=r.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}var F0=function(){function r(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Jo.defaults,this.options.tokenizer=this.options.tokenizer||new ZA,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:kn.normal,inline:ln.normal};this.options.pedantic?(n.block=kn.pedantic,n.inline=ln.pedantic):this.options.gfm&&(n.block=kn.gfm,this.options.breaks?n.inline=ln.breaks:n.inline=ln.gfm),this.tokenizer.rules=n}r.lex=function(n,i){var a=new r(i);return a.lex(n)},r.lexInline=function(n,i){var a=new r(i);return a.inlineTokens(n)};var e=r.prototype;return e.lex=function(n){n=n.replace(/\r\n|\r/g,`
`),this.blockTokens(n,this.tokens);for(var i;i=this.inlineQueue.shift();)this.inlineTokens(i.src,i.tokens);return this.tokens},e.blockTokens=function(n,i){var a=this;i===void 0&&(i=[]),this.options.pedantic?n=n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n=n.replace(/^( *)(\t+)/gm,function(O,P,q){return P+"    ".repeat(q.length)});for(var l,h,b,S;n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(O){return(l=O.call({lexer:a},n,i))?(n=n.substring(l.raw.length),i.push(l),!0):!1}))){if(l=this.tokenizer.space(n)){n=n.substring(l.raw.length),l.raw.length===1&&i.length>0?i[i.length-1].raw+=`
`:i.push(l);continue}if(l=this.tokenizer.code(n)){n=n.substring(l.raw.length),h=i[i.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=h.text):i.push(l);continue}if(l=this.tokenizer.fences(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.heading(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.hr(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.blockquote(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.list(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.html(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.def(n)){n=n.substring(l.raw.length),h=i[i.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+l.raw,h.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=h.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.lheading(n)){n=n.substring(l.raw.length),i.push(l);continue}if(b=n,this.options.extensions&&this.options.extensions.startBlock&&function(){var O=1/0,P=n.slice(1),q=void 0;a.options.extensions.startBlock.forEach(function(z){q=z.call({lexer:this},P),typeof q=="number"&&q>=0&&(O=Math.min(O,q))}),O<1/0&&O>=0&&(b=n.substring(0,O+1))}(),this.state.top&&(l=this.tokenizer.paragraph(b))){h=i[i.length-1],S&&h.type==="paragraph"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):i.push(l),S=b.length!==n.length,n=n.substring(l.raw.length);continue}if(l=this.tokenizer.text(n)){n=n.substring(l.raw.length),h=i[i.length-1],h&&h.type==="text"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):i.push(l);continue}if(n){var E="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(E);break}else throw new Error(E)}}return this.state.top=!0,i},e.inline=function(n,i){return i===void 0&&(i=[]),this.inlineQueue.push({src:n,tokens:i}),i},e.inlineTokens=function(n,i){var a=this;i===void 0&&(i=[]);var l,h,b,S=n,E,O,P;if(this.tokens.links){var q=Object.keys(this.tokens.links);if(q.length>0)for(;(E=this.tokenizer.rules.inline.reflinkSearch.exec(S))!=null;)q.includes(E[0].slice(E[0].lastIndexOf("[")+1,-1))&&(S=S.slice(0,E.index)+"["+bhe("a",E[0].length-2)+"]"+S.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(E=this.tokenizer.rules.inline.blockSkip.exec(S))!=null;)S=S.slice(0,E.index)+"["+bhe("a",E[0].length-2)+"]"+S.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(E=this.tokenizer.rules.inline.escapedEmSt.exec(S))!=null;)S=S.slice(0,E.index+E[0].length-2)+"++"+S.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;n;)if(O||(P=""),O=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(N){return(l=N.call({lexer:a},n,i))?(n=n.substring(l.raw.length),i.push(l),!0):!1}))){if(l=this.tokenizer.escape(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.tag(n)){n=n.substring(l.raw.length),h=i[i.length-1],h&&l.type==="text"&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):i.push(l);continue}if(l=this.tokenizer.link(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(l.raw.length),h=i[i.length-1],h&&l.type==="text"&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):i.push(l);continue}if(l=this.tokenizer.emStrong(n,S,P)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.codespan(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.br(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.del(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.autolink(n,_he)){n=n.substring(l.raw.length),i.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(n,_he))){n=n.substring(l.raw.length),i.push(l);continue}if(b=n,this.options.extensions&&this.options.extensions.startInline&&function(){var N=1/0,V=n.slice(1),Y=void 0;a.options.extensions.startInline.forEach(function(J){Y=J.call({lexer:this},V),typeof Y=="number"&&Y>=0&&(N=Math.min(N,Y))}),N<1/0&&N>=0&&(b=n.substring(0,N+1))}(),l=this.tokenizer.inlineText(b,xrt)){n=n.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(P=l.raw.slice(-1)),O=!0,h=i[i.length-1],h&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):i.push(l);continue}if(n){var z="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(z);break}else throw new Error(z)}}return i},trt(r,null,[{key:"rules",get:function(){return{block:kn,inline:ln}}}]),r}(),XA=function(){function r(t){this.options=t||Jo.defaults}var e=r.prototype;return e.code=function(n,i,a){var l=(i||"").match(/\S*/)[0];if(this.options.highlight){var h=this.options.highlight(n,l);h!=null&&h!==n&&(a=!0,n=h)}return n=n.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+Eu(l)+'">'+(a?n:Eu(n,!0))+`</code></pre>
`:"<pre><code>"+(a?n:Eu(n,!0))+`</code></pre>
`},e.blockquote=function(n){return`<blockquote>
`+n+`</blockquote>
`},e.html=function(n){return n},e.heading=function(n,i,a,l){if(this.options.headerIds){var h=this.options.headerPrefix+l.slug(a);return"<h"+i+' id="'+h+'">'+n+"</h"+i+`>
`}return"<h"+i+">"+n+"</h"+i+`>
`},e.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},e.list=function(n,i,a){var l=i?"ol":"ul",h=i&&a!==1?' start="'+a+'"':"";return"<"+l+h+`>
`+n+"</"+l+`>
`},e.listitem=function(n){return"<li>"+n+`</li>
`},e.checkbox=function(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(n){return"<p>"+n+`</p>
`},e.table=function(n,i){return i&&(i="<tbody>"+i+"</tbody>"),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`},e.tablerow=function(n){return`<tr>
`+n+`</tr>
`},e.tablecell=function(n,i){var a=i.header?"th":"td",l=i.align?"<"+a+' align="'+i.align+'">':"<"+a+">";return l+n+("</"+a+`>
`)},e.strong=function(n){return"<strong>"+n+"</strong>"},e.em=function(n){return"<em>"+n+"</em>"},e.codespan=function(n){return"<code>"+n+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(n){return"<del>"+n+"</del>"},e.link=function(n,i,a){if(n=vhe(this.options.sanitize,this.options.baseUrl,n),n===null)return a;var l='<a href="'+n+'"';return i&&(l+=' title="'+i+'"'),l+=">"+a+"</a>",l},e.image=function(n,i,a){if(n=vhe(this.options.sanitize,this.options.baseUrl,n),n===null)return a;var l='<img src="'+n+'" alt="'+a+'"';return i&&(l+=' title="'+i+'"'),l+=this.options.xhtml?"/>":">",l},e.text=function(n){return n},r}(),qz=function(){function r(){}var e=r.prototype;return e.strong=function(n){return n},e.em=function(n){return n},e.codespan=function(n){return n},e.del=function(n){return n},e.html=function(n){return n},e.text=function(n){return n},e.link=function(n,i,a){return""+a},e.image=function(n,i,a){return""+a},e.br=function(){return""},r}(),zz=function(){function r(){this.seen={}}var e=r.prototype;return e.serialize=function(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(n,i){var a=n,l=0;if(this.seen.hasOwnProperty(a)){l=this.seen[n];do l++,a=n+"-"+l;while(this.seen.hasOwnProperty(a))}return i||(this.seen[n]=l,this.seen[a]=0),a},e.slug=function(n,i){i===void 0&&(i={});var a=this.serialize(n);return this.getNextSafeSlug(a,i.dryrun)},r}(),q0=function(){function r(t){this.options=t||Jo.defaults,this.options.renderer=this.options.renderer||new XA,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qz,this.slugger=new zz}r.parse=function(n,i){var a=new r(i);return a.parse(n)},r.parseInline=function(n,i){var a=new r(i);return a.parseInline(n)};var e=r.prototype;return e.parse=function(n,i){i===void 0&&(i=!0);var a="",l,h,b,S,E,O,P,q,z,N,V,Y,J,se,_,me,ne,de,he,be=n.length;for(l=0;l<be;l++){if(N=n[l],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[N.type]&&(he=this.options.extensions.renderers[N.type].call({parser:this},N),he!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(N.type))){a+=he||"";continue}switch(N.type){case"space":continue;case"hr":{a+=this.renderer.hr();continue}case"heading":{a+=this.renderer.heading(this.parseInline(N.tokens),N.depth,khe(this.parseInline(N.tokens,this.textRenderer)),this.slugger);continue}case"code":{a+=this.renderer.code(N.text,N.lang,N.escaped);continue}case"table":{for(q="",P="",S=N.header.length,h=0;h<S;h++)P+=this.renderer.tablecell(this.parseInline(N.header[h].tokens),{header:!0,align:N.align[h]});for(q+=this.renderer.tablerow(P),z="",S=N.rows.length,h=0;h<S;h++){for(O=N.rows[h],P="",E=O.length,b=0;b<E;b++)P+=this.renderer.tablecell(this.parseInline(O[b].tokens),{header:!1,align:N.align[b]});z+=this.renderer.tablerow(P)}a+=this.renderer.table(q,z);continue}case"blockquote":{z=this.parse(N.tokens),a+=this.renderer.blockquote(z);continue}case"list":{for(V=N.ordered,Y=N.start,J=N.loose,S=N.items.length,z="",h=0;h<S;h++)_=N.items[h],me=_.checked,ne=_.task,se="",_.task&&(de=this.renderer.checkbox(me),J?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=de+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=de+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:de}):se+=de),se+=this.parse(_.tokens,J),z+=this.renderer.listitem(se,ne,me);a+=this.renderer.list(z,V,Y);continue}case"html":{a+=this.renderer.html(N.text);continue}case"paragraph":{a+=this.renderer.paragraph(this.parseInline(N.tokens));continue}case"text":{for(z=N.tokens?this.parseInline(N.tokens):N.text;l+1<be&&n[l+1].type==="text";)N=n[++l],z+=`
`+(N.tokens?this.parseInline(N.tokens):N.text);a+=i?this.renderer.paragraph(z):z;continue}default:{var xe='Token with "'+N.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}}return a},e.parseInline=function(n,i){i=i||this.renderer;var a="",l,h,b,S=n.length;for(l=0;l<S;l++){if(h=n[l],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(b=this.options.extensions.renderers[h.type].call({parser:this},h),b!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type))){a+=b||"";continue}switch(h.type){case"escape":{a+=i.text(h.text);break}case"html":{a+=i.html(h.text);break}case"link":{a+=i.link(h.href,h.title,this.parseInline(h.tokens,i));break}case"image":{a+=i.image(h.href,h.title,h.text);break}case"strong":{a+=i.strong(this.parseInline(h.tokens,i));break}case"em":{a+=i.em(this.parseInline(h.tokens,i));break}case"codespan":{a+=i.codespan(h.text);break}case"br":{a+=i.br();break}case"del":{a+=i.del(this.parseInline(h.tokens,i));break}case"text":{a+=i.text(h.text);break}default:{var E='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(E);return}else throw new Error(E)}}}return a},r}(),Nw=function(){function r(t){this.options=t||Jo.defaults}var e=r.prototype;return e.preprocess=function(n){return n},e.postprocess=function(n){return n},r}();Nw.passThroughHooks=new Set(["preprocess","postprocess"]);function _rt(r,e,t){return function(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,r){var i="<p>An error occurred:</p><pre>"+Eu(n.message+"",!0)+"</pre>";if(e)return Promise.resolve(i);if(t){t(null,i);return}return i}if(e)return Promise.reject(n);if(t){t(n);return}throw n}}function Che(r,e){return function(t,n,i){typeof n=="function"&&(i=n,n=null);var a=ff({},n);n=ff({},Sn.defaults,a);var l=_rt(n.silent,n.async,i);if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(yrt(n),n.hooks&&(n.hooks.options=n),i){var h=n.highlight,b;try{n.hooks&&(t=n.hooks.preprocess(t)),b=r(t,n)}catch(q){return l(q)}var S=function(z){var N;if(!z)try{n.walkTokens&&Sn.walkTokens(b,n.walkTokens),N=e(b,n),n.hooks&&(N=n.hooks.postprocess(N))}catch(V){z=V}return n.highlight=h,z?l(z):i(null,N)};if(!h||h.length<3||(delete n.highlight,!b.length))return S();var E=0;Sn.walkTokens(b,function(q){q.type==="code"&&(E++,setTimeout(function(){h(q.text,q.lang,function(z,N){if(z)return S(z);N!=null&&N!==q.text&&(q.text=N,q.escaped=!0),E--,E===0&&S()})},0))}),E===0&&S();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(function(q){return r(q,n)}).then(function(q){return n.walkTokens?Promise.all(Sn.walkTokens(q,n.walkTokens)).then(function(){return q}):q}).then(function(q){return e(q,n)}).then(function(q){return n.hooks?n.hooks.postprocess(q):q}).catch(l);try{n.hooks&&(t=n.hooks.preprocess(t));var O=r(t,n);n.walkTokens&&Sn.walkTokens(O,n.walkTokens);var P=e(O,n);return n.hooks&&(P=n.hooks.postprocess(P)),P}catch(q){return l(q)}}}function Sn(r,e,t){return Che(F0.lex,q0.parse)(r,e,t)}Sn.options=Sn.setOptions=function(r){return Sn.defaults=ff({},Sn.defaults,r),ort(Sn.defaults),Sn};Sn.getDefaults=Fz;Sn.defaults=Jo.defaults;Sn.use=function(){for(var r=Sn.defaults.extensions||{renderers:{},childTokens:{}},e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){var a=ff({},i);if(a.async=Sn.defaults.async||a.async||!1,i.extensions&&(i.extensions.forEach(function(h){if(!h.name)throw new Error("extension name required");if(h.renderer){var b=r.renderers[h.name];b?r.renderers[h.name]=function(){for(var S=arguments.length,E=new Array(S),O=0;O<S;O++)E[O]=arguments[O];var P=h.renderer.apply(this,E);return P===!1&&(P=b.apply(this,E)),P}:r.renderers[h.name]=h.renderer}if(h.tokenizer){if(!h.level||h.level!=="block"&&h.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[h.level]?r[h.level].unshift(h.tokenizer):r[h.level]=[h.tokenizer],h.start&&(h.level==="block"?r.startBlock?r.startBlock.push(h.start):r.startBlock=[h.start]:h.level==="inline"&&(r.startInline?r.startInline.push(h.start):r.startInline=[h.start]))}h.childTokens&&(r.childTokens[h.name]=h.childTokens)}),a.extensions=r),i.renderer&&function(){var h=Sn.defaults.renderer||new XA,b=function(O){var P=h[O];h[O]=function(){for(var q=arguments.length,z=new Array(q),N=0;N<q;N++)z[N]=arguments[N];var V=i.renderer[O].apply(h,z);return V===!1&&(V=P.apply(h,z)),V}};for(var S in i.renderer)b(S);a.renderer=h}(),i.tokenizer&&function(){var h=Sn.defaults.tokenizer||new ZA,b=function(O){var P=h[O];h[O]=function(){for(var q=arguments.length,z=new Array(q),N=0;N<q;N++)z[N]=arguments[N];var V=i.tokenizer[O].apply(h,z);return V===!1&&(V=P.apply(h,z)),V}};for(var S in i.tokenizer)b(S);a.tokenizer=h}(),i.hooks&&function(){var h=Sn.defaults.hooks||new Nw,b=function(O){var P=h[O];Nw.passThroughHooks.has(O)?h[O]=function(q){if(Sn.defaults.async)return Promise.resolve(i.hooks[O].call(h,q)).then(function(N){return P.call(h,N)});var z=i.hooks[O].call(h,q);return P.call(h,z)}:h[O]=function(){for(var q=arguments.length,z=new Array(q),N=0;N<q;N++)z[N]=arguments[N];var V=i.hooks[O].apply(h,z);return V===!1&&(V=P.apply(h,z)),V}};for(var S in i.hooks)b(S);a.hooks=h}(),i.walkTokens){var l=Sn.defaults.walkTokens;a.walkTokens=function(h){var b=[];return b.push(i.walkTokens.call(this,h)),l&&(b=b.concat(l.call(this,h))),b}}Sn.setOptions(a)})};Sn.walkTokens=function(r,e){for(var t=[],n=function(){var h=a.value;switch(t=t.concat(e.call(Sn,h)),h.type){case"table":{for(var b=$A(h.header),S;!(S=b()).done;){var E=S.value;t=t.concat(Sn.walkTokens(E.tokens,e))}for(var O=$A(h.rows),P;!(P=O()).done;)for(var q=P.value,z=$A(q),N;!(N=z()).done;){var V=N.value;t=t.concat(Sn.walkTokens(V.tokens,e))}break}case"list":{t=t.concat(Sn.walkTokens(h.items,e));break}default:Sn.defaults.extensions&&Sn.defaults.extensions.childTokens&&Sn.defaults.extensions.childTokens[h.type]?Sn.defaults.extensions.childTokens[h.type].forEach(function(Y){t=t.concat(Sn.walkTokens(h[Y],e))}):h.tokens&&(t=t.concat(Sn.walkTokens(h.tokens,e)))}},i=$A(r),a;!(a=i()).done;)n();return t};Sn.parseInline=Che(F0.lexInline,q0.parseInline);Sn.Parser=q0;Sn.parser=q0.parse;Sn.Renderer=XA;Sn.TextRenderer=qz;Sn.Lexer=F0;Sn.lexer=F0.lex;Sn.Tokenizer=ZA;Sn.Slugger=zz;Sn.Hooks=Nw;Sn.parse=Sn;var wrt=Sn.options,Srt=Sn.setOptions,krt=Sn.use,Crt=Sn.walkTokens,Ert=Sn.parseInline,Trt=Sn,Art=q0.parse,Drt=F0.lex;Jo.Hooks=Nw;Jo.Lexer=F0;Jo.Parser=q0;Jo.Renderer=XA;Jo.Slugger=zz;Jo.TextRenderer=qz;Jo.Tokenizer=ZA;Jo.getDefaults=Fz;Jo.lexer=Drt;Jo.marked=Sn;Jo.options=wrt;Jo.parse=Trt;Jo.parseInline=Ert;Jo.parser=Art;Jo.setOptions=Srt;Jo.use=krt;Jo.walkTokens=Crt});var qhe=fe((YOt,Fhe)=>{"use strict";var z0=Dc();Pfe();Rfe();zfe();Mz();Pz();Zfe();Qfe();rhe();ohe();lhe();Iz();var Ort=dhe(),Nz=Ehe().marked,Dhe=/Mac/.test(navigator.platform),Irt=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),Bw={toggleBold:e2,toggleItalic:t2,drawLink:h2,toggleHeadingSmaller:jw,toggleHeadingBigger:o2,drawImage:d2,toggleBlockquote:i2,toggleOrderedList:c2,toggleUnorderedList:u2,toggleCodeBlock:n2,togglePreview:y2,toggleStrikethrough:r2,toggleHeading1:a2,toggleHeading2:s2,toggleHeading3:l2,toggleHeading4:jz,toggleHeading5:Uz,toggleHeading6:Hz,cleanBlock:f2,drawTable:p2,drawHorizontalRule:m2,undo:g2,redo:v2,toggleSideBySide:N0,toggleFullScreen:Uv},Mrt={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},Prt=function(r){for(var e in Bw)if(Bw[e]===r)return e;return null},Bz=function(){var r=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(r=!0)}(navigator.userAgent||navigator.vendor||window.opera),r};function Lrt(r){for(var e;(e=Irt.exec(r))!==null;){var t=e[0];if(t.indexOf("target=")===-1){var n=t.replace(/>$/,' target="_blank">');r=r.replace(t,n)}}return r}function Rrt(r){for(var e=new DOMParser,t=e.parseFromString(r,"text/html"),n=t.getElementsByTagName("li"),i=0;i<n.length;i++)for(var a=n[i],l=0;l<a.children.length;l++){var h=a.children[l];h instanceof HTMLInputElement&&h.type==="checkbox"&&(a.style.marginLeft="-1.5em",a.style.listStyleType="none")}return t.documentElement.innerHTML}function Ohe(r){return Dhe?r=r.replace("Ctrl","Cmd"):r=r.replace("Cmd","Ctrl"),r}function Frt(r,e,t,n){var i=JA(r,!1,e,t,"button",n);i.classList.add("easymde-dropdown"),i.onclick=function(){i.focus()};var a=document.createElement("div");a.className="easymde-dropdown-content";for(var l=0;l<r.children.length;l++){var h=r.children[l],b;typeof h=="string"&&h in jv?b=JA(jv[h],!0,e,t,"button",n):b=JA(h,!0,e,t,"button",n),b.addEventListener("click",function(S){S.stopPropagation()},!1),a.appendChild(b)}return i.appendChild(a),i}function JA(r,e,t,n,i,a){r=r||{};var l=document.createElement(i);if(r.attributes)for(var h in r.attributes)Object.prototype.hasOwnProperty.call(r.attributes,h)&&l.setAttribute(h,r.attributes[h]);var b=a.options.toolbarButtonClassPrefix?a.options.toolbarButtonClassPrefix+"-":"";l.className=b+r.name,l.setAttribute("type",i),t=t??!0,r.text&&(l.innerText=r.text),r.name&&r.name in n&&(Bw[r.name]=r.action),r.title&&t&&(l.title=zrt(r.title,r.action,n),Dhe&&(l.title=l.title.replace("Ctrl","\u2318"),l.title=l.title.replace("Alt","\u2325"))),r.title&&l.setAttribute("aria-label",r.title),r.noDisable&&l.classList.add("no-disable"),r.noMobile&&l.classList.add("no-mobile");var S=[];typeof r.className<"u"&&(S=r.className.split(" "));for(var E=[],O=0;O<S.length;O++){var P=S[O];P.match(/^fa([srlb]|(-[\w-]*)|$)/)?E.push(P):l.classList.add(P)}if(l.tabIndex=-1,E.length>0){for(var q=document.createElement("i"),z=0;z<E.length;z++){var N=E[z];q.classList.add(N)}l.appendChild(q)}return typeof r.icon<"u"&&(l.innerHTML=r.icon),r.action&&e&&(typeof r.action=="function"?l.onclick=function(V){V.preventDefault(),r.action(a)}:typeof r.action=="string"&&(l.onclick=function(V){V.preventDefault(),window.open(r.action,"_blank")})),l}function qrt(){var r=document.createElement("i");return r.className="separator",r.innerHTML="|",r}function zrt(r,e,t){var n,i=r;return e&&(n=Prt(e),t[n]&&(i+=" ("+Ohe(t[n])+")")),i}function lg(r,e){e=e||r.getCursor("start");var t=r.getTokenAt(e);if(!t.type)return{};for(var n=t.type.split(" "),i={},a,l,h=0;h<n.length;h++)a=n[h],a==="strong"?i.bold=!0:a==="variable-2"?(l=r.getLine(e.line),/^\s*\d+\.\s/.test(l)?i["ordered-list"]=!0:i["unordered-list"]=!0):a==="atom"?i.quote=!0:a==="em"?i.italic=!0:a==="quote"?i.quote=!0:a==="strikethrough"?i.strikethrough=!0:a==="comment"?i.code=!0:a==="link"&&!i.image?i.link=!0:a==="image"?i.image=!0:a.match(/^header(-[1-6])?$/)&&(i[a.replace("header","heading")]=!0);return i}var The="";function Uv(r){var e=r.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(The=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=The;var t=e.getWrapperElement(),n=t.nextSibling;if(n.classList.contains("editor-preview-active-side"))if(r.options.sideBySideFullscreen===!1){var i=t.parentNode;e.getOption("fullScreen")?i.classList.remove("sided--no-fullscreen"):i.classList.add("sided--no-fullscreen")}else N0(r);if(r.options.onToggleFullScreen&&r.options.onToggleFullScreen(e.getOption("fullScreen")||!1),typeof r.options.maxHeight<"u"&&(e.getOption("fullScreen")?(e.getScrollerElement().style.removeProperty("height"),n.style.removeProperty("height")):(e.getScrollerElement().style.height=r.options.maxHeight,r.setPreviewMaxHeight())),r.toolbar_div.classList.toggle("fullscreen"),r.toolbarElements&&r.toolbarElements.fullscreen){var a=r.toolbarElements.fullscreen;a.classList.toggle("active")}}function e2(r){$z(r,"bold",r.options.blockStyles.bold)}function t2(r){$z(r,"italic",r.options.blockStyles.italic)}function r2(r){$z(r,"strikethrough","~~")}function n2(r){var e=r.options.blockStyles.code;function t(ae){if(typeof ae!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof ae+": "+ae;return ae.styles&&ae.styles[2]&&ae.styles[2].indexOf("formatting-code-block")!==-1}function n(ae){return ae.state.base.base||ae.state.base}function i(ae,Ce,re,ie,pe){re=re||ae.getLineHandle(Ce),ie=ie||ae.getTokenAt({line:Ce,ch:1}),pe=pe||!!re.text&&ae.getTokenAt({line:Ce,ch:re.text.length-1});var je=ie.type?ie.type.split(" "):[];return pe&&n(pe).indentedCode?"indented":je.indexOf("comment")===-1?!1:n(ie).fencedChars||n(pe).fencedChars||t(re)?"fenced":"single"}function a(ae,Ce,re,ie){var pe=Ce.line+1,je=re.line+1,K=Ce.line!==re.line,W=ie+`
`,Ze=`
`+ie;K&&je++,K&&re.ch===0&&(Ze=ie+`
`,je--),Hv(ae,!1,[W,Ze]),ae.setSelection({line:pe,ch:0},{line:je,ch:0})}var l=r.codemirror,h=l.getCursor("start"),b=l.getCursor("end"),S=l.getTokenAt({line:h.line,ch:h.ch||1}),E=l.getLineHandle(h.line),O=i(l,h.line,E,S),P,q,z;if(O==="single"){var N=E.text.slice(0,h.ch).replace("`",""),V=E.text.slice(h.ch).replace("`","");l.replaceRange(N+V,{line:h.line,ch:0},{line:h.line,ch:99999999999999}),h.ch--,h!==b&&b.ch--,l.setSelection(h,b),l.focus()}else if(O==="fenced")if(h.line!==b.line||h.ch!==b.ch){for(P=h.line;P>=0&&(E=l.getLineHandle(P),!t(E));P--);var Y=l.getTokenAt({line:P,ch:1}),J=n(Y).fencedChars,se,_,me,ne;t(l.getLineHandle(h.line))?(se="",_=h.line):t(l.getLineHandle(h.line-1))?(se="",_=h.line-1):(se=J+`
`,_=h.line),t(l.getLineHandle(b.line))?(me="",ne=b.line,b.ch===0&&(ne+=1)):b.ch!==0&&t(l.getLineHandle(b.line+1))?(me="",ne=b.line+1):(me=J+`
`,ne=b.line+1),b.ch===0&&(ne-=1),l.operation(function(){l.replaceRange(me,{line:ne,ch:0},{line:ne+(me?0:1),ch:0}),l.replaceRange(se,{line:_,ch:0},{line:_+(se?0:1),ch:0})}),l.setSelection({line:_+(se?1:0),ch:0},{line:ne+(se?1:-1),ch:0}),l.focus()}else{var de=h.line;if(t(l.getLineHandle(h.line))&&(i(l,h.line+1)==="fenced"?(P=h.line,de=h.line+1):(q=h.line,de=h.line-1)),P===void 0)for(P=de;P>=0&&(E=l.getLineHandle(P),!t(E));P--);if(q===void 0)for(z=l.lineCount(),q=de;q<z&&(E=l.getLineHandle(q),!t(E));q++);l.operation(function(){l.replaceRange("",{line:P,ch:0},{line:P+1,ch:0}),l.replaceRange("",{line:q-1,ch:0},{line:q,ch:0})}),l.focus()}else if(O==="indented"){if(h.line!==b.line||h.ch!==b.ch)P=h.line,q=b.line,b.ch===0&&q--;else{for(P=h.line;P>=0;P--)if(E=l.getLineHandle(P),!E.text.match(/^\s*$/)&&i(l,P,E)!=="indented"){P+=1;break}for(z=l.lineCount(),q=h.line;q<z;q++)if(E=l.getLineHandle(q),!E.text.match(/^\s*$/)&&i(l,q,E)!=="indented"){q-=1;break}}var he=l.getLineHandle(q+1),be=he&&l.getTokenAt({line:q+1,ch:he.text.length-1}),xe=be&&n(be).indentedCode;xe&&l.replaceRange(`
`,{line:q+1,ch:0});for(var We=P;We<=q;We++)l.indentLine(We,"subtract");l.focus()}else{var R=h.line===b.line&&h.ch===b.ch&&h.ch===0,G=h.line!==b.line;R||G?a(l,h,b,e):Hv(l,!1,["`","`"])}}function i2(r){Vz(r.codemirror,"quote")}function jw(r){ug(r.codemirror,"smaller")}function o2(r){ug(r.codemirror,"bigger")}function a2(r){ug(r.codemirror,void 0,1)}function s2(r){ug(r.codemirror,void 0,2)}function l2(r){ug(r.codemirror,void 0,3)}function jz(r){ug(r.codemirror,void 0,4)}function Uz(r){ug(r.codemirror,void 0,5)}function Hz(r){ug(r.codemirror,void 0,6)}function u2(r){var e=r.codemirror,t="*";["-","+","*"].includes(r.options.unorderedListStyle)&&(t=r.options.unorderedListStyle),Vz(e,"unordered-list",t)}function c2(r){Vz(r.codemirror,"ordered-list")}function f2(r){Nrt(r.codemirror)}function h2(r){var e=r.options,t="https://";if(e.promptURLs){var n=prompt(e.promptTexts.link,t);if(!n)return!1;t=Ihe(n)}Phe(r,"link",e.insertTexts.link,t)}function d2(r){var e=r.options,t="https://";if(e.promptURLs){var n=prompt(e.promptTexts.image,t);if(!n)return!1;t=Ihe(n)}Phe(r,"image",e.insertTexts.image,t)}function Ihe(r){return encodeURI(r).replace(/([\\()])/g,"\\$1")}function Wz(r){r.openBrowseFileWindow()}function Mhe(r,e){var t=r.codemirror,n=lg(t),i=r.options,a=e.substr(e.lastIndexOf("/")+1),l=a.substring(a.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(l))Hv(t,n.image,i.insertTexts.uploadedImage,e);else{var h=i.insertTexts.link;h[0]="["+a,Hv(t,n.link,h,e)}r.updateStatusBar("upload-image",r.options.imageTexts.sbOnUploaded.replace("#image_name#",a)),setTimeout(function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)},1e3)}function p2(r){var e=r.codemirror,t=lg(e),n=r.options;Hv(e,t.table,n.insertTexts.table)}function m2(r){var e=r.codemirror,t=lg(e),n=r.options;Hv(e,t.image,n.insertTexts.horizontalRule)}function g2(r){var e=r.codemirror;e.undo(),e.focus()}function v2(r){var e=r.codemirror;e.redo(),e.focus()}function N0(r){var e=r.codemirror,t=e.getWrapperElement(),n=t.nextSibling,i=r.toolbarElements&&r.toolbarElements["side-by-side"],a=!1,l=t.parentNode;n.classList.contains("editor-preview-active-side")?(r.options.sideBySideFullscreen===!1&&l.classList.remove("sided--no-fullscreen"),n.classList.remove("editor-preview-active-side"),i&&i.classList.remove("active"),t.classList.remove("CodeMirror-sided")):(setTimeout(function(){e.getOption("fullScreen")||(r.options.sideBySideFullscreen===!1?l.classList.add("sided--no-fullscreen"):Uv(r)),n.classList.add("editor-preview-active-side")},1),i&&i.classList.add("active"),t.classList.add("CodeMirror-sided"),a=!0);var h=t.lastChild;if(h.classList.contains("editor-preview-active")){h.classList.remove("editor-preview-active");var b=r.toolbarElements.preview,S=r.toolbar_div;b.classList.remove("active"),S.classList.remove("disabled-for-preview")}var E=function(){var P=r.options.previewRender(r.value(),n);P!=null&&(n.innerHTML=P)};if(e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=E),a){var O=r.options.previewRender(r.value(),n);O!=null&&(n.innerHTML=O),e.on("update",e.sideBySideRenderingFunction)}else e.off("update",e.sideBySideRenderingFunction);e.refresh()}function y2(r){var e=r.codemirror,t=e.getWrapperElement(),n=r.toolbar_div,i=r.options.toolbar?r.toolbarElements.preview:!1,a=t.lastChild,l=e.getWrapperElement().nextSibling;if(l.classList.contains("editor-preview-active-side")&&N0(r),!a||!a.classList.contains("editor-preview-full")){if(a=document.createElement("div"),a.className="editor-preview-full",r.options.previewClass)if(Array.isArray(r.options.previewClass))for(var h=0;h<r.options.previewClass.length;h++)a.classList.add(r.options.previewClass[h]);else typeof r.options.previewClass=="string"&&a.classList.add(r.options.previewClass);t.appendChild(a)}a.classList.contains("editor-preview-active")?(a.classList.remove("editor-preview-active"),i&&(i.classList.remove("active"),n.classList.remove("disabled-for-preview"))):(setTimeout(function(){a.classList.add("editor-preview-active")},1),i&&(i.classList.add("active"),n.classList.add("disabled-for-preview")));var b=r.options.previewRender(r.value(),a);b!==null&&(a.innerHTML=b)}function Hv(r,e,t,n){if(!r.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var i,a=t[0],l=t[1],h={},b={};Object.assign(h,r.getCursor("start")),Object.assign(b,r.getCursor("end")),n&&(a=a.replace("#url#",n),l=l.replace("#url#",n)),e?(i=r.getLine(h.line),a=i.slice(0,h.ch),l=i.slice(h.ch),r.replaceRange(a+l,{line:h.line,ch:0})):(i=r.getSelection(),r.replaceSelection(a+i+l),h.ch+=a.length,h!==b&&(b.ch+=a.length)),r.setSelection(h,b),r.focus()}}function ug(r,e,t){if(!r.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var n=r.getCursor("start"),i=r.getCursor("end"),a=n.line;a<=i.line;a++)(function(l){var h=r.getLine(l),b=h.search(/[^#]/);e!==void 0?b<=0?e=="bigger"?h="###### "+h:h="# "+h:b==6&&e=="smaller"?h=h.substr(7):b==1&&e=="bigger"?h=h.substr(2):e=="bigger"?h=h.substr(1):h="#"+h:b<=0?h="#".repeat(t)+" "+h:b==t?h=h.substr(b+1):h="#".repeat(t)+" "+h.substr(b+1),r.replaceRange(h,{line:l,ch:0},{line:l,ch:99999999999999})})(a);r.focus()}}function Vz(r,e,t){if(!r.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var n=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,i=/^\s*/,a=lg(r),l=r.getCursor("start"),h=r.getCursor("end"),b={quote:/^(\s*)>\s+/,"unordered-list":n,"ordered-list":n},S=function(z,N){var V={quote:">","unordered-list":t,"ordered-list":"%%i."};return V[z].replace("%%i",N)},E=function(z,N){var V={quote:">","unordered-list":"\\"+t,"ordered-list":"\\d+."},Y=new RegExp(V[z]);return N&&Y.test(N)},O=function(z,N,V){var Y=n.exec(N),J=S(z,P);return Y!==null?(E(z,Y[2])&&(J=""),N=Y[1]+J+Y[3]+N.replace(i,"").replace(b[z],"$1")):V==!1&&(N=J+" "+N),N},P=1,q=l.line;q<=h.line;q++)(function(z){var N=r.getLine(z);a[e]?N=N.replace(b[e],"$1"):(e=="unordered-list"&&(N=O("ordered-list",N,!0)),N=O(e,N,!1),P+=1),r.replaceRange(N,{line:z,ch:0},{line:z,ch:99999999999999})})(q);r.focus()}}function Phe(r,e,t,n){if(!(!r.codemirror||r.isPreviewActive())){var i=r.codemirror,a=lg(i),l=a[e];if(!l){Hv(i,l,t,n);return}var h=i.getCursor("start"),b=i.getCursor("end"),S=i.getLine(h.line),E=S.slice(0,h.ch),O=S.slice(h.ch);e=="link"?E=E.replace(/(.*)[^!]\[/,"$1"):e=="image"&&(E=E.replace(/(.*)!\[$/,"$1")),O=O.replace(/]\(.*?\)/,""),i.replaceRange(E+O,{line:h.line,ch:0},{line:h.line,ch:99999999999999}),h.ch-=t[0].length,h!==b&&(b.ch-=t[0].length),i.setSelection(h,b),i.focus()}}function $z(r,e,t,n){if(!(!r.codemirror||r.isPreviewActive())){n=typeof n>"u"?t:n;var i=r.codemirror,a=lg(i),l,h=t,b=n,S=i.getCursor("start"),E=i.getCursor("end");a[e]?(l=i.getLine(S.line),h=l.slice(0,S.ch),b=l.slice(S.ch),e=="bold"?(h=h.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),b=b.replace(/(\*\*|__)/,"")):e=="italic"?(h=h.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),b=b.replace(/(\*|_)/,"")):e=="strikethrough"&&(h=h.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),b=b.replace(/(\*\*|~~)/,"")),i.replaceRange(h+b,{line:S.line,ch:0},{line:S.line,ch:99999999999999}),e=="bold"||e=="strikethrough"?(S.ch-=2,S!==E&&(E.ch-=2)):e=="italic"&&(S.ch-=1,S!==E&&(E.ch-=1))):(l=i.getSelection(),e=="bold"?(l=l.split("**").join(""),l=l.split("__").join("")):e=="italic"?(l=l.split("*").join(""),l=l.split("_").join("")):e=="strikethrough"&&(l=l.split("~~").join("")),i.replaceSelection(h+l+b),S.ch+=t.length,E.ch=S.ch+l.length),i.setSelection(S,E),i.focus()}}function Nrt(r){if(!r.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var e=r.getCursor("start"),t=r.getCursor("end"),n,i=e.line;i<=t.line;i++)n=r.getLine(i),n=n.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),r.replaceRange(n,{line:i,ch:0},{line:i,ch:99999999999999})}function QA(r,e){if(Math.abs(r)<1024)return""+r+e[0];var t=0;do r/=1024,++t;while(Math.abs(r)>=1024&&t<e.length);return""+r.toFixed(1)+e[t]}function Lhe(r,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]instanceof Array?r[t]=e[t].concat(r[t]instanceof Array?r[t]:[]):e[t]!==null&&typeof e[t]=="object"&&e[t].constructor===Object?r[t]=Lhe(r[t]||{},e[t]):r[t]=e[t]);return r}function Hp(r){for(var e=1;e<arguments.length;e++)r=Lhe(r,arguments[e]);return r}function Ahe(r){var e=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,t=r.match(e),n=0;if(t===null)return n;for(var i=0;i<t.length;i++)t[i].charCodeAt(0)>=19968?n+=t[i].length:n+=1;return n}var Qo={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},jv={bold:{name:"bold",action:e2,className:Qo.bold,title:"Bold",default:!0},italic:{name:"italic",action:t2,className:Qo.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:r2,className:Qo.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:jw,className:Qo.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:jw,className:Qo["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:o2,className:Qo["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:a2,className:Qo["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:s2,className:Qo["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:l2,className:Qo["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:n2,className:Qo.code,title:"Code"},quote:{name:"quote",action:i2,className:Qo.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:u2,className:Qo["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:c2,className:Qo["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:f2,className:Qo["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:h2,className:Qo.link,title:"Create Link",default:!0},image:{name:"image",action:d2,className:Qo.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:Wz,className:Qo["upload-image"],title:"Import an image"},table:{name:"table",action:p2,className:Qo.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:m2,className:Qo["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:y2,className:Qo.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:N0,className:Qo["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:Uv,className:Qo.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Qo.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:g2,className:Qo.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:v2,className:Qo.redo,noDisable:!0,title:"Redo"}},Brt={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},jrt={link:"URL for the link:",image:"URL of the image:"},Urt={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},Hrt={bold:"**",code:"```",italic:"*"},Wrt={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},Vrt={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function Zr(r){r=r||{},r.parent=this;var e=!0;if(r.autoDownloadFontAwesome===!1&&(e=!1),r.autoDownloadFontAwesome!==!0)for(var t=document.styleSheets,n=0;n<t.length;n++)!t[n].href||t[n].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(r.element)this.element=r.element;else if(r.element===null){console.log("EasyMDE: Error. No element was found.");return}if(r.toolbar===void 0){r.toolbar=[];for(var a in jv)Object.prototype.hasOwnProperty.call(jv,a)&&(a.indexOf("separator-")!=-1&&r.toolbar.push("|"),(jv[a].default===!0||r.showIcons&&r.showIcons.constructor===Array&&r.showIcons.indexOf(a)!=-1)&&r.toolbar.push(a))}if(Object.prototype.hasOwnProperty.call(r,"previewClass")||(r.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(r,"status")||(r.status=["autosave","lines","words","cursor"],r.uploadImage&&r.status.unshift("upload-image")),r.previewRender||(r.previewRender=function(h){return this.parent.markdown(h)}),r.parsingConfig=Hp({highlightFormatting:!0},r.parsingConfig||{}),r.insertTexts=Hp({},Brt,r.insertTexts||{}),r.promptTexts=Hp({},jrt,r.promptTexts||{}),r.blockStyles=Hp({},Hrt,r.blockStyles||{}),r.autosave!=null&&(r.autosave.timeFormat=Hp({},Urt,r.autosave.timeFormat||{})),r.iconClassMap=Hp({},Qo,r.iconClassMap||{}),r.shortcuts=Hp({},Mrt,r.shortcuts||{}),r.maxHeight=r.maxHeight||void 0,r.direction=r.direction||"ltr",typeof r.maxHeight<"u"?r.minHeight=r.maxHeight:r.minHeight=r.minHeight||"300px",r.errorCallback=r.errorCallback||function(h){alert(h)},r.uploadImage=r.uploadImage||!1,r.imageMaxSize=r.imageMaxSize||2097152,r.imageAccept=r.imageAccept||"image/png, image/jpeg, image/gif, image/avif",r.imageTexts=Hp({},Wrt,r.imageTexts||{}),r.errorMessages=Hp({},Vrt,r.errorMessages||{}),r.imagePathAbsolute=r.imagePathAbsolute||!1,r.imageCSRFName=r.imageCSRFName||"csrfmiddlewaretoken",r.imageCSRFHeader=r.imageCSRFHeader||!1,r.autosave!=null&&r.autosave.unique_id!=null&&r.autosave.unique_id!=""&&(r.autosave.uniqueId=r.autosave.unique_id),r.overlayMode&&r.overlayMode.combine===void 0&&(r.overlayMode.combine=!0),this.options=r,this.render(),r.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(r.initialValue),r.uploadImage){var l=this;this.codemirror.on("dragenter",function(h,b){l.updateStatusBar("upload-image",l.options.imageTexts.sbOnDragEnter),b.stopPropagation(),b.preventDefault()}),this.codemirror.on("dragend",function(h,b){l.updateStatusBar("upload-image",l.options.imageTexts.sbInit),b.stopPropagation(),b.preventDefault()}),this.codemirror.on("dragleave",function(h,b){l.updateStatusBar("upload-image",l.options.imageTexts.sbInit),b.stopPropagation(),b.preventDefault()}),this.codemirror.on("dragover",function(h,b){l.updateStatusBar("upload-image",l.options.imageTexts.sbOnDragEnter),b.stopPropagation(),b.preventDefault()}),this.codemirror.on("drop",function(h,b){b.stopPropagation(),b.preventDefault(),r.imageUploadFunction?l.uploadImagesUsingCustomFunction(r.imageUploadFunction,b.dataTransfer.files):l.uploadImages(b.dataTransfer.files)}),this.codemirror.on("paste",function(h,b){r.imageUploadFunction?l.uploadImagesUsingCustomFunction(r.imageUploadFunction,b.clipboardData.files):l.uploadImages(b.clipboardData.files)})}}Zr.prototype.uploadImages=function(r,e,t){if(r.length!==0){for(var n=[],i=0;i<r.length;i++)n.push(r[i].name),this.uploadImage(r[i],e,t);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",n.join(", ")))}};Zr.prototype.uploadImagesUsingCustomFunction=function(r,e){if(e.length!==0){for(var t=[],n=0;n<e.length;n++)t.push(e[n].name),this.uploadImageUsingCustomFunction(r,e[n]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",t.join(", ")))}};Zr.prototype.updateStatusBar=function(r,e){if(!!this.gui.statusbar){var t=this.gui.statusbar.getElementsByClassName(r);t.length===1?this.gui.statusbar.getElementsByClassName(r)[0].textContent=e:t.length===0?console.log("EasyMDE: status bar item "+r+" was not found."):console.log("EasyMDE: Several status bar items named "+r+" was found.")}};Zr.prototype.markdown=function(r){if(Nz){var e;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?e=this.options.renderingConfig.markedOptions:e={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var t=this.options.renderingConfig.hljs||window.hljs;t&&(e.highlight=function(i,a){return a&&t.getLanguage(a)?t.highlight(a,i).value:t.highlightAuto(i).value})}Nz.setOptions(e);var n=Nz.parse(r);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(n=this.options.renderingConfig.sanitizerFunction.call(this,n)),n=Lrt(n),n=Rrt(n),n}};Zr.prototype.render=function(r){if(r||(r=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===r)return;this.element=r;var e=this.options,t=this,n={};for(var i in e.shortcuts)e.shortcuts[i]!==null&&Bw[i]!==null&&function(V){n[Ohe(e.shortcuts[V])]=function(){var Y=Bw[V];typeof Y=="function"?Y(t):typeof Y=="string"&&window.open(Y,"_blank")}}(i);n.Enter="newlineAndIndentContinueMarkdownList",n.Tab="tabAndIndentMarkdownList",n["Shift-Tab"]="shiftTabAndUnindentMarkdownList",n.Esc=function(V){V.getOption("fullScreen")&&Uv(t)},this.documentOnKeyDown=function(V){V=V||window.event,V.keyCode==27&&t.codemirror.getOption("fullScreen")&&Uv(t)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var a,l;e.overlayMode?(z0.defineMode("overlay-mode",function(V){return z0.overlayMode(z0.getMode(V,e.spellChecker!==!1?"spell-checker":"gfm"),e.overlayMode.mode,e.overlayMode.combine)}),a="overlay-mode",l=e.parsingConfig,l.gitHubSpice=!1):(a=e.parsingConfig,a.name="gfm",a.gitHubSpice=!1),e.spellChecker!==!1&&(a="spell-checker",l=e.parsingConfig,l.name="gfm",l.gitHubSpice=!1,typeof e.spellChecker=="function"?e.spellChecker({codeMirrorInstance:z0}):Ort({codeMirrorInstance:z0}));function h(V,Y,J){return{addNew:!1}}if(this.codemirror=z0.fromTextArea(r,{mode:a,backdrop:l,theme:e.theme!=null?e.theme:"easymde",tabSize:e.tabSize!=null?e.tabSize:2,indentUnit:e.tabSize!=null?e.tabSize:2,indentWithTabs:e.indentWithTabs!==!1,lineNumbers:e.lineNumbers===!0,autofocus:e.autofocus===!0,extraKeys:n,direction:e.direction,lineWrapping:e.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:e.placeholder||r.getAttribute("placeholder")||"",styleSelectedText:e.styleSelectedText!=null?e.styleSelectedText:!Bz(),scrollbarStyle:e.scrollbarStyle!=null?e.scrollbarStyle:"native",configureMouse:h,inputStyle:e.inputStyle!=null?e.inputStyle:Bz()?"contenteditable":"textarea",spellcheck:e.nativeSpellcheck!=null?e.nativeSpellcheck:!0,autoRefresh:e.autoRefresh!=null?e.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=e.minHeight,typeof e.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=e.maxHeight),e.forceSync===!0){var b=this.codemirror;b.on("change",function(){b.save()})}this.gui={};var S=document.createElement("div");S.classList.add("EasyMDEContainer"),S.setAttribute("role","application");var E=this.codemirror.getWrapperElement();E.parentNode.insertBefore(S,E),S.appendChild(E),e.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),e.status!==!1&&(this.gui.statusbar=this.createStatusbar()),e.autosave!=null&&e.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(t._autosave_timeout),t._autosave_timeout=setTimeout(function(){t.autosave()},t.options.autosave.submit_delay||t.options.autosave.delay||1e3)}));function O(V,Y){var J,se=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return V<se?J=Y+"px":J=Y/V*100+"%",J}var P=this;function q(V,Y){V.setAttribute("data-img-src",Y.url),V.setAttribute("style","--bg-image:url("+Y.url+");--width:"+Y.naturalWidth+"px;--height:"+O(Y.naturalWidth,Y.naturalHeight)),P.codemirror.setSize()}function z(){!e.previewImagesInEditor||S.querySelectorAll(".cm-image-marker").forEach(function(V){var Y=V.parentElement;if(!!Y.innerText.match(/^!\[.*?\]\(.*\)/g)&&!Y.hasAttribute("data-img-src")){var J=Y.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),J&&J.length>=2){var se=J[1];if(e.imagesPreviewHandler){var _=e.imagesPreviewHandler(J[1]);typeof _=="string"&&(se=_)}if(window.EMDEimagesCache[se])q(Y,window.EMDEimagesCache[se]);else{var me=document.createElement("img");me.onload=function(){window.EMDEimagesCache[se]={naturalWidth:me.naturalWidth,naturalHeight:me.naturalHeight,url:se},q(Y,window.EMDEimagesCache[se])},me.src=se}}}})}this.codemirror.on("update",function(){z()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(e.autofocus===!0||r.autofocus)&&this.codemirror.focus();var N=this.codemirror;setTimeout(function(){N.refresh()}.bind(N),0)};Zr.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function Rhe(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}Zr.prototype.autosave=function(){if(Rhe()){var r=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(r.element.form!=null&&r.element.form!=null&&r.element.form.addEventListener("submit",function(){clearTimeout(r.autosaveTimeoutId),r.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+r.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var e=r.value();e!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,e):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var t=document.getElementById("autosaved");if(t!=null&&t!=null&&t!=""){var n=new Date,i=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(n),a=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;t.innerHTML=a+i}}else console.log("EasyMDE: localStorage not available, cannot autosave")};Zr.prototype.clearAutosavedValue=function(){if(Rhe()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};Zr.prototype.openBrowseFileWindow=function(r,e){var t=this,n=this.gui.toolbar.getElementsByClassName("imageInput")[0];n.click();function i(a){t.options.imageUploadFunction?t.uploadImagesUsingCustomFunction(t.options.imageUploadFunction,a.target.files):t.uploadImages(a.target.files,r,e),n.removeEventListener("change",i)}n.addEventListener("change",i)};Zr.prototype.uploadImage=function(r,e,t){var n=this;e=e||function(S){Mhe(n,S)};function i(b){n.updateStatusBar("upload-image",b),setTimeout(function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)},1e4),t&&typeof t=="function"&&t(b),n.options.errorCallback(b)}function a(b){var S=n.options.imageTexts.sizeUnits.split(",");return b.replace("#image_name#",r.name).replace("#image_size#",QA(r.size,S)).replace("#image_max_size#",QA(n.options.imageMaxSize,S))}if(r.size>this.options.imageMaxSize){i(a(this.options.errorMessages.fileTooLarge));return}var l=new FormData;l.append("image",r),n.options.imageCSRFToken&&!n.options.imageCSRFHeader&&l.append(n.options.imageCSRFName,n.options.imageCSRFToken);var h=new XMLHttpRequest;h.upload.onprogress=function(b){if(b.lengthComputable){var S=""+Math.round(b.loaded*100/b.total);n.updateStatusBar("upload-image",n.options.imageTexts.sbProgress.replace("#file_name#",r.name).replace("#progress#",S))}},h.open("POST",this.options.imageUploadEndpoint),n.options.imageCSRFToken&&n.options.imageCSRFHeader&&h.setRequestHeader(n.options.imageCSRFName,n.options.imageCSRFToken),h.onload=function(){try{var b=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),i(a(n.options.errorMessages.importError));return}this.status===200&&b&&!b.error&&b.data&&b.data.filePath?e((n.options.imagePathAbsolute?"":window.location.origin+"/")+b.data.filePath):b.error&&b.error in n.options.errorMessages?i(a(n.options.errorMessages[b.error])):b.error?i(a(b.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),i(a(n.options.errorMessages.importError)))},h.onerror=function(b){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+b.target.status+" ("+b.target.statusText+")"),i(n.options.errorMessages.importError)},h.send(l)};Zr.prototype.uploadImageUsingCustomFunction=function(r,e){var t=this;function n(l){Mhe(t,l)}function i(l){var h=a(l);t.updateStatusBar("upload-image",h),setTimeout(function(){t.updateStatusBar("upload-image",t.options.imageTexts.sbInit)},1e4),t.options.errorCallback(h)}function a(l){var h=t.options.imageTexts.sizeUnits.split(",");return l.replace("#image_name#",e.name).replace("#image_size#",QA(e.size,h)).replace("#image_max_size#",QA(t.options.imageMaxSize,h))}r.apply(this,[e,n,i])};Zr.prototype.setPreviewMaxHeight=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.nextSibling,n=parseInt(window.getComputedStyle(e).paddingTop),i=parseInt(window.getComputedStyle(e).borderTopWidth),a=parseInt(this.options.maxHeight),l=a+n*2+i*2,h=l.toString()+"px";t.style.height=h};Zr.prototype.createSideBySide=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.nextSibling;if(!t||!t.classList.contains("editor-preview-side")){if(t=document.createElement("div"),t.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var n=0;n<this.options.previewClass.length;n++)t.classList.add(this.options.previewClass[n]);else typeof this.options.previewClass=="string"&&t.classList.add(this.options.previewClass);e.parentNode.insertBefore(t,e.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return t;var i=!1,a=!1;return r.on("scroll",function(l){if(i){i=!1;return}a=!0;var h=l.getScrollInfo().height-l.getScrollInfo().clientHeight,b=parseFloat(l.getScrollInfo().top)/h,S=(t.scrollHeight-t.clientHeight)*b;t.scrollTop=S}),t.onscroll=function(){if(a){a=!1;return}i=!0;var l=t.scrollHeight-t.clientHeight,h=parseFloat(t.scrollTop)/l,b=(r.getScrollInfo().height-r.getScrollInfo().clientHeight)*h;r.scrollTo(0,b)},t};Zr.prototype.createToolbar=function(r){if(r=r||this.options.toolbar,!(!r||r.length===0)){var e;for(e=0;e<r.length;e++)jv[r[e]]!=null&&(r[e]=jv[r[e]]);var t=document.createElement("div");t.className="editor-toolbar",t.setAttribute("role","toolbar");var n=this,i={};for(n.toolbar=r,e=0;e<r.length;e++)if(!(r[e].name=="guide"&&n.options.toolbarGuideIcon===!1)&&!(n.options.hideIcons&&n.options.hideIcons.indexOf(r[e].name)!=-1)&&!((r[e].name=="fullscreen"||r[e].name=="side-by-side")&&Bz())){if(r[e]==="|"){for(var a=!1,l=e+1;l<r.length;l++)r[l]!=="|"&&(!n.options.hideIcons||n.options.hideIcons.indexOf(r[l].name)==-1)&&(a=!0);if(!a)continue}(function(S){var E;if(S==="|"?E=qrt():S.children?E=Frt(S,n.options.toolbarTips,n.options.shortcuts,n):E=JA(S,!0,n.options.toolbarTips,n.options.shortcuts,"button",n),i[S.name||S]=E,t.appendChild(E),S.name==="upload-image"){var O=document.createElement("input");O.className="imageInput",O.type="file",O.multiple=!0,O.name="image",O.accept=n.options.imageAccept,O.style.display="none",O.style.opacity=0,t.appendChild(O)}})(r[e])}n.toolbar_div=t,n.toolbarElements=i;var h=this.codemirror;h.on("cursorActivity",function(){var S=lg(h);for(var E in i)(function(O){var P=i[O];S[O]?P.classList.add("active"):O!="fullscreen"&&O!="side-by-side"&&P.classList.remove("active")})(E)});var b=h.getWrapperElement();return b.parentNode.insertBefore(t,b),t}};Zr.prototype.createStatusbar=function(r){r=r||this.options.status;var e=this.options,t=this.codemirror;if(!(!r||r.length===0)){var n=[],i,a,l,h;for(i=0;i<r.length;i++)if(a=void 0,l=void 0,h=void 0,typeof r[i]=="object")n.push({className:r[i].className,defaultValue:r[i].defaultValue,onUpdate:r[i].onUpdate,onActivity:r[i].onActivity});else{var b=r[i];b==="words"?(h=function(q){q.innerHTML=Ahe(t.getValue())},a=function(q){q.innerHTML=Ahe(t.getValue())}):b==="lines"?(h=function(q){q.innerHTML=t.lineCount()},a=function(q){q.innerHTML=t.lineCount()}):b==="cursor"?(h=function(q){q.innerHTML="1:1"},l=function(q){var z=t.getCursor(),N=z.line+1,V=z.ch+1;q.innerHTML=N+":"+V}):b==="autosave"?h=function(q){e.autosave!=null&&e.autosave.enabled===!0&&q.setAttribute("id","autosaved")}:b==="upload-image"&&(h=function(q){q.innerHTML=e.imageTexts.sbInit}),n.push({className:b,defaultValue:h,onUpdate:a,onActivity:l})}var S=document.createElement("div");for(S.className="editor-statusbar",i=0;i<n.length;i++){var E=n[i],O=document.createElement("span");O.className=E.className,typeof E.defaultValue=="function"&&E.defaultValue(O),typeof E.onUpdate=="function"&&this.codemirror.on("update",function(q,z){return function(){z.onUpdate(q)}}(O,E)),typeof E.onActivity=="function"&&this.codemirror.on("cursorActivity",function(q,z){return function(){z.onActivity(q)}}(O,E)),S.appendChild(O)}var P=this.codemirror.getWrapperElement();return P.parentNode.insertBefore(S,P.nextSibling),S}};Zr.prototype.value=function(r){var e=this.codemirror;if(r===void 0)return e.getValue();if(e.getDoc().setValue(r),this.isPreviewActive()){var t=e.getWrapperElement(),n=t.lastChild,i=this.options.previewRender(r,n);i!==null&&(n.innerHTML=i)}return this};Zr.toggleBold=e2;Zr.toggleItalic=t2;Zr.toggleStrikethrough=r2;Zr.toggleBlockquote=i2;Zr.toggleHeadingSmaller=jw;Zr.toggleHeadingBigger=o2;Zr.toggleHeading1=a2;Zr.toggleHeading2=s2;Zr.toggleHeading3=l2;Zr.toggleHeading4=jz;Zr.toggleHeading5=Uz;Zr.toggleHeading6=Hz;Zr.toggleCodeBlock=n2;Zr.toggleUnorderedList=u2;Zr.toggleOrderedList=c2;Zr.cleanBlock=f2;Zr.drawLink=h2;Zr.drawImage=d2;Zr.drawUploadedImage=Wz;Zr.drawTable=p2;Zr.drawHorizontalRule=m2;Zr.undo=g2;Zr.redo=v2;Zr.togglePreview=y2;Zr.toggleSideBySide=N0;Zr.toggleFullScreen=Uv;Zr.prototype.toggleBold=function(){e2(this)};Zr.prototype.toggleItalic=function(){t2(this)};Zr.prototype.toggleStrikethrough=function(){r2(this)};Zr.prototype.toggleBlockquote=function(){i2(this)};Zr.prototype.toggleHeadingSmaller=function(){jw(this)};Zr.prototype.toggleHeadingBigger=function(){o2(this)};Zr.prototype.toggleHeading1=function(){a2(this)};Zr.prototype.toggleHeading2=function(){s2(this)};Zr.prototype.toggleHeading3=function(){l2(this)};Zr.prototype.toggleHeading4=function(){jz(this)};Zr.prototype.toggleHeading5=function(){Uz(this)};Zr.prototype.toggleHeading6=function(){Hz(this)};Zr.prototype.toggleCodeBlock=function(){n2(this)};Zr.prototype.toggleUnorderedList=function(){u2(this)};Zr.prototype.toggleOrderedList=function(){c2(this)};Zr.prototype.cleanBlock=function(){f2(this)};Zr.prototype.drawLink=function(){h2(this)};Zr.prototype.drawImage=function(){d2(this)};Zr.prototype.drawUploadedImage=function(){Wz(this)};Zr.prototype.drawTable=function(){p2(this)};Zr.prototype.drawHorizontalRule=function(){m2(this)};Zr.prototype.undo=function(){g2(this)};Zr.prototype.redo=function(){v2(this)};Zr.prototype.togglePreview=function(){y2(this)};Zr.prototype.toggleSideBySide=function(){N0(this)};Zr.prototype.toggleFullScreen=function(){Uv(this)};Zr.prototype.isPreviewActive=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.lastChild;return t.classList.contains("editor-preview-active")};Zr.prototype.isSideBySideActive=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.nextSibling;return t.classList.contains("editor-preview-active-side")};Zr.prototype.isFullscreenActive=function(){var r=this.codemirror;return r.getOption("fullScreen")};Zr.prototype.getState=function(){var r=this.codemirror;return lg(r)};Zr.prototype.toTextArea=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.parentNode;t&&(this.gui.toolbar&&t.removeChild(this.gui.toolbar),this.gui.statusbar&&t.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.removeChild(this.gui.sideBySide)),t.parentNode.insertBefore(e,t),t.remove(),r.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};Fhe.exports=Zr});var zhe,b2,Nhe=He(()=>{mi();zhe=So(qhe()),b2=class extends qr{get view(){return this.elementTarget.dataset.view}get componentOptions(){try{return JSON.parse(this.elementTarget.dataset.componentOptions)}catch(r){return{}}}connect(){let r={element:this.elementTarget,spellChecker:this.componentOptions.spell_checker,autoRefresh:{delay:500}};this.view==="show"&&(r.toolbar=!1,r.status=!1);let e=new zhe.default(r);this.view==="show"&&(e.codemirror.options.readOnly=!0)}};Tr(b2,"targets",["element"])});var x2,Bhe=He(()=>{mi();x2=class extends qr{showContent(r){this.contentTarget.classList.toggle("hidden"),r.target.classList.add("hidden")}};Tr(x2,"targets",["content"])});var _2,jhe=He(()=>{mi();_2=class extends qr{focus({params:r}){let e=this.context.element.querySelector(r.selector);this.element&&e.focus()}};Tr(_2,"targets",["element"])});var Uw,Uhe=He(()=>{mi();Uw=class extends qr{connect(){this.resourceName=this.element.dataset.resourceName}toggle(r){let e=!!r.target.checked;document.querySelectorAll(`[data-controller="item-selector"][data-resource-name="${this.resourceName}"] input[type=checkbox]`).forEach(t=>t.checked!==e&&t.click()),this.selectAllEnabled()&&(this.selectAllOverlay(e),e||this.resetUnselected())}selectRow(){let r=!0;this.itemCheckboxTargets.forEach(e=>r=r&&e.checked),this.checkboxTarget.checked=r,this.selectAllEnabled()&&(this.selectAllOverlay(r),this.resetUnselected())}selectAll(r){r.preventDefault(),this.selectedAllValue=!this.selectedAllValue,this.unselectedMessageTarget.classList.toggle("hidden"),this.selectedMessageTarget.classList.toggle("hidden")}resetUnselected(){this.selectedAllValue=!1,this.unselectedMessageTarget.classList.remove("hidden"),this.selectedMessageTarget.classList.add("hidden")}selectAllOverlay(r){r?this.selectAllOverlayTarget.classList.remove("hidden"):this.selectAllOverlayTarget.classList.add("hidden")}selectAllEnabled(){return this.pageCountValue>1&&this.selectedAllQueryValue!=="select_all_disabled"}};Tr(Uw,"targets",["itemCheckbox","checkbox","selectAllOverlay","unselectedMessage","selectedMessage"]),Tr(Uw,"values",{pageCount:Number,selectedAll:Boolean,selectedAllQuery:String})});var w2,Hhe=He(()=>{mi();w2=class extends qr{constructor(){super(...arguments);Tr(this,"checkbox",{});Tr(this,"enabledClasses",["text-black"]);Tr(this,"disabledClasses",["text-gray-500"])}get actionsPanelPresent(){return this.actionsButtonElement!==null}get currentIds(){try{return JSON.parse(this.stateHolderElement.dataset.selectedResources)}catch(r){return[]}}get actionLinks(){return document.querySelectorAll('.js-actions-dropdown a[data-actions-picker-target="resourceAction"]')}set currentIds(r){this.stateHolderElement.dataset.selectedResources=JSON.stringify(r),this.actionsPanelPresent&&(r.length>0?this.enableResourceActions():this.disableResourceActions())}connect(){this.resourceName=this.element.dataset.resourceName,this.resourceId=this.element.dataset.resourceId,this.actionsButtonElement=document.querySelector(`[data-actions-dropdown-button="${this.resourceName}"]`),this.stateHolderElement=document.querySelector(`[data-selected-resources-name="${this.resourceName}"]`)}addToSelected(){let r=this.currentIds;r.push(this.resourceId),this.currentIds=r}removeFromSelected(){this.currentIds=this.currentIds.filter(r=>r.toString()!==this.resourceId)}toggle(r){this.checkbox=r.target,this.checkbox.checked?this.addToSelected():this.removeFromSelected()}enableResourceActions(){this.actionLinks.forEach(r=>{r.classList.add(...this.enabledClasses),r.classList.remove(...this.disabledClasses),r.setAttribute("data-href",r.getAttribute("href")),r.dataset.disabled=!1})}disableResourceActions(){this.actionLinks.forEach(r=>{r.classList.remove(...this.enabledClasses),r.classList.add(...this.disabledClasses),r.setAttribute("href",r.getAttribute("data-href")),r.dataset.disabled=!0})}};Tr(w2,"targets",["panel"])});var S2,Whe=He(()=>{mi();b0();S2=class extends qr{constructor(){super(...arguments);Tr(this,"fieldValue",[]);Tr(this,"options",{})}get keyInputDisabled(){return!this.options.editable||this.options.disable_editing_keys}get valueInputDisabled(){return!this.options.editable}connect(){this.setOptions();try{let r=JSON.parse(this.inputTarget.value);Object.keys(r).forEach(e=>this.fieldValue.push([e,r[e]]))}catch(r){this.fieldValue=[]}this.updateKeyValueComponent()}addRow(){this.options.disable_adding_rows||!this.options.editable||(this.fieldValue.push(["",""]),this.updateKeyValueComponent(),this.focusLastRow())}deleteRow(r){if(this.options.disable_deleting_rows||!this.options.editable)return;let{index:e}=r.params;this.fieldValue.splice(e,1),this.updateTextareaInput(),this.updateKeyValueComponent()}focusLastRow(){return this.rowsTarget.querySelector(".flex.key-value-row:last-child .key-value-input-key").focus()}valueFieldUpdated(r){let{value:e}=r.target,{index:t}=r.target.dataset;this.fieldValue[t][1]=e,this.updateTextareaInput()}keyFieldUpdated(r){let{value:e}=r.target,{index:t}=r.target.dataset;this.fieldValue[t][0]=e,this.updateTextareaInput()}updateTextareaInput(){if(!this.hasInputTarget)return;let r={};this.fieldValue&&this.fieldValue.length>0&&(r=Object.assign(...this.fieldValue.map(([e,t])=>({[e]:t})))),this.inputTarget.innerText=JSON.stringify(r),this.inputTarget.dispatchEvent(new Event("input"))}updateKeyValueComponent(){let r="",e=0;this.fieldValue.forEach(t=>{let[n,i]=t;r+=this.interpolatedRow(n,i,e),e++}),this.rowsTarget.innerHTML=r,window.initTippy()}interpolatedRow(r,e,t){let n=`<div class="flex key-value-row">
      ${this.inputField("key",t,r,e)}
      ${this.inputField("value",t,r,e)}`;return this.options.editable&&(n+=`<a
  href="javascript:void(0);"
  data-key-value-index-param="${t}"
  data-action="click->key-value#deleteRow"
  title="${this.options.delete_text}"
  data-tippy="tooltip"
  data-button="delete-row"
  tabindex="-1"
  ${this.options.disable_deleting_rows?"disabled='disabled'":""}
  class="flex items-center justify-center p-2 px-3 border-none ${this.options.disable_deleting_rows?"cursor-not-allowed":""}"
><svg class="pointer-events-none text-gray-500 h-5 hover:text-gray-500" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></a>`),n+="</div>",n}inputField(r="key",e,t,n){let i=r==="key"?t:n;return`<input
  class="${this.options.inputClasses} focus:bg-gray-100 !rounded-none border-gray-600 border-r border-l-0 border-b-0 border-t-0 focus:border-gray-300 w-1/2 focus:outline-none outline-none key-value-input-${r}"
  data-action="input->key-value#${r}FieldUpdated"
  placeholder="${this.options[`${r}_label`]}"
  data-index="${e}"
  ${this[`${r}InputDisabled`]?"disabled='disabled'":""}
  value="${typeof i=="undefined"||i===null?"":i}"
/>`}setOptions(){let r;try{r=JSON.parse(this.controllerTarget.dataset.options)}catch(e){r={}}this.options=gm(Cf({},r),{inputClasses:this.controllerTarget.dataset.inputClasses,editable:Wu(this.controllerTarget.dataset.editable)})}};Tr(S2,"targets",["input","controller","rows"])});var k2,Vhe=He(()=>{mi();k2=class extends qr{constructor(){super(...arguments);Tr(this,"spinnerMarkup",`<div class="button-spinner">
  <div class="double-bounce1"></div>
  <div class="double-bounce2"></div>
</div>`)}attemptSubmit(r){return this.confirmationMessageValue?this.confirmAndApply(r):this.applyLoader(),null}confirmAndApply(r){this.confirmedValue||(r.preventDefault(),window.confirm(this.confirmationMessageValue)&&this.applyLoader())}get button(){return this.context.scope.element}applyLoader(){let{button:r}=this;r.style.width=`${r.getBoundingClientRect().width}px`,r.style.height=`${r.getBoundingClientRect().height}px`,r.innerHTML=this.spinnerMarkup,r.classList.add("justify-center"),setTimeout(()=>{this.markConfirmed(),r.click(),r.setAttribute("disabled","disabled")},1)}markConfirmed(){this.confirmedValue=!0}markUnconfirmed(){this.confirmedValue=!1}};Tr(k2,"values",{confirmationMessage:String,confirmed:Boolean})});var C2,$he=He(()=>{mi();C2=class extends qr{constructor(){super(...arguments);Tr(this,"collapsed",!0)}get key(){return this.selfTarget.getAttribute("data-menu-key-param")}get defaultState(){return this.selfTarget.getAttribute("data-menu-default-collapsed-state")}get userState(){return window.localStorage.getItem(this.key)}set userState(r){window.localStorage.setItem(this.key,r)}get initiallyCollapsed(){return this.userState?this.userState==="collapsed":this.defaultState==="collapsed"}connect(){this.initiallyCollapsed?(this.collapsed=!0,this.markCollapsed()):(this.collapsed=!1,this.markExpanded())}triggerCollapse(){this.collapsed=!this.collapsed,this.userState=this.collapsed?"collapsed":"expanded",this.updateDom()}updateDom(){this.collapsed?this.markCollapsed():this.markExpanded()}markCollapsed(){this.svgTarget.classList.add("rotate-90"),this.itemsTarget.classList.add("hidden")}markExpanded(){this.svgTarget.classList.remove("rotate-90"),this.itemsTarget.classList.remove("hidden")}};Tr(C2,"targets",["svg","items","self"])});var E2,Ghe=He(()=>{mi();E2=class extends qr{close(){this.modalTarget.remove(),document.dispatchEvent(new Event("actions-modal:close"))}delayedClose(){let r=this;setTimeout(()=>{r.modalTarget.remove(),document.dispatchEvent(new Event("actions-modal:close"))},500)}};Tr(E2,"targets",["modal"])});var T2,Khe=He(()=>{w0();T2=class extends sf{getFilterValue(){let r=Array.from(this.selectorTarget.selectedOptions).map(({value:e})=>e);return r.length===0?null:r}getFilterClass(){let{filterClass:r}=this.selectorTarget.dataset;return r}};Tr(T2,"targets",["selector"])});var A2,Yhe=He(()=>{mi();A2=class extends qr{get turboFrame(){return this.selectorTarget.dataset.turboFrame}reload(){document.querySelector(`[data-per-page-option="${this.selectorTarget.value}"][data-turbo-frame="${this.turboFrame}"]`).click()}};Tr(A2,"targets",["selector"])});var D2,Zhe=He(()=>{mi();UE();D2=class extends qr{connect(){let r=this;Kb(r.context.element,{content:"loading...",allowHTML:!0,theme:"light",maxWidth:550,onShow(e){return Fg(this,null,function*(){let n=yield(yield fetch(r.urlValue)).text();e.setContent(n)})}})}};Tr(D2,"values",{url:String})});var O2,Xhe=He(()=>{mi();O2=class extends qr{update(r){this.labelTarget.textContent=r.target.value}};Tr(O2,"targets",["label"])});var I2,Jhe=He(()=>{mi();I2=class extends qr{beforeStreamRender(r){let{relationName:e}=r.target.dataset;if(r.target.action!=="update-belongs-to"||this.relationNameValue!==e)return!1;r.detail.render=t=>{this.searchableValue?this.updateSearchable(t):this.updateNonSearchable(t)}}updateSearchable(r){document.querySelector(`input[name="${this.targetNameValue}"][type="hidden"]`).value=r.dataset.targetRecordId,document.querySelector(`input[name="${this.targetNameValue}"][type="text"]`).value=r.dataset.targetResourceLabel}updateNonSearchable(r){let e=this.selectorContext(r).querySelector(`select[name="${this.targetNameValue}"]`),t=document.createElement("option");t.value=r.dataset.targetRecordId,t.text=r.dataset.targetResourceLabel,t.selected=!0,e.appendChild(t)}selectorContext(r){return this.polymorphicValue?document.querySelector(`[data-type="${r.dataset.targetResourceClass}"]`):document}};Tr(I2,"values",{polymorphic:Boolean,searchable:Boolean,targetName:String,relationName:String})});var ede=fe((BIt,Qhe)=>{var $rt=typeof global=="object"&&global&&global.Object===Object&&global;Qhe.exports=$rt});var rde=fe((jIt,tde)=>{var Grt=ede(),Krt=typeof self=="object"&&self&&self.Object===Object&&self,Yrt=Grt||Krt||Function("return this")();tde.exports=Yrt});var M2=fe((UIt,nde)=>{var Zrt=rde(),Xrt=Zrt.Symbol;nde.exports=Xrt});var ode=fe((HIt,ide)=>{function Jrt(r,e){for(var t=-1,n=r==null?0:r.length,i=Array(n);++t<n;)i[t]=e(r[t],t,r);return i}ide.exports=Jrt});var sde=fe((WIt,ade)=>{var Qrt=Array.isArray;ade.exports=Qrt});var fde=fe((VIt,cde)=>{var lde=M2(),ude=Object.prototype,ent=ude.hasOwnProperty,tnt=ude.toString,Hw=lde?lde.toStringTag:void 0;function rnt(r){var e=ent.call(r,Hw),t=r[Hw];try{r[Hw]=void 0;var n=!0}catch{}var i=tnt.call(r);return n&&(e?r[Hw]=t:delete r[Hw]),i}cde.exports=rnt});var dde=fe(($It,hde)=>{var nnt=Object.prototype,int=nnt.toString;function ont(r){return int.call(r)}hde.exports=ont});var vde=fe((GIt,gde)=>{var pde=M2(),ant=fde(),snt=dde(),lnt="[object Null]",unt="[object Undefined]",mde=pde?pde.toStringTag:void 0;function cnt(r){return r==null?r===void 0?unt:lnt:mde&&mde in Object(r)?ant(r):snt(r)}gde.exports=cnt});var bde=fe((KIt,yde)=>{function fnt(r){return r!=null&&typeof r=="object"}yde.exports=fnt});var _de=fe((YIt,xde)=>{var hnt=vde(),dnt=bde(),pnt="[object Symbol]";function mnt(r){return typeof r=="symbol"||dnt(r)&&hnt(r)==pnt}xde.exports=mnt});var Tde=fe((ZIt,Ede)=>{var wde=M2(),gnt=ode(),vnt=sde(),ynt=_de(),bnt=1/0,Sde=wde?wde.prototype:void 0,kde=Sde?Sde.toString:void 0;function Cde(r){if(typeof r=="string")return r;if(vnt(r))return gnt(r,Cde)+"";if(ynt(r))return kde?kde.call(r):"";var e=r+"";return e=="0"&&1/r==-bnt?"-0":e}Ede.exports=Cde});var Ww=fe((XIt,Ade)=>{var xnt=Tde();function _nt(r){return r==null?"":xnt(r)}Ade.exports=_nt});var Ode=fe((JIt,Dde)=>{function wnt(r,e,t){var n=-1,i=r.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=r[n+e];return a}Dde.exports=wnt});var Mde=fe((QIt,Ide)=>{var Snt=Ode();function knt(r,e,t){var n=r.length;return t=t===void 0?n:t,!e&&t>=n?r:Snt(r,e,t)}Ide.exports=knt});var Gz=fe((eMt,Pde)=>{var Cnt="\\ud800-\\udfff",Ent="\\u0300-\\u036f",Tnt="\\ufe20-\\ufe2f",Ant="\\u20d0-\\u20ff",Dnt=Ent+Tnt+Ant,Ont="\\ufe0e\\ufe0f",Int="\\u200d",Mnt=RegExp("["+Int+Cnt+Dnt+Ont+"]");function Pnt(r){return Mnt.test(r)}Pde.exports=Pnt});var Rde=fe((tMt,Lde)=>{function Lnt(r){return r.split("")}Lde.exports=Lnt});var Hde=fe((rMt,Ude)=>{var Fde="\\ud800-\\udfff",Rnt="\\u0300-\\u036f",Fnt="\\ufe20-\\ufe2f",qnt="\\u20d0-\\u20ff",znt=Rnt+Fnt+qnt,Nnt="\\ufe0e\\ufe0f",Bnt="["+Fde+"]",Kz="["+znt+"]",Yz="\\ud83c[\\udffb-\\udfff]",jnt="(?:"+Kz+"|"+Yz+")",qde="[^"+Fde+"]",zde="(?:\\ud83c[\\udde6-\\uddff]){2}",Nde="[\\ud800-\\udbff][\\udc00-\\udfff]",Unt="\\u200d",Bde=jnt+"?",jde="["+Nnt+"]?",Hnt="(?:"+Unt+"(?:"+[qde,zde,Nde].join("|")+")"+jde+Bde+")*",Wnt=jde+Bde+Hnt,Vnt="(?:"+[qde+Kz+"?",Kz,zde,Nde,Bnt].join("|")+")",$nt=RegExp(Yz+"(?="+Yz+")|"+Vnt+Wnt,"g");function Gnt(r){return r.match($nt)||[]}Ude.exports=Gnt});var Vde=fe((nMt,Wde)=>{var Knt=Rde(),Ynt=Gz(),Znt=Hde();function Xnt(r){return Ynt(r)?Znt(r):Knt(r)}Wde.exports=Xnt});var Gde=fe((iMt,$de)=>{var Jnt=Mde(),Qnt=Gz(),eit=Vde(),tit=Ww();function rit(r){return function(e){e=tit(e);var t=Qnt(e)?eit(e):void 0,n=t?t[0]:e.charAt(0),i=t?Jnt(t,1).join(""):e.slice(1);return n[r]()+i}}$de.exports=rit});var Yde=fe((oMt,Kde)=>{var nit=Gde(),iit=nit("toUpperCase");Kde.exports=iit});var Xde=fe((aMt,Zde)=>{var oit=Ww(),ait=Yde();function sit(r){return ait(oit(r).toLowerCase())}Zde.exports=sit});var Qde=fe((sMt,Jde)=>{function lit(r,e,t,n){var i=-1,a=r==null?0:r.length;for(n&&a&&(t=r[++i]);++i<a;)t=e(t,r[i],i,r);return t}Jde.exports=lit});var tpe=fe((lMt,epe)=>{function uit(r){return function(e){return r?.[e]}}epe.exports=uit});var npe=fe((uMt,rpe)=>{var cit=tpe(),fit={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},hit=cit(fit);rpe.exports=hit});var ope=fe((cMt,ipe)=>{var dit=npe(),pit=Ww(),mit=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,git="\\u0300-\\u036f",vit="\\ufe20-\\ufe2f",yit="\\u20d0-\\u20ff",bit=git+vit+yit,xit="["+bit+"]",_it=RegExp(xit,"g");function wit(r){return r=pit(r),r&&r.replace(mit,dit).replace(_it,"")}ipe.exports=wit});var spe=fe((fMt,ape)=>{var Sit=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function kit(r){return r.match(Sit)||[]}ape.exports=kit});var upe=fe((hMt,lpe)=>{var Cit=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Eit(r){return Cit.test(r)}lpe.exports=Eit});var Ape=fe((dMt,Tpe)=>{var ppe="\\ud800-\\udfff",Tit="\\u0300-\\u036f",Ait="\\ufe20-\\ufe2f",Dit="\\u20d0-\\u20ff",Oit=Tit+Ait+Dit,mpe="\\u2700-\\u27bf",gpe="a-z\\xdf-\\xf6\\xf8-\\xff",Iit="\\xac\\xb1\\xd7\\xf7",Mit="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Pit="\\u2000-\\u206f",Lit=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vpe="A-Z\\xc0-\\xd6\\xd8-\\xde",Rit="\\ufe0e\\ufe0f",ype=Iit+Mit+Pit+Lit,bpe="['\u2019]",cpe="["+ype+"]",Fit="["+Oit+"]",xpe="\\d+",qit="["+mpe+"]",_pe="["+gpe+"]",wpe="[^"+ppe+ype+xpe+mpe+gpe+vpe+"]",zit="\\ud83c[\\udffb-\\udfff]",Nit="(?:"+Fit+"|"+zit+")",Bit="[^"+ppe+"]",Spe="(?:\\ud83c[\\udde6-\\uddff]){2}",kpe="[\\ud800-\\udbff][\\udc00-\\udfff]",B0="["+vpe+"]",jit="\\u200d",fpe="(?:"+_pe+"|"+wpe+")",Uit="(?:"+B0+"|"+wpe+")",hpe="(?:"+bpe+"(?:d|ll|m|re|s|t|ve))?",dpe="(?:"+bpe+"(?:D|LL|M|RE|S|T|VE))?",Cpe=Nit+"?",Epe="["+Rit+"]?",Hit="(?:"+jit+"(?:"+[Bit,Spe,kpe].join("|")+")"+Epe+Cpe+")*",Wit="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vit="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$it=Epe+Cpe+Hit,Git="(?:"+[qit,Spe,kpe].join("|")+")"+$it,Kit=RegExp([B0+"?"+_pe+"+"+hpe+"(?="+[cpe,B0,"$"].join("|")+")",Uit+"+"+dpe+"(?="+[cpe,B0+fpe,"$"].join("|")+")",B0+"?"+fpe+"+"+hpe,B0+"+"+dpe,Vit,Wit,xpe,Git].join("|"),"g");function Yit(r){return r.match(Kit)||[]}Tpe.exports=Yit});var Ope=fe((pMt,Dpe)=>{var Zit=spe(),Xit=upe(),Jit=Ww(),Qit=Ape();function eot(r,e,t){return r=Jit(r),e=t?void 0:e,e===void 0?Xit(r)?Qit(r):Zit(r):r.match(e)||[]}Dpe.exports=eot});var Mpe=fe((mMt,Ipe)=>{var tot=Qde(),rot=ope(),not=Ope(),iot="['\u2019]",oot=RegExp(iot,"g");function aot(r){return function(e){return tot(not(rot(e).replace(oot,"")),r,"")}}Ipe.exports=aot});var Lpe=fe((gMt,Ppe)=>{var sot=Xde(),lot=Mpe(),uot=lot(function(r,e,t){return e=e.toLowerCase(),r+(t?sot(e):e)});Ppe.exports=uot});var Zz,Vw,Rpe=He(()=>{mi();Zz=So(Lpe()),Vw=class extends qr{debugOnInput(r){console.log("onInput",r,r.target.value)}toggle({params:r}){let{toggleTarget:e,toggleTargets:t}=r;e&&this.toggleAvoTarget(e),t&&t.length>0&&t.forEach(this.toggleAvoTarget.bind(this))}disable({params:r}){let{disableTarget:e,disableTargets:t}=r;e&&this.disableAvoTarget(e),t&&t.length>0&&t.forEach(this.disableAvoTarget.bind(this))}toggleAvoTarget(r){let e=(0,Zz.default)(r),t=document.querySelector(`[data-resource-edit-target="${e}"]`);t&&t.classList.toggle("hidden")}disableAvoTarget(r){let e=(0,Zz.default)(r);document.querySelectorAll(`[data-resource-edit-target="${e}"]`).forEach(this.toggleItemDisabled),document.querySelectorAll(`[data-resource-edit-target="${e}"] input`).forEach(this.toggleItemDisabled),document.querySelectorAll(`[data-resource-edit-target="${e}"] select`).forEach(this.toggleItemDisabled),document.querySelectorAll(`[data-resource-edit-target="${e}"] [data-slot="value"] button`).forEach(this.toggleItemDisabled)}toggleItemDisabled(r){r.disabled=!r.disabled}};Tr(Vw,"targets",[]),Tr(Vw,"values",{view:String})});var Xz,Fpe=He(()=>{mi();Xz=class extends qr{}});var Jz,qpe=He(()=>{mi();Jz=class extends qr{}});function $w(r){return{current:r}}var zpe=He(()=>{});function Qz(r,e){var t=void 0;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];t&&clearTimeout(t),t=setTimeout(function(){return r.apply(void 0,i)},e)}}var Npe=He(()=>{});function P2(){return"autocomplete-".concat(cot++)}var cot,Bpe=He(()=>{cot=0});function j0(r,e){return e.reduce(function(t,n){return t&&t[n]},r)}var jpe=He(()=>{});function cg(r){return r.collections.length===0?0:r.collections.reduce(function(e,t){return e+t.items.length},0)}var Upe=He(()=>{});var Hpe=He(()=>{});var Wpe=He(()=>{});var Vpe=He(()=>{});var $pe=He(()=>{});var Wv=He(()=>{zpe();Npe();Bpe();jpe();Upe();Hpe();Wpe();Vpe();$pe()});function Gpe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function fot(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gpe(Object(t),!0).forEach(function(n){hot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Gpe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Kpe(r,e,t){var n=e.initialState;return{getState:function(){return n},dispatch:function(a,l){var h=fot({},n);n=r(n,{type:a,props:e,payload:l}),t({state:n,prevState:h})}}}var Ype=He(()=>{});var Zpe=He(()=>{});function U0(r){return r.reduce(function(e,t){return e.concat(t)},[])}var Xpe=He(()=>{});function eN(r,e,t,n){if(r<0&&(e===null||n!==null&&e===0))return t+r;var i=(e===null?-1:e)+r;return i<=-1||i>=t?n===null?null:0:i}var Jpe=He(()=>{});var Qpe,tN=He(()=>{Qpe=function(){}});function eme(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function dot(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eme(Object(t),!0).forEach(function(n){pot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eme(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function pot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function L2(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L2=function(t){return typeof t}:L2=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L2(r)}function tme(r,e){var t=[];return Promise.resolve(r(e)).then(function(n){return Array.isArray(n),"The `getSources` function must return an array of sources but returned type ".concat(JSON.stringify(L2(n)),`:

`).concat(JSON.stringify(n,null,2)),Promise.all(n.filter(function(i){return Boolean(i)}).map(function(i){if(i.sourceId,t.includes(i.sourceId))throw new Error("[Autocomplete] The `sourceId` ".concat(JSON.stringify(i.sourceId)," is not unique."));t.push(i.sourceId);var a=dot({getItemInputValue:function(h){var b=h.state;return b.query},getItemUrl:function(){},onSelect:function(h){var b=h.setIsOpen;b(!1)},onActive:Qpe},i);return Promise.resolve(a)}))})}var rme=He(()=>{tN()});function mot(r){var e=r.collections.map(function(n){return n.items.length}).reduce(function(n,i,a){var l=n[a-1]||0,h=l+i;return n.push(h),n},[]),t=e.reduce(function(n,i){return i<=r.activeItemId?n+1:n},0);return r.collections[t]}function got(r){for(var e=r.state,t=r.collection,n=!1,i=0,a=0;n===!1;){var l=e.collections[i];if(l===t){n=!0;break}a+=l.items.length,i++}return e.activeItemId-a}function qd(r){var e=mot(r);if(!e)return null;var t=e.items[got({state:r,collection:e})],n=e.source,i=n.getItemInputValue({item:t,state:r}),a=n.getItemUrl({item:t,state:r});return{item:t,itemInputValue:i,itemUrl:a,source:n}}var nme=He(()=>{});function rN(r,e){return r===e||r.contains(e)}var ime=He(()=>{});function ome(r){return{results:r,hits:r.map(function(e){return e.hits}).filter(Boolean),facetHits:r.map(function(e){var t;return(t=e.facetHits)===null||t===void 0?void 0:t.map(function(n){return{label:n.value,count:n.count,_highlightResult:{label:{value:n.highlighted}}}})}).filter(Boolean)}}var ame=He(()=>{});var Wp=He(()=>{Zpe();Xpe();Jpe();rme();nme();ime();ame();tN()});function sme(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function R2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sme(Object(t),!0).forEach(function(n){vot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):sme(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function vot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function lme(r){var e=r.store,t=function(S){e.dispatch("setActiveItemId",S)},n=function(S){e.dispatch("setQuery",S)},i=function(S){var E=0,O=S.map(function(P){return R2(R2({},P),{},{items:U0(P.items).map(function(q){return R2(R2({},q),{},{__autocomplete_id:E++})})})});e.dispatch("setCollections",O)},a=function(S){e.dispatch("setIsOpen",S)},l=function(S){e.dispatch("setStatus",S)},h=function(S){e.dispatch("setContext",S)};return{setActiveItemId:t,setQuery:n,setCollections:i,setIsOpen:a,setStatus:l,setContext:h}}var ume=He(()=>{Wp()});function yot(r){return wot(r)||_ot(r)||xot(r)||bot()}function bot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xot(r,e){if(!!r){if(typeof r=="string")return nN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nN(r,e)}}function _ot(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function wot(r){if(Array.isArray(r))return nN(r)}function nN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function cme(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function H0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cme(Object(t),!0).forEach(function(n){Sot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cme(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Sot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fme(r,e){var t,n=typeof window<"u"?window:{},i=r.plugins||[];return H0(H0({debug:!1,openOnFocus:!1,placeholder:"",autoFocus:!1,defaultActiveItemId:null,stallThreshold:300,environment:n,shouldPanelOpen:function(l){var h=l.state;return cg(h)>0}},r),{},{id:(t=r.id)!==null&&t!==void 0?t:P2(),plugins:i,initialState:H0({activeItemId:null,query:"",completion:null,collections:[],isOpen:!1,status:"idle",context:{}},r.initialState),onStateChange:function(l){var h;(h=r.onStateChange)===null||h===void 0||h.call(r,l),i.forEach(function(b){var S;return(S=b.onStateChange)===null||S===void 0?void 0:S.call(b,l)})},onSubmit:function(l){var h;(h=r.onSubmit)===null||h===void 0||h.call(r,l),i.forEach(function(b){var S;return(S=b.onSubmit)===null||S===void 0?void 0:S.call(b,l)})},onReset:function(l){var h;(h=r.onReset)===null||h===void 0||h.call(r,l),i.forEach(function(b){var S;return(S=b.onReset)===null||S===void 0?void 0:S.call(b,l)})},getSources:function(l){return Promise.all([].concat(yot(i.map(function(h){return h.getSources})),[r.getSources]).filter(Boolean).map(function(h){return tme(h,l)})).then(function(h){return U0(h)}).then(function(h){return h.map(function(b){return H0(H0({},b),{},{onSelect:function(E){b.onSelect(E),e.forEach(function(O){var P;return(P=O.onSelect)===null||P===void 0?void 0:P.call(O,E)})},onActive:function(E){b.onActive(E),e.forEach(function(O){var P;return(P=O.onActive)===null||P===void 0?void 0:P.call(O,E)})}})})})},navigator:H0({navigate:function(l){var h=l.itemUrl;n.location.assign(h)},navigateNewTab:function(l){var h=l.itemUrl,b=n.open(h,"_blank","noopener");b?.focus()},navigateNewWindow:function(l){var h=l.itemUrl;n.open(h,"_blank","noopener")}},r.navigator)})}var iN=He(()=>{Wv();Wp()});function q2(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?q2=function(t){return typeof t}:q2=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q2(r)}function kot(r){return Aot(r)||Tot(r)||Eot(r)||Cot()}function Cot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eot(r,e){if(!!r){if(typeof r=="string")return oN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oN(r,e)}}function Tot(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Aot(r){if(Array.isArray(r))return oN(r)}function oN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function hme(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function dme(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hme(Object(t),!0).forEach(function(n){Dot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hme(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Dot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function F2(r){return Boolean(r.execute)}function Oot(r){return Boolean(r.execute)}function pme(r,e){return Oot(r)?dme(dme({},r),{},{requests:r.queries.map(function(t){return{query:t,sourceId:e,transformResponse:r.transformResponse}})}):{items:r,sourceId:e}}function mme(r){var e=r.reduce(function(n,i){if(!F2(i))return n.push(i),n;var a=i.searchClient,l=i.execute,h=i.requests,b=n.find(function(O){return F2(i)&&F2(O)&&O.searchClient===a&&O.execute===l});if(b){var S;(S=b.items).push.apply(S,kot(h))}else{var E={execute:l,items:h,searchClient:a};n.push(E)}return n},[]),t=e.map(function(n){if(!F2(n))return Promise.resolve(n);var i=n,a=i.execute,l=i.items,h=i.searchClient;return a({searchClient:h,requests:l})});return Promise.all(t).then(function(n){return U0(n)})}function gme(r,e){return e.map(function(t){var n=r.filter(function(h){return h.sourceId===t.sourceId}),i=n.map(function(h){var b=h.items;return b}),a=n[0].transformResponse,l=a?a(ome(i)):i;return Array.isArray(l),"The `getItems` function must return an array of items but returned type ".concat(JSON.stringify(q2(l)),`:

`).concat(JSON.stringify(l,null,2)),{source:t,items:l}})}var vme=He(()=>{Wp()});function yme(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Gw(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yme(Object(t),!0).forEach(function(n){Iot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yme(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Iot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mot(r,e){if(r==null)return{};var t=Pot(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function Pot(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function fg(r){var e=r.event,t=r.nextState,n=t===void 0?{}:t,i=r.props,a=r.query,l=r.refresh,h=r.store,b=Mot(r,["event","nextState","props","query","refresh","store"]);Kw&&i.environment.clearTimeout(Kw);var S=b.setCollections,E=b.setIsOpen,O=b.setQuery,P=b.setActiveItemId,q=b.setStatus;if(O(a),P(i.defaultActiveItemId),!a&&i.openOnFocus===!1){var z;return q("idle"),S(h.getState().collections.map(function(N){return Gw(Gw({},N),{},{items:[]})})),E((z=n.isOpen)!==null&&z!==void 0?z:i.shouldPanelOpen({state:h.getState()})),Promise.resolve()}return q("loading"),Kw=i.environment.setTimeout(function(){q("stalled")},i.stallThreshold),i.getSources(Gw({query:a,refresh:l,state:h.getState()},b)).then(function(N){return q("loading"),Promise.all(N.map(function(V){return Promise.resolve(V.getItems(Gw({query:a,refresh:l,state:h.getState()},b))).then(function(Y){return pme(Y,V.sourceId)})})).then(mme).then(function(V){return gme(V,N)}).then(function(V){var Y;q("idle"),S(V);var J=i.shouldPanelOpen({state:h.getState()});E((Y=n.isOpen)!==null&&Y!==void 0?Y:i.openOnFocus&&!a&&J||J);var se=qd(h.getState());if(h.getState().activeItemId!==null&&se){var _=se.item,me=se.itemInputValue,ne=se.itemUrl,de=se.source;de.onActive(Gw({event:e,item:_,itemInputValue:me,itemUrl:ne,refresh:l,source:de,state:h.getState()},b))}}).finally(function(){Kw&&i.environment.clearTimeout(Kw)})})}var Kw,z2=He(()=>{vme();Wp();Kw=null});function bme(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function W0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bme(Object(t),!0).forEach(function(n){Lot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bme(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Lot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Rot(r,e){if(r==null)return{};var t=Fot(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function Fot(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function xme(r){var e=r.event,t=r.props,n=r.refresh,i=r.store,a=Rot(r,["event","props","refresh","store"]);if(e.key==="ArrowUp"||e.key==="ArrowDown"){e.preventDefault(),i.dispatch(e.key,null);var l=t.environment.document.getElementById("".concat(t.id,"-item-").concat(i.getState().activeItemId));l&&(l.scrollIntoViewIfNeeded?l.scrollIntoViewIfNeeded(!1):l.scrollIntoView(!1));var h=qd(i.getState());if(i.getState().activeItemId!==null&&h){var b=h.item,S=h.itemInputValue,E=h.itemUrl,O=h.source;O.onActive(W0({event:e,item:b,itemInputValue:S,itemUrl:E,refresh:n,source:O,state:i.getState()},a))}}else if(e.key==="Escape")e.preventDefault(),i.dispatch(e.key,null);else if(e.key==="Enter"){if(i.getState().activeItemId===null||i.getState().collections.every(function(Y){return Y.items.length===0}))return;e.preventDefault();var P=qd(i.getState()),q=P.item,z=P.itemInputValue,N=P.itemUrl,V=P.source;if(e.metaKey||e.ctrlKey)N!==void 0&&(V.onSelect(W0({event:e,item:q,itemInputValue:z,itemUrl:N,refresh:n,source:V,state:i.getState()},a)),t.navigator.navigateNewTab({itemUrl:N,item:q,state:i.getState()}));else if(e.shiftKey)N!==void 0&&(V.onSelect(W0({event:e,item:q,itemInputValue:z,itemUrl:N,refresh:n,source:V,state:i.getState()},a)),t.navigator.navigateNewWindow({itemUrl:N,item:q,state:i.getState()}));else if(!e.altKey){if(N!==void 0){V.onSelect(W0({event:e,item:q,itemInputValue:z,itemUrl:N,refresh:n,source:V,state:i.getState()},a)),t.navigator.navigate({itemUrl:N,item:q,state:i.getState()});return}fg(W0({event:e,nextState:{isOpen:!1},props:t,query:z,refresh:n,store:i},a)).then(function(){V.onSelect(W0({event:e,item:q,itemInputValue:z,itemUrl:N,refresh:n,source:V,state:i.getState()},a))})}}}var _me=He(()=>{z2();Wp()});function wme(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Tu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wme(Object(t),!0).forEach(function(n){qot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wme(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Yw(r,e){if(r==null)return{};var t=zot(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function zot(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function Sme(r){var e=r.props,t=r.refresh,n=r.store,i=Yw(r,["props","refresh","store"]),a=function(z){var N=z.inputElement,V=z.formElement,Y=z.panelElement,J=Yw(z,["inputElement","formElement","panelElement"]);return Tu({onTouchStart:function(_){if(!(n.getState().isOpen===!1||_.target===N)){var me=[V,Y].some(function(ne){return rN(ne,_.target)||rN(ne,e.environment.document.activeElement)});me===!1&&n.dispatch("blur",null)}},onTouchMove:function(_){n.getState().isOpen===!1||N!==e.environment.document.activeElement||_.target===N||N.blur()}},J)},l=function(z){return Tu({role:"combobox","aria-expanded":n.getState().isOpen,"aria-haspopup":"listbox","aria-owns":n.getState().isOpen?"".concat(e.id,"-list"):void 0,"aria-labelledby":"".concat(e.id,"-label")},z)},h=function(z){var N=z.inputElement,V=Yw(z,["inputElement"]);return Tu({action:"",noValidate:!0,role:"search",onSubmit:function(J){var se;J.preventDefault(),e.onSubmit(Tu({event:J,refresh:t,state:n.getState()},i)),n.dispatch("submit",null),(se=z.inputElement)===null||se===void 0||se.blur()},onReset:function(J){var se;J.preventDefault(),e.onReset(Tu({event:J,refresh:t,state:n.getState()},i)),n.dispatch("reset",null),(se=z.inputElement)===null||se===void 0||se.focus()}},V)},b=function(z){function N(de){(e.openOnFocus||Boolean(n.getState().query))&&fg(Tu({event:de,props:e,query:n.getState().completion||n.getState().query,refresh:t,store:n},i)),n.dispatch("focus",null)}var V="ontouchstart"in e.environment,Y=z||{},J=Y.inputElement,se=Y.maxLength,_=se===void 0?512:se,me=Yw(Y,["inputElement","maxLength"]),ne=qd(n.getState());return Tu({"aria-autocomplete":"both","aria-activedescendant":n.getState().isOpen&&n.getState().activeItemId!==null?"".concat(e.id,"-item-").concat(n.getState().activeItemId):void 0,"aria-controls":n.getState().isOpen?"".concat(e.id,"-list"):void 0,"aria-labelledby":"".concat(e.id,"-label"),value:n.getState().completion||n.getState().query,id:"".concat(e.id,"-input"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:ne!=null&&ne.itemUrl?"go":"search",spellCheck:"false",autoFocus:e.autoFocus,placeholder:e.placeholder,maxLength:_,type:"search",onChange:function(he){fg(Tu({event:he,props:e,query:he.currentTarget.value.slice(0,_),refresh:t,store:n},i))},onKeyDown:function(he){xme(Tu({event:he,props:e,refresh:t,store:n},i))},onFocus:N,onBlur:function(){V||n.dispatch("blur",null)},onClick:function(he){z.inputElement===e.environment.document.activeElement&&!n.getState().isOpen&&N(he)}},me)},S=function(z){return Tu({htmlFor:"".concat(e.id,"-input"),id:"".concat(e.id,"-label")},z)},E=function(z){return Tu({role:"listbox","aria-labelledby":"".concat(e.id,"-label"),id:"".concat(e.id,"-list")},z)},O=function(z){return Tu({onMouseDown:function(V){V.preventDefault()},onMouseLeave:function(){n.dispatch("mouseleave",null)}},z)},P=function(z){var N=z.item,V=z.source,Y=Yw(z,["item","source"]);return Tu({id:"".concat(e.id,"-item-").concat(N.__autocomplete_id),role:"option","aria-selected":n.getState().activeItemId===N.__autocomplete_id,onMouseMove:function(se){if(N.__autocomplete_id!==n.getState().activeItemId){n.dispatch("mousemove",N.__autocomplete_id);var _=qd(n.getState());if(n.getState().activeItemId!==null&&_){var me=_.item,ne=_.itemInputValue,de=_.itemUrl,he=_.source;he.onActive(Tu({event:se,item:me,itemInputValue:ne,itemUrl:de,refresh:t,source:he,state:n.getState()},i))}}},onMouseDown:function(se){se.preventDefault()},onClick:function(se){var _=V.getItemInputValue({item:N,state:n.getState()}),me=V.getItemUrl({item:N,state:n.getState()}),ne=me?Promise.resolve():fg(Tu({event:se,nextState:{isOpen:!1},props:e,query:_,refresh:t,store:n},i));ne.then(function(){V.onSelect(Tu({event:se,item:N,itemInputValue:_,itemUrl:me,refresh:t,source:V,state:n.getState()},i))})}},Y)};return{getEnvironmentProps:a,getRootProps:l,getFormProps:h,getLabelProps:S,getInputProps:b,getPanelProps:O,getListProps:E,getItemProps:P}}var kme=He(()=>{z2();_me();Wp()});function aN(r){var e=r.state;if(e.isOpen===!1||e.activeItemId===null)return null;var t=qd(e),n=t.itemInputValue;return n||null}var Cme=He(()=>{Wp()});function Eme(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function gi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Eme(Object(t),!0).forEach(function(n){Bot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Eme(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Bot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Tme,Ame=He(()=>{Wv();Cme();Wp();Tme=function(e,t){switch(t.type){case"setActiveItemId":return gi(gi({},e),{},{activeItemId:t.payload});case"setQuery":return gi(gi({},e),{},{query:t.payload,completion:null});case"setCollections":return gi(gi({},e),{},{collections:t.payload});case"setIsOpen":return gi(gi({},e),{},{isOpen:t.payload});case"setStatus":return gi(gi({},e),{},{status:t.payload});case"setContext":return gi(gi({},e),{},{context:gi(gi({},e.context),t.payload)});case"ArrowDown":{var n=gi(gi({},e),{},{activeItemId:eN(1,e.activeItemId,cg(e),t.props.defaultActiveItemId)});return gi(gi({},n),{},{completion:aN({state:n})})}case"ArrowUp":{var i=gi(gi({},e),{},{activeItemId:eN(-1,e.activeItemId,cg(e),t.props.defaultActiveItemId)});return gi(gi({},i),{},{completion:aN({state:i})})}case"Escape":return e.isOpen?gi(gi({},e),{},{isOpen:!1,completion:null}):gi(gi({},e),{},{query:"",status:"idle",collections:[]});case"submit":return gi(gi({},e),{},{activeItemId:null,isOpen:!1,status:"idle"});case"reset":return gi(gi({},e),{},{activeItemId:t.props.openOnFocus===!0?t.props.defaultActiveItemId:null,status:"idle",query:""});case"focus":return gi(gi({},e),{},{activeItemId:t.props.defaultActiveItemId,isOpen:(t.props.openOnFocus||Boolean(e.query))&&t.props.shouldPanelOpen({state:e})});case"blur":return t.props.debug?e:gi(gi({},e),{},{isOpen:!1,activeItemId:null});case"mousemove":return gi(gi({},e),{},{activeItemId:t.payload});case"mouseleave":return gi(gi({},e),{},{activeItemId:t.props.defaultActiveItemId});default:return"The reducer action ".concat(JSON.stringify(t.type)," is not supported."),e}}});function Dme(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Vv(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dme(Object(t),!0).forEach(function(n){jot(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Dme(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function jot(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ome(r){var e=[],t=fme(r,e),n=Kpe(Tme,t,l),i=lme({store:n}),a=Sme(Vv({props:t,refresh:h,store:n},i));function l(b){var S=b.prevState,E=b.state;t.onStateChange(Vv({prevState:S,state:E,refresh:h},i))}function h(){return fg(Vv({event:new Event("input"),nextState:{isOpen:n.getState().isOpen},props:t,query:n.getState().query,refresh:h,store:n},i))}return t.plugins.forEach(function(b){var S;return(S=b.subscribe)===null||S===void 0?void 0:S.call(b,Vv(Vv({},i),{},{refresh:h,onSelect:function(O){e.push({onSelect:O})},onActive:function(O){e.push({onActive:O})}}))}),Vv(Vv({refresh:h},a),i)}var Ime=He(()=>{Ype();ume();iN();kme();z2();Ame()});var Mme=He(()=>{});var Pme=He(()=>{});var Lme=He(()=>{});var Rme=He(()=>{});var Fme=He(()=>{});var qme=He(()=>{});var zme=He(()=>{});var Nme=He(()=>{});var Bme=He(()=>{});var jme=He(()=>{});var Ume=He(()=>{});var Hme=He(()=>{});var Wme=He(()=>{Mme();Pme();Lme();Rme();Fme();qme();zme();Nme();Bme();jme();Ume();Hme()});var Vme=He(()=>{});var $me=He(()=>{Ime();iN();Wme();Vme()});function sN(r){if(typeof r=="string"){var e=document.querySelector(r);return"The element ".concat(JSON.stringify(r)," is not in the document."),e}return r}var Gme=He(()=>{});function Kme(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.reduce(function(n,i){return Object.keys(i).forEach(function(a){var l=n[a],h=i[a];l!==h&&(n[a]=[l,h].filter(Boolean).join(" "))}),n},{})}var Yme=He(()=>{});function Uot(r){return $ot(r)||Vot(r)||Wot(r)||Hot()}function Hot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wot(r,e){if(!!r){if(typeof r=="string")return lN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lN(r,e)}}function Vot(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function $ot(r){if(Array.isArray(r))return lN(r)}function lN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function N2(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N2=function(t){return typeof t}:N2=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N2(r)}function uN(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.reduce(function(n,i){return Object.keys(i).forEach(function(a){var l=n[a],h=i[a];Array.isArray(l)&&Array.isArray(h)?n[a]=l.concat.apply(l,Uot(h)):Zme(l)&&Zme(h)?n[a]=uN(l,h):n[a]=h}),n},{})}var Zme,Xme=He(()=>{Zme=function(e){return e&&N2(e)==="object"}});function Got(r,e,t){t===null?r[e]="":typeof t!="number"?r[e]=t:r[e]=t+"px"}function Jme(r){this._listeners[r.type](r)}function Qme(r,e,t){var n,i,a=r[e];if(e==="style")if(typeof t=="string")r.style=t;else if(t===null)r.style="";else for(e in t)(!a||t[e]!==a[e])&&Got(r.style,e,t[e]);else e[0]==="o"&&e[1]==="n"?(n=e!==(e=e.replace(/Capture$/,"")),i=e.toLowerCase(),i in r&&(e=i),e=e.slice(2),r._listeners||(r._listeners={}),r._listeners[e]=t,t?a||r.addEventListener(e,Jme,n):r.removeEventListener(e,Jme,n)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&e!=="download"&&e!=="href"&&e in r?r[e]=t??"":typeof t!="function"&&e!=="dangerouslySetInnerHTML"&&(t==null||t===!1&&!/^ar/.test(e)?r.removeAttribute(e):r.setAttribute(e,t))}function ege(r){switch(r){case"onChange":return"onInput";default:return r}}function Hf(r,e){for(var t in e)Qme(r,ege(t),e[t])}function cN(r,e){for(var t in e)t[0]==="o"&&t[1]==="n"||Qme(r,ege(t),e[t])}var tge=He(()=>{});var V0=He(()=>{Gme();Yme();Xme();tge()});function Kot(r){return Jot(r)||Xot(r)||Zot(r)||Yot()}function Yot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zot(r,e){if(!!r){if(typeof r=="string")return fN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fN(r,e)}}function Xot(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Jot(r){if(Array.isArray(r))return fN(r)}function fN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Qot(r,e){if(r==null)return{};var t=eat(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function eat(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function Fs(r,e){var t=e.children,n=t===void 0?[]:t,i=Qot(e,["children"]),a=document.createElement(r);return Hf(a,i),a.append.apply(a,Kot(n)),a}var hN=He(()=>{V0()});var rge,nge=He(()=>{rge=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("class","aa-ClearIcon"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("width","18"),e.setAttribute("height","18"),e.setAttribute("fill","currentColor");var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"),e.appendChild(t),e}});function ige(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function dN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ige(Object(t),!0).forEach(function(n){tat(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ige(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tat(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rat(r,e){if(r==null)return{};var t=nat(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function nat(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var oge,age=He(()=>{hN();V0();oge=function(e){var t=e.autocompleteScopeApi,n=e.classNames,i=e.getInputProps,a=e.getInputPropsCore,l=e.onDetachedEscape,h=e.state,b=rat(e,["autocompleteScopeApi","classNames","getInputProps","getInputPropsCore","onDetachedEscape","state"]),S=Fs("input",b),E=i(dN({state:h,props:a({inputElement:S}),inputElement:S},t));return Hf(S,dN(dN({},E),{},{onKeyDown:function(P){if(l&&P.key==="Escape"){l();return}E.onKeyDown(P)}})),S}});var sge,lge=He(()=>{sge=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("class","aa-LoadingIcon"),e.setAttribute("viewBox","0 0 100 100"),e.setAttribute("width","20"),e.setAttribute("height","20"),e.innerHTML=`<circle
  cx="50"
  cy="50"
  fill="none"
  r="35"
  stroke="currentColor"
  stroke-dasharray="164.93361431346415 56.97787143782138"
  stroke-width="6"
>
  <animateTransform
    attributeName="transform"
    type="rotate"
    repeatCount="indefinite"
    dur="1s"
    values="0 50 50;90 50 50;180 50 50;360 50 50"
    keyTimes="0;0.40;0.65;1"
  />
</circle>`,e}});var pN,uge=He(()=>{pN=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("class","aa-SubmitIcon"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("width","20"),e.setAttribute("height","20"),e.setAttribute("fill","currentColor");var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"),e.appendChild(t),e}});var cge=He(()=>{nge();age();lge();uge()});function fge(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function hg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fge(Object(t),!0).forEach(function(n){iat(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fge(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function iat(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hge(r){var e=r.autocomplete,t=r.autocompleteScopeApi,n=r.classNames,i=r.isDetached,a=r.placeholder,l=a===void 0?"Search":a,h=r.propGetters,b=r.state;function S(){e.setQuery(""),e.setIsOpen(!1),e.refresh(),document.body.classList.remove("aa-Detached")}var E=h.getRootProps(hg({state:b,props:e.getRootProps({})},t)),O=Fs("div",hg({class:n.root},E)),P=Fs("div",{class:n.detachedContainer,onMouseDown:function(pe){pe.stopPropagation()}}),q=Fs("div",{class:n.detachedOverlay,children:[P],onMouseDown:function(){document.body.removeChild(q),S()}}),z=h.getLabelProps(hg({state:b,props:e.getLabelProps({})},t)),N=Fs("button",{class:n.submitButton,type:"submit",title:"Submit",children:[pN({})]}),V=Fs("label",hg({class:n.label,children:[N]},z)),Y=Fs("button",{class:n.clearButton,type:"reset",title:"Clear",children:[rge({})]}),J=Fs("div",{class:n.loadingIndicator,children:[sge({})]}),se=oge({class:n.input,state:b,getInputProps:h.getInputProps,getInputPropsCore:e.getInputProps,autocompleteScopeApi:t,onDetachedEscape:i?function(){document.body.removeChild(q),S()}:void 0}),_=Fs("div",{class:n.inputWrapperPrefix,children:[V,J]}),me=Fs("div",{class:n.inputWrapperSuffix,children:[Y]}),ne=Fs("div",{class:n.inputWrapper,children:[se]}),de=h.getFormProps(hg({state:b,props:e.getFormProps({inputElement:se})},t)),he=Fs("form",hg({class:n.form,children:[_,ne,me]},de)),be=h.getPanelProps(hg({state:b,props:e.getPanelProps({})},t)),xe=Fs("div",hg({class:n.panel},be));function We(){document.body.appendChild(q),document.body.classList.add("aa-Detached"),se.focus()}if(i){var R=Fs("div",{class:n.detachedSearchButtonIcon,children:[pN({})]}),G=Fs("div",{class:n.detachedSearchButtonPlaceholder,textContent:l}),ae=Fs("button",{class:n.detachedSearchButton,onClick:function(pe){pe.preventDefault(),We()},children:[R,G]}),Ce=Fs("button",{class:n.detachedCancelButton,textContent:"Cancel",onClick:function(){document.body.removeChild(q),S()}}),re=Fs("div",{class:n.detachedFormContainer,children:[he,Ce]});P.appendChild(re),O.appendChild(ae)}else O.appendChild(he);return{openDetachedOverlay:We,detachedContainer:P,detachedOverlay:q,inputWrapper:ne,input:se,root:O,form:he,label:V,submitButton:N,clearButton:Y,loadingIndicator:J,panel:xe}}var dge=He(()=>{hN();cge()});function pge(){var r=[],e=[];function t(n){r.push(n);var i=n();e.push(i)}return{runEffect:t,cleanupEffects:function(){var i=e;e=[],i.forEach(function(a){a()})},runEffects:function(){var i=r;r=[],i.forEach(function(a){t(a)})}}}var mge=He(()=>{});function gge(){var r=[];return{reactive:function(t){var n=t(),i={_fn:t,_ref:{current:n},get value(){return this._ref.current},set value(a){this._ref.current=a}};return r.push(i),i},runReactives:function(){r.forEach(function(t){t._ref.current=t._fn()})}}}var vge=He(()=>{});function dg(r,e){for(var t in e)r[t]=e[t];return r}function kge(r){var e=r.parentNode;e&&e.removeChild(r)}function gN(r,e,t){var n,i,a,l=arguments,h={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:h[a]=e[a];if(arguments.length>3)for(t=[t],a=3;a<arguments.length;a++)t.push(l[a]);if(t!=null&&(h.children=t),typeof r=="function"&&r.defaultProps!=null)for(a in r.defaultProps)h[a]===void 0&&(h[a]=r.defaultProps[a]);return B2(r,h,n,i,null)}function B2(r,e,t,n,i){var a={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Ba.__v};return Ba.vnode!=null&&Ba.vnode(a),a}function $0(r){return r.children}function j2(r,e){this.props=r,this.context=e}function Xw(r,e){if(e==null)return r.__?Xw(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?Xw(r):null}function Cge(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return Cge(r)}}function bge(r){(!r.__d&&(r.__d=!0)&&Zw.push(r)&&!H2.__r++||yge!==Ba.debounceRendering)&&((yge=Ba.debounceRendering)||Sge)(H2)}function H2(){for(var r;H2.__r=Zw.length;)r=Zw.sort(function(e,t){return e.__v.__b-t.__v.__b}),Zw=[],r.some(function(e){var t,n,i,a,l,h;e.__d&&(l=(a=(t=e).__v).__e,(h=t.__P)&&(n=[],(i=dg({},a)).__v=a.__v+1,vN(h,a,i,t.__n,h.ownerSVGElement!==void 0,a.__h!=null?[l]:null,n,l??Xw(a),a.__h),Dge(n,a),a.__e!=l&&Cge(a)))})}function Ege(r,e,t,n,i,a,l,h,b,S){var E,O,P,q,z,N,V,Y=n&&n.__k||mN,J=Y.length;for(t.__k=[],E=0;E<e.length;E++)if((q=t.__k[E]=(q=e[E])==null||typeof q=="boolean"?null:typeof q=="string"||typeof q=="number"||typeof q=="bigint"?B2(null,q,null,null,q):Array.isArray(q)?B2($0,{children:q},null,null,null):q.__b>0?B2(q.type,q.props,q.key,null,q.__v):q)!=null){if(q.__=t,q.__b=t.__b+1,(P=Y[E])===null||P&&q.key==P.key&&q.type===P.type)Y[E]=void 0;else for(O=0;O<J;O++){if((P=Y[O])&&q.key==P.key&&q.type===P.type){Y[O]=void 0;break}P=null}vN(r,q,P=P||U2,i,a,l,h,b,S),z=q.__e,(O=q.ref)&&P.ref!=O&&(V||(V=[]),P.ref&&V.push(P.ref,null,q),V.push(O,q.__c||z,q)),z!=null?(N==null&&(N=z),typeof q.type=="function"&&q.__k!=null&&q.__k===P.__k?q.__d=b=Tge(q,b,r):b=Age(r,q,P,Y,z,b),S||t.type!=="option"?typeof t.type=="function"&&(t.__d=b):r.value=""):b&&P.__e==b&&b.parentNode!=r&&(b=Xw(P))}for(t.__e=N,E=J;E--;)Y[E]!=null&&(typeof t.type=="function"&&Y[E].__e!=null&&Y[E].__e==t.__d&&(t.__d=Xw(n,E+1)),Ige(Y[E],Y[E]));if(V)for(E=0;E<V.length;E++)Oge(V[E],V[++E],V[++E])}function Tge(r,e,t){var n,i;for(n=0;n<r.__k.length;n++)(i=r.__k[n])&&(i.__=r,e=typeof i.type=="function"?Tge(i,e,t):Age(t,i,i,r.__k,i.__e,e));return e}function Age(r,e,t,n,i,a){var l,h,b;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(t==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==r)r.appendChild(i),l=null;else{for(h=a,b=0;(h=h.nextSibling)&&b<n.length;b+=2)if(h==i)break e;r.insertBefore(i,a),l=a}return l!==void 0?l:i.nextSibling}function lat(r,e,t,n,i){var a;for(a in t)a==="children"||a==="key"||a in e||W2(r,a,null,t[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||t[a]===e[a]||W2(r,a,e[a],t[a],n)}function xge(r,e,t){e[0]==="-"?r.setProperty(e,t):r[e]=t==null?"":typeof t!="number"||sat.test(e)?t:t+"px"}function W2(r,e,t,n,i){var a;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||xge(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||xge(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+a]=t,t?n||r.addEventListener(e,a?wge:_ge,a):r.removeEventListener(e,a?wge:_ge,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||e[0]==="a"&&e[1]==="r")?r.setAttribute(e,t):r.removeAttribute(e))}}function _ge(r){this.l[r.type+!1](Ba.event?Ba.event(r):r)}function wge(r){this.l[r.type+!0](Ba.event?Ba.event(r):r)}function vN(r,e,t,n,i,a,l,h,b){var S,E,O,P,q,z,N,V,Y,J,se,_=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(b=t.__h,h=e.__e=t.__e,e.__h=null,a=[h]),(S=Ba.__b)&&S(e);try{e:if(typeof _=="function"){if(V=e.props,Y=(S=_.contextType)&&n[S.__c],J=S?Y?Y.props.value:S.__:n,t.__c?N=(E=e.__c=t.__c).__=E.__E:("prototype"in _&&_.prototype.render?e.__c=E=new _(V,J):(e.__c=E=new j2(V,J),E.constructor=_,E.render=cat),Y&&Y.sub(E),E.props=V,E.state||(E.state={}),E.context=J,E.__n=n,O=E.__d=!0,E.__h=[]),E.__s==null&&(E.__s=E.state),_.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=dg({},E.__s)),dg(E.__s,_.getDerivedStateFromProps(V,E.__s))),P=E.props,q=E.state,O)_.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(_.getDerivedStateFromProps==null&&V!==P&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(V,J),!E.__e&&E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(V,E.__s,J)===!1||e.__v===t.__v){E.props=V,E.state=E.__s,e.__v!==t.__v&&(E.__d=!1),E.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(me){me&&(me.__=e)}),E.__h.length&&l.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(V,E.__s,J),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(P,q,z)})}E.context=J,E.props=V,E.state=E.__s,(S=Ba.__r)&&S(e),E.__d=!1,E.__v=e,E.__P=r,S=E.render(E.props,E.state,E.context),E.state=E.__s,E.getChildContext!=null&&(n=dg(dg({},n),E.getChildContext())),O||E.getSnapshotBeforeUpdate==null||(z=E.getSnapshotBeforeUpdate(P,q)),se=S!=null&&S.type===$0&&S.key==null?S.props.children:S,Ege(r,Array.isArray(se)?se:[se],e,t,n,i,a,l,h,b),E.base=e.__e,e.__h=null,E.__h.length&&l.push(E),N&&(E.__E=E.__=null),E.__e=!1}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=uat(t.__e,e,t,n,i,a,l,b);(S=Ba.diffed)&&S(e)}catch(me){e.__v=null,(b||a!=null)&&(e.__e=h,e.__h=!!b,a[a.indexOf(h)]=null),Ba.__e(me,e,t)}}function Dge(r,e){Ba.__c&&Ba.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(n){n.call(t)})}catch(n){Ba.__e(n,t.__v)}})}function uat(r,e,t,n,i,a,l,h){var b,S,E,O,P=t.props,q=e.props,z=e.type,N=0;if(z==="svg"&&(i=!0),a!=null){for(;N<a.length;N++)if((b=a[N])&&(b===r||(z?b.localName==z:b.nodeType==3))){r=b,a[N]=null;break}}if(r==null){if(z===null)return document.createTextNode(q);r=i?document.createElementNS("http://www.w3.org/2000/svg",z):document.createElement(z,q.is&&q),a=null,h=!1}if(z===null)P===q||h&&r.data===q||(r.data=q);else{if(a=a&&mN.slice.call(r.childNodes),S=(P=t.props||U2).dangerouslySetInnerHTML,E=q.dangerouslySetInnerHTML,!h){if(a!=null)for(P={},O=0;O<r.attributes.length;O++)P[r.attributes[O].name]=r.attributes[O].value;(E||S)&&(E&&(S&&E.__html==S.__html||E.__html===r.innerHTML)||(r.innerHTML=E&&E.__html||""))}if(lat(r,q,P,i,h),E)e.__k=[];else if(N=e.props.children,Ege(r,Array.isArray(N)?N:[N],e,t,n,i&&z!=="foreignObject",a,l,r.firstChild,h),a!=null)for(N=a.length;N--;)a[N]!=null&&kge(a[N]);h||("value"in q&&(N=q.value)!==void 0&&(N!==r.value||z==="progress"&&!N)&&W2(r,"value",N,P.value,!1),"checked"in q&&(N=q.checked)!==void 0&&N!==r.checked&&W2(r,"checked",N,P.checked,!1))}return r}function Oge(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){Ba.__e(n,t)}}function Ige(r,e,t){var n,i,a;if(Ba.unmount&&Ba.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||Oge(n,null,e)),t||typeof r.type=="function"||(t=(i=r.__e)!=null),r.__e=r.__d=void 0,(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(l){Ba.__e(l,e)}n.base=n.__P=null}if(n=r.__k)for(a=0;a<n.length;a++)n[a]&&Ige(n[a],e,t);i!=null&&kge(i)}function cat(r,e,t){return this.constructor(r,t)}function Mge(r,e,t){var n,i,a;Ba.__&&Ba.__(r,e),i=(n=typeof t=="function")?null:t&&t.__k||e.__k,a=[],vN(e,r=(!n&&t||e).__k=gN($0,null,[r]),i||U2,U2,e.ownerSVGElement!==void 0,!n&&t?[t]:i?null:e.firstChild?mN.slice.call(e.childNodes):null,a,!n&&t?t:i?i.__e:e.firstChild,n),Dge(a,r)}var Ba,oat,Zw,Sge,yge,aat,U2,mN,sat,Pge=He(()=>{U2={},mN=[],sat=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;Ba={__e:function(r,e){for(var t,n,i;e=e.__;)if((t=e.__c)&&!t.__)try{if((n=t.constructor)&&n.getDerivedStateFromError!=null&&(t.setState(n.getDerivedStateFromError(r)),i=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(r),i=t.__d),i)return t.__E=t}catch(a){r=a}throw r},__v:0},oat=function(r){return r!=null&&r.constructor===void 0},j2.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=dg({},this.state),typeof r=="function"&&(r=r(dg({},t),this.props)),r&&dg(t,r),r!=null&&this.__v&&(e&&this.__h.push(e),bge(this))},j2.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),bge(this))},j2.prototype.render=$0,Zw=[],Sge=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,H2.__r=0,aat=0});var Lge=He(()=>{});var V2,$2,yN=He(()=>{V2="__aa-highlight__",$2="__/aa-highlight__"});function fat(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=r;return{get:function(){return e},add:function(n){var i=e[e.length-1];i?.isHighlighted===n.isHighlighted?e[e.length-1]={value:i.value+n.value,isHighlighted:i.isHighlighted}:e.push(n)}}}function G2(r){var e=r.highlightedValue,t=e.split(V2),n=t.shift(),i=fat(n?[{value:n,isHighlighted:!1}]:[]);return t.forEach(function(a){var l=a.split($2);i.add({value:l[0],isHighlighted:!0}),l[1]!==""&&i.add({value:l[1],isHighlighted:!1})}),i.get()}var bN=He(()=>{yN()});function hat(r){return gat(r)||mat(r)||pat(r)||dat()}function dat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pat(r,e){if(!!r){if(typeof r=="string")return xN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xN(r,e)}}function mat(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function gat(r){if(Array.isArray(r))return xN(r)}function xN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function K2(r){var e=r.hit,t=r.attribute,n=Array.isArray(t)?t:[t],i=j0(e,["_highlightResult"].concat(hat(n),["value"]));return typeof i!="string"&&(i=j0(e,n)||""),G2({highlightedValue:i})}var _N=He(()=>{Wv();bN()});function xat(r){return r&&bat.test(r)?r.replace(Rge,function(e){return vat[e]}):r}function Fge(r,e){var t,n,i=r[e],a=((t=r[e+1])===null||t===void 0?void 0:t.isHighlighted)||!0,l=((n=r[e-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!yat.test(xat(i.value))&&l===a?l:i.isHighlighted}var vat,yat,Rge,bat,qge=He(()=>{vat={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yat=new RegExp(/\w/i),Rge=/&(amp|quot|lt|gt|#39);/g,bat=RegExp(Rge.source)});function zge(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Y2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zge(Object(t),!0).forEach(function(n){_at(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zge(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _at(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Z2(r){return r.some(function(e){return e.isHighlighted})?r.map(function(e,t){return Y2(Y2({},e),{},{isHighlighted:!Fge(r,t)})}):r.map(function(e){return Y2(Y2({},e),{},{isHighlighted:!1})})}var wN=He(()=>{qge()});function Nge(r){return Z2(K2(r))}var Bge=He(()=>{_N();wN()});function wat(r){return Eat(r)||Cat(r)||kat(r)||Sat()}function Sat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kat(r,e){if(!!r){if(typeof r=="string")return SN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return SN(r,e)}}function Cat(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Eat(r){if(Array.isArray(r))return SN(r)}function SN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function X2(r){var e=r.hit,t=r.attribute,n=Array.isArray(t)?t:[t],i=j0(e,["_snippetResult"].concat(wat(n),["value"]));return typeof i!="string"&&(i=j0(e,n)||""),G2({highlightedValue:i})}var kN=He(()=>{Wv();bN()});function jge(r){return Z2(X2(r))}var Uge=He(()=>{kN();wN()});var Hge=He(()=>{});var Wge=He(()=>{Lge();_N();Bge();Uge();kN();Hge()});function Vge(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $ge(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vge(Object(t),!0).forEach(function(n){Tat(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Vge(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Tat(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function J2(r){function e(t){return r({searchClient:t.searchClient,queries:t.requests.map(function(n){return n.query})}).then(function(n){return n.map(function(i,a){var l=t.requests[a],h=l.sourceId,b=l.transformResponse;return{items:i,sourceId:h,transformResponse:b}})})}return function(n){return function(a){return $ge($ge({execute:e},n),a)}}}var CN=He(()=>{});var Gge,Kge=He(()=>{Gge="1.0.0-alpha.46"});function Yge(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function EN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yge(Object(t),!0).forEach(function(n){Aat(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Yge(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Aat(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Dat(r,e){if(r==null)return{};var t=Oat(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function Oat(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function Iat(r){return Rat(r)||Lat(r)||Pat(r)||Mat()}function Mat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pat(r,e){if(!!r){if(typeof r=="string")return TN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TN(r,e)}}function Lat(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Rat(r){if(Array.isArray(r))return TN(r)}function TN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Q2(r){var e=r.searchClient,t=r.queries,n=r.userAgents,i=n===void 0?[]:n;if(typeof e.addAlgoliaAgent=="function"){var a=[{segment:"autocomplete-core",version:Gge}].concat(Iat(i));a.forEach(function(l){var h=l.segment,b=l.version;e.addAlgoliaAgent(h,b)})}return e.search(t.map(function(l){var h=l.params,b=Dat(l,["params"]);return EN(EN({},b),{},{params:EN({hitsPerPage:5,highlightPreTag:V2,highlightPostTag:$2},h)})})).then(function(l){return l.results})}var Zge=He(()=>{yN();Kge()});var AN=He(()=>{Zge()});var Xge,Jge=He(()=>{AN();CN();Xge=J2(Q2)});var Qge=He(()=>{});var pRt,eve=He(()=>{Jge();pRt=Xge({transformResponse:function(e){return e.hits}})});var tve=He(()=>{CN();Qge();eve()});var G0=He(()=>{Wge();tve();AN()});function Fat(r){return Bat(r)||Nat(r)||zat(r)||qat()}function qat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zat(r,e){if(!!r){if(typeof r=="string")return DN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return DN(r,e)}}function Nat(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Bat(r){if(Array.isArray(r))return DN(r)}function DN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function rve(r){var e=r.createElement,t=r.Fragment;return function(i){var a=i.hit,l=i.attribute,h=i.tagName,b=h===void 0?"mark":h;return e.apply(void 0,[t,{}].concat(Fat(K2({hit:a,attribute:l}).map(function(S,E){return S.isHighlighted?e(b,{key:E},S.value):S.value}))))}}var nve=He(()=>{G0()});function jat(r){return Vat(r)||Wat(r)||Hat(r)||Uat()}function Uat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hat(r,e){if(!!r){if(typeof r=="string")return ON(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ON(r,e)}}function Wat(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Vat(r){if(Array.isArray(r))return ON(r)}function ON(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ive(r){var e=r.createElement,t=r.Fragment;return function(i){var a=i.hit,l=i.attribute,h=i.tagName,b=h===void 0?"mark":h;return e.apply(void 0,[t,{}].concat(jat(Nge({hit:a,attribute:l}).map(function(S,E){return S.isHighlighted?e(b,{key:E},S.value):S.value}))))}}var ove=He(()=>{G0()});function $at(r){return Zat(r)||Yat(r)||Kat(r)||Gat()}function Gat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kat(r,e){if(!!r){if(typeof r=="string")return IN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return IN(r,e)}}function Yat(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Zat(r){if(Array.isArray(r))return IN(r)}function IN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ave(r){var e=r.createElement,t=r.Fragment;return function(i){var a=i.hit,l=i.attribute,h=i.tagName,b=h===void 0?"mark":h;return e.apply(void 0,[t,{}].concat($at(jge({hit:a,attribute:l}).map(function(S,E){return S.isHighlighted?e(b,{key:E},S.value):S.value}))))}}var sve=He(()=>{G0()});function Xat(r){return tst(r)||est(r)||Qat(r)||Jat()}function Jat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qat(r,e){if(!!r){if(typeof r=="string")return MN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MN(r,e)}}function est(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function tst(r){if(Array.isArray(r))return MN(r)}function MN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function lve(r){var e=r.createElement,t=r.Fragment;return function(i){var a=i.hit,l=i.attribute,h=i.tagName,b=h===void 0?"mark":h;return e.apply(void 0,[t,{}].concat(Xat(X2({hit:a,attribute:l}).map(function(S,E){return S.isHighlighted?e(b,{key:E},S.value):S.value}))))}}var uve=He(()=>{G0()});var cve=He(()=>{nve();ove();sve();uve()});function fve(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function eD(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fve(Object(t),!0).forEach(function(n){rst(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fve(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rst(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function nst(r,e){if(r==null)return{};var t=ist(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function ist(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function hve(r){var e,t=r.classNames,n=r.container,i=r.getEnvironmentProps,a=r.getFormProps,l=r.getInputProps,h=r.getItemProps,b=r.getLabelProps,S=r.getListProps,E=r.getPanelProps,O=r.getRootProps,P=r.panelContainer,q=r.panelPlacement,z=r.render,N=r.renderNoResults,V=r.renderer,Y=r.detachedMediaQuery,J=r.components,se=nst(r,["classNames","container","getEnvironmentProps","getFormProps","getInputProps","getItemProps","getLabelProps","getListProps","getPanelProps","getRootProps","panelContainer","panelPlacement","render","renderNoResults","renderer","detachedMediaQuery","components"]),_=sN(n);_.tagName;var me=typeof window<"u"?window:{},ne=V??sst,de={Highlight:rve(ne),ReverseHighlight:ive(ne),ReverseSnippet:ave(ne),Snippet:lve(ne)};return{renderer:{classNames:Kme(ost,t??{}),container:_,getEnvironmentProps:i??function(he){var be=he.props;return be},getFormProps:a??function(he){var be=he.props;return be},getInputProps:l??function(he){var be=he.props;return be},getItemProps:h??function(he){var be=he.props;return be},getLabelProps:b??function(he){var be=he.props;return be},getListProps:S??function(he){var be=he.props;return be},getPanelProps:E??function(he){var be=he.props;return be},getRootProps:O??function(he){var be=he.props;return be},panelContainer:P?sN(P):document.body,panelPlacement:q??"input-wrapper-width",render:z??ast,renderNoResults:N,renderer:ne,detachedMediaQuery:Y??getComputedStyle(me.document.documentElement).getPropertyValue("--aa-detached-media-query"),components:eD(eD({},de),J)},core:eD(eD({},se),{},{id:(e=se.id)!==null&&e!==void 0?e:P2(),environment:me})}}var ost,ast,sst,dve=He(()=>{Wv();Pge();cve();V0();ost={clearButton:"aa-ClearButton",detachedCancelButton:"aa-DetachedCancelButton",detachedContainer:"aa-DetachedContainer",detachedFormContainer:"aa-DetachedFormContainer",detachedOverlay:"aa-DetachedOverlay",detachedSearchButton:"aa-DetachedSearchButton",detachedSearchButtonIcon:"aa-DetachedSearchButtonIcon",detachedSearchButtonPlaceholder:"aa-DetachedSearchButtonPlaceholder",form:"aa-Form",input:"aa-Input",inputWrapper:"aa-InputWrapper",inputWrapperPrefix:"aa-InputWrapperPrefix",inputWrapperSuffix:"aa-InputWrapperSuffix",item:"aa-Item",label:"aa-Label",list:"aa-List",loadingIndicator:"aa-LoadingIndicator",panel:"aa-Panel",panelLayout:"aa-PanelLayout",root:"aa-Autocomplete",source:"aa-Source",sourceFooter:"aa-SourceFooter",sourceHeader:"aa-SourceHeader",sourceNoResults:"aa-SourceNoResults",submitButton:"aa-SubmitButton"},ast=function(e,t){var n=e.children;Mge(n,t)},sst={createElement:gN,Fragment:$0}});function pve(r){var e=r.panelPlacement,t=r.container,n=r.form,i=r.environment,a=t.getBoundingClientRect(),l=a.top+a.height;switch(e){case"start":return{top:l,left:a.left};case"end":return{top:l,right:i.document.documentElement.clientWidth-(a.left+a.width)};case"full-width":return{top:l,left:0,right:0,width:"unset",maxWidth:"unset"};case"input-wrapper-width":{var h=n.getBoundingClientRect();return{top:l,left:h.left,right:i.document.documentElement.clientWidth-(h.left+h.width),width:"unset",maxWidth:"unset"}}default:throw new Error("[Autocomplete] The `panelPlacement` value ".concat(JSON.stringify(e)," is not valid."))}}var mve=He(()=>{});function tD(){return tD=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tD.apply(this,arguments)}function gve(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function rD(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gve(Object(t),!0).forEach(function(n){lst(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gve(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function lst(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function vve(r){var e=r.autocomplete,t=r.autocompleteScopeApi,n=r.dom,i=r.propGetters,a=r.state;cN(n.root,i.getRootProps(rD({state:a,props:e.getRootProps({})},t))),cN(n.input,i.getInputProps(rD({state:a,props:e.getInputProps({inputElement:n.input}),inputElement:n.input},t))),Hf(n.label,{hidden:a.status==="stalled"}),Hf(n.loadingIndicator,{hidden:a.status!=="stalled"}),Hf(n.clearButton,{hidden:!a.query})}function yve(r,e){var t=e.autocomplete,n=e.autocompleteScopeApi,i=e.classNames,a=e.createElement,l=e.dom,h=e.Fragment,b=e.panelContainer,S=e.propGetters,E=e.state,O=e.components;if(!E.isOpen){b.contains(l.panel)&&b.removeChild(l.panel);return}!b.contains(l.panel)&&E.status!=="loading"&&b.appendChild(l.panel),l.panel.classList.toggle("aa-Panel--stalled",E.status==="stalled");var P=E.collections.map(function(N,V){var Y=N.source,J=N.items;return a("section",{key:V,className:i.source,"data-autocomplete-source-id":Y.sourceId},Y.templates.header&&a("div",{className:i.sourceHeader},Y.templates.header({components:O,createElement:a,Fragment:h,items:J,source:Y,state:E})),J.length===0&&Y.templates.noResults&&E.query?a("div",{className:i.sourceNoResults},Y.templates.noResults({components:O,createElement:a,Fragment:h,source:Y,state:E})):a("ul",tD({className:i.list},S.getListProps(rD({state:E,props:t.getListProps({})},n))),J.map(function(se){var _=t.getItemProps({item:se,source:Y});return a("li",tD({key:_.id,className:i.item},S.getItemProps(rD({state:E,props:_},n))),Y.templates.item({components:O,createElement:a,Fragment:h,item:se,state:E}))})),Y.templates.footer&&a("div",{className:i.sourceFooter},Y.templates.footer({components:O,createElement:a,Fragment:h,items:J,source:Y,state:E})))}),q=a(h,null,a("div",{className:"aa-PanelLayout aa-Panel--scrollable"},P),a("div",{className:"aa-GradientBottom"})),z=P.reduce(function(N,V){return N[V.props["data-autocomplete-source-id"]]=V,N},{});r({children:q,state:E,sections:P,elements:z,createElement:a,Fragment:h,components:O},l.panel)}var bve=He(()=>{V0()});function xve(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $v(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xve(Object(t),!0).forEach(function(n){_ve(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xve(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _ve(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wve(r){var e=pge(),t=e.runEffect,n=e.cleanupEffects,i=e.runEffects,a=gge(),l=a.reactive,h=a.runReactives,b=$w(!1),S=$w(r),E=$w(void 0),O=l(function(){return hve(S.current)}),P=l(function(){return O.value.core.environment.matchMedia(O.value.renderer.detachedMediaQuery).matches}),q=l(function(){return Ome($v($v({},O.value.core),{},{onStateChange:function(de){var he,be,xe;b.current=de.state.collections.some(function(We){return We.source.templates.noResults}),(he=E.current)===null||he===void 0||he.call(E,de),(be=(xe=O.value.core).onStateChange)===null||be===void 0||be.call(xe,de)},shouldPanelOpen:S.current.shouldPanelOpen||function(ne){var de=ne.state,he=cg(de)>0;if(!O.value.core.openOnFocus&&!de.query)return he;var be=Boolean(b.current||O.value.renderer.renderNoResults);return!he&&be||he}}))}),z=$w($v({collections:[],completion:null,context:{},isOpen:!1,query:"",activeItemId:null,status:"idle"},O.value.core.initialState)),N={getEnvironmentProps:O.value.renderer.getEnvironmentProps,getFormProps:O.value.renderer.getFormProps,getInputProps:O.value.renderer.getInputProps,getItemProps:O.value.renderer.getItemProps,getLabelProps:O.value.renderer.getLabelProps,getListProps:O.value.renderer.getListProps,getPanelProps:O.value.renderer.getPanelProps,getRootProps:O.value.renderer.getRootProps},V={setActiveItemId:q.value.setActiveItemId,setQuery:q.value.setQuery,setCollections:q.value.setCollections,setIsOpen:q.value.setIsOpen,setStatus:q.value.setStatus,setContext:q.value.setContext,refresh:q.value.refresh},Y=l(function(){return hge({autocomplete:q.value,autocompleteScopeApi:V,classNames:O.value.renderer.classNames,isDetached:P.value,placeholder:O.value.core.placeholder,propGetters:N,state:z.current})});function J(){Hf(Y.value.panel,{style:P.value?{}:pve({panelPlacement:O.value.renderer.panelPlacement,container:Y.value.root,form:Y.value.form,environment:O.value.core.environment})})}function se(ne){z.current=ne;var de={autocomplete:q.value,autocompleteScopeApi:V,classNames:O.value.renderer.classNames,components:O.value.renderer.components,container:O.value.renderer.container,createElement:O.value.renderer.renderer.createElement,dom:Y.value,Fragment:O.value.renderer.renderer.Fragment,panelContainer:P.value?Y.value.detachedContainer:O.value.renderer.panelContainer,propGetters:N,state:z.current},he=!cg(ne)&&!b.current&&O.value.renderer.renderNoResults||O.value.renderer.render;vve(de),yve(he,de)}t(function(){var ne=q.value.getEnvironmentProps({formElement:Y.value.form,panelElement:Y.value.panel,inputElement:Y.value.input});return Hf(O.value.core.environment,ne),function(){Hf(O.value.core.environment,Object.keys(ne).reduce(function(de,he){return $v($v({},de),{},_ve({},he,void 0))},{}))}}),t(function(){var ne=P.value?O.value.core.environment.document.body:O.value.renderer.panelContainer,de=P.value?Y.value.detachedOverlay:Y.value.panel;return P.value&&z.current.isOpen&&Y.value.openDetachedOverlay(),se(z.current),function(){ne.contains(de)&&ne.removeChild(de)}}),t(function(){var ne=O.value.renderer.container;return ne.appendChild(Y.value.root),function(){ne.removeChild(Y.value.root)}}),t(function(){var ne=Qz(function(de){var he=de.state;se(he)},0);return E.current=function(de){var he=de.state,be=de.prevState;if(he.isOpen&&!be.isOpen&&J(),he.query!==be.query){var xe=document.querySelectorAll(".aa-Panel--scrollable");xe.forEach(function(We){We.scrollTop!==0&&(We.scrollTop=0)})}ne({state:he})},function(){E.current=void 0}}),t(function(){var ne=Qz(function(){var de=P.value;P.value=O.value.core.environment.matchMedia(O.value.renderer.detachedMediaQuery).matches,de!==P.value?me({}):requestAnimationFrame(J)},20);return O.value.core.environment.addEventListener("resize",ne),function(){O.value.core.environment.removeEventListener("resize",ne)}}),t(function(){if(!P.value)return function(){};function ne(be){Y.value.detachedContainer.classList.toggle("aa-DetachedContainer--modal",be)}function de(be){ne(be.matches)}var he=O.value.core.environment.matchMedia(getComputedStyle(O.value.core.environment.document.documentElement).getPropertyValue("--aa-detached-modal-media-query"));return ne(he.matches),he.addEventListener("change",de),function(){he.removeEventListener("change",de)}}),t(function(){return requestAnimationFrame(J),function(){}});function _(){n()}function me(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n(),S.current=uN(O.value.renderer,O.value.core,{initialState:z.current},ne),h(),i(),q.value.refresh().then(function(){se(z.current)})}return $v($v({},V),{},{update:me,destroy:_})}var Sve=He(()=>{$me();Wv();dge();mge();vge();dve();mve();bve();V0()});var kve,Cve=He(()=>{kve="1.0.0-alpha.46"});function Eve(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Tve(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Eve(Object(t),!0).forEach(function(n){ust(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Eve(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ust(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Ave,Dve=He(()=>{G0();Cve();Ave=J2(function(r){return Q2(Tve(Tve({},r),{},{userAgents:[{segment:"autocomplete-js",version:kve}]}))})});var Ove=He(()=>{});var sFt,Ive=He(()=>{Dve();sFt=Ave({transformResponse:function(e){return e.hits}})});var Mve=He(()=>{Ove();Ive()});var Pve=He(()=>{});var Lve=He(()=>{});var Rve=He(()=>{});var Fve=He(()=>{});var qve=He(()=>{});var zve=He(()=>{});var Nve=He(()=>{});var Bve=He(()=>{});var jve=He(()=>{});var Uve=He(()=>{});var Hve=He(()=>{});var Wve=He(()=>{});var Vve=He(()=>{});var $ve=He(()=>{Pve();Lve();Rve();Fve();qve();zve();Nve();Bve();jve();Uve();Hve();Wve();Vve()});var Gve=He(()=>{Sve();Mve();$ve()});var Kve,Yve=He(()=>{Kve=(r,e)=>{let t;return(...n)=>(t&&clearTimeout(t),new Promise(i=>{t=setTimeout(()=>i(r(...n)),e)}))}});var Zve,Xve,nD,Jve=He(()=>{Zve=So(RR());mi();rF();Gve();Xve=So(_w());Yve();nD=class extends qr{constructor(){super(...arguments);Tr(this,"debouncedFetch",Kve(fetch,this.searchDebounce));Tr(this,"destroyMethod")}get dataset(){return this.autocompleteTarget.dataset}get searchDebounce(){return window.Avo.configuration.search_debounce}get translationKeys(){let r;try{r=JSON.parse(this.dataset.translationKeys)}catch(e){r={}}return r}get isBelongsToSearch(){return this.dataset.viaAssociation==="belongs_to"}get isHasManySearch(){return this.dataset.viaAssociation==="has_many"}get isGlobalSearch(){return this.dataset.searchResource==="global"}connect(){let r=this;this.buttonTarget.onclick=()=>this.showSearchPanel(),this.clearValueTargets.forEach(t=>{t.getAttribute("value")&&this.hasClearButtonTarget&&this.clearButtonTarget.classList.remove("hidden")}),this.isGlobalSearch&&Zve.bind(["command+k","ctrl+k"],()=>this.showSearchPanel()),this.autocompleteTarget.innerHTML="";let{destroy:e}=wve({container:this.autocompleteTarget,placeholder:this.translationKeys.placeholder,translations:{detachedCancelButtonText:this.translationKeys.cancel_button},autoFocus:!0,openOnFocus:!0,detachedMediaQuery:"",getSources:({query:t})=>{document.body.classList.add("search-loading");let n=r.searchUrl(t);return r.debouncedFetch(n).then(i=>(document.body.classList.remove("search-loading"),i.json())).then(i=>Object.keys(i).map(a=>r.addSource(a,i[a])))}});this.destroyMethod=e,this.buttonTarget.dataset.shouldBeDisabled!=="true"&&this.buttonTarget.removeAttribute("disabled")}disconnect(){this.destroyMethod&&(this.destroyMethod(),this.destroyMethod=null)}addSource(r,e){let t=this;return{sourceId:r,getItems:()=>e.results,onSelect:t.handleOnSelect.bind(t),templates:{header(){return`${e.header.toUpperCase()} ${e.help}`},item({item:n,createElement:i}){let a=[];if(n._avatar){let h;switch(n._avatar_type){default:case"circle":h="rounded-full";break;case"rounded":h="rounded";break;case"square":h="rounded-none";break}a.push(i("img",{src:n._avatar,alt:n._label,class:`flex-shrink-0 w-8 h-8 my-[2px] inline mr-2 ${h}`}))}let l=[n._label];return n._description&&l.push(i("div",{class:"aa-ItemDescription"},n._description)),a.push(i("div",null,l)),i("div",{class:"flex"},a)},noResults(){return t.translationKeys.no_item_found.replace("%{item}",r)}}}}handleOnSelect({item:r}){this.isBelongsToSearch?(this.updateFieldAttribute(this.hiddenIdTarget,"value",r._id),this.updateFieldAttribute(this.buttonTarget,"value",r._label),document.querySelector(".aa-DetachedOverlay").remove(),this.hasClearButtonTarget&&this.clearButtonTarget.classList.remove("hidden")):dv.visit(r._url,{action:"advance"}),document.body.classList.remove("aa-Detached")}searchUrl(r){return(0,Xve.default)().segment([window.Avo.configuration.root_path,...this.searchSegments()]).search(this.searchParams(encodeURIComponent(r))).readable().toString()}searchSegments(){let r=["avo_api",this.dataset.searchResource,"search"];return this.isGlobalSearch&&(r=["avo_api","search"]),r}searchParams(r){let e={q:r,global:!1};return this.isGlobalSearch&&(e.global=!0),(this.isBelongsToSearch||this.isHasManySearch)&&(e=this.addAssociationParams(e),e=this.addReflectionParams(e),this.isBelongsToSearch&&(e=gm(Cf({},e),{via_parent_resource_id:this.dataset.viaParentResourceId,via_parent_resource_class:this.dataset.viaParentResourceClass,via_relation:this.dataset.viaRelation}))),e}addAssociationParams(r){return r=gm(Cf({},r),{via_association:this.dataset.viaAssociation,via_association_id:this.dataset.viaAssociationId}),r}addReflectionParams(r){return r=gm(Cf({},r),{via_reflection_class:this.dataset.viaReflectionClass,via_reflection_id:this.dataset.viaReflectionId,via_reflection_view:this.dataset.viaReflectionView}),r}showSearchPanel(){this.autocompleteTarget.querySelector("button").click()}clearValue(){this.clearValueTargets.map(r=>this.updateFieldAttribute(r,"value","")),this.clearButtonTarget.classList.add("hidden")}updateFieldAttribute(r,e,t){r.setAttribute(e,t),r.dispatchEvent(new Event("input"))}};Tr(nD,"targets",["autocomplete","button","hiddenId","visibleLabel","clearValue","clearButton"])});var Qve,iD,eye=He(()=>{mi();Qve=So(_w()),iD=class extends qr{get parentTurboFrame(){return this.context.scope.element.closest("turbo-frame")}onChange(r){if(!this.parentTurboFrame.src)return;let e=new Qve.default(this.parentTurboFrame.src);e.search(gm(Cf({},e.query(!0)),{range:r.currentTarget.value})),this.parentTurboFrame.src=e.toString(),this.parentTurboFrame.reload()}};Tr(iD,"targets",["select"])});var oD,tye=He(()=>{w0();oD=class extends sf{getFilterValue(){return this.selectorTarget.value===""?null:this.selectorTarget.value}getFilterClass(){let{filterClass:r}=this.selectorTarget.dataset;return r}};Tr(oD,"targets",["selector"])});var PN,rye=He(()=>{mi();PN=class extends qr{destroy(){this.context.element.remove()}}});async function FN(r,e=null){r.classList.remove("hidden"),await nye("enter",r,e)}async function K0(r,e=null){await nye("leave",r,e),r.classList.add("hidden")}async function aD(r,e=null){r.classList.contains("hidden")?await FN(r,e):await K0(r,e)}async function nye(r,e,t){let n=e.dataset,i=t?`${t}-${r}`:r,a=`transition${r.charAt(0).toUpperCase()+r.slice(1)}`,l=n[a]?n[a].split(" "):[i],h=n[`${a}Start`]?n[`${a}Start`].split(" "):[`${i}-start`],b=n[`${a}End`]?n[`${a}End`].split(" "):[`${i}-end`];LN(e,l),LN(e,h),await cst(),RN(e,h),LN(e,b),await fst(e),RN(e,b),RN(e,l)}function LN(r,e){r.classList.add(...e)}function RN(r,e){r.classList.remove(...e)}function cst(){return new Promise(r=>{requestAnimationFrame(()=>{requestAnimationFrame(r)})})}function fst(r){return new Promise(e=>{let t=getComputedStyle(r).transitionDuration.split(",")[0],n=Number(t.replace("s",""))*1e3;setTimeout(()=>{e()},n)})}var qN=He(()=>{});function sD(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)r[n]=t[n]}return r}function zN(r,e){function t(i,a,l){if(!(typeof document>"u")){l=sD({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var h="";for(var b in l)!l[b]||(h+="; "+b,l[b]!==!0&&(h+="="+l[b].split(";")[0]));return document.cookie=i+"="+r.write(a,i)+h}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],l={},h=0;h<a.length;h++){var b=a[h].split("="),S=b.slice(1).join("=");try{var E=decodeURIComponent(b[0]);if(l[E]=r.read(S,E),i===E)break}catch{}}return i?l[i]:l}}return Object.create({set:t,get:n,remove:function(i,a){t(i,"",sD({},a,{expires:-1}))},withAttributes:function(i){return zN(this.converter,sD({},this.attributes,i))},withConverter:function(i){return zN(sD({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var hst,dst,Jw,iye=He(()=>{hst={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};dst=zN(hst,{path:"/"}),Jw=dst});var Qw,oye=He(()=>{mi();qN();iye();Qw=class extends qr{get cookieKey(){return`${window.Avo.configuration.cookies_key}.sidebar.open`}get sidebarOpen(){return Jw.get(this.cookieKey)==="1"}set cookie(r){Jw.set(this.cookieKey,r===!0?1:0)}markSidebarClosed(){Jw.set(this.cookieKey,"0"),this.openValue=!1,K0(this.sidebarTarget),this.mainAreaTarget.classList.remove("sidebar-open")}markSidebarOpen(){Jw.set(this.cookieKey,"1"),this.openValue=!0,FN(this.sidebarTarget),this.mainAreaTarget.classList.add("sidebar-open")}toggleSidebar(){this.openValue?this.markSidebarClosed():this.markSidebarOpen()}toggleSidebarOnMobile(){aD(this.mobileSidebarTarget)}};Tr(Qw,"targets",["sidebar","mobileSidebar","mainArea"]),Tr(Qw,"values",{open:Boolean})});var eS,aye=He(()=>{mi();b0();eS=class extends qr{get currentTab(){return this.tabPanelTargets.find(r=>r.dataset.tabId===this.activeTabValue)}targetTabPanel(r){return this.tabPanelTargets.find(e=>e.dataset.tabId===r)}changeTab(r){return Fg(this,null,function*(){r.preventDefault();let{params:e}=r,{id:t}=e;yield this.setTheTargetPanelHeight(t),this.hideAllTabs(),this.revealTab(t),this.markTabLoaded(t),this.activeTabValue=t})}setTheTargetPanelHeight(r){return Fg(this,null,function*(){if(this.viewValue==="edit"||this.viewValue==="new"||Wu(this.targetTabPanel(r).dataset.loaded))return;let{height:e}=this.currentTab.getBoundingClientRect();this.targetTabPanel(r).style.height=`${e}px`,yield this.targetTabPanel(r).loaded,this.targetTabPanel(r).style.height=""})}markTabLoaded(r){this.targetTabPanel(r).dataset.loaded=!0}revealTab(r){this.targetTabPanel(r).classList.remove("hidden")}hideAllTabs(){this.tabPanelTargets.map(r=>r.classList.add("hidden"))}};Tr(eS,"targets",["tabPanel"]),Tr(eS,"values",{view:String,activeTab:String})});var lD,sye=He(()=>{w0();lD=class extends sf{getFilterValue(){return this.textTarget.value}tryToSubmit(r){if(r.keyCode===13)return this.changeFilter()}getFilterClass(){let{filterClass:r}=this.textTarget.dataset;return r}};Tr(lD,"targets",["text"])});var uD,lye=He(()=>{mi();UE();uD=class extends qr{connect(){Kb(this.sourceTarget,{content:this.contentTarget.innerHTML,allowHTML:!0,theme:"light"})}};Tr(uD,"targets",["source","content"])});function BN(r,e,t){r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent("on".concat(e),function(){t(window.event)})}function dye(r,e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=r[t[n].toLowerCase()];return t}function pye(r){typeof r!="string"&&(r=""),r=r.replace(/\s/g,"");for(var e=r.split(","),t=e.lastIndexOf("");t>=0;)e[t-1]+=",",e.splice(t,1),t=e.lastIndexOf("");return e}function pst(r,e){for(var t=r.length>=e.length?r:e,n=r.length>=e.length?e:r,i=!0,a=0;a<t.length;a++)n.indexOf(t[a])===-1&&(i=!1);return i}function yye(r){gye=r||"all"}function rS(){return gye||"all"}function mst(){return Ta.slice(0)}function gst(r){var e=r.target||r.srcElement,t=e.tagName,n=!0;return(e.isContentEditable||(t==="INPUT"||t==="TEXTAREA"||t==="SELECT")&&!e.readOnly)&&(n=!1),n}function vst(r){return typeof r=="string"&&(r=fD(r)),Ta.indexOf(r)!==-1}function yst(r,e){var t,n;r||(r=rS());for(var i in Al)if(Object.prototype.hasOwnProperty.call(Al,i))for(t=Al[i],n=0;n<t.length;)t[n].scope===r?t.splice(n,1):n++;rS()===r&&yye(e||"all")}function bst(r){var e=r.keyCode||r.which||r.charCode,t=Ta.indexOf(e);if(t>=0&&Ta.splice(t,1),r.key&&r.key.toLowerCase()==="meta"&&Ta.splice(0,Ta.length),(e===93||e===224)&&(e=91),e in Zl){Zl[e]=!1;for(var n in Gv)Gv[n]===e&&(pg[n]=!1)}}function xst(r){if(!r)Object.keys(Al).forEach(function(l){return delete Al[l]});else if(Array.isArray(r))r.forEach(function(l){l.key&&jN(l)});else if(typeof r=="object")r.key&&jN(r);else if(typeof r=="string"){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=t[0],a=t[1];typeof i=="function"&&(a=i,i=""),jN({key:r,scope:i,method:a,splitKey:"+"})}}function cye(r,e,t){var n;if(e.scope===t||e.scope==="all"){n=e.mods.length>0;for(var i in Zl)Object.prototype.hasOwnProperty.call(Zl,i)&&(!Zl[i]&&e.mods.indexOf(+i)>-1||Zl[i]&&e.mods.indexOf(+i)===-1)&&(n=!1);(e.mods.length===0&&!Zl[16]&&!Zl[18]&&!Zl[17]&&!Zl[91]||n||e.shortcut==="*")&&e.method(r,e)===!1&&(r.preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation&&r.stopPropagation(),r.cancelBubble&&(r.cancelBubble=!0))}}function fye(r){var e=Al["*"],t=r.keyCode||r.which||r.charCode;if(!!pg.filter.call(this,r)){if((t===93||t===224)&&(t=91),Ta.indexOf(t)===-1&&t!==229&&Ta.push(t),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(q){var z=uye[q];r[q]&&Ta.indexOf(z)===-1?Ta.push(z):!r[q]&&Ta.indexOf(z)>-1?Ta.splice(Ta.indexOf(z),1):q==="metaKey"&&r[q]&&Ta.length===3&&(r.ctrlKey||r.shiftKey||r.altKey||(Ta=Ta.slice(Ta.indexOf(z))))}),t in Zl){Zl[t]=!0;for(var n in Gv)Gv[n]===t&&(pg[n]=!0);if(!e)return}for(var i in Zl)Object.prototype.hasOwnProperty.call(Zl,i)&&(Zl[i]=r[uye[i]]);r.getModifierState&&!(r.altKey&&!r.ctrlKey)&&r.getModifierState("AltGraph")&&(Ta.indexOf(17)===-1&&Ta.push(17),Ta.indexOf(18)===-1&&Ta.push(18),Zl[17]=!0,Zl[18]=!0);var a=rS();if(e)for(var l=0;l<e.length;l++)e[l].scope===a&&(r.type==="keydown"&&e[l].keydown||r.type==="keyup"&&e[l].keyup)&&cye(r,e[l],a);if(t in Al){for(var h=0;h<Al[t].length;h++)if((r.type==="keydown"&&Al[t][h].keydown||r.type==="keyup"&&Al[t][h].keyup)&&Al[t][h].key){for(var b=Al[t][h],S=b.splitKey,E=b.key.split(S),O=[],P=0;P<E.length;P++)O.push(fD(E[P]));O.sort().join("")===Ta.sort().join("")&&cye(r,b,a)}}}}function _st(r){return vye.indexOf(r)>-1}function pg(r,e,t){Ta=[];var n=pye(r),i=[],a="all",l=document,h=0,b=!1,S=!0,E="+";for(t===void 0&&typeof e=="function"&&(t=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(a=e.scope),e.element&&(l=e.element),e.keyup&&(b=e.keyup),e.keydown!==void 0&&(S=e.keydown),typeof e.splitKey=="string"&&(E=e.splitKey)),typeof e=="string"&&(a=e);h<n.length;h++)r=n[h].split(E),i=[],r.length>1&&(i=dye(Gv,r)),r=r[r.length-1],r=r==="*"?"*":fD(r),r in Al||(Al[r]=[]),Al[r].push({keyup:b,keydown:S,scope:a,mods:i,shortcut:n[h],method:t,key:n[h],splitKey:E});typeof l<"u"&&!_st(l)&&window&&(vye.push(l),BN(l,"keydown",function(O){fye(O)}),BN(window,"focus",function(){Ta=[]}),BN(l,"keyup",function(O){fye(O),bst(O)}))}var NN,mye,Gv,uye,Zl,Al,tS,Ta,gye,vye,fD,jN,UN,cD,hye,bye=He(()=>{NN=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;mye={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":NN?173:189,"=":NN?61:187,";":NN?59:186,"'":222,"[":219,"]":221,"\\":220},Gv={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},uye={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Zl={16:!1,18:!1,17:!1,91:!1},Al={};for(tS=1;tS<20;tS++)mye["f".concat(tS)]=111+tS;Ta=[],gye="all",vye=[],fD=function(e){return mye[e.toLowerCase()]||Gv[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};jN=function(e){var t=e.key,n=e.scope,i=e.method,a=e.splitKey,l=a===void 0?"+":a,h=pye(t);h.forEach(function(b){var S=b.split(l),E=S.length,O=S[E-1],P=O==="*"?"*":fD(O);if(!!Al[P]){n||(n=rS());var q=E>1?dye(Gv,S):[];Al[P]=Al[P].map(function(z){var N=i?z.method===i:!0;return N&&z.scope===n&&pst(z.mods,q)?{}:z})}})};UN={setScope:yye,getScope:rS,deleteScope:yst,getPressedKeyCodes:mst,isPressed:vst,filter:gst,unbind:xst};for(cD in UN)Object.prototype.hasOwnProperty.call(UN,cD)&&(pg[cD]=UN[cD]);typeof window<"u"&&(hye=window.hotkeys,pg.noConflict=function(r){return r&&window.hotkeys===pg&&(window.hotkeys=hye),pg},window.hotkeys=pg)});function kst(r){let e=r.getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,i=e.top<=t&&e.top+e.height>=0,a=e.left<=n&&e.left+e.width>=0;return i&&a}var wst,Sst,Cst,xye,_ye,wye,Sye=He(()=>{mi();bye();wst=(r,e,t)=>{let n=r;return t===!0?n=`${e.identifier}:${r}`:typeof t=="string"&&(n=`${t}:${r}`),n},Sst=(r,e,t)=>{let{bubbles:n,cancelable:i,composed:a}=e||{bubbles:!0,cancelable:!0,composed:!0};return e&&Object.assign(t,{originalEvent:e}),new CustomEvent(r,{bubbles:n,cancelable:i,composed:a,detail:t})};Cst={events:["click","touchend"],onlyVisible:!0,dispatchEvent:!0,eventPrefix:!0},xye=(r,e={})=>{let{onlyVisible:t,dispatchEvent:n,events:i,eventPrefix:a}=Object.assign({},Cst,e),l=E=>{let O=e?.element||r.element;if(!(O.contains(E.target)||!kst(O)&&t)&&(r.clickOutside&&r.clickOutside(E),n)){let P=wst("click:outside",r,a),q=Sst(P,E,{controller:r});O.dispatchEvent(q)}},h=()=>{i?.forEach(E=>{window.addEventListener(E,l,!1)})},b=()=>{i?.forEach(E=>{window.removeEventListener(E,l,!1)})},S=r.disconnect.bind(r);return Object.assign(r,{disconnect(){b(),S()}}),h(),[h,b]};_ye=class extends qr{};_ye.debounces=[];wye=class extends qr{};wye.throttles=[]});var nS,kye=He(()=>{mi();qN();Sye();nS=class extends qr{get exemptionContainerTarget(){return document.querySelector(this.exemptionContainerValue)}connect(){xye(this)}clickOutside(r){this.hasPanelTarget&&(this.hasExemptionContainerValue?this.exemptionContainerTarget.contains(r.target)||K0(this.panelTarget):K0(this.panelTarget))}togglePanel(){this.hasPanelTarget&&aD(this.panelTarget)}outlet({params:r}){let{outlet:e}=r;e&&document.querySelector(e)&&document.querySelector(e).classList.toggle("hidden")}};Tr(nS,"targets",["panel"]),Tr(nS,"values",{exemptionContainer:String})});function Zst(r){this.wrapped=r}function dD(r){var e,t;function n(a,l){try{var h=r[a](l),b=h.value,S=b instanceof Zst;Promise.resolve(S?b.wrapped:b).then(function(E){S?n(a==="return"?"return":"next",E):i(h.done?"return":"normal",E)},function(E){n("throw",E)})}catch(E){i("throw",E)}}function i(a,l){switch(a){case"return":e.resolve({value:l,done:!0});break;case"throw":e.reject(l);break;default:e.resolve({value:l,done:!1})}(e=e.next)?n(e.key,e.arg):t=null}this._invoke=function(a,l){return new Promise(function(h,b){var S={key:a,arg:l,resolve:h,reject:b,next:null};t?t=t.next=S:(e=t=S,n(a,l))})},typeof r.return!="function"&&(this.return=void 0)}function df(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var dB,Ic,Cye,Eye,HN,hS,ei,Est,Jye,Qye,pB,Tst,ja,sS,ebe,vg,mB,Yv,WN,yg,gD,Oc,wi,iS,lS,VN,Ast,Tye,Z0,Dst,X0,Zv,tbe,uS,gB,pD,Xv,rbe,aB,dS,xs,Ost,Aye,Ist,$N,GN,KN,tx,Mst,Pst,Lst,sB,lB,Rst,bg,Jv,vB,Fst,qst,YN,ZN,XN,hD,uB,qs,zst,cB,Nst,nbe,Bst,jst,Dye,Oye,ibe,obe,yB,abe,pS,Co,Gp,vD,Iye,fB,bB,Ust,Qv,sbe,J0,lbe,Hst,Mye,aS,xB,_B,Pye,JN,Mc,Wst,Vst,mD,oS,$st,bD,ube,cbe,Lye,cS,ty,fbe,mg,wB,Rye,Gst,hbe,dbe,pbe,Kst,Fye,mbe,xD,qye,Yst,zye,xg,SB,ry,ey,_D,fS,Xst,Jst,Qst,Wf,Nd,elt,tlt,rlt,nlt,gbe,ilt,Nye,Bye,jye,hf,Uye,olt,alt,slt,kB,llt,QN,Hye,rx,Wye,ult,Vye,clt,flt,hlt,vbe,dlt,plt,mlt,glt,vlt,rs,CB,EB,$p,yD,ylt,TB,ybe,blt,AB,DB,eB,xlt,_lt,bbe,OB,gg,xbe,wlt,tB,Kv,Slt,rB,IB,MB,PB,klt,Clt,LB,hB,RB,_be,Elt,Tlt,$ye,mS,nB,Alt,wbe,Dlt,zd,Olt,Ilt,Mlt,Plt,Vp,Q0,Llt,iB,Rlt,Flt,qlt,oB,zlt,Nlt,Blt,Gye,Kye,Yye,Y0,FB,ex,jlt,Ult,Hlt,qB,Wlt,Vlt,$lt,Glt,Klt,Zye,zB,Xye,Sbe=He(()=>{dB={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},Ic={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(r){return Cye(r.parentNode)===Ic[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(r){return Cye(r.parentNode)===Ic[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},Cye=r=>{var e;return r==null||(e=r.tagName)===null||e===void 0?void 0:e.toLowerCase()},Eye=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),HN=Eye&&parseInt(Eye[1]),hS={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:HN&&HN>12,samsungAndroid:HN&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(r=>r in InputEvent.prototype)},ei={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"},Est=[ei.bytes,ei.KB,ei.MB,ei.GB,ei.TB,ei.PB],Jye={prefix:"IEC",precision:2,formatter(r){switch(r){case 0:return"0 ".concat(ei.bytes);case 1:return"1 ".concat(ei.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);let t=Math.floor(Math.log(r)/Math.log(e)),n=(r/Math.pow(e,t)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(n," ").concat(Est[t])}}},Qye=function(r){for(let e in r){let t=r[e];this[e]=t}return this},pB=document.documentElement,Tst=pB.matches,ja=function(r){let{onElement:e,matchingSelector:t,withCallback:n,inPhase:i,preventDefault:a,times:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=e||pB,b=t,S=i==="capturing",E=function(O){l!=null&&--l==0&&E.destroy();let P=vg(O.target,{matchingSelector:b});P!=null&&(n?.call(P,O,P),a&&O.preventDefault())};return E.destroy=()=>h.removeEventListener(r,E,S),h.addEventListener(r,E,S),E},sS=function(r){let{onElement:e,bubbles:t,cancelable:n,attributes:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e??pB;t=t!==!1,n=n!==!1;let l=document.createEvent("Events");return l.initEvent(r,t,n),i!=null&&Qye.call(l,i),a.dispatchEvent(l)},ebe=function(r,e){if(r?.nodeType===1)return Tst.call(r,e)},vg=function(r){let{matchingSelector:e,untilNode:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.parentNode;if(r!=null){if(e==null)return r;if(r.closest&&t==null)return r.closest(e);for(;r&&r!==t;){if(ebe(r,e))return r;r=r.parentNode}}},mB=r=>document.activeElement!==r&&Yv(r,document.activeElement),Yv=function(r,e){if(r&&e)for(;e;){if(e===r)return!0;e=e.parentNode}},WN=function(r){var e;if((e=r)===null||e===void 0||!e.parentNode)return;let t=0;for(r=r.previousSibling;r;)t++,r=r.previousSibling;return t},yg=r=>{var e;return r==null||(e=r.parentNode)===null||e===void 0?void 0:e.removeChild(r)},gD=function(r){let{onlyNodesOfType:e,usingFilter:t,expandEntityReferences:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(r,i,t??null,n===!0)},Oc=r=>{var e;return r==null||(e=r.tagName)===null||e===void 0?void 0:e.toLowerCase()},wi=function(r){let e,t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof r=="object"?(n=r,r=n.tagName):n={attributes:n};let i=document.createElement(r);if(n.editable!=null&&(n.attributes==null&&(n.attributes={}),n.attributes.contenteditable=n.editable),n.attributes)for(e in n.attributes)t=n.attributes[e],i.setAttribute(e,t);if(n.style)for(e in n.style)t=n.style[e],i.style[e]=t;if(n.data)for(e in n.data)t=n.data[e],i.dataset[e]=t;return n.className&&n.className.split(" ").forEach(a=>{i.classList.add(a)}),n.textContent&&(i.textContent=n.textContent),n.childNodes&&[].concat(n.childNodes).forEach(a=>{i.appendChild(a)}),i},lS=function(){if(iS!=null)return iS;iS=[];for(let r in Ic){let e=Ic[r];e.tagName&&iS.push(e.tagName)}return iS},VN=r=>Z0(r?.firstChild),Ast=function(r){return lS().includes(Oc(r))&&!lS().includes(Oc(r.firstChild))},Tye=function(r){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?Z0(r):Z0(r)||!Z0(r.firstChild)&&Ast(r)},Z0=r=>Dst(r)&&r?.data==="block",Dst=r=>r?.nodeType===Node.COMMENT_NODE,X0=function(r){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r)return uS(r)?r.data==="\uFEFF"?!e||r.parentNode.dataset.trixCursorTarget===e:void 0:X0(r.firstChild)},Zv=r=>ebe(r,"[data-trix-attachment]"),tbe=r=>uS(r)&&r?.data==="",uS=r=>r?.nodeType===Node.TEXT_NODE,gB={level2Enabled:!0,getLevel(){return this.level2Enabled&&hS.supportsInputEvents?2:0},pickFiles(r){let e=wi("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{r(e.files),yg(e)}),yg(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}},pD={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},Xv={bold:{tagName:"strong",inheritable:!0,parser(r){let e=window.getComputedStyle(r);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:r=>window.getComputedStyle(r).fontStyle==="italic"},href:{groupTagName:"a",parser(r){let e="a:not(".concat("[data-trix-attachment]",")"),t=r.closest(e);if(t)return t.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},rbe={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(ei.bold,'" tabindex="-1">').concat(ei.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(ei.italic,'" tabindex="-1">').concat(ei.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(ei.strike,'" tabindex="-1">').concat(ei.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(ei.link,'" tabindex="-1">').concat(ei.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(ei.heading1,'" tabindex="-1">').concat(ei.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(ei.quote,'" tabindex="-1">').concat(ei.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(ei.code,'" tabindex="-1">').concat(ei.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(ei.bullets,'" tabindex="-1">').concat(ei.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(ei.numbers,'" tabindex="-1">').concat(ei.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(ei.outdent,'" tabindex="-1">').concat(ei.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(ei.indent,'" tabindex="-1">').concat(ei.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(ei.attachFiles,'" tabindex="-1">').concat(ei.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(ei.undo,'" tabindex="-1">').concat(ei.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(ei.redo,'" tabindex="-1">').concat(ei.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(ei.urlPlaceholder,'" aria-label="').concat(ei.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(ei.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(ei.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)},aB={interval:5e3},dS=Object.freeze({__proto__:null,attachments:dB,blockAttributes:Ic,browser:hS,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:Jye,input:gB,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:ei,parser:pD,textAttributes:Xv,toolbar:rbe,undo:aB}),xs=class{static proxyMethod(e){let{name:t,toMethod:n,toProperty:i,optional:a}=Ost(e);this.prototype[t]=function(){let l,h;var b,S;return n?h=a?(b=this[n])===null||b===void 0?void 0:b.call(this):this[n]():i&&(h=this[i]),a?(l=(S=h)===null||S===void 0?void 0:S[t],l?Aye.call(l,h,arguments):void 0):(l=h[t],Aye.call(l,h,arguments))}}},Ost=function(r){let e=r.match(Ist);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(r));let t={name:e[4]};return e[2]!=null?t.toMethod=e[1]:t.toProperty=e[1],e[3]!=null&&(t.optional=!0),t},{apply:Aye}=Function.prototype,Ist=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$"),tx=class extends xs{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e?.toString())}static fromUCS2String(e){return new this(e,sB(e))}static fromCodepoints(e){return new this(lB(e),e)}constructor(e,t){super(...arguments),this.ucs2String=e,this.codepoints=t,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return lB(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return sB(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}},Mst=(($N=Array.from)===null||$N===void 0?void 0:$N.call(Array,"\u{1F47C}").length)===1,Pst=((GN=" ".codePointAt)===null||GN===void 0?void 0:GN.call(" ",0))!=null,Lst=((KN=String.fromCodePoint)===null||KN===void 0?void 0:KN.call(String,32,128124))===" \u{1F47C}";sB=Mst&&Pst?r=>Array.from(r).map(e=>e.codePointAt(0)):function(r){let e=[],t=0,{length:n}=r;for(;t<n;){let i=r.charCodeAt(t++);if(55296<=i&&i<=56319&&t<n){let a=r.charCodeAt(t++);(64512&a)==56320?i=((1023&i)<<10)+(1023&a)+65536:t--}e.push(i)}return e},lB=Lst?r=>String.fromCodePoint(...Array.from(r||[])):function(r){return(()=>{let e=[];return Array.from(r).forEach(t=>{let n="";t>65535&&(t-=65536,n+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e.push(n+String.fromCharCode(t))}),e})().join("")};Rst=0,bg=class extends xs{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++Rst}hasSameConstructorAs(e){return this.constructor===e?.constructor}isEqualTo(e){return this===e}inspect(){let e=[],t=this.contentsForInspection()||{};for(let n in t){let i=t[n];e.push("".concat(n,"=").concat(i))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return tx.box(this)}getCacheKey(){return this.id.toString()}},Jv=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0},vB=function(r){let e=r.slice(0);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.splice(...n),e},Fst=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,qst=function(){let r=wi("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=wi("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),t=wi("form");t.appendChild(r),t.appendChild(e);let n=function(){try{return new FormData(t).has(e.dirName)}catch{return!1}}(),i=function(){try{return r.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return n?function(a){return e.value=a,new FormData(t).get(e.dirName)}:i?function(a){return r.value=a,r.matches(":dir(rtl)")?"rtl":"ltr"}:function(a){let l=a.trim().charAt(0);return Fst.test(l)?"rtl":"ltr"}}(),YN=null,ZN=null,XN=null,hD=null,uB=()=>(YN||(YN=Nst().concat(zst())),YN),qs=r=>Ic[r],zst=()=>(ZN||(ZN=Object.keys(Ic)),ZN),cB=r=>Xv[r],Nst=()=>(XN||(XN=Object.keys(Xv)),XN),nbe=function(r,e){Bst(r).textContent=e.replace(/%t/g,r)},Bst=function(r){let e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",r.toLowerCase());let t=jst();return t&&e.setAttribute("nonce",t),document.head.insertBefore(e,document.head.firstChild),e},jst=function(){let r=Dye("trix-csp-nonce")||Dye("csp-nonce");if(r)return r.getAttribute("content")},Dye=r=>document.head.querySelector("meta[name=".concat(r,"]")),Oye={"application/x-trix-feature-detection":"test"},ibe=function(r){let e=r.getData("text/plain"),t=r.getData("text/html");if(!e||!t)return e?.length;{let{body:n}=new DOMParser().parseFromString(t,"text/html");if(n.textContent===e)return!n.querySelector("*")}},obe=/Mac|^iP/.test(navigator.platform)?r=>r.metaKey:r=>r.ctrlKey,yB=r=>setTimeout(r,1),abe=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={};for(let t in r){let n=r[t];e[t]=n}return e},pS=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(r).length!==Object.keys(e).length)return!1;for(let t in r)if(r[t]!==e[t])return!1;return!0},Co=function(r){if(r!=null)return Array.isArray(r)||(r=[r,r]),[Iye(r[0]),Iye(r[1]!=null?r[1]:r[0])]},Gp=function(r){if(r==null)return;let[e,t]=Co(r);return fB(e,t)},vD=function(r,e){if(r==null||e==null)return;let[t,n]=Co(r),[i,a]=Co(e);return fB(t,i)&&fB(n,a)},Iye=function(r){return typeof r=="number"?r:abe(r)},fB=function(r,e){return typeof r=="number"?r===e:pS(r,e)},bB=class extends xs{constructor(){super(...arguments),this.update=this.update.bind(this),this.run=this.run.bind(this),this.selectionManagers=[]}start(){if(!this.started)return this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run()}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(t=>t!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){let e=J0();if(!Ust(e,this.domRange))return this.domRange=e,this.notifySelectionManagersOfSelectionChange()}reset(){return this.domRange=null,this.update()}run(){if(this.started)return this.update(),requestAnimationFrame(this.run)}},Ust=(r,e)=>r?.startContainer===e?.startContainer&&r?.startOffset===e?.startOffset&&r?.endContainer===e?.endContainer&&r?.endOffset===e?.endOffset,Qv=new bB,sbe=function(){let r=window.getSelection();if(r.rangeCount>0)return r},J0=function(){var r;let e=(r=sbe())===null||r===void 0?void 0:r.getRangeAt(0);if(e&&!Hst(e))return e},lbe=function(r){let e=window.getSelection();return e.removeAllRanges(),e.addRange(r),Qv.update()},Hst=r=>Mye(r.startContainer)||Mye(r.endContainer),Mye=r=>!Object.getPrototypeOf(r),aS=r=>r.replace(new RegExp("".concat("\uFEFF"),"g"),"").replace(new RegExp("".concat("\xA0"),"g")," "),xB=new RegExp("[^\\S".concat("\xA0","]")),_B=r=>r.replace(new RegExp("".concat(xB.source),"g")," ").replace(/\ {2,}/g," "),Pye=function(r,e){if(r.isEqualTo(e))return["",""];let t=JN(r,e),{length:n}=t.utf16String,i;if(n){let{offset:a}=t,l=r.codepoints.slice(0,a).concat(r.codepoints.slice(a+n));i=JN(e,tx.fromCodepoints(l))}else i=JN(e,r);return[t.utf16String.toString(),i.utf16String.toString()]},JN=function(r,e){let t=0,n=r.length,i=e.length;for(;t<n&&r.charAt(t).isEqualTo(e.charAt(t));)t++;for(;n>t+1&&r.charAt(n-1).isEqualTo(e.charAt(i-1));)n--,i--;return{utf16String:r.slice(t,n),offset:t}},Mc=class extends bg{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let t=oS(e[0]),n=t.getKeys();return e.slice(1).forEach(i=>{n=t.getKeysCommonToHash(oS(i)),t=t.slice(n)}),t}static box(e){return oS(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=mD(e)}add(e,t){return this.merge(Wst(e,t))}remove(e){return new Mc(mD(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new Mc(Vst(this.values,$st(e)))}slice(e){let t={};return Array.from(e).forEach(n=>{this.has(n)&&(t[n]=this.values[n])}),new Mc(t)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=oS(e),this.getKeys().filter(t=>this.values[t]===e.values[t])}isEqualTo(e){return Jv(this.toArray(),oS(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){let e=[];for(let t in this.values){let n=this.values[t];e.push(e.push(t,n))}this.array=e.slice(0)}return this.array}toObject(){return mD(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}},Wst=function(r,e){let t={};return t[r]=e,t},Vst=function(r,e){let t=mD(r);for(let n in e){let i=e[n];t[n]=i}return t},mD=function(r,e){let t={};return Object.keys(r).sort().forEach(n=>{n!==e&&(t[n]=r[n])}),t},oS=function(r){return r instanceof Mc?r:new Mc(r)},$st=function(r){return r instanceof Mc?r.values:r},bD=class{static groupObjects(){let e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:n,asTree:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i&&n==null&&(n=0);let a=[];return Array.from(t).forEach(l=>{var h;if(e){var b,S,E;if((b=l.canBeGrouped)!==null&&b!==void 0&&b.call(l,n)&&(S=(E=e[e.length-1]).canBeGroupedWith)!==null&&S!==void 0&&S.call(E,l,n))return void e.push(l);a.push(new this(e,{depth:n,asTree:i})),e=null}(h=l.canBeGrouped)!==null&&h!==void 0&&h.call(l,n)?e=[l]:a.push(l)}),e&&a.push(new this(e,{depth:n,asTree:i})),a}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:t,asTree:n}=arguments.length>1?arguments[1]:void 0;this.objects=e,n&&(this.depth=t,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){let e=["objectGroup"];return Array.from(this.getObjects()).forEach(t=>{e.push(t.getCacheKey())}),e.join("/")}},ube=class extends xs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(t=>{let n=JSON.stringify(t);this.objects[n]==null&&(this.objects[n]=t)})}find(e){let t=JSON.stringify(e);return this.objects[t]}},cbe=class{constructor(e){this.reset(e)}add(e){let t=Lye(e);this.elements[t]=e}remove(e){let t=Lye(e),n=this.elements[t];if(n)return delete this.elements[t],n}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(t=>{this.add(t)}),e}},Lye=r=>r.dataset.trixStoreKey,cS=class extends xs{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,t)=>(this.performing=!0,this.perform((n,i)=>{this.succeeded=n,this.performing=!1,this.performed=!0,this.succeeded?e(i):t(i)})))),this.promise}perform(e){return e(!1)}release(){var e,t;(e=this.promise)===null||e===void 0||(t=e.cancel)===null||t===void 0||t.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}};cS.proxyMethod("getPromise().then"),cS.proxyMethod("getPromise().catch");ty=class extends xs{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=t,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var t;return(t=this.findViewForObject(e))===null||t===void 0?void 0:t.invalidate()}findOrCreateCachedChildView(e,t,n){let i=this.getCachedViewForObject(t);return i?this.recordChildView(i):(i=this.createChildView(...arguments),this.cacheViewForObject(i,t)),i}createChildView(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t instanceof bD&&(n.viewClass=e,e=fbe);let i=new e(t,n);return this.recordChildView(i)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(t=>{e.push(t),e=e.concat(t.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){let t=e?.id;if(t)return this.rootView.element.querySelector("[data-trix-id='".concat(t,"']"))}findViewForObject(e){for(let t of this.getAllChildViews())if(t.object===e)return t}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var t;return(t=this.getViewCache())===null||t===void 0?void 0:t[e.getCacheKey()]}cacheViewForObject(e,t){let n=this.getViewCache();n&&(n[t.getCacheKey()]=e)}garbageCollectCachedViews(){let e=this.getViewCache();if(e){let t=this.getAllChildViews().concat(this).map(n=>n.object.getCacheKey());for(let n in e)t.includes(n)||delete e[n]}}},fbe=class extends ty{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){let e=this.createContainerElement();return this.getChildViews().forEach(t=>{Array.from(t.getNodes()).forEach(n=>{e.appendChild(n)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}},{css:mg}=dS,wB=class extends ty{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e,t=e=wi({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),n=this.getHref();return n&&(e=wi({tagName:"a",editable:!1,attributes:{href:n,tabindex:-1}}),t.appendChild(e)),this.attachment.hasContent()?e.innerHTML=this.attachment.getContent():this.createContentNodes().forEach(i=>{e.appendChild(i)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=wi({tagName:"progress",attributes:{class:mg.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),t.appendChild(this.progressElement)),[Rye("left"),t,Rye("right")]}createCaptionElement(){let e=wi({tagName:"figcaption",className:mg.attachmentCaption}),t=this.attachmentPiece.getCaption();if(t)e.classList.add("".concat(mg.attachmentCaption,"--edited")),e.textContent=t;else{let n,i,a=this.getCaptionConfig();if(a.name&&(n=this.attachment.getFilename()),a.size&&(i=this.attachment.getFormattedFilesize()),n){let l=wi({tagName:"span",className:mg.attachmentName,textContent:n});e.appendChild(l)}if(i){n&&e.appendChild(document.createTextNode(" "));let l=wi({tagName:"span",className:mg.attachmentSize,textContent:i});e.appendChild(l)}}return e}getClassName(){let e=[mg.attachment,"".concat(mg.attachment,"--").concat(this.attachment.getType())],t=this.attachment.getExtension();return t&&e.push("".concat(mg.attachment,"--").concat(t)),e.join(" ")}getData(){let e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:t}=this.attachmentPiece;return t.isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!Gst(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var e;let t=this.attachment.getType(),n=abe((e=dB[t])===null||e===void 0?void 0:e.caption);return t==="file"&&(n.name=!0),n}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){let e=this.attachment.getUploadProgress(),t=this.findProgressElement();t&&(t.value=e)}},Rye=r=>wi({tagName:"span",textContent:"\uFEFF",data:{trixCursorTarget:r,trixSerialize:!1}}),Gst=function(r,e){let t=wi("div");return t.innerHTML=r||"",t.querySelector(e)},hbe=class extends wB{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=wi({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){let e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",ei.captionPlaceholder),e}refresh(e){var t;if(e||(e=(t=this.findElement())===null||t===void 0?void 0:t.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){let t=this.attachment.getURL(),n=this.attachment.getPreviewURL();if(e.src=n||t,n===t)e.removeAttribute("data-trix-serialized-attributes");else{let h=JSON.stringify({src:t});e.setAttribute("data-trix-serialized-attributes",h)}let i=this.attachment.getWidth(),a=this.attachment.getHeight();i!=null&&(e.width=i),a!=null&&(e.height=a);let l=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=l}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}},dbe=class extends ty{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes(),t=this.createElement();if(t){let n=function(i){for(;(a=i)!==null&&a!==void 0&&a.firstElementChild;){var a;i=i.firstElementChild}return i}(t);Array.from(e).forEach(i=>{n.appendChild(i)}),e=[t]}return e}createAttachmentNodes(){let e=this.attachment.isPreviewable()?hbe:wB;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{let t=[],n=this.string.split(`
`);for(let i=0;i<n.length;i++){let a=n[i];if(i>0){let l=wi("br");t.push(l)}if(a.length){let l=document.createTextNode(this.preserveSpaces(a));t.push(l)}}return t}}createElement(){let e,t,n,i={};for(t in this.attributes){n=this.attributes[t];let l=cB(t);if(l){if(l.tagName){var a;let h=wi(l.tagName);a?(a.appendChild(h),a=h):e=a=h}if(l.styleProperty&&(i[l.styleProperty]=n),l.style)for(t in l.style)n=l.style[t],i[t]=n}}if(Object.keys(i).length)for(t in e||(e=wi("span")),i)n=i[t],e.style[t]=n;return e}createContainerElement(){for(let e in this.attributes){let t=this.attributes[e],n=cB(e);if(n&&n.groupTagName){let i={};return i[e]=t,wi(n.groupTagName,i)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,"\xA0")),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat("\xA0"," $2")).replace(/\ {2}/g,"".concat("\xA0"," ")).replace(/\ {2}/g," ".concat("\xA0")),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,"\xA0")),e}},pbe=class extends ty{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){let e=[],t=bD.groupObjects(this.getPieces()),n=t.length-1;for(let a=0;a<t.length;a++){let l=t[a],h={};a===0&&(h.isFirst=!0),a===n&&(h.isLast=!0),Kst(i)&&(h.followsWhitespace=!0);let b=this.findOrCreateCachedChildView(dbe,l,{textConfig:this.textConfig,context:h});e.push(...Array.from(b.getNodes()||[]));var i=l}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}},Kst=r=>/\s$/.test(r?.toString()),{css:Fye}=dS,mbe=class extends ty{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){let e=[document.createComment("block")];if(this.block.isEmpty())e.push(wi("br"));else{var t;let n=(t=qs(this.block.getLastAttribute()))===null||t===void 0?void 0:t.text,i=this.findOrCreateCachedChildView(pbe,this.block.text,{textConfig:n});e.push(...Array.from(i.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(wi("br"))}if(this.attributes.length)return e;{let n,{tagName:i}=Ic.default;this.block.isRTL()&&(n={dir:"rtl"});let a=wi({tagName:i,attributes:n});return e.forEach(l=>a.appendChild(l)),[a]}}createContainerElement(e){let t,n,i=this.attributes[e],{tagName:a}=qs(i);if(e===0&&this.block.isRTL()&&(t={dir:"rtl"}),i==="attachmentGallery"){let l=this.block.getBlockBreakPosition();n="".concat(Fye.attachmentGallery," ").concat(Fye.attachmentGallery,"--").concat(l)}return wi({tagName:a,className:n,attributes:t})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}},xD=class extends ty{static render(e){let t=wi("div"),n=new this(e,{element:t});return n.render(),n.sync(),t}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new cbe,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=wi("div"),!this.document.isEmpty()){let e=bD.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(t=>{let n=this.findOrCreateCachedChildView(mbe,t);Array.from(n.getNodes()).map(i=>this.shadowElement.appendChild(i))})}}isSynced(){return Yst(this.shadowElement,this.element)}sync(){let e=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(e),this.didSync()}didSync(){return this.elementStore.reset(qye(this.element)),yB(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){let e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(t=>{e.appendChild(t.cloneNode(!0))}),Array.from(qye(e)).forEach(t=>{let n=this.elementStore.remove(t);n&&t.parentNode.replaceChild(n,t)}),e}},qye=r=>r.querySelectorAll("[data-trix-store-key]"),Yst=(r,e)=>zye(r.innerHTML)===zye(e.innerHTML),zye=r=>r.replace(/&nbsp;/g," ");dD.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},dD.prototype.next=function(r){return this._invoke("next",r)},dD.prototype.throw=function(r){return this._invoke("throw",r)},dD.prototype.return=function(r){return this._invoke("return",r)};xg=class extends bg{static registerType(e,t){t.type=e,this.types[e]=t}static fromJSON(e){let t=this.types[e.type];if(t)return t.fromJSON(e)}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Mc.box(t)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}};df(xg,"types",{});SB=class extends cS{constructor(e){super(...arguments),this.url=e}perform(e){let t=new Image;t.onload=()=>(t.width=this.width=t.naturalWidth,t.height=this.height=t.naturalHeight,e(!0,t)),t.onerror=()=>e(!1),t.src=this.url}},ry=class extends bg{static attachmentForFile(e){let t=new this(this.attributesForFile(e));return t.setFile(e),t}static attributesForFile(e){return new Mc({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=Mc.box(e),this.didChangeAttributes()}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=this.attributes.merge(e);var n,i,a,l;if(!this.attributes.isEqualTo(t))return this.attributes=t,this.didChangeAttributes(),(n=this.previewDelegate)===null||n===void 0||(i=n.attachmentDidChangeAttributes)===null||i===void 0||i.call(n,this),(a=this.delegate)===null||a===void 0||(l=a.attachmentDidChangeAttributes)===null||l===void 0?void 0:l.call(a,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):ry.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){let e=this.attributes.get("filesize");return typeof e=="number"?Jye.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var t,n;if(this.uploadProgress!==e)return this.uploadProgress=e,(t=this.uploadProgressDelegate)===null||t===void 0||(n=t.attachmentDidChangeUploadProgress)===null||n===void 0?void 0:n.call(t,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var t,n,i,a;if(e!==this.getPreviewURL())return this.previewURL=e,(t=this.previewDelegate)===null||t===void 0||(n=t.attachmentDidChangeAttributes)===null||n===void 0||n.call(t,this),(i=this.delegate)===null||i===void 0||(a=i.attachmentDidChangePreviewURL)===null||a===void 0?void 0:a.call(i,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,t){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new SB(e).then(n=>{let{width:i,height:a}=n;return this.getWidth()&&this.getHeight()||this.setAttributes({width:i,height:a}),this.preloadingURL=null,this.setPreviewURL(e),t?.()}).catch(()=>(this.preloadingURL=null,t?.()))}};df(ry,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);ey=class extends xg{static fromJSON(e){return new this(ry.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){let e=this.attributes.slice(ey.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var t;return super.isEqualTo(e)&&this.attachment.id===(e==null||(t=e.attachment)===null||t===void 0?void 0:t.id)}toString(){return"\uFFFC"}toJSON(){let e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}};df(ey,"permittedAttributes",["caption","presentation"]),xg.registerType("attachment",ey);_D=class extends xg{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(t=>t.replace(/\r\n/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){let e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let t,n;return e===0?(t=null,n=this):e===this.length?(t=this,n=null):(t=new this.constructor(this.string.slice(0,e),this.attributes),n=new this.constructor(this.string.slice(e),this.attributes)),[t,n]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+"\u2026"),JSON.stringify(e.toString())}};xg.registerType("string",_D);fS=class extends bg{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this.constructor(vB(this.objects,...t))}eachObject(e){return this.objects.map((t,n)=>e(t,n))}insertObjectAtIndex(e,t){return this.splice(t,0,e)}insertSplittableListAtIndex(e,t){return this.splice(t,0,...e.objects)}insertSplittableListAtPosition(e,t){let[n,i]=this.splitObjectAtPosition(t);return new this.constructor(n).insertSplittableListAtIndex(e,i)}editObjectAtIndex(e,t){return this.replaceObjectAtIndex(t(this.objects[e]),e)}replaceObjectAtIndex(e,t){return this.splice(t,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){let[t,n,i]=this.splitObjectsAtRange(e);return new this.constructor(t.slice(n,i+1))}selectSplittableList(e){let t=this.objects.filter(n=>e(n));return new this.constructor(t)}removeObjectsInRange(e){let[t,n,i]=this.splitObjectsAtRange(e);return new this.constructor(t).splice(n,i-n+1)}transformObjectsInRange(e,t){let[n,i,a]=this.splitObjectsAtRange(e),l=n.map((h,b)=>i<=b&&b<=a?t(h):h);return new this.constructor(l)}splitObjectsAtRange(e){let t,[n,i,a]=this.splitObjectAtPosition(Jst(e));return[n,t]=new this.constructor(n).splitObjectAtPosition(Qst(e)+a),[n,i,t-1]}getObjectAtPosition(e){let{index:t}=this.findIndexAndOffsetAtPosition(e);return this.objects[t]}splitObjectAtPosition(e){let t,n,{index:i,offset:a}=this.findIndexAndOffsetAtPosition(e),l=this.objects.slice(0);if(i!=null)if(a===0)t=i,n=0;else{let h=this.getObjectAtIndex(i),[b,S]=h.splitAtOffset(a);l.splice(i,1,b,S),t=i+1,n=b.getLength()-a}else t=l.length,n=0;return[l,t,n]}consolidate(){let e=[],t=this.objects[0];return this.objects.slice(1).forEach(n=>{var i,a;(i=(a=t).canBeConsolidatedWith)!==null&&i!==void 0&&i.call(a,n)?t=t.consolidateWith(n):(e.push(t),t=n)}),t&&e.push(t),new this.constructor(e)}consolidateFromIndexToIndex(e,t){let n=this.objects.slice(0).slice(e,t+1),i=new this.constructor(n).consolidate().toArray();return this.splice(e,n.length,...i)}findIndexAndOffsetAtPosition(e){let t,n=0;for(t=0;t<this.objects.length;t++){let i=n+this.objects[t].getLength();if(n<=e&&e<i)return{index:t,offset:e-n};n=i}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,t){let n=0;for(let i=0;i<this.objects.length;i++){let a=this.objects[i];if(i<e)n+=a.getLength();else if(i===e){n+=t;break}}return n}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||Xst(this.objects,e?.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}},Xst=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(r.length!==e.length)return!1;let t=!0;for(let n=0;n<r.length;n++){let i=r[n];t&&!i.isEqualTo(e[n])&&(t=!1)}return t},Jst=r=>r[0],Qst=r=>r[1],Wf=class extends bg{static textForAttachmentWithAttributes(e,t){return new this([new ey(e,t)])}static textForStringWithAttributes(e,t){return new this([new _D(e,t)])}static fromJSON(e){return new this(Array.from(e).map(t=>xg.fromJSON(t)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);let t=e.filter(n=>!n.isEmpty());this.pieceList=new fS(t)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){let t=this.getPieces().map(n=>e.find(n)||n);return new this.constructor(t)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,t){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,t))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,t){return this.removeTextAtRange(t).insertTextAtPosition(e,t[0])}moveTextFromRangeToPosition(e,t){if(e[0]<=t&&t<=e[1])return;let n=this.getTextAtRange(e),i=n.getLength();return e[0]<t&&(t-=i),this.removeTextAtRange(e).insertTextAtPosition(n,t)}addAttributeAtRange(e,t,n){let i={};return i[e]=t,this.addAttributesAtRange(i,n)}addAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,n=>n.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,n=>n.copyWithoutAttribute(e)))}setAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,n=>n.copyWithAttributes(e)))}getAttributesAtPosition(e){var t;return((t=this.pieceList.getObjectAtPosition(e))===null||t===void 0?void 0:t.getAttributes())||{}}getCommonAttributes(){let e=Array.from(this.pieceList.toArray()).map(t=>t.getAttributes());return Mc.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,t){let n,i=n=t,a=this.getLength();for(;i>0&&this.getCommonAttributesAtRange([i-1,n])[e];)i--;for(;n<a&&this.getCommonAttributesAtRange([t,n+1])[e];)n++;return[i,n]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){let t=this.getLength();return this.getStringAtRange([t-e.length,t])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let t=0;for(let i of this.pieceList.toArray()){var n;if(((n=i.attachment)===null||n===void 0?void 0:n.id)===e)return{attachment:i.attachment,position:t};t+=i.length}return{attachment:null,position:null}}getAttachmentById(e){let{attachment:t}=this.getAttachmentAndPositionById(e);return t}getRangeOfAttachment(e){let t=this.getAttachmentAndPositionById(e.id),n=t.position;if(e=t.attachment)return[n,n+1]}updateAttributesForAttachment(e,t){let n=this.getRangeOfAttachment(t);return n?this.addAttributesAtRange(e,n):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var t;return super.isEqualTo(e)||(e==null||(t=e.pieceList)===null||t===void 0?void 0:t.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){let e=this.pieceList.selectSplittableList(t=>t.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return qst(this.toString())}isRTL(){return this.getDirection()==="rtl"}},Nd=class extends bg{static fromJSON(e){return new this(Wf.fromJSON(e.text),e.attributes)}constructor(e,t){super(...arguments),this.text=elt(e||new Wf),this.attributes=t||[]}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e?.text)&&Jv(this.attributes,e?.attributes)}copyWithText(e){return new Nd(e,this.attributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new Nd(this.text,e)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){let t=e.find(this.text);return t?this.copyWithText(t):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){let t=this.attributes.concat(Nye(e));return this.copyWithAttributes(t)}removeAttribute(e){let{listAttribute:t}=qs(e),n=jye(jye(this.attributes,e),t);return this.copyWithAttributes(n)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return Bye(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return Bye(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>qs(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){let e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){let e=this.getLastNestableAttribute();if(e){let t=this.attributes.lastIndexOf(e),n=vB(this.attributes,t+1,0,...Nye(e));return this.copyWithAttributes(n)}return this}getListItemAttributes(){return this.attributes.filter(e=>qs(e).listAttribute)}isListItem(){var e;return(e=qs(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=qs(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=qs(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,t){let n=this.toString(),i;switch(e){case"forward":i=n.indexOf(`
`,t);break;case"backward":i=n.slice(0,t).lastIndexOf(`
`)}if(i!==-1)return i}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){let t=Wf.textForStringWithAttributes(`
`),n=this.getTextWithoutBlockBreak().appendText(t);return this.copyWithText(n.appendText(e.text))}splitAtOffset(e){let t,n;return e===0?(t=null,n=this):e===this.getLength()?(t=this,n=null):(t=this.copyWithText(this.text.getTextAtRange([0,e])),n=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[t,n]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return gbe(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,t){let n=e.getAttributes(),i=n[t],a=this.attributes[t];return a===i&&!(qs(a).group===!1&&!(()=>{if(!hD){hD=[];for(let l in Ic){let{listAttribute:h}=Ic[l];h!=null&&hD.push(h)}}return hD})().includes(n[t+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}},elt=function(r){return r=tlt(r),r=nlt(r)},tlt=function(r){let e=!1,t=r.getPieces(),n=t.slice(0,t.length-1),i=t[t.length-1];return i?(n=n.map(a=>a.isBlockBreak()?(e=!0,ilt(a)):a),e?new Wf([...n,i]):r):r},rlt=Wf.textForStringWithAttributes(`
`,{blockBreak:!0}),nlt=function(r){return gbe(r)?r:r.appendText(rlt)},gbe=function(r){let e=r.getLength();return e===0?!1:r.getTextAtRange([e-1,e]).isBlockBreak()},ilt=r=>r.copyWithoutAttribute("blockBreak"),Nye=function(r){let{listAttribute:e}=qs(r);return e?[e,r]:[r]},Bye=r=>r.slice(-1)[0],jye=function(r,e){let t=r.lastIndexOf(e);return t===-1?r:vB(r,t,1)},hf=class extends bg{static fromJSON(e){return new this(Array.from(e).map(t=>Nd.fromJSON(t)))}static fromString(e,t){let n=Wf.textForStringWithAttributes(e,t);return new this([new Nd(n)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new Nd]),this.blockList=fS.box(e)}isEmpty(){let e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){let e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){let t=new ube(e.getObjects());return this.copyUsingObjectMap(t)}copyUsingObjectMap(e){let t=this.getBlocks().map(n=>e.find(n)||n.copyUsingObjectMap(e));return new this.constructor(t)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.getBlocks().map(n=>{let i=e.concat(n.getAttributes());return n.copyWithAttributes(i)});return new this.constructor(t)}replaceBlock(e,t){let n=this.blockList.indexOf(e);return n===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(t,n))}insertDocumentAtRange(e,t){let{blockList:n}=e;t=Co(t);let[i]=t,{index:a,offset:l}=this.locationFromPosition(i),h=this,b=this.getBlockAtPosition(i);return Gp(t)&&b.isEmpty()&&!b.hasAttributes()?h=new this.constructor(h.blockList.removeObjectAtIndex(a)):b.getBlockBreakPosition()===l&&i++,h=h.removeTextAtRange(t),new this.constructor(h.blockList.insertSplittableListAtPosition(n,i))}mergeDocumentAtRange(e,t){let n,i;t=Co(t);let[a]=t,l=this.locationFromPosition(a),h=this.getBlockAtIndex(l.index).getAttributes(),b=e.getBaseBlockAttributes(),S=h.slice(-b.length);if(Jv(b,S)){let P=h.slice(0,-b.length);n=e.copyWithBaseBlockAttributes(P)}else n=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(h);let E=n.getBlockCount(),O=n.getBlockAtIndex(0);if(Jv(h,O.getAttributes())){let P=O.getTextWithoutBlockBreak();if(i=this.insertTextAtRange(P,t),E>1){n=new this.constructor(n.getBlocks().slice(1));let q=a+P.getLength();i=i.insertDocumentAtRange(n,q)}}else i=this.insertDocumentAtRange(n,t);return i}insertTextAtRange(e,t){t=Co(t);let[n]=t,{index:i,offset:a}=this.locationFromPosition(n),l=this.removeTextAtRange(t);return new this.constructor(l.blockList.editObjectAtIndex(i,h=>h.copyWithText(h.text.insertTextAtPosition(e,a))))}removeTextAtRange(e){let t;e=Co(e);let[n,i]=e;if(Gp(e))return this;let[a,l]=Array.from(this.locationRangeFromRange(e)),h=a.index,b=a.offset,S=this.getBlockAtIndex(h),E=l.index,O=l.offset,P=this.getBlockAtIndex(E);if(i-n==1&&S.getBlockBreakPosition()===b&&P.getBlockBreakPosition()!==O&&P.text.getStringAtPosition(O)===`
`)t=this.blockList.editObjectAtIndex(E,q=>q.copyWithText(q.text.removeTextAtRange([O,O+1])));else{let q,z=S.text.getTextAtRange([0,b]),N=P.text.getTextAtRange([O,P.getLength()]),V=z.appendText(N);q=h!==E&&b===0&&S.getAttributeLevel()>=P.getAttributeLevel()?P.copyWithText(V):S.copyWithText(V);let Y=E+1-h;t=this.blockList.splice(h,Y,q)}return new this.constructor(t)}moveTextFromRangeToPosition(e,t){let n;e=Co(e);let[i,a]=e;if(i<=t&&t<=a)return this;let l=this.getDocumentAtRange(e),h=this.removeTextAtRange(e),b=i<t;b&&(t-=l.getLength());let[S,...E]=l.getBlocks();return E.length===0?(n=S.getTextWithoutBlockBreak(),b&&(t+=1)):n=S.text,h=h.insertTextAtRange(n,t),E.length===0?h:(l=new this.constructor(E),t+=n.getLength(),h.insertDocumentAtRange(l,t))}addAttributeAtRange(e,t,n){let{blockList:i}=this;return this.eachBlockAtRange(n,(a,l,h)=>i=i.editObjectAtIndex(h,function(){return qs(e)?a.addAttribute(e,t):l[0]===l[1]?a:a.copyWithText(a.text.addAttributeAtRange(e,t,l))})),new this.constructor(i)}addAttribute(e,t){let{blockList:n}=this;return this.eachBlock((i,a)=>n=n.editObjectAtIndex(a,()=>i.addAttribute(e,t))),new this.constructor(n)}removeAttributeAtRange(e,t){let{blockList:n}=this;return this.eachBlockAtRange(t,function(i,a,l){qs(e)?n=n.editObjectAtIndex(l,()=>i.removeAttribute(e)):a[0]!==a[1]&&(n=n.editObjectAtIndex(l,()=>i.copyWithText(i.text.removeAttributeAtRange(e,a))))}),new this.constructor(n)}updateAttributesForAttachment(e,t){let n=this.getRangeOfAttachment(t),[i]=Array.from(n),{index:a}=this.locationFromPosition(i),l=this.getTextAtIndex(a);return new this.constructor(this.blockList.editObjectAtIndex(a,h=>h.copyWithText(l.updateAttributesForAttachment(e,t))))}removeAttributeForAttachment(e,t){let n=this.getRangeOfAttachment(t);return this.removeAttributeAtRange(e,n)}insertBlockBreakAtRange(e){let t;e=Co(e);let[n]=e,{offset:i}=this.locationFromPosition(n),a=this.removeTextAtRange(e);return i===0&&(t=[new Nd]),new this.constructor(a.blockList.insertSplittableListAtPosition(new fS(t),n))}applyBlockAttributeAtRange(e,t,n){let i=this.expandRangeToLineBreaksAndSplitBlocks(n),a=i.document;n=i.range;let l=qs(e);if(l.listAttribute){a=a.removeLastListAttributeAtRange(n,{exceptAttributeName:e});let h=a.convertLineBreaksToBlockBreaksInRange(n);a=h.document,n=h.range}else a=l.exclusive?a.removeBlockAttributesAtRange(n):l.terminal?a.removeLastTerminalAttributeAtRange(n):a.consolidateBlocksAtRange(n);return a.addAttributeAtRange(e,t,n)}removeLastListAttributeAtRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:n}=this;return this.eachBlockAtRange(e,function(i,a,l){let h=i.getLastAttribute();h&&qs(h).listAttribute&&h!==t.exceptAttributeName&&(n=n.editObjectAtIndex(l,()=>i.removeAttribute(h)))}),new this.constructor(n)}removeLastTerminalAttributeAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(n,i,a){let l=n.getLastAttribute();l&&qs(l).terminal&&(t=t.editObjectAtIndex(a,()=>n.removeAttribute(l)))}),new this.constructor(t)}removeBlockAttributesAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(n,i,a){n.hasAttributes()&&(t=t.editObjectAtIndex(a,()=>n.copyWithoutAttributes()))}),new this.constructor(t)}expandRangeToLineBreaksAndSplitBlocks(e){let t;e=Co(e);let[n,i]=e,a=this.locationFromPosition(n),l=this.locationFromPosition(i),h=this,b=h.getBlockAtIndex(a.index);if(a.offset=b.findLineBreakInDirectionFromPosition("backward",a.offset),a.offset!=null&&(t=h.positionFromLocation(a),h=h.insertBlockBreakAtRange([t,t+1]),l.index+=1,l.offset-=h.getBlockAtIndex(a.index).getLength(),a.index+=1),a.offset=0,l.offset===0&&l.index>a.index)l.index-=1,l.offset=h.getBlockAtIndex(l.index).getBlockBreakPosition();else{let S=h.getBlockAtIndex(l.index);S.text.getStringAtRange([l.offset-1,l.offset])===`
`?l.offset-=1:l.offset=S.findLineBreakInDirectionFromPosition("forward",l.offset),l.offset!==S.getBlockBreakPosition()&&(t=h.positionFromLocation(l),h=h.insertBlockBreakAtRange([t,t+1]))}return n=h.positionFromLocation(a),i=h.positionFromLocation(l),{document:h,range:e=Co([n,i])}}convertLineBreaksToBlockBreaksInRange(e){e=Co(e);let[t]=e,n=this.getStringAtRange(e).slice(0,-1),i=this;return n.replace(/.*?\n/g,function(a){t+=a.length,i=i.insertBlockBreakAtRange([t-1,t])}),{document:i,range:e}}consolidateBlocksAtRange(e){e=Co(e);let[t,n]=e,i=this.locationFromPosition(t).index,a=this.locationFromPosition(n).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(i,a))}getDocumentAtRange(e){e=Co(e);let t=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(t)}getStringAtRange(e){let t,n=e=Co(e);return n[n.length-1]!==this.getLength()&&(t=-1),this.getDocumentAtRange(e).toString().slice(0,t)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){let{index:t}=this.locationFromPosition(e);return this.getBlockAtIndex(t)}getTextAtIndex(e){var t;return(t=this.getBlockAtIndex(e))===null||t===void 0?void 0:t.text}getTextAtPosition(e){let{index:t}=this.locationFromPosition(e);return this.getTextAtIndex(t)}getPieceAtPosition(e){let{index:t,offset:n}=this.locationFromPosition(e);return this.getTextAtIndex(t).getPieceAtPosition(n)}getCharacterAtPosition(e){let{index:t,offset:n}=this.locationFromPosition(e);return this.getTextAtIndex(t).getStringAtRange([n,n+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,t){let n,i;e=Co(e);let[a,l]=e,h=this.locationFromPosition(a),b=this.locationFromPosition(l);if(h.index===b.index)return n=this.getBlockAtIndex(h.index),i=[h.offset,b.offset],t(n,i,h.index);for(let S=h.index;S<=b.index;S++)if(n=this.getBlockAtIndex(S),n){switch(S){case h.index:i=[h.offset,n.text.getLength()];break;case b.index:i=[0,b.offset];break;default:i=[0,n.text.getLength()]}t(n,i,S)}}getCommonAttributesAtRange(e){e=Co(e);let[t]=e;if(Gp(e))return this.getCommonAttributesAtPosition(t);{let n=[],i=[];return this.eachBlockAtRange(e,function(a,l){if(l[0]!==l[1])return n.push(a.text.getCommonAttributesAtRange(l)),i.push(Uye(a))}),Mc.fromCommonAttributesOfObjects(n).merge(Mc.fromCommonAttributesOfObjects(i)).toObject()}}getCommonAttributesAtPosition(e){let t,n,{index:i,offset:a}=this.locationFromPosition(e),l=this.getBlockAtIndex(i);if(!l)return{};let h=Uye(l),b=l.text.getAttributesAtPosition(a),S=l.text.getAttributesAtPosition(a-1),E=Object.keys(Xv).filter(O=>Xv[O].inheritable);for(t in S)n=S[t],(n===b[t]||E.includes(t))&&(h[t]=n);return h}getRangeOfCommonAttributeAtPosition(e,t){let{index:n,offset:i}=this.locationFromPosition(t),a=this.getTextAtIndex(n),[l,h]=Array.from(a.getExpandedRangeForAttributeAtOffset(e,i)),b=this.positionFromLocation({index:n,offset:l}),S=this.positionFromLocation({index:n,offset:h});return Co([b,S])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let t=1;t<this.getBlockCount();t++){let n=this.getBlockAtIndex(t).getAttributes(),i=Math.min(e.length,n.length);e=(()=>{let a=[];for(let l=0;l<i&&n[l]===e[l];l++)a.push(n[l]);return a})()}return e}getAttachmentById(e){for(let t of this.getAttachments())if(t.id===e)return t}getAttachmentPieces(){let e=[];return this.blockList.eachObject(t=>{let{text:n}=t;return e=e.concat(n.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let t=0,n=this.blockList.toArray();for(let i=0;i<n.length;i++){let{text:a}=n[i],l=a.getRangeOfAttachment(e);if(l)return Co([t+l[0],t+l[1]]);t+=a.getLength()}}getLocationRangeOfAttachment(e){let t=this.getRangeOfAttachment(e);return this.locationRangeFromRange(t)}getAttachmentPieceForAttachment(e){for(let t of this.getAttachmentPieces())if(t.attachment===e)return t}findRangesForBlockAttribute(e){let t=0,n=[];return this.getBlocks().forEach(i=>{let a=i.getLength();i.hasAttribute(e)&&n.push([t,t+a]),t+=a}),n}findRangesForTextAttribute(e){let{withValue:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=0,i=[],a=[];return this.getPieces().forEach(l=>{let h=l.getLength();(function(b){return t?b.getAttribute(e)===t:b.hasAttribute(e)})(l)&&(i[1]===n?i[1]=n+h:a.push(i=[n,n+h])),n+=h}),a}locationFromPosition(e){let t=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(t.index!=null)return t;{let n=this.getBlocks();return{index:n.length-1,offset:n[n.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return Co(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=Co(e)))return;let[t,n]=Array.from(e),i=this.locationFromPosition(t),a=this.locationFromPosition(n);return Co([i,a])}rangeFromLocationRange(e){let t;e=Co(e);let n=this.positionFromLocation(e[0]);return Gp(e)||(t=this.positionFromLocation(e[1])),Co([n,t])}isEqualTo(e){return this.blockList.isEqualTo(e?.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){let e=[];return Array.from(this.getTexts()).forEach(t=>{e.push(...Array.from(t.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){let e=[];return this.blockList.eachObject(t=>e.push(t.copyWithText(t.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray()).map(e=>JSON.parse(e.text.toConsole()))}},Uye=function(r){let e={},t=r.getLastAttribute();return t&&(e[t]=!0),e},olt="style href src width height class".split(" "),alt="javascript:".split(" "),slt="script iframe form".split(" "),kB=class extends xs{static sanitize(e,t){let n=new this(e,t);return n.sanitize(),n}constructor(e){let{allowedAttributes:t,forbiddenProtocols:n,forbiddenElements:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=t||olt,this.forbiddenProtocols=n||alt,this.forbiddenElements=i||slt,this.body=llt(e)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){let e=gD(this.body),t=[];for(;e.nextNode();){let n=e.currentNode;switch(n.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(n)?t.push(n):this.sanitizeElement(n);break;case Node.COMMENT_NODE:t.push(n)}}return t.forEach(n=>yg(n)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(t=>{let{name:n}=t;this.allowedAttributes.includes(n)||n.indexOf("data-trix")===0||e.removeAttribute(n)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{let t=e.previousElementSibling;t&&Oc(t)==="li"&&t.appendChild(e)}),this.body}elementIsRemovable(e){if(e?.nodeType===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(Oc(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!Zv(e)}},llt=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";r=r.replace(/<\/html[^>]*>[^]*$/i,"</html>");let e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=r,Array.from(e.head.querySelectorAll("style")).forEach(t=>{e.body.appendChild(t)}),e.body},QN=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t="string";return{string:r=aS(r),attributes:e,type:t}},Hye=(r,e)=>{try{return JSON.parse(r.getAttribute("data-trix-".concat(e)))}catch{return{}}},rx=class extends xs{static parse(e,t){let n=new this(e,t);return n.parse(),n}constructor(e){let{referenceElement:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=t,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return hf.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer();let e=kB.sanitize(this.html).getHTML();this.containerElement.innerHTML=e;let t=gD(this.containerElement,{usingFilter:clt});for(;t.nextNode();)this.processNode(t.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=wi({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return yg(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){let t=e.parentNode;if(t===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(t===this.containerElement||this.isBlockElement(t)){var n;let i=this.getBlockAttributes(t);Jv(i,(n=this.currentBlock)===null||n===void 0?void 0:n.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(i,t),this.currentBlockElement=t)}}appendBlockForElement(e){let t=this.isBlockElement(e),n=Yv(this.currentBlockElement,e);if(t&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){let i=this.getBlockAttributes(e);if(e.firstChild){if(n&&Jv(i,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(i,e),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!n&&!t){let i=this.findParentBlockElement(e);if(i)return this.appendBlockForElement(i);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:t}=e;for(;t&&t!==this.containerElement;){if(this.isBlockElement(t)&&this.blockElements.includes(t))return t;t=t.parentElement}return null}processTextNode(e){let t=e.data;var n;return Wye(e.parentNode)||(t=_B(t),vbe((n=e.previousSibling)===null||n===void 0?void 0:n.textContent)&&(t=flt(t))),this.appendStringWithAttributes(t,this.getTextAttributes(e.parentNode))}processElement(e){let t;if(Zv(e)){if(t=Hye(e,"attachment"),Object.keys(t).length){let n=this.getTextAttributes(e);this.appendAttachmentWithAttributes(t,n),e.innerHTML=""}return this.processedElements.push(e)}switch(Oc(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":t={url:e.getAttribute("src"),contentType:"image"};let n=(i=>{let a=i.getAttribute("width"),l=i.getAttribute("height"),h={};return a&&(h.width=parseInt(a,10)),l&&(h.height=parseInt(l,10)),h})(e);for(let i in n){let a=n[i];t[i]=a}return this.appendAttachmentWithAttributes(t,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(pD.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(pD.tableCellSeparator)}}appendBlockForAttributesWithElement(e,t){this.blockElements.push(t);let n=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}}}(e);return this.blocks.push(n),n}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,t){return this.appendPiece(QN(e,t))}appendAttachmentWithAttributes(e,t){return this.appendPiece(function(n){return{attachment:n,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,t))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,t){let{text:n}=this.blocks[t],i=n[n.length-1];if(i?.type!=="string")return n.push(QN(e));i.string+=e}prependStringToTextAtIndex(e,t){let{text:n}=this.blocks[t],i=n[0];if(i?.type!=="string")return n.unshift(QN(e));i.string=e+i.string}getTextAttributes(e){let t,n={};for(let i in Xv){let a=Xv[i];if(a.tagName&&vg(e,{matchingSelector:a.tagName,untilNode:this.containerElement}))n[i]=!0;else if(a.parser){if(t=a.parser(e),t){let l=!1;for(let h of this.findBlockElementAncestors(e))if(a.parser(h)===t){l=!0;break}l||(n[i]=t)}}else a.styleProperty&&(t=e.style[a.styleProperty],t&&(n[i]=t))}if(Zv(e)){let i=Hye(e,"attributes");for(let a in i)t=i[a],n[a]=t}return n}getBlockAttributes(e){let t=[];for(;e&&e!==this.containerElement;){for(let i in Ic){let a=Ic[i];var n;a.parse!==!1&&Oc(e)===a.tagName&&((n=a.test)!==null&&n!==void 0&&n.call(a,e)||!a.test)&&(t.push(i),a.listAttribute&&t.push(a.listAttribute))}e=e.parentNode}return t.reverse()}findBlockElementAncestors(e){let t=[];for(;e&&e!==this.containerElement;){let n=Oc(e);lS().includes(n)&&t.push(e),e=e.parentNode}return t}isBlockElement(e){if(e?.nodeType===Node.ELEMENT_NODE&&!Zv(e)&&!vg(e,{matchingSelector:"td",untilNode:this.containerElement}))return lS().includes(Oc(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if(e?.nodeType!==Node.TEXT_NODE||!hlt(e.data))return;let{parentNode:t,previousSibling:n,nextSibling:i}=e;return ult(t.previousSibling)&&!this.isBlockElement(t.previousSibling)||Wye(t)?void 0:!n||this.isBlockElement(n)||!i||this.isBlockElement(i)}isExtraBR(e){return Oc(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(pD.removeBlankTableCells){var t;let n=(t=e.previousSibling)===null||t===void 0?void 0:t.textContent;return n&&/\S/.test(n)}return e.previousSibling}translateBlockElementMarginsToNewlines(){let e=this.getMarginOfDefaultBlockElement();for(let t=0;t<this.blocks.length;t++){let n=this.getMarginOfBlockElementAtIndex(t);n&&(n.top>2*e.top&&this.prependStringToTextAtIndex(`
`,t),n.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,t))}}getMarginOfBlockElementAtIndex(e){let t=this.blockElements[e];if(t&&t.textContent&&!lS().includes(Oc(t))&&!this.processedElements.includes(t))return Vye(t)}getMarginOfDefaultBlockElement(){let e=wi(Ic.default.tagName);return this.containerElement.appendChild(e),Vye(e)}},Wye=function(r){let{whiteSpace:e}=window.getComputedStyle(r);return["pre","pre-wrap","pre-line"].includes(e)},ult=r=>r&&!vbe(r.textContent),Vye=function(r){let e=window.getComputedStyle(r);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},clt=function(r){return Oc(r)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},flt=r=>r.replace(new RegExp("^".concat(xB.source,"+")),""),hlt=r=>new RegExp("^".concat(xB.source,"*$")).test(r),vbe=r=>/\s$/.test(r),dlt=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],plt="[".concat("data-trix-serialized-attributes","]"),mlt=new RegExp("<!--block-->","g"),glt={"application/json":function(r){let e;if(r instanceof hf)e=r;else{if(!(r instanceof HTMLElement))throw new Error("unserializable object");e=rx.parse(r.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(r){let e;if(r instanceof hf)e=xD.render(r);else{if(!(r instanceof HTMLElement))throw new Error("unserializable object");e=r.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(t=>{yg(t)}),dlt.forEach(t=>{Array.from(e.querySelectorAll("[".concat(t,"]"))).forEach(n=>{n.removeAttribute(t)})}),Array.from(e.querySelectorAll(plt)).forEach(t=>{try{let n=JSON.parse(t.getAttribute("data-trix-serialized-attributes"));t.removeAttribute("data-trix-serialized-attributes");for(let i in n){let a=n[i];t.setAttribute(i,a)}}catch{}}),e.innerHTML.replace(mlt,"")}},vlt=Object.freeze({__proto__:null}),rs=class extends xs{constructor(e,t){super(...arguments),this.attachmentManager=e,this.attachment=t,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}};rs.proxyMethod("attachment.getAttribute"),rs.proxyMethod("attachment.hasAttribute"),rs.proxyMethod("attachment.setAttribute"),rs.proxyMethod("attachment.getAttributes"),rs.proxyMethod("attachment.setAttributes"),rs.proxyMethod("attachment.isPending"),rs.proxyMethod("attachment.isPreviewable"),rs.proxyMethod("attachment.getURL"),rs.proxyMethod("attachment.getHref"),rs.proxyMethod("attachment.getFilename"),rs.proxyMethod("attachment.getFilesize"),rs.proxyMethod("attachment.getFormattedFilesize"),rs.proxyMethod("attachment.getExtension"),rs.proxyMethod("attachment.getContentType"),rs.proxyMethod("attachment.getFile"),rs.proxyMethod("attachment.setFile"),rs.proxyMethod("attachment.releaseFile"),rs.proxyMethod("attachment.getUploadProgress"),rs.proxyMethod("attachment.setUploadProgress");CB=class extends xs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(t=>{this.manageAttachment(t)})}getAttachments(){let e=[];for(let t in this.managedAttachments){let n=this.managedAttachments[t];e.push(n)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new rs(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var t,n;if(this.attachmentIsManaged(e))return(t=this.delegate)===null||t===void 0||(n=t.attachmentManagerDidRequestRemovalOfAttachment)===null||n===void 0?void 0:n.call(t,e)}unmanageAttachment(e){let t=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],t}},EB=class{constructor(e){this.composition=e,this.document=this.composition.document;let t=this.composition.getSelectedRange();this.startPosition=t[0],this.endPosition=t[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}},$p=class extends xs{constructor(){super(...arguments),this.document=new hf,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var t,n;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(t=this.delegate)===null||t===void 0||(n=t.compositionDidChangeDocument)===null||n===void 0?void 0:n.call(t,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var t,n,i,a;let{document:l,selectedRange:h}=e;return(t=this.delegate)===null||t===void 0||(n=t.compositionWillLoadSnapshot)===null||n===void 0||n.call(t),this.setDocument(l??new hf),this.setSelection(h??[0,0]),(i=this.delegate)===null||i===void 0||(a=i.compositionDidLoadSnapshot)===null||a===void 0?void 0:a.call(i)}insertText(e){let{updatePosition:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0},n=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,n));let i=n[0],a=i+e.getLength();return t&&this.setSelection(a),this.notifyDelegateOfInsertionAtRange([i,a])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Nd,t=new hf([e]);return this.insertDocument(t)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new hf,t=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,t));let n=t[0],i=n+e.getLength();return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([n,i])}insertString(e,t){let n=this.getCurrentTextAttributes(),i=Wf.textForStringWithAttributes(e,n);return this.insertText(i,t)}insertBlockBreak(){let e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));let t=e[0],n=t+1;return this.setSelection(n),this.notifyDelegateOfInsertionAtRange([t,n])}insertLineBreak(){let e=new EB(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){let t=new hf([e.block.copyWithoutText()]);return this.insertDocument(t)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){let t=rx.parse(e).getDocument(),n=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(t,n));let i=n[0],a=i+t.getLength()-1;return this.setSelection(a),this.notifyDelegateOfInsertionAtRange([i,a])}replaceHTML(e){let t=rx.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(n);return this.setDocument(t),this.setSelection(i)}insertFile(e){return this.insertFiles([e])}insertFiles(e){let t=[];return Array.from(e).forEach(n=>{var i;if((i=this.delegate)!==null&&i!==void 0&&i.compositionShouldAcceptFile(n)){let a=ry.attachmentForFile(n);t.push(a)}}),this.insertAttachments(t)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let t=new Wf;return Array.from(e).forEach(n=>{var i;let a=n.getType(),l=(i=dB[a])===null||i===void 0?void 0:i.presentation,h=this.getCurrentTextAttributes();l&&(h.presentation=l);let b=Wf.textForAttachmentWithAttributes(n,h);t=t.appendText(b)}),this.insertText(t)}shouldManageDeletingInDirection(e){let t=this.getLocationRange();if(Gp(t)){if(e==="backward"&&t[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(t[0].index!==t[1].index)return!0;return!1}deleteInDirection(e){let t,n,i,{length:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getLocationRange(),h=this.getSelectedRange(),b=Gp(h);if(b?n=e==="backward"&&l[0].offset===0:i=l[0].index!==l[1].index,n&&this.canDecreaseBlockAttributeLevel()){let S=this.getBlock();if(S.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(h[0]),S.isEmpty())return!1}return b&&(h=this.getExpandedRangeInDirection(e,{length:a}),e==="backward"&&(t=this.getAttachmentAtRange(h))),t?(this.editAttachment(t),!1):(this.setDocument(this.document.removeTextAtRange(h)),this.setSelection(h[0]),!n&&!i&&void 0)}moveTextFromRange(e){let[t]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,t)),this.setSelection(t)}removeAttachment(e){let t=this.document.getRangeOfAttachment(e);if(t)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(t)),this.setSelection(t[0])}removeLastBlockAttribute(){let[e,t]=Array.from(this.getSelectedRange()),n=this.document.getBlockAtPosition(t);return this.removeCurrentAttribute(n.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){let t=this.currentAttributes[e];return t!=null&&t!==!1}toggleCurrentAttribute(e){let t=!this.currentAttributes[e];return t?this.setCurrentAttribute(e,t):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return qs(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){let t=this.getSelectedDocument();if(t){for(let n of Array.from(t.getAttachments()))if(!n.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){let t=this.getBlock();if(t)return!t.isTerminalBlock()}setCurrentAttribute(e,t){return qs(e)?this.setBlockAttribute(e,t):(this.setTextAttribute(e,t),this.currentAttributes[e]=t,this.notifyDelegateOfCurrentAttributesChange())}setTextAttribute(e,t){let n=this.getSelectedRange();if(!n)return;let[i,a]=Array.from(n);if(i!==a)return this.setDocument(this.document.addAttributeAtRange(e,t,n));if(e==="href"){let l=Wf.textForStringWithAttributes(t,{href:t});return this.insertText(l)}}setBlockAttribute(e,t){let n=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,t,n)),this.setSelection(n)}removeCurrentAttribute(e){return qs(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){let t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}removeBlockAttribute(e){let t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;let t=this.getBlock();if(t){if((e=qs(t.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return t.getNestingLevel()>0;{let n=this.getPreviousBlock();if(n)return function(){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Jv((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,i.length),i)}(n.getListItemAttributes(),t.getListItemAttributes())}}}decreaseNestingLevel(){let e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){let e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;let t=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(t)return this.removeCurrentAttribute(t)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange()),{index:t}=this.document.locationFromPosition(e),n=t,i=this.getBlock().getAttributeLevel(),a=this.document.getBlockAtIndex(n+1);for(;a&&a.isListItem()&&!(a.getAttributeLevel()<=i);)n++,a=this.document.getBlockAtIndex(n+1);e=this.document.positionFromLocation({index:t,offset:0});let l=this.document.positionFromLocation({index:n,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,l]))}updateCurrentAttributes(){let e=this.getSelectedRange({ignoreLock:!0});if(e){let t=this.document.getCommonAttributesAtRange(e);if(Array.from(uB()).forEach(n=>{t[n]||this.canSetCurrentAttribute(n)||(t[n]=!1)}),!pS(t,this.currentAttributes))return this.currentAttributes=t,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return Qye.call({},this.currentAttributes)}getCurrentTextAttributes(){let e={};for(let t in this.currentAttributes){let n=this.currentAttributes[t];n!==!1&&cB(t)&&(e[t]=n)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var t;let n=this.document.locationRangeFromRange(e);return(t=this.delegate)===null||t===void 0?void 0:t.compositionDidRequestChangingSelectionToLocationRange(n)}getSelectedRange(){let e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){let t=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(t)}getPosition(){let e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||Co({index:0,offset:0})}withTargetLocationRange(e,t){let n;this.targetLocationRange=e;try{n=t()}finally{this.targetLocationRange=null}return n}withTargetRange(e,t){let n=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(n,t)}withTargetDOMRange(e,t){let n=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(n,t)}getExpandedRangeInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[n,i]=Array.from(this.getSelectedRange());return e==="backward"?t?n-=t:n=this.translateUTF16PositionFromOffset(n,-1):t?i+=t:i=this.translateUTF16PositionFromOffset(i,1),Co([n,i])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;let t=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(t)!=null}moveCursorInDirection(e){let t,n;if(this.editingAttachment)n=this.document.getRangeOfAttachment(this.editingAttachment);else{let i=this.getSelectedRange();n=this.getExpandedRangeInDirection(e),t=!vD(i,n)}if(e==="backward"?this.setSelectedRange(n[0]):this.setSelectedRange(n[1]),t){let i=this.getAttachmentAtRange(n);if(i)return this.editAttachment(i)}}expandSelectionInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getExpandedRangeInDirection(e,{length:t});return this.setSelectedRange(n)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){let t=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(e,t);return this.setSelectedRange(n)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){let t=this.document.locationFromPosition(e);if(t)return this.locationIsCursorTarget(t)}positionIsBlockBreak(e){var t;return(t=this.document.getPieceAtPosition(e))===null||t===void 0?void 0:t.isBlockBreak()}getSelectedDocument(){let e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){let e=this.document.getAttachments(),{added:t,removed:n}=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=[],h=[],b=new Set;i.forEach(E=>{b.add(E)});let S=new Set;return a.forEach(E=>{S.add(E),b.has(E)||l.push(E)}),i.forEach(E=>{S.has(E)||h.push(E)}),{added:l,removed:h}}(this.attachments,e);return this.attachments=e,Array.from(n).forEach(i=>{var a,l;i.delegate=null,(a=this.delegate)===null||a===void 0||(l=a.compositionDidRemoveAttachment)===null||l===void 0||l.call(a,i)}),(()=>{let i=[];return Array.from(t).forEach(a=>{var l,h;a.delegate=this,i.push((l=this.delegate)===null||l===void 0||(h=l.compositionDidAddAttachment)===null||h===void 0?void 0:h.call(l,a))}),i})()}attachmentDidChangeAttributes(e){var t,n;return this.revision++,(t=this.delegate)===null||t===void 0||(n=t.compositionDidEditAttachment)===null||n===void 0?void 0:n.call(t,e)}attachmentDidChangePreviewURL(e){var t,n;return this.revision++,(t=this.delegate)===null||t===void 0||(n=t.compositionDidChangeAttachmentPreviewURL)===null||n===void 0?void 0:n.call(t,e)}editAttachment(e,t){var n,i;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(n=this.delegate)===null||n===void 0||(i=n.compositionDidStartEditingAttachment)===null||i===void 0?void 0:i.call(n,this.editingAttachment,t)}stopEditingAttachment(){var e,t;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(t=e.compositionDidStopEditingAttachment)===null||t===void 0||t.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,t){return this.setDocument(this.document.updateAttributesForAttachment(e,t))}removeAttributeForAttachment(e,t){return this.setDocument(this.document.removeAttributeForAttachment(e,t))}breakFormattedBlock(e){let{document:t}=e,{block:n}=e,i=e.startPosition,a=[i-1,i];n.getBlockBreakPosition()===e.startLocation.offset?(n.breaksOnReturn()&&e.nextCharacter===`
`?i+=1:t=t.removeTextAtRange(a),a=[i,i]):e.nextCharacter===`
`?e.previousCharacter===`
`?a=[i-1,i+1]:(a=[i,i+1],i+=1):e.startLocation.offset-1!=0&&(i+=1);let l=new hf([n.removeLastAttribute().copyWithoutText()]);return this.setDocument(t.insertDocumentAtRange(l,a)),this.setSelection(i)}getPreviousBlock(){let e=this.getLocationRange();if(e){let{index:t}=e[0];if(t>0)return this.document.getBlockAtIndex(t-1)}}getBlock(){let e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){let t=this.document.getDocumentAtRange(e);if(t.toString()==="".concat("\uFFFC",`
`))return t.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.compositionDidChangeCurrentAttributes)===null||t===void 0?void 0:t.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.compositionDidPerformInsertionAtRange)===null||n===void 0?void 0:n.call(t,e)}translateUTF16PositionFromOffset(e,t){let n=this.document.toUTF16String(),i=n.offsetFromUCS2Offset(e);return n.offsetToUCS2Offset(i+t)}};$p.proxyMethod("getSelectionManager().getPointRange"),$p.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),$p.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),$p.proxyMethod("getSelectionManager().locationIsCursorTarget"),$p.proxyMethod("getSelectionManager().selectionIsExpanded"),$p.proxyMethod("delegate?.getSelectionManager");yD=class extends xs{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:t,consolidatable:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.undoEntries.slice(-1)[0];if(!n||!ylt(i,e,t)){let a=this.createEntry({description:e,context:t});this.undoEntries.push(a),this.redoEntries=[]}}undo(){let e=this.undoEntries.pop();if(e){let t=this.createEntry(e);return this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}redo(){let e=this.redoEntries.pop();if(e){let t=this.createEntry(e);return this.undoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e?.toString(),context:JSON.stringify(t),snapshot:this.composition.getSnapshot()}}},ylt=(r,e,t)=>r?.description===e?.toString()&&r?.context===JSON.stringify(t),TB=class{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange("attachmentGallery",e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(t=>{t[1]-t[0]>1&&(t[0]+=e,t[1]+=e,this.document.getCharacterAtPosition(t[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[1]),t[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),t[1]++,e++),t[0]!==0&&this.document.getCharacterAtPosition(t[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[0]),t[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),t[0]++,e++),this.document=this.document.applyBlockAttributeAtRange("attachmentGallery",!0,t))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute("attachmentGallery")}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}},ybe=function(r){let e=new TB(r);return e.perform(),e.getSnapshot()},blt=[ybe],AB=class{constructor(e,t,n){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=t,this.element=n,this.undoManager=new yD(this.composition),this.filters=blt.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=rx.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(t)}loadJSON(e){let{document:t,selectedRange:n}=e;return t=hf.fromJSON(t),this.loadSnapshot({document:t,selectedRange:n})}loadSnapshot(e){return this.undoManager=new yD(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){let t=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(t)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,t)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:t,consolidatable:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:t,consolidatable:n})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}},DB=class{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,t){let{strict:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},i=0,a=!1,l={index:0,offset:0},h=this.findAttachmentElementParentForNode(e);h&&(e=h.parentNode,t=WN(h));let b=gD(this.element,{usingFilter:bbe});for(;b.nextNode();){let S=b.currentNode;if(S===e&&uS(e)){X0(S)||(l.offset+=t);break}if(S.parentNode===e){if(i++===t)break}else if(!Yv(e,S)&&i>0)break;Tye(S,{strict:n})?(a&&l.index++,l.offset=0,a=!0):l.offset+=eB(S)}return l}findContainerAndOffsetFromLocation(e){let t,n;if(e.index===0&&e.offset===0){for(t=this.element,n=0;t.firstChild;)if(t=t.firstChild,VN(t)){n=1;break}return[t,n]}let[i,a]=this.findNodeAndOffsetFromLocation(e);if(i){if(uS(i))eB(i)===0?(t=i.parentNode.parentNode,n=WN(i.parentNode),X0(i,{name:"right"})&&n++):(t=i,n=e.offset-a);else{if(t=i.parentNode,!Tye(i.previousSibling)&&!VN(t))for(;i===t.lastChild&&(i=t,t=t.parentNode,!VN(t)););n=WN(i),e.offset!==0&&n++}return[t,n]}}findNodeAndOffsetFromLocation(e){let t,n,i=0;for(let a of this.getSignificantNodesForIndex(e.index)){let l=eB(a);if(e.offset<=i+l)if(uS(a)){if(t=a,n=i,e.offset===n&&X0(t))break}else t||(t=a,n=i);if(i+=l,i>e.offset)break}return[t,n]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(Zv(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){let t=[],n=gD(this.element,{usingFilter:xlt}),i=!1;for(;n.nextNode();){let l=n.currentNode;var a;if(Z0(l)){if(a!=null?a++:a=0,a===e)i=!0;else if(i)break}else i&&t.push(l)}return t}},eB=function(r){return r.nodeType===Node.TEXT_NODE?X0(r)?0:r.textContent.length:Oc(r)==="br"||Zv(r)?1:0},xlt=function(r){return _lt(r)===NodeFilter.FILTER_ACCEPT?bbe(r):NodeFilter.FILTER_REJECT},_lt=function(r){return tbe(r)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},bbe=function(r){return Zv(r.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},OB=class{createDOMRangeFromPoint(e){let t,{x:n,y:i}=e;if(document.caretPositionFromPoint){let{offsetNode:a,offset:l}=document.caretPositionFromPoint(n,i);return t=document.createRange(),t.setStart(a,l),t}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(n,i);if(document.body.createTextRange){let a=J0();try{let l=document.body.createTextRange();l.moveToPoint(n,i),l.select()}catch{}return t=J0(),lbe(a),t}}getClientRectsForDOMRange(e){let t=Array.from(e.getClientRects());return[t[0],t[t.length-1]]}},gg=class extends xs{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new DB(this.element),this.pointMapper=new OB,this.lockCount=0,ja("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange(J0()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=Co(e);let t=this.createDOMRangeFromLocationRange(e);t&&(lbe(t),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=Co(e);let t=this.getLocationAtPoint(e[0]),n=this.getLocationAtPoint(e[1]);this.setLocationRange([t,n])}getClientRectAtLocationRange(e){let t=this.createDOMRangeFromLocationRange(e);if(t)return this.getClientRectsForDOMRange(t)[1]}locationIsCursorTarget(e){let t=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return X0(t)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){let{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=sbe())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=J0())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,t){if(e==null||!this.domRangeWithinElement(e))return;let n=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,t);if(!n)return;let i=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,t);return Co([n,i])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;let t=()=>{if(this.paused=!1,clearTimeout(n),Array.from(e).forEach(i=>{i.destroy()}),Yv(document,this.element))return this.selectionDidChange()},n=setTimeout(t,200);e=["mousemove","keydown"].map(i=>ja(i,{onElement:document,withCallback:t}))}selectionDidChange(){if(!this.paused&&!mB(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var t,n;if((e??(e=this.createLocationRangeFromDOMRange(J0())))&&!vD(e,this.currentLocationRange))return this.currentLocationRange=e,(t=this.delegate)===null||t===void 0||(n=t.locationRangeDidChange)===null||n===void 0?void 0:n.call(t,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){let t=this.findContainerAndOffsetFromLocation(e[0]),n=Gp(e)?t:this.findContainerAndOffsetFromLocation(e[1])||t;if(t!=null&&n!=null){let i=document.createRange();return i.setStart(...Array.from(t||[])),i.setEnd(...Array.from(n||[])),i}}getLocationAtPoint(e){let t=this.createDOMRangeFromPoint(e);var n;if(t)return(n=this.createLocationRangeFromDOMRange(t))===null||n===void 0?void 0:n[0]}domRangeWithinElement(e){return e.collapsed?Yv(this.element,e.startContainer):Yv(this.element,e.startContainer)&&Yv(this.element,e.endContainer)}};gg.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),gg.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),gg.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),gg.proxyMethod("pointMapper.createDOMRangeFromPoint"),gg.proxyMethod("pointMapper.getClientRectsForDOMRange");xbe=Object.freeze({__proto__:null,Attachment:ry,AttachmentManager:CB,AttachmentPiece:ey,Block:Nd,Composition:$p,Document:hf,Editor:AB,HTMLParser:rx,HTMLSanitizer:kB,LineBreakInsertion:EB,LocationMapper:DB,ManagedAttachment:rs,Piece:xg,PointMapper:OB,SelectionManager:gg,SplittableList:fS,StringPiece:_D,Text:Wf,UndoManager:yD}),wlt=Object.freeze({__proto__:null}),{lang:tB,css:Kv,keyNames:Slt}=dS,rB=function(r){return function(){let e=r.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}},IB=class extends xs{constructor(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),df(this,"makeElementMutable",rB(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),df(this,"addToolbar",rB(()=>{let a=wi({tagName:"div",className:Kv.attachmentToolbar,data:{trixMutable:!0},childNodes:wi({tagName:"div",className:"trix-button-row",childNodes:wi({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:wi({tagName:"button",className:"trix-button trix-button--remove",textContent:tB.remove,attributes:{title:tB.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&a.appendChild(wi({tagName:"div",className:Kv.attachmentMetadataContainer,childNodes:wi({tagName:"span",className:Kv.attachmentMetadata,childNodes:[wi({tagName:"span",className:Kv.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),wi({tagName:"span",className:Kv.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),ja("click",{onElement:a,withCallback:this.didClickToolbar}),ja("click",{onElement:a,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),sS("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:a,attachment:this.attachment}}),{do:()=>this.element.appendChild(a),undo:()=>yg(a)}})),df(this,"installCaptionEditor",rB(()=>{let a=wi({tagName:"textarea",className:Kv.attachmentCaptionEditor,attributes:{placeholder:tB.captionPlaceholder},data:{trixMutable:!0}});a.value=this.attachmentPiece.getCaption();let l=a.cloneNode();l.classList.add("trix-autoresize-clone"),l.tabIndex=-1;let h=function(){l.value=a.value,a.style.height=l.scrollHeight+"px"};ja("input",{onElement:a,withCallback:h}),ja("input",{onElement:a,withCallback:this.didInputCaption}),ja("keydown",{onElement:a,withCallback:this.didKeyDownCaption}),ja("change",{onElement:a,withCallback:this.didChangeCaption}),ja("blur",{onElement:a,withCallback:this.didBlurCaption});let b=this.element.querySelector("figcaption"),S=b.cloneNode();return{do:()=>{if(b.style.display="none",S.appendChild(a),S.appendChild(l),S.classList.add("".concat(Kv.attachmentCaption,"--editing")),b.parentElement.insertBefore(S,b),h(),this.options.editCaption)return yB(()=>a.focus())},undo(){yg(S),b.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=t,this.container=n,this.options=i,this.attachment=this.attachmentPiece.attachment,Oc(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let t=this.undos.pop();for(this.savePendingCaption();t;)t(),t=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){let a=this.pendingCaption;var e,t,n,i;this.pendingCaption=null,a?(e=this.delegate)===null||e===void 0||(t=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||t===void 0||t.call(e,{caption:a},this.attachment):(n=this.delegate)===null||n===void 0||(i=n.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||i===void 0||i.call(n,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var t;if(e.target.getAttribute("data-trix-action")==="remove")return(t=this.delegate)===null||t===void 0?void 0:t.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var t,n;if(Slt[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(t=this.delegate)===null||t===void 0||(n=t.attachmentEditorDidRequestDeselectingAttachment)===null||n===void 0?void 0:n.call(t,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}},MB=class extends xs{constructor(e,t){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=t,this.documentView=new xD(this.composition.document,{element:this.element}),ja("focus",{onElement:this.element,withCallback:this.didFocus}),ja("blur",{onElement:this.element,withCallback:this.didBlur}),ja("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),ja("mousedown",{onElement:this.element,matchingSelector:"[data-trix-attachment]",withCallback:this.didClickAttachment}),ja("click",{onElement:this.element,matchingSelector:"a".concat("[data-trix-attachment]"),preventDefault:!0})}didFocus(e){var t;let n=()=>{var i,a;if(!this.focused)return this.focused=!0,(i=this.delegate)===null||i===void 0||(a=i.compositionControllerDidFocus)===null||a===void 0?void 0:a.call(i)};return((t=this.blurPromise)===null||t===void 0?void 0:t.then(n))||n()}didBlur(e){this.blurPromise=new Promise(t=>yB(()=>{var n,i;return mB(this.element)||(this.focused=null,(n=this.delegate)===null||n===void 0||(i=n.compositionControllerDidBlur)===null||i===void 0||i.call(n)),this.blurPromise=null,t()}))}didClickAttachment(e,t){var n,i;let a=this.findAttachmentForElement(t),l=!!vg(e.target,{matchingSelector:"figcaption"});return(n=this.delegate)===null||n===void 0||(i=n.compositionControllerDidSelectAttachment)===null||i===void 0?void 0:i.call(n,a,{editCaption:l})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,t,n,i,a,l;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((n=this.delegate)===null||n===void 0||(i=n.compositionControllerWillSyncDocumentView)===null||i===void 0||i.call(n),this.documentView.sync(),(a=this.delegate)===null||a===void 0||(l=a.compositionControllerDidSyncDocumentView)===null||l===void 0||l.call(a)),(e=this.delegate)===null||e===void 0||(t=e.compositionControllerDidRender)===null||t===void 0?void 0:t.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,t){var n;if(((n=this.attachmentEditor)===null||n===void 0?void 0:n.attachment)===e)return;let i=this.documentView.findElementForObject(e);if(!i)return;this.uninstallAttachmentEditor();let a=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new IB(a,i,this.element,t),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,t){var n,i;return(n=this.delegate)===null||n===void 0||(i=n.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(n,t),this.composition.updateAttributesForAttachment(e,t)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,t){var n,i;return(n=this.delegate)===null||n===void 0||(i=n.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(n,t),this.composition.removeAttributeForAttachment(e,t)}attachmentEditorDidRequestRemovalOfAttachment(e){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.compositionControllerDidRequestRemovalOfAttachment)===null||n===void 0?void 0:n.call(t,e)}attachmentEditorDidRequestDeselectingAttachment(e){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.compositionControllerDidRequestDeselectingAttachment)===null||n===void 0?void 0:n.call(t,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}},PB=class extends xs{},klt="[".concat("data-trix-mutable","]"),Clt={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},LB=class extends xs{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,Clt)}stop(){return this.observer.disconnect()}didMutate(e){var t,n;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(t=this.delegate)===null||t===void 0||(n=t.elementDidMutate)===null||n===void 0||n.call(t,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(t=>this.mutationIsSignificant(t))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(let t of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(t))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!tbe(e)}nodeIsMutable(e){return vg(e,{matchingSelector:klt})}nodesModifiedByMutation(e){let t=[];switch(e.type){case"attributes":e.attributeName!=="data-trix-mutable"&&t.push(e.target);break;case"characterData":t.push(e.target.parentNode),t.push(e.target);break;case"childList":t.push(...Array.from(e.addedNodes||[])),t.push(...Array.from(e.removedNodes||[]))}return t}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){let{additions:e,deletions:t}=this.getTextChangesFromCharacterData(),n=this.getTextChangesFromChildList();Array.from(n.additions).forEach(h=>{Array.from(e).includes(h)||e.push(h)}),t.push(...Array.from(n.deletions||[]));let i={},a=e.join("");a&&(i.textAdded=a);let l=t.join("");return l&&(i.textDeleted=l),i}getMutationsByType(e){return Array.from(this.mutations).filter(t=>t.type===e)}getTextChangesFromChildList(){let e,t,n=[],i=[];return Array.from(this.getMutationsByType("childList")).forEach(a=>{n.push(...Array.from(a.addedNodes||[])),i.push(...Array.from(a.removedNodes||[]))}),n.length===0&&i.length===1&&Z0(i[0])?(e=[],t=[`
`]):(e=hB(n),t=hB(i)),{additions:e.filter((a,l)=>a!==t[l]).map(aS),deletions:t.filter((a,l)=>a!==e[l]).map(aS)}}getTextChangesFromCharacterData(){let e,t,n=this.getMutationsByType("characterData");if(n.length){let i=n[0],a=n[n.length-1],l=function(h,b){let S,E;return h=tx.box(h),(b=tx.box(b)).length<h.length?[E,S]=Pye(h,b):[S,E]=Pye(b,h),{added:S,removed:E}}(aS(i.oldValue),aS(a.target.data));e=l.added,t=l.removed}return{additions:e?[e]:[],deletions:t?[t]:[]}}},hB=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];for(let t of Array.from(r))switch(t.nodeType){case Node.TEXT_NODE:e.push(t.data);break;case Node.ELEMENT_NODE:Oc(t)==="br"?e.push(`
`):e.push(...Array.from(hB(t.childNodes)||[]))}return e},RB=class extends cS{constructor(e){super(...arguments),this.file=e}perform(e){let t=new FileReader;return t.onerror=()=>e(!1),t.onload=()=>{t.onerror=null;try{t.abort()}catch{}return e(!0,this.file)},t.readAsArrayBuffer(this.file)}},_be=class{constructor(e){this.element=e}shouldIgnore(e){return!!hS.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&Elt(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,t;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((t=this.previousEvent)===null||t===void 0?void 0:t.key)==="Unidentified"}},Elt=(r,e)=>$ye(r)===$ye(e),Tlt=new RegExp("(".concat("\uFFFC","|").concat("\uFEFF","|").concat("\xA0","|\\s)+"),"g"),$ye=r=>r.replace(Tlt," ").trim(),mS=class extends xs{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new LB(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new _be(this.element);for(let t in this.constructor.events)ja(t,{onElement:this.element,withCallback:this.handlerFor(t)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestRender)===null||t===void 0?void 0:t.call(e)}requestReparse(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestReparse)===null||t===void 0||t.call(e),this.requestRender()}attachFiles(e){let t=Array.from(e).map(n=>new RB(n));return Promise.all(t).then(n=>{this.handleInput(function(){var i,a;return(i=this.delegate)===null||i===void 0||i.inputControllerWillAttachFiles(),(a=this.responder)===null||a===void 0||a.insertFiles(n),this.requestRender()})})}handlerFor(e){return t=>{t.defaultPrevented||this.handleInput(()=>{if(!mB(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(t))return;this.eventName=e,this.constructor.events[e].call(this,t)}})}}handleInput(e){try{var t;(t=this.delegate)===null||t===void 0||t.inputControllerWillHandleInput(),e.call(this)}finally{var n;(n=this.delegate)===null||n===void 0||n.inputControllerDidHandleInput()}}createLinkHTML(e,t){let n=document.createElement("a");return n.href=e,n.textContent=t||e,n.outerHTML}};df(mS,"events",{});({browser:Alt,keyNames:wbe}=dS),Dlt=0,zd=class extends mS{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(let t in e){let n=e[t];this.inputSummary[t]=n}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Qv.reset()}elementDidMutate(e){var t,n;return this.isComposing()?(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidAllowUnhandledInput)===null||n===void 0?void 0:n.call(t):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:t,textDeleted:n}=e;if(this.inputSummary.preferDocument)return!0;let i=t!=null?t===this.inputSummary.textAdded:!this.inputSummary.textAdded,a=n!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,l=[`
`,` 
`].includes(t)&&!i,h=n===`
`&&!a;if(l&&!h||h&&!l){let S=this.getSelectedRange();if(S){var b;let E=l?t.replace(/\n$/,"").length||-1:t?.length||1;if((b=this.responder)!==null&&b!==void 0&&b.positionIsBlockBreak(S[1]+E))return!0}}return i&&a}mutationIsSignificant(e){var t;let n=Object.keys(e).length>0,i=((t=this.compositionInput)===null||t===void 0?void 0:t.getEndData())==="";return n||!i}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new Vp(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,t){var n;return((n=this.responder)===null||n===void 0?void 0:n.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):t?(t.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var t;if(!function(i){if(i==null||!i.setData)return!1;for(let a in Oye){let l=Oye[a];try{if(i.setData(a,l),!i.getData(a)===l)return!1}catch{return!1}}return!0}(e))return;let n=(t=this.responder)===null||t===void 0?void 0:t.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(n)),e.setData("text/html",xD.render(n).innerHTML),e.setData("text/plain",n.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){let t={};return Array.from(e?.types||[]).forEach(n=>{t[n]=!0}),t.Files||t["application/x-trix-document"]||t["text/html"]||t["text/plain"]}getPastedHTMLUsingHiddenElement(e){let t=this.getSelectedRange(),n={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},i=wi({style:n,tagName:"div",editable:!0});return document.body.appendChild(i),i.focus(),requestAnimationFrame(()=>{let a=i.innerHTML;return yg(i),this.setSelectedRange(t),e(a)})}};df(zd,"events",{keydown(r){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;let e=wbe[r.keyCode];if(e){var t;let i=this.keys;["ctrl","alt","shift","meta"].forEach(a=>{var l;r["".concat(a,"Key")]&&(a==="ctrl"&&(a="control"),i=(l=i)===null||l===void 0?void 0:l[a])}),((t=i)===null||t===void 0?void 0:t[e])!=null&&(this.setInputSummary({keyName:e}),Qv.reset(),i[e].call(this,r))}if(obe(r)){let i=String.fromCharCode(r.keyCode).toLowerCase();if(i){var n;let a=["alt","shift"].map(l=>{if(r["".concat(l,"Key")])return l}).filter(l=>l);a.push(i),(n=this.delegate)!==null&&n!==void 0&&n.inputControllerDidReceiveKeyboardCommand(a)&&r.preventDefault()}}},keypress(r){if(this.inputSummary.eventName!=null||r.metaKey||r.ctrlKey&&!r.altKey)return;let e=Mlt(r);var t,n;return e?((t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(r){let{data:e}=r,{textAdded:t}=this.inputSummary;if(t&&t!==e&&t.toUpperCase()===e){var n;let i=this.getSelectedRange();return this.setSelectedRange([i[0],i[1]+t.length]),(n=this.responder)===null||n===void 0||n.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(i)}},dragenter(r){r.preventDefault()},dragstart(r){var e,t;return this.serializeSelectionToDataTransfer(r.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidStartDrag)===null||t===void 0?void 0:t.call(e)},dragover(r){if(this.draggedRange||this.canAcceptDataTransfer(r.dataTransfer)){r.preventDefault();let n={x:r.clientX,y:r.clientY};var e,t;if(!pS(n,this.draggingPoint))return this.draggingPoint=n,(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidReceiveDragOverPoint)===null||t===void 0?void 0:t.call(e,this.draggingPoint)}},dragend(r){var e,t;(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidCancelDrag)===null||t===void 0||t.call(e),this.draggedRange=null,this.draggingPoint=null},drop(r){var e,t;r.preventDefault();let n=(e=r.dataTransfer)===null||e===void 0?void 0:e.files,i=r.dataTransfer.getData("application/x-trix-document"),a={x:r.clientX,y:r.clientY};if((t=this.responder)===null||t===void 0||t.setLocationRangeFromPointRange(a),n!=null&&n.length)this.attachFiles(n);else if(this.draggedRange){var l,h;(l=this.delegate)===null||l===void 0||l.inputControllerWillMoveText(),(h=this.responder)===null||h===void 0||h.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(i){var b;let S=hf.fromJSONString(i);(b=this.responder)===null||b===void 0||b.insertDocument(S),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(r){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(r.clipboardData)&&r.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillCutText(),this.deleteInDirection("backward"),r.defaultPrevented))return this.requestRender()},copy(r){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(r.clipboardData)&&r.preventDefault()},paste(r){let e=r.clipboardData||r.testClipboardData,t={clipboard:e};if(!e||Plt(r))return void this.getPastedHTMLUsingHiddenElement(me=>{var ne,de,he;return t.type="text/html",t.html=me,(ne=this.delegate)===null||ne===void 0||ne.inputControllerWillPaste(t),(de=this.responder)===null||de===void 0||de.insertHTML(t.html),this.requestRender(),(he=this.delegate)===null||he===void 0?void 0:he.inputControllerDidPaste(t)});let n=e.getData("URL"),i=e.getData("text/html"),a=e.getData("public.url-name");if(n){var l,h,b;let me;t.type="text/html",me=a?_B(a).trim():n,t.html=this.createLinkHTML(n,me),(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(t),this.setInputSummary({textAdded:me,didDelete:this.selectionIsExpanded()}),(h=this.responder)===null||h===void 0||h.insertHTML(t.html),this.requestRender(),(b=this.delegate)===null||b===void 0||b.inputControllerDidPaste(t)}else if(ibe(e)){var S,E,O;t.type="text/plain",t.string=e.getData("text/plain"),(S=this.delegate)===null||S===void 0||S.inputControllerWillPaste(t),this.setInputSummary({textAdded:t.string,didDelete:this.selectionIsExpanded()}),(E=this.responder)===null||E===void 0||E.insertString(t.string),this.requestRender(),(O=this.delegate)===null||O===void 0||O.inputControllerDidPaste(t)}else if(i){var P,q,z;t.type="text/html",t.html=i,(P=this.delegate)===null||P===void 0||P.inputControllerWillPaste(t),(q=this.responder)===null||q===void 0||q.insertHTML(t.html),this.requestRender(),(z=this.delegate)===null||z===void 0||z.inputControllerDidPaste(t)}else if(Array.from(e.types).includes("Files")){var N,V,Y;let me=(N=e.items)===null||N===void 0||(V=N[0])===null||V===void 0||(Y=V.getAsFile)===null||Y===void 0?void 0:Y.call(V);if(me){var J,se,_;let ne=Olt(me);!me.name&&ne&&(me.name="pasted-file-".concat(++Dlt,".").concat(ne)),t.type="File",t.file=me,(J=this.delegate)===null||J===void 0||J.inputControllerWillAttachFiles(),(se=this.responder)===null||se===void 0||se.insertFile(t.file),this.requestRender(),(_=this.delegate)===null||_===void 0||_.inputControllerDidPaste(t)}}r.preventDefault()},compositionstart(r){return this.getCompositionInput().start(r.data)},compositionupdate(r){return this.getCompositionInput().update(r.data)},compositionend(r){return this.getCompositionInput().end(r.data)},beforeinput(r){this.inputSummary.didInput=!0},input(r){return this.inputSummary.didInput=!0,r.stopPropagation()}}),df(zd,"keys",{backspace(r){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",r)},delete(r){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",r)},return(r){var e,t;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()},tab(r){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.requestRender(),r.preventDefault())},left(r){var e;if(this.selectionIsInCursorTarget())return r.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(r){var e;if(this.selectionIsInCursorTarget())return r.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(r){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",r)},h(r){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",r)},o(r){var e,t;return r.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(r){var e,t;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`),this.requestRender(),r.preventDefault()},tab(r){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.requestRender(),r.preventDefault())},left(r){if(this.selectionIsInCursorTarget())return r.preventDefault(),this.expandSelectionInDirection("backward")},right(r){if(this.selectionIsInCursorTarget())return r.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(r){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(r){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),zd.proxyMethod("responder?.getSelectedRange"),zd.proxyMethod("responder?.setSelectedRange"),zd.proxyMethod("responder?.expandSelectionInDirection"),zd.proxyMethod("responder?.selectionIsInCursorTarget"),zd.proxyMethod("responder?.selectionIsExpanded");Olt=r=>{var e,t;return(e=r.type)===null||e===void 0||(t=e.match(/\/(\w+)$/))===null||t===void 0?void 0:t[1]},Ilt=!((nB=" ".codePointAt)===null||nB===void 0||!nB.call(" ",0)),Mlt=function(r){if(r.key&&Ilt&&r.key.codePointAt(0)===r.keyCode)return r.key;{let e;if(r.which===null?e=r.keyCode:r.which!==0&&r.charCode!==0&&(e=r.charCode),e!=null&&wbe[e]!=="escape")return tx.fromCodepoints([e]).toString()}},Plt=function(r){let e=r.clipboardData;if(e){if(e.types.includes("text/html")){for(let t of e.types){let n=/^CorePasteboardFlavorType/.test(t),i=/^dyn\./.test(t)&&e.getData(t);if(n||i)return!0}return!1}{let t=e.types.includes("com.apple.webarchive"),n=e.types.includes("com.apple.flat-rtfd");return t||n}}},Vp=class extends xs{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var t,n;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((n=this.responder)===null||n===void 0||n.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){let t=this.selectPlaceholder();t&&(this.forgetPlaceholder(),this.range=t)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.setSelectedRange(this.range),(i=this.responder)===null||i===void 0||i.insertString(this.data.end),(a=this.responder)===null||a===void 0?void 0:a.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var t,n,i,a}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!Alt.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,t;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((t=this.data.end)===null||t===void 0?void 0:t.length)>0&&this.range}};Vp.proxyMethod("inputController.setInputSummary"),Vp.proxyMethod("inputController.requestRender"),Vp.proxyMethod("inputController.requestReparse"),Vp.proxyMethod("responder?.selectionIsExpanded"),Vp.proxyMethod("responder?.insertPlaceholder"),Vp.proxyMethod("responder?.selectPlaceholder"),Vp.proxyMethod("responder?.forgetPlaceholder");Q0=class extends mS{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidAllowUnhandledInput)===null||t===void 0?void 0:t.call(e):void 0:this.reparse();var e,t}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,t;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(t=this.delegate)===null||t===void 0||t.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.insertString(t,n)})}toggleAttributeIfSupported(e){var t;if(uB().includes(e))return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var n;return(n=this.responder)===null||n===void 0?void 0:n.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,t){var n;if(uB().includes(e))return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.setCurrentAttribute(e,t)})}deleteInDirection(e){let{recordUndoEntry:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var n;t&&((n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping());let i=()=>{var l;return(l=this.responder)===null||l===void 0?void 0:l.deleteInDirection(e)},a=this.getTargetDOMRange({minLength:2});return a?this.withTargetDOMRange(a,i):i()}withTargetDOMRange(e,t){var n;return typeof e=="function"&&(t=e,e=this.getTargetDOMRange()),e?(n=this.responder)===null||n===void 0?void 0:n.withTargetDOMRange(e,t.bind(this)):(Qv.reset(),t.call(this))}getTargetDOMRange(){var e,t;let{minLength:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0},i=(e=(t=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(t);if(i&&i.length){let a=Llt(i[0]);if(n===0||a.toString().length>=n)return a}}withEvent(e,t){let n;this.event=e;try{n=t.call(this)}finally{this.event=null}return n}};df(Q0,"events",{keydown(r){if(obe(r)){var e;let t=qlt(r);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(t)&&r.preventDefault()}else{let t=r.key;r.altKey&&(t+="+Alt"),r.shiftKey&&(t+="+Shift");let n=this.constructor.keys[t];if(n)return this.withEvent(r,n)}},paste(r){var e;let t,n=(e=r.clipboardData)===null||e===void 0?void 0:e.getData("URL");return Rlt(r)?(r.preventDefault(),this.attachFiles(r.clipboardData.files)):Flt(r)?(r.preventDefault(),t={type:"text/plain",string:r.clipboardData.getData("text/plain")},(i=this.delegate)===null||i===void 0||i.inputControllerWillPaste(t),(a=this.responder)===null||a===void 0||a.insertString(t.string),this.render(),(l=this.delegate)===null||l===void 0?void 0:l.inputControllerDidPaste(t)):n?(r.preventDefault(),t={type:"text/html",html:this.createLinkHTML(n)},(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(t),(b=this.responder)===null||b===void 0||b.insertHTML(t.html),this.render(),(S=this.delegate)===null||S===void 0?void 0:S.inputControllerDidPaste(t)):void 0;var i,a,l,h,b,S},beforeinput(r){let e=this.constructor.inputTypes[r.inputType];e&&(this.withEvent(r,e),this.scheduleRender())},input(r){Qv.reset()},dragstart(r){var e,t;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(r.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange(),point:oB(r)})},dragenter(r){iB(r)&&r.preventDefault()},dragover(r){if(this.dragging){r.preventDefault();let t=oB(r);var e;if(!pS(t,this.dragging.point))return this.dragging.point=t,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(t)}else iB(r)&&r.preventDefault()},drop(r){var e,t;if(this.dragging)return r.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(t=this.responder)===null||t===void 0||t.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(iB(r)){var n;r.preventDefault();let i=oB(r);return(n=this.responder)===null||n===void 0||n.setLocationRangeFromPointRange(i),this.attachFiles(r.dataTransfer.files)}},dragend(){var r;this.dragging&&((r=this.responder)===null||r===void 0||r.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(r){this.composing&&(this.composing=!1,hS.recentAndroid||this.scheduleRender())}}),df(Q0,"keys",{ArrowLeft(){var r,e;if((r=this.responder)!==null&&r!==void 0&&r.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var r,e;if((r=this.responder)!==null&&r!==void 0&&r.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var r,e,t;if((r=this.responder)!==null&&r!==void 0&&r.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.deleteInDirection("backward"),this.render()},Tab(){var r,e;if((r=this.responder)!==null&&r!==void 0&&r.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var r,e;if((r=this.responder)!==null&&r!==void 0&&r.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),df(Q0,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var r;this.deleteByDragRange=(r=this.responder)===null||r===void 0?void 0:r.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var r;if((r=this.responder)!==null&&r!==void 0&&r.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var r;if((r=this.responder)!==null&&r!==void 0&&r.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(let t in(r=this.responder)===null||r===void 0?void 0:r.getCurrentAttributes()){var r,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(t)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var r;return(r=this.delegate)===null||r===void 0?void 0:r.inputControllerWillPerformRedo()},historyUndo(){var r;return(r=this.delegate)===null||r===void 0?void 0:r.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){let r=this.deleteByDragRange;var e;if(r)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.moveTextFromRange(r)})},insertFromPaste(){var r;let{dataTransfer:e}=this.event,t={dataTransfer:e},n=e.getData("URL"),i=e.getData("text/html");if(n){var a;let S;this.event.preventDefault(),t.type="text/html";let E=e.getData("public.url-name");S=E?_B(E).trim():n,t.html=this.createLinkHTML(n,S),(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var O;return(O=this.responder)===null||O===void 0?void 0:O.insertHTML(t.html)}),this.afterRender=()=>{var O;return(O=this.delegate)===null||O===void 0?void 0:O.inputControllerDidPaste(t)}}else if(ibe(e)){var l;t.type="text/plain",t.string=e.getData("text/plain"),(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var S;return(S=this.responder)===null||S===void 0?void 0:S.insertString(t.string)}),this.afterRender=()=>{var S;return(S=this.delegate)===null||S===void 0?void 0:S.inputControllerDidPaste(t)}}else if(i){var h;this.event.preventDefault(),t.type="text/html",t.html=i,(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var S;return(S=this.responder)===null||S===void 0?void 0:S.insertHTML(t.html)}),this.afterRender=()=>{var S;return(S=this.delegate)===null||S===void 0?void 0:S.inputControllerDidPaste(t)}}else if((r=e.files)!==null&&r!==void 0&&r.length){var b;t.type="File",t.file=e.files[0],(b=this.delegate)===null||b===void 0||b.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var S;return(S=this.responder)===null||S===void 0?void 0:S.insertFile(t.file)}),this.afterRender=()=>{var S;return(S=this.delegate)===null||S===void 0?void 0:S.inputControllerDidPaste(t)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var r;return(r=this.delegate)===null||r===void 0||r.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText(){var r;return this.insertString(this.event.data||((r=this.event.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});Llt=function(r){let e=document.createRange();return e.setStart(r.startContainer,r.startOffset),e.setEnd(r.endContainer,r.endOffset),e},iB=r=>{var e;return Array.from(((e=r.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},Rlt=function(r){let e=r.clipboardData;if(e)return e.types.includes("Files")&&e.types.length===1&&e.files.length>=1},Flt=function(r){let e=r.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},qlt=function(r){let e=[];return r.altKey&&e.push("alt"),r.shiftKey&&e.push("shift"),e.push(r.key),e},oB=r=>({x:r.clientX,y:r.clientY}),zlt="".concat("[data-trix-attribute]",", ").concat("[data-trix-action]"),Nlt="".concat("[data-trix-dialog]","[data-trix-active]"),Blt="".concat("[data-trix-dialog]"," [data-trix-method]"),Gye="".concat("[data-trix-dialog]"," [data-trix-input]"),Kye=(r,e)=>(e||(e=Y0(r)),r.querySelector("[data-trix-input][name='".concat(e,"']"))),Yye=r=>r.getAttribute("data-trix-action"),Y0=r=>r.getAttribute("data-trix-attribute")||r.getAttribute("data-trix-dialog-attribute"),FB=class extends xs{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),ja("mousedown",{onElement:this.element,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),ja("mousedown",{onElement:this.element,matchingSelector:"[data-trix-attribute]",withCallback:this.didClickAttributeButton}),ja("click",{onElement:this.element,matchingSelector:zlt,preventDefault:!0}),ja("click",{onElement:this.element,matchingSelector:Blt,withCallback:this.didClickDialogButton}),ja("keydown",{onElement:this.element,matchingSelector:Gye,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,t){var n;(n=this.delegate)===null||n===void 0||n.toolbarDidClickButton(),e.preventDefault();let i=Yye(t);return this.getDialog(i)?this.toggleDialog(i):(a=this.delegate)===null||a===void 0?void 0:a.toolbarDidInvokeAction(i);var a}didClickAttributeButton(e,t){var n;(n=this.delegate)===null||n===void 0||n.toolbarDidClickButton(),e.preventDefault();let i=Y0(t);var a;return this.getDialog(i)?this.toggleDialog(i):(a=this.delegate)===null||a===void 0||a.toolbarDidToggleAttribute(i),this.refreshAttributeButtons()}didClickDialogButton(e,t){let n=vg(t,{matchingSelector:"[data-trix-dialog]"});return this[t.getAttribute("data-trix-method")].call(this,n)}didKeyDownDialogInput(e,t){if(e.keyCode===13){e.preventDefault();let n=t.getAttribute("name"),i=this.getDialog(n);this.setAttribute(i)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,t)=>{e.disabled=this.actions[t]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll("[data-trix-action]")).map(t=>e(t,Yye(t)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,t)=>(e.disabled=this.attributes[t]===!1,this.attributes[t]||this.dialogIsVisible(t)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll("[data-trix-attribute]")).map(t=>e(t,Y0(t)))}applyKeyboardCommand(e){let t=JSON.stringify(e.sort());for(let n of Array.from(this.element.querySelectorAll("[data-trix-key]"))){let i=n.getAttribute("data-trix-key").split("+");if(JSON.stringify(i.sort())===t)return sS("mousedown",{onElement:n}),!0}return!1}dialogIsVisible(e){let t=this.getDialog(e);if(t)return t.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var t,n;this.hideDialog(),(t=this.delegate)===null||t===void 0||t.toolbarWillShowDialog();let i=this.getDialog(e);i.setAttribute("data-trix-active",""),i.classList.add("trix-active"),Array.from(i.querySelectorAll("input[disabled]")).forEach(l=>{l.removeAttribute("disabled")});let a=Y0(i);if(a){let l=Kye(i,e);l&&(l.value=this.attributes[a]||"",l.select())}return(n=this.delegate)===null||n===void 0?void 0:n.toolbarDidShowDialog(e)}setAttribute(e){let t=Y0(e),n=Kye(e,t);return n.willValidate&&!n.checkValidity()?(n.setAttribute("data-trix-validate",""),n.classList.add("trix-validate"),n.focus()):((i=this.delegate)===null||i===void 0||i.toolbarDidUpdateAttribute(t,n.value),this.hideDialog());var i}removeAttribute(e){var t;let n=Y0(e);return(t=this.delegate)===null||t===void 0||t.toolbarDidRemoveAttribute(n),this.hideDialog()}hideDialog(){let e=this.element.querySelector(Nlt);var t;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(t=this.delegate)===null||t===void 0?void 0:t.toolbarDidHideDialog((n=>n.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Gye)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}},ex=class extends PB{constructor(e){let{editorElement:t,document:n,html:i}=e;super(...arguments),this.editorElement=t,this.selectionManager=new gg(this.editorElement),this.selectionManager.delegate=this,this.composition=new $p,this.composition.delegate=this,this.attachmentManager=new CB(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=gB.getLevel()===2?new Q0(this.editorElement):new zd(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new MB(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new FB(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new AB(this.composition,this.selectionManager,this.editorElement),n?this.editor.loadDocument(n):this.editor.loadHTML(i)}registerSelectionManager(){return Qv.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Qv.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){let t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:t})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);let t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:t}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){let t=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:t})}compositionDidStartEditingAttachment(e,t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,t),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,t){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,t)}compositionControllerDidRequestDeselectingAttachment(e){let t=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(t[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!vD(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e){return this.invokeAction(e)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,t){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((t=this.actions[e])===null||t===void 0||(n=t.test)===null||n===void 0||!n.call(this));var t,n}invokeAction(e){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e}):(t=this.actions[e])===null||t===void 0||(n=t.perform)===null||n===void 0?void 0:n.call(this);var t,n}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){let e={};for(let t in this.actions)e[t]=this.canInvokeAction(t);return e}updateCurrentActions(){let e=this.getCurrentActions();if(!pS(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(i=>{let{document:a,selectedRange:l}=e;e=i.call(this.editor,e)||{},e.document||(e.document=a),e.selectedRange||(e.selectedRange=l)}),t=e,n=this.composition.getSnapshot(),!vD(t.selectedRange,n.selectedRange)||!t.document.isEqualTo(n.document))return this.composition.loadSnapshot(e);var t,n}updateInputElement(){let e=function(t,n){let i=glt[n];if(i)return i(t);throw new Error("unknown content type: ".concat(n))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(e)}notifyEditorElement(e,t){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,t)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){let t=qs(e),n=this.selectionManager.getLocationRange();if(t||!Gp(n))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[this.getLocationContext(),this.getTimeContext(),...Array.from(t)]}getLocationContext(){let e=this.selectionManager.getLocationRange();return Gp(e)?e[0].index:e}getTimeContext(){return aB.interval>0?Math.floor(new Date().getTime()/aB.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}};df(ex,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return gB.pickFiles(this.editor.insertFiles)}}}),ex.proxyMethod("getSelectionManager().setLocationRange"),ex.proxyMethod("getSelectionManager().getLocationRange");jlt=Object.freeze({__proto__:null,AttachmentEditorController:IB,CompositionController:MB,Controller:PB,EditorController:ex,InputController:mS,Level0InputController:zd,Level2InputController:Q0,ToolbarController:FB}),Ult=Object.freeze({__proto__:null,MutationObserver:LB,SelectionChangeObserver:bB}),Hlt=Object.freeze({__proto__:null,FileVerificationOperation:RB,ImagePreloadOperation:SB});nbe("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);qB=class extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=rbe.getDefaultHTML())}},Wlt=0,Vlt=function(r){if(!r.hasAttribute("contenteditable"))return r.setAttribute("contenteditable",""),function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.times=1,ja(e,t)}("focus",{onElement:r,withCallback:()=>$lt(r)})},$lt=function(r){return Glt(r),Klt(r)},Glt=function(r){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),ja("mscontrolselect",{onElement:r,preventDefault:!0})},Klt=function(r){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"DefaultParagraphSeparator")){let{tagName:n}=Ic.default;if(["div","p"].includes(n))return document.execCommand("DefaultParagraphSeparator",!1,n)}},Zye=hS.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};nbe("trix-editor",`%t {
    display: block;
}

%t:empty:not(:focus)::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat("[data-trix-attachment]",` figcaption textarea {
    resize: none;
}

%t `).concat("[data-trix-attachment]",` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat("[data-trix-attachment]",` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(Zye.display,` !important;
    width: `).concat(Zye.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));zB=class extends HTMLElement{get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++Wlt),this.trixId)}get labels(){let e=[];this.id&&this.ownerDocument&&e.push(...Array.from(this.ownerDocument.querySelectorAll("label[for='".concat(this.id,"']"))||[]));let t=vg(this,{matchingSelector:"label"});return t&&[this,null].includes(t.control)&&e.push(t),e}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){let t="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",t);let n=wi("trix-toolbar",{id:t});return this.parentNode.insertBefore(n,this),n}}get form(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.form}get inputElement(){var e;if(this.hasAttribute("input"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input"));if(this.parentNode){let t="trix-input-".concat(this.trixId);this.setAttribute("input",t);let n=wi("input",{type:"hidden",id:t});return this.parentNode.insertBefore(n,this.nextElementSibling),n}}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.name}get value(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.value}set value(e){var t;this.defaultValue=e,(t=this.editor)===null||t===void 0||t.loadHTML(this.defaultValue)}notify(e,t){if(this.editorController)return sS("trix-".concat(e),{onElement:this,attributes:t})}setInputElementValue(e){this.inputElement&&(this.inputElement.value=e)}connectedCallback(){this.hasAttribute("data-trix-internal")||(Vlt(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;let t=function(){let n=Array.from(e.labels).map(a=>{if(!a.contains(e))return a.textContent}).filter(a=>a),i=n.join(" ");return i?e.setAttribute("aria-label",i):e.removeAttribute("aria-label")};t(),ja("focus",{onElement:e,withCallback:t})}(this),this.editorController||(sS("trix-before-initialize",{onElement:this}),this.editorController=new ex({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>sS("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this))}disconnectedCallback(){var e;return(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerClickListener(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)}unregisterClickListener(){return window.removeEventListener("click",this.clickListener,!1)}resetBubbled(e){if(!e.defaultPrevented&&e.target===this.form)return this.reset()}clickBubbled(e){if(e.defaultPrevented||this.contains(e.target))return;let t=vg(e.target,{matchingSelector:"label"});return t&&Array.from(this.labels).includes(t)?this.focus():void 0}reset(){this.value=this.defaultValue}},Xye={VERSION:"2.0.5",config:dS,core:vlt,models:xbe,views:wlt,controllers:jlt,observers:Ult,operations:Hlt,elements:Object.freeze({__proto__:null,TrixEditorElement:zB,TrixToolbarElement:qB}),filters:Object.freeze({__proto__:null,Filter:TB,attachmentGalleryFilter:ybe})};Object.assign(Xye,xbe),window.Trix=Xye,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",qB),customElements.get("trix-editor")||customElements.define("trix-editor",zB)},0)});var NB,wD,kbe=He(()=>{Sbe();NB=So(_w());mi();b0();wD=class extends qr{get resourceId(){return this.controllerTarget.dataset.resourceId}get resourceName(){return this.controllerTarget.dataset.resourceName}get attachmentKey(){return this.controllerTarget.dataset.attachmentKey}get attachmentsDisabled(){return Wu(this.controllerTarget.dataset.attachmentsDisabled)}get hideAttachmentFilename(){return Wu(this.controllerTarget.dataset.hideAttachmentFilename)}get hideAttachmentFilesize(){return Wu(this.controllerTarget.dataset.hideAttachmentFilesize)}get hideAttachmentUrl(){return Wu(this.controllerTarget.dataset.hideAttachmentUrl)}get uploadUrl(){let r=new NB.default(window.location.origin),e=new NB.default(window.Avo.configuration.root_path);return r.path(`${e.path()}/avo_api/resources/${this.resourceName}/${this.resourceId}/attachments`),r.query(e.query()),r.toString()}connect(){this.attachmentsDisabled&&this.controllerTarget.querySelector(".trix-button-group--file-tools").remove(),window.addEventListener("trix-file-accept",r=>{if(r.target===this.editorTarget){if(this.attachmentsDisabled){r.preventDefault(),alert("This field has attachments disabled.");return}if(!this.resourceId){r.preventDefault(),alert("You can't upload files into the Trix editor until you save the resource.");return}this.attachmentKey||(r.preventDefault(),alert("You haven't set an `attachment_key` to this Trix field."))}}),window.addEventListener("trix-attachment-add",r=>{r.target===this.editorTarget&&r.attachment.file&&this.uploadFileAttachment(r.attachment)})}uploadFileAttachment(r){this.uploadFile(r.file,e=>r.setUploadProgress(e),e=>r.setAttributes(e))}uploadFile(r,e,t){var l;let n=this.createFormData(r),i=new XMLHttpRequest;i.open("POST",this.uploadUrl,!0);let a=(l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.content;a&&i.setRequestHeader("X-CSRF-Token",a),i.upload.addEventListener("progress",h=>{let b=h.loaded/h.total*100;e(b)}),i.addEventListener("load",()=>{if(i.status===200){let h;try{h=JSON.parse(i.response)}catch(S){h={}}let b={url:h.url,href:h.href};this.hideAttachmentFilename&&(b.filename=null),this.hideAttachmentFilesize&&(b.filesize=null),this.hideAttachmentUrl&&(b.href=null),t(b)}}),i.send(n)}createFormData(r){let e=new FormData;return e.append("Content-Type",r.type),e.append("file",r),e.append("filename",r.name),e.append("attachment_key",this.attachmentKey),e}};Tr(wD,"targets",["editor","controller"])});var Cbe=He(()=>{Nle();Ble();jle();Ule();Hle();Wle();Xle();lce();uce();cce();Ofe();Nhe();w0();Bhe();jhe();Uhe();Hhe();Whe();Vhe();$he();Ghe();Khe();Yhe();Zhe();Xhe();Jhe();Rpe();Fpe();qpe();Jve();eye();tye();rye();oye();aye();sye();lye();kye();kbe();Zn.register("action",mA);Zn.register("actions-overflow",bw);Zn.register("actions-picker",xw);Zn.register("attachments",gA);Zn.register("boolean-filter",_A);Zn.register("copy-to-clipboard",M3);Zn.register("dashboard-card",kA);Zn.register("filter",sf);Zn.register("hidden-input",x2);Zn.register("input-autofocus",_2);Zn.register("item-select-all",Uw);Zn.register("item-selector",w2);Zn.register("loading-button",k2);Zn.register("menu",C2);Zn.register("modal",E2);Zn.register("multiple-select-filter",T2);Zn.register("per-page",A2);Zn.register("preview",D2);Zn.register("resource-edit",Vw);Zn.register("resource-index",Xz);Zn.register("resource-show",Jz);Zn.register("search",nD);Zn.register("select",iD);Zn.register("select-filter",oD);Zn.register("self-destroy",PN);Zn.register("sidebar",Qw);Zn.register("tabs",eS);Zn.register("text-filter",lD);Zn.register("tippy",uD);Zn.register("toggle",nS);Zn.register("belongs-to-field",vA);Zn.register("code-field",SA);Zn.register("date-field",zw);Zn.register("easy-mde",b2);Zn.register("key-value",S2);Zn.register("progress-bar-field",O2);Zn.register("reload-belongs-to-field",I2);Zn.register("trix-field",wD)});var Ebe=He(()=>{gE();zb.close_filters_dropdown=function(){document.querySelector(".filters-dropdown-selector").classList.add("hidden")};zb.open_filter=function(){let r=this.getAttribute("unique-id");setTimeout(()=>{document.querySelector(`[data-filter-id="${r}"] .pill`).click()},150)}});var Zlt=fe(Obe=>{var c3t=So(Xee()),f3t=So(Jee()),Tbe=So(ete()),Abe=So(RR());rF();var Dbe=So(rre());UE();Wae();Vae();Cbe();Ebe();Dbe.default.start();window.Turbolinks=dv;var SD=null;Abe.bind("r r r",()=>{SD=document.scrollingElement.scrollTop,dv.visit(window.location.href,{action:"replace"})});function Ylt(){window.navigator.userAgent.indexOf("Mac OS X")>=0?(document.body.classList.add("os-mac"),document.body.classList.remove("os-pc")):(document.body.classList.add("os-pc"),document.body.classList.remove("os-mac"))}function BB(){Kb('[data-tippy="tooltip"]',{theme:"light",content(r){let e=r.getAttribute("title");return r.removeAttribute("title"),r.removeAttribute("data-tippy"),e}})}window.initTippy=BB;Tbe.start();document.addEventListener("turbo:load",()=>{BB(),Ylt(),SD&&setTimeout(()=>{document.scrollingElement.scrollTo(0,SD),SD=0},50),setTimeout(()=>{document.body.classList.remove("turbo-loading")},1)});document.addEventListener("turbo:frame-load",()=>{BB()});document.addEventListener("turbo:before-fetch-response",r=>Fg(Obe,null,function*(){var e,t,n;if(r.detail.fetchResponse.response.status===500){let{id:i,src:a}=r.target;(n=(t=(e=r.detail.fetchResponse)==null?void 0:e.response)==null?void 0:t.url)!=null&&n.includes("/failed_to_load")||(r.target.src=`${window.Avo.configuration.root_path}/failed_to_load?turbo_frame=${i}&src=${a}`)}}));document.addEventListener("turbo:visit",()=>document.body.classList.add("turbo-loading"));document.addEventListener("turbo:submit-start",()=>document.body.classList.add("turbo-loading"));document.addEventListener("turbo:submit-end",()=>document.body.classList.remove("turbo-loading"));document.addEventListener("turbo:before-cache",()=>{document.querySelectorAll("[data-turbo-remove-before-cache]").forEach(r=>r.remove())});window.Avo=window.Avo||{configuration:{}};window.Avo.menus={resetCollapsedState(){Array.from(document.querySelectorAll("[data-menu-key-param]")).map(r=>r.getAttribute("data-menu-key-param")).filter(Boolean).forEach(r=>{window.localStorage.removeItem(r)})}}});Zlt();})();
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */
/*!
 * Chart.js v3.7.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * Chartkick.js
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * v4.1.1
 * MIT License
 */
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * chartjs-adapter-date-fns v2.0.0
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */
/*!
 * hotkeys-js v3.8.7
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 * 
 * Copyright (c) 2021 kenny wong <wowohoo@qq.com>
 * http://jaywcjlove.github.io/hotkeys
 * 
 * Licensed under the MIT license.
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! https://mths.be/punycode v1.4.0 by @mathias */
/*! js-cookie v3.0.1 | MIT */
//# sourceMappingURL=avo.base.js.map
